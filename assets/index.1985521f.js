function ole(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function jE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_=Symbol.for("react.element"),sle=Symbol.for("react.portal"),ale=Symbol.for("react.fragment"),lle=Symbol.for("react.strict_mode"),cle=Symbol.for("react.profiler"),ule=Symbol.for("react.provider"),dle=Symbol.for("react.context"),ple=Symbol.for("react.forward_ref"),hle=Symbol.for("react.suspense"),fle=Symbol.for("react.memo"),mle=Symbol.for("react.lazy"),Kz=Symbol.iterator;function yle(e){return e===null||typeof e!="object"?null:(e=Kz&&e[Kz]||e["@@iterator"],typeof e=="function"?e:null)}var LH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RH=Object.assign,AH={};function T0(e,t,r){this.props=e,this.context=t,this.refs=AH,this.updater=r||LH}T0.prototype.isReactComponent={};T0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};T0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function FH(){}FH.prototype=T0.prototype;function GF(e,t,r){this.props=e,this.context=t,this.refs=AH,this.updater=r||LH}var HF=GF.prototype=new FH;HF.constructor=GF;RH(HF,T0.prototype);HF.isPureReactComponent=!0;var Jz=Array.isArray,NH=Object.prototype.hasOwnProperty,qF={current:null},DH={key:!0,ref:!0,__self:!0,__source:!0};function zH(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)NH.call(t,n)&&!DH.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:m_,type:e,key:o,ref:s,props:i,_owner:qF.current}}function gle(e,t){return{$$typeof:m_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function WF(e){return typeof e=="object"&&e!==null&&e.$$typeof===m_}function vle(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zz=/\/+/g;function sT(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vle(""+e.key):t.toString(36)}function XS(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case m_:case sle:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+sT(s,0):n,Jz(i)?(r="",e!=null&&(r=e.replace(Zz,"$&/")+"/"),XS(i,t,r,"",function(c){return c})):i!=null&&(WF(i)&&(i=gle(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Zz,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Jz(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+sT(o,a);s+=XS(o,t,r,l,i)}else if(l=yle(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+sT(o,a++),s+=XS(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function vx(e,t,r){if(e==null)return e;var n=[],i=0;return XS(e,n,"","",function(o){return t.call(r,o,i++)}),n}function ble(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mo={current:null},eC={transition:null},wle={ReactCurrentDispatcher:mo,ReactCurrentBatchConfig:eC,ReactCurrentOwner:qF};Ut.Children={map:vx,forEach:function(e,t,r){vx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vx(e,function(){t++}),t},toArray:function(e){return vx(e,function(t){return t})||[]},only:function(e){if(!WF(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ut.Component=T0;Ut.Fragment=ale;Ut.Profiler=cle;Ut.PureComponent=GF;Ut.StrictMode=lle;Ut.Suspense=hle;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wle;Ut.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=RH({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=qF.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)NH.call(t,l)&&!DH.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:m_,type:e.type,key:i,ref:o,props:n,_owner:s}};Ut.createContext=function(e){return e={$$typeof:dle,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ule,_context:e},e.Consumer=e};Ut.createElement=zH;Ut.createFactory=function(e){var t=zH.bind(null,e);return t.type=e,t};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(e){return{$$typeof:ple,render:e}};Ut.isValidElement=WF;Ut.lazy=function(e){return{$$typeof:mle,_payload:{_status:-1,_result:e},_init:ble}};Ut.memo=function(e,t){return{$$typeof:fle,type:e,compare:t===void 0?null:t}};Ut.startTransition=function(e){var t=eC.transition;eC.transition={};try{e()}finally{eC.transition=t}};Ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ut.useCallback=function(e,t){return mo.current.useCallback(e,t)};Ut.useContext=function(e){return mo.current.useContext(e)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(e){return mo.current.useDeferredValue(e)};Ut.useEffect=function(e,t){return mo.current.useEffect(e,t)};Ut.useId=function(){return mo.current.useId()};Ut.useImperativeHandle=function(e,t,r){return mo.current.useImperativeHandle(e,t,r)};Ut.useInsertionEffect=function(e,t){return mo.current.useInsertionEffect(e,t)};Ut.useLayoutEffect=function(e,t){return mo.current.useLayoutEffect(e,t)};Ut.useMemo=function(e,t){return mo.current.useMemo(e,t)};Ut.useReducer=function(e,t,r){return mo.current.useReducer(e,t,r)};Ut.useRef=function(e){return mo.current.useRef(e)};Ut.useState=function(e){return mo.current.useState(e)};Ut.useSyncExternalStore=function(e,t,r){return mo.current.useSyncExternalStore(e,t,r)};Ut.useTransition=function(){return mo.current.useTransition()};Ut.version="18.2.0";(function(e){e.exports=Ut})(_);const fl=jE(_.exports),Jf=ole({__proto__:null,default:fl},[_.exports]);var eO={},bm={exports:{}},Ls={},VH={exports:{}},jH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,U){var q=A.length;A.push(U);e:for(;0<q;){var J=q-1>>>1,Q=A[J];if(0<i(Q,U))A[J]=U,A[q]=Q,q=J;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var U=A[0],q=A.pop();if(q!==U){A[0]=q;e:for(var J=0,Q=A.length,se=Q>>>1;J<se;){var ce=2*(J+1)-1,le=A[ce],Ie=ce+1,Ue=A[Ie];if(0>i(le,q))Ie<Q&&0>i(Ue,le)?(A[J]=Ue,A[Ie]=q,J=Ie):(A[J]=le,A[ce]=q,J=ce);else if(Ie<Q&&0>i(Ue,q))A[J]=Ue,A[Ie]=q,J=Ie;else break e}}return U}function i(A,U){var q=A.sortIndex-U.sortIndex;return q!==0?q:A.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,p=null,f=3,y=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(A){for(var U=r(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=A)n(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=r(c)}}function C(A){if(v=!1,S(A),!g)if(r(l)!==null)g=!0,R($);else{var U=r(c);U!==null&&j(C,U.startTime-A)}}function $(A,U){g=!1,v&&(v=!1,w(T),T=-1),y=!0;var q=f;try{for(S(U),p=r(l);p!==null&&(!(p.expirationTime>U)||A&&!N());){var J=p.callback;if(typeof J=="function"){p.callback=null,f=p.priorityLevel;var Q=J(p.expirationTime<=U);U=e.unstable_now(),typeof Q=="function"?p.callback=Q:p===r(l)&&n(l),S(U)}else n(l);p=r(l)}if(p!==null)var se=!0;else{var ce=r(c);ce!==null&&j(C,ce.startTime-U),se=!1}return se}finally{p=null,f=q,y=!1}}var M=!1,I=null,T=-1,O=5,L=-1;function N(){return!(e.unstable_now()-L<O)}function H(){if(I!==null){var A=e.unstable_now();L=A;var U=!0;try{U=I(!0,A)}finally{U?F():(M=!1,I=null)}}else M=!1}var F;if(typeof x=="function")F=function(){x(H)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,P=k.port2;k.port1.onmessage=H,F=function(){P.postMessage(null)}}else F=function(){b(H,0)};function R(A){I=A,M||(M=!0,F())}function j(A,U){T=b(function(){A(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,R($))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return A()}finally{f=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var q=f;f=A;try{return U()}finally{f=q}},e.unstable_scheduleCallback=function(A,U,q){var J=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?J+q:J):q=J,A){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,A={id:d++,callback:U,priorityLevel:A,startTime:q,expirationTime:Q,sortIndex:-1},q>J?(A.sortIndex=q,t(c,A),r(l)===null&&A===r(c)&&(v?(w(T),T=-1):v=!0,j(C,q-J))):(A.sortIndex=Q,t(l,A),g||y||(g=!0,R($))),A},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(A){var U=f;return function(){var q=f;f=U;try{return A.apply(this,arguments)}finally{f=q}}}})(jH);(function(e){e.exports=jH})(VH);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BH=_.exports,Ps=VH.exports;function $e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UH=new Set,t1={};function wm(e,t){Wg(e,t),Wg(e+"Capture",t)}function Wg(e,t){for(t1[e]=t,e=0;e<t.length;e++)UH.add(t[e])}var Ou=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tO=Object.prototype.hasOwnProperty,_le=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yz={},Qz={};function xle(e){return tO.call(Qz,e)?!0:tO.call(Yz,e)?!1:_le.test(e)?Qz[e]=!0:(Yz[e]=!0,!1)}function Sle(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cle(e,t,r,n){if(t===null||typeof t>"u"||Sle(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yo(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Si[e]=new yo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Si[t]=new yo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Si[e]=new yo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Si[e]=new yo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Si[e]=new yo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Si[e]=new yo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Si[e]=new yo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Si[e]=new yo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Si[e]=new yo(e,5,!1,e.toLowerCase(),null,!1,!1)});var KF=/[\-:]([a-z])/g;function JF(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(KF,JF);Si[t]=new yo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(KF,JF);Si[t]=new yo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(KF,JF);Si[t]=new yo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Si[e]=new yo(e,1,!1,e.toLowerCase(),null,!1,!1)});Si.xlinkHref=new yo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Si[e]=new yo(e,1,!1,e.toLowerCase(),null,!0,!0)});function ZF(e,t,r,n){var i=Si.hasOwnProperty(t)?Si[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cle(t,r,i,n)&&(r=null),n||i===null?xle(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var qu=BH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bx=Symbol.for("react.element"),Ky=Symbol.for("react.portal"),Jy=Symbol.for("react.fragment"),YF=Symbol.for("react.strict_mode"),rO=Symbol.for("react.profiler"),GH=Symbol.for("react.provider"),HH=Symbol.for("react.context"),QF=Symbol.for("react.forward_ref"),nO=Symbol.for("react.suspense"),iO=Symbol.for("react.suspense_list"),XF=Symbol.for("react.memo"),Kd=Symbol.for("react.lazy"),qH=Symbol.for("react.offscreen"),Xz=Symbol.iterator;function vv(e){return e===null||typeof e!="object"?null:(e=Xz&&e[Xz]||e["@@iterator"],typeof e=="function"?e:null)}var an=Object.assign,aT;function sb(e){if(aT===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);aT=t&&t[1]||""}return`
`+aT+e}var lT=!1;function cT(e,t){if(!e||lT)return"";lT=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{lT=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sb(e):""}function $le(e){switch(e.tag){case 5:return sb(e.type);case 16:return sb("Lazy");case 13:return sb("Suspense");case 19:return sb("SuspenseList");case 0:case 2:case 15:return e=cT(e.type,!1),e;case 11:return e=cT(e.type.render,!1),e;case 1:return e=cT(e.type,!0),e;default:return""}}function oO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jy:return"Fragment";case Ky:return"Portal";case rO:return"Profiler";case YF:return"StrictMode";case nO:return"Suspense";case iO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HH:return(e.displayName||"Context")+".Consumer";case GH:return(e._context.displayName||"Context")+".Provider";case QF:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case XF:return t=e.displayName||null,t!==null?t:oO(e.type)||"Memo";case Kd:t=e._payload,e=e._init;try{return oO(e(t))}catch{}}return null}function Ele(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oO(t);case 8:return t===YF?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zp(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WH(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ile(e){var t=WH(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wx(e){e._valueTracker||(e._valueTracker=Ile(e))}function KH(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=WH(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function R$(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sO(e,t){var r=t.checked;return an({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function eV(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zp(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function JH(e,t){t=t.checked,t!=null&&ZF(e,"checked",t,!1)}function aO(e,t){JH(e,t);var r=zp(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lO(e,t.type,r):t.hasOwnProperty("defaultValue")&&lO(e,t.type,zp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tV(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function lO(e,t,r){(t!=="number"||R$(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ab=Array.isArray;function wg(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zp(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function cO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($e(91));return an({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rV(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($e(92));if(ab(r)){if(1<r.length)throw Error($e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zp(r)}}function ZH(e,t){var r=zp(t.value),n=zp(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YH(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YH(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _x,QH=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_x=_x||document.createElement("div"),_x.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_x.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function r1(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var pw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mle=["Webkit","ms","Moz","O"];Object.keys(pw).forEach(function(e){Mle.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pw[t]=pw[e]})});function XH(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||pw.hasOwnProperty(e)&&pw[e]?(""+t).trim():t+"px"}function eq(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=XH(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Tle=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dO(e,t){if(t){if(Tle[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($e(61))}if(t.style!=null&&typeof t.style!="object")throw Error($e(62))}}function pO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hO=null;function eN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fO=null,_g=null,xg=null;function iV(e){if(e=v_(e)){if(typeof fO!="function")throw Error($e(280));var t=e.stateNode;t&&(t=qE(t),fO(e.stateNode,e.type,t))}}function tq(e){_g?xg?xg.push(e):xg=[e]:_g=e}function rq(){if(_g){var e=_g,t=xg;if(xg=_g=null,iV(e),t)for(e=0;e<t.length;e++)iV(t[e])}}function nq(e,t){return e(t)}function iq(){}var uT=!1;function oq(e,t,r){if(uT)return e(t,r);uT=!0;try{return nq(e,t,r)}finally{uT=!1,(_g!==null||xg!==null)&&(iq(),rq())}}function n1(e,t){var r=e.stateNode;if(r===null)return null;var n=qE(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($e(231,t,typeof r));return r}var mO=!1;if(Ou)try{var bv={};Object.defineProperty(bv,"passive",{get:function(){mO=!0}}),window.addEventListener("test",bv,bv),window.removeEventListener("test",bv,bv)}catch{mO=!1}function kle(e,t,r,n,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var hw=!1,A$=null,F$=!1,yO=null,Ple={onError:function(e){hw=!0,A$=e}};function Ole(e,t,r,n,i,o,s,a,l){hw=!1,A$=null,kle.apply(Ple,arguments)}function Lle(e,t,r,n,i,o,s,a,l){if(Ole.apply(this,arguments),hw){if(hw){var c=A$;hw=!1,A$=null}else throw Error($e(198));F$||(F$=!0,yO=c)}}function _m(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sq(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oV(e){if(_m(e)!==e)throw Error($e(188))}function Rle(e){var t=e.alternate;if(!t){if(t=_m(e),t===null)throw Error($e(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return oV(i),e;if(o===n)return oV(i),t;o=o.sibling}throw Error($e(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error($e(189))}}if(r.alternate!==n)throw Error($e(190))}if(r.tag!==3)throw Error($e(188));return r.stateNode.current===r?e:t}function aq(e){return e=Rle(e),e!==null?lq(e):null}function lq(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lq(e);if(t!==null)return t;e=e.sibling}return null}var cq=Ps.unstable_scheduleCallback,sV=Ps.unstable_cancelCallback,Ale=Ps.unstable_shouldYield,Fle=Ps.unstable_requestPaint,Sn=Ps.unstable_now,Nle=Ps.unstable_getCurrentPriorityLevel,tN=Ps.unstable_ImmediatePriority,uq=Ps.unstable_UserBlockingPriority,N$=Ps.unstable_NormalPriority,Dle=Ps.unstable_LowPriority,dq=Ps.unstable_IdlePriority,BE=null,vc=null;function zle(e){if(vc&&typeof vc.onCommitFiberRoot=="function")try{vc.onCommitFiberRoot(BE,e,void 0,(e.current.flags&128)===128)}catch{}}var bl=Math.clz32?Math.clz32:Ble,Vle=Math.log,jle=Math.LN2;function Ble(e){return e>>>=0,e===0?32:31-(Vle(e)/jle|0)|0}var xx=64,Sx=4194304;function lb(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function D$(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=lb(a):(o&=s,o!==0&&(n=lb(o)))}else s=r&~i,s!==0?n=lb(s):o!==0&&(n=lb(o));if(n===0)return 0;if(t!==0&&t!==n&&(t&i)===0&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bl(t),i=1<<r,n|=e[r],t&=~i;return n}function Ule(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gle(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-bl(o),a=1<<s,l=i[s];l===-1?((a&r)===0||(a&n)!==0)&&(i[s]=Ule(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function gO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pq(){var e=xx;return xx<<=1,(xx&4194240)===0&&(xx=64),e}function dT(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function y_(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bl(t),e[t]=r}function Hle(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-bl(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function rN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bl(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var wr=0;function hq(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var fq,nN,mq,yq,gq,vO=!1,Cx=[],xp=null,Sp=null,Cp=null,i1=new Map,o1=new Map,sp=[],qle="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aV(e,t){switch(e){case"focusin":case"focusout":xp=null;break;case"dragenter":case"dragleave":Sp=null;break;case"mouseover":case"mouseout":Cp=null;break;case"pointerover":case"pointerout":i1.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":o1.delete(t.pointerId)}}function wv(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=v_(t),t!==null&&nN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Wle(e,t,r,n,i){switch(t){case"focusin":return xp=wv(xp,e,t,r,n,i),!0;case"dragenter":return Sp=wv(Sp,e,t,r,n,i),!0;case"mouseover":return Cp=wv(Cp,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return i1.set(o,wv(i1.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,o1.set(o,wv(o1.get(o)||null,e,t,r,n,i)),!0}return!1}function vq(e){var t=mf(e.target);if(t!==null){var r=_m(t);if(r!==null){if(t=r.tag,t===13){if(t=sq(r),t!==null){e.blockedOn=t,gq(e.priority,function(){mq(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tC(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);hO=n,r.target.dispatchEvent(n),hO=null}else return t=v_(r),t!==null&&nN(t),e.blockedOn=r,!1;t.shift()}return!0}function lV(e,t,r){tC(e)&&r.delete(t)}function Kle(){vO=!1,xp!==null&&tC(xp)&&(xp=null),Sp!==null&&tC(Sp)&&(Sp=null),Cp!==null&&tC(Cp)&&(Cp=null),i1.forEach(lV),o1.forEach(lV)}function _v(e,t){e.blockedOn===t&&(e.blockedOn=null,vO||(vO=!0,Ps.unstable_scheduleCallback(Ps.unstable_NormalPriority,Kle)))}function s1(e){function t(i){return _v(i,e)}if(0<Cx.length){_v(Cx[0],e);for(var r=1;r<Cx.length;r++){var n=Cx[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xp!==null&&_v(xp,e),Sp!==null&&_v(Sp,e),Cp!==null&&_v(Cp,e),i1.forEach(t),o1.forEach(t),r=0;r<sp.length;r++)n=sp[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<sp.length&&(r=sp[0],r.blockedOn===null);)vq(r),r.blockedOn===null&&sp.shift()}var Sg=qu.ReactCurrentBatchConfig,z$=!0;function Jle(e,t,r,n){var i=wr,o=Sg.transition;Sg.transition=null;try{wr=1,iN(e,t,r,n)}finally{wr=i,Sg.transition=o}}function Zle(e,t,r,n){var i=wr,o=Sg.transition;Sg.transition=null;try{wr=4,iN(e,t,r,n)}finally{wr=i,Sg.transition=o}}function iN(e,t,r,n){if(z$){var i=bO(e,t,r,n);if(i===null)_T(e,t,n,V$,r),aV(e,n);else if(Wle(i,e,t,r,n))n.stopPropagation();else if(aV(e,n),t&4&&-1<qle.indexOf(e)){for(;i!==null;){var o=v_(i);if(o!==null&&fq(o),o=bO(e,t,r,n),o===null&&_T(e,t,n,V$,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else _T(e,t,n,null,r)}}var V$=null;function bO(e,t,r,n){if(V$=null,e=eN(n),e=mf(e),e!==null)if(t=_m(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sq(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return V$=e,null}function bq(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nle()){case tN:return 1;case uq:return 4;case N$:case Dle:return 16;case dq:return 536870912;default:return 16}default:return 16}}var up=null,oN=null,rC=null;function wq(){if(rC)return rC;var e,t=oN,r=t.length,n,i="value"in up?up.value:up.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return rC=i.slice(e,1<n?1-n:void 0)}function nC(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $x(){return!0}function cV(){return!1}function Rs(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$x:cV,this.isPropagationStopped=cV,this}return an(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$x)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$x)},persist:function(){},isPersistent:$x}),t}var k0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sN=Rs(k0),g_=an({},k0,{view:0,detail:0}),Yle=Rs(g_),pT,hT,xv,UE=an({},g_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xv&&(xv&&e.type==="mousemove"?(pT=e.screenX-xv.screenX,hT=e.screenY-xv.screenY):hT=pT=0,xv=e),pT)},movementY:function(e){return"movementY"in e?e.movementY:hT}}),uV=Rs(UE),Qle=an({},UE,{dataTransfer:0}),Xle=Rs(Qle),ece=an({},g_,{relatedTarget:0}),fT=Rs(ece),tce=an({},k0,{animationName:0,elapsedTime:0,pseudoElement:0}),rce=Rs(tce),nce=an({},k0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ice=Rs(nce),oce=an({},k0,{data:0}),dV=Rs(oce),sce={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ace={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lce={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cce(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lce[e])?!!t[e]:!1}function aN(){return cce}var uce=an({},g_,{key:function(e){if(e.key){var t=sce[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nC(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ace[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aN,charCode:function(e){return e.type==="keypress"?nC(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nC(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dce=Rs(uce),pce=an({},UE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pV=Rs(pce),hce=an({},g_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aN}),fce=Rs(hce),mce=an({},k0,{propertyName:0,elapsedTime:0,pseudoElement:0}),yce=Rs(mce),gce=an({},UE,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vce=Rs(gce),bce=[9,13,27,32],lN=Ou&&"CompositionEvent"in window,fw=null;Ou&&"documentMode"in document&&(fw=document.documentMode);var wce=Ou&&"TextEvent"in window&&!fw,_q=Ou&&(!lN||fw&&8<fw&&11>=fw),hV=String.fromCharCode(32),fV=!1;function xq(e,t){switch(e){case"keyup":return bce.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sq(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zy=!1;function _ce(e,t){switch(e){case"compositionend":return Sq(t);case"keypress":return t.which!==32?null:(fV=!0,hV);case"textInput":return e=t.data,e===hV&&fV?null:e;default:return null}}function xce(e,t){if(Zy)return e==="compositionend"||!lN&&xq(e,t)?(e=wq(),rC=oN=up=null,Zy=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _q&&t.locale!=="ko"?null:t.data;default:return null}}var Sce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sce[e.type]:t==="textarea"}function Cq(e,t,r,n){tq(n),t=j$(t,"onChange"),0<t.length&&(r=new sN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var mw=null,a1=null;function Cce(e){Aq(e,0)}function GE(e){var t=Xy(e);if(KH(t))return e}function $ce(e,t){if(e==="change")return t}var $q=!1;if(Ou){var mT;if(Ou){var yT="oninput"in document;if(!yT){var yV=document.createElement("div");yV.setAttribute("oninput","return;"),yT=typeof yV.oninput=="function"}mT=yT}else mT=!1;$q=mT&&(!document.documentMode||9<document.documentMode)}function gV(){mw&&(mw.detachEvent("onpropertychange",Eq),a1=mw=null)}function Eq(e){if(e.propertyName==="value"&&GE(a1)){var t=[];Cq(t,a1,e,eN(e)),oq(Cce,t)}}function Ece(e,t,r){e==="focusin"?(gV(),mw=t,a1=r,mw.attachEvent("onpropertychange",Eq)):e==="focusout"&&gV()}function Ice(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return GE(a1)}function Mce(e,t){if(e==="click")return GE(t)}function Tce(e,t){if(e==="input"||e==="change")return GE(t)}function kce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $l=typeof Object.is=="function"?Object.is:kce;function l1(e,t){if($l(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!tO.call(t,i)||!$l(e[i],t[i]))return!1}return!0}function vV(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bV(e,t){var r=vV(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vV(r)}}function Iq(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iq(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mq(){for(var e=window,t=R$();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=R$(e.document)}return t}function cN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pce(e){var t=Mq(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Iq(r.ownerDocument.documentElement,r)){if(n!==null&&cN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=bV(r,o);var s=bV(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Oce=Ou&&"documentMode"in document&&11>=document.documentMode,Yy=null,wO=null,yw=null,_O=!1;function wV(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_O||Yy==null||Yy!==R$(n)||(n=Yy,"selectionStart"in n&&cN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yw&&l1(yw,n)||(yw=n,n=j$(wO,"onSelect"),0<n.length&&(t=new sN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yy)))}function Ex(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qy={animationend:Ex("Animation","AnimationEnd"),animationiteration:Ex("Animation","AnimationIteration"),animationstart:Ex("Animation","AnimationStart"),transitionend:Ex("Transition","TransitionEnd")},gT={},Tq={};Ou&&(Tq=document.createElement("div").style,"AnimationEvent"in window||(delete Qy.animationend.animation,delete Qy.animationiteration.animation,delete Qy.animationstart.animation),"TransitionEvent"in window||delete Qy.transitionend.transition);function HE(e){if(gT[e])return gT[e];if(!Qy[e])return e;var t=Qy[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Tq)return gT[e]=t[r];return e}var kq=HE("animationend"),Pq=HE("animationiteration"),Oq=HE("animationstart"),Lq=HE("transitionend"),Rq=new Map,_V="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jp(e,t){Rq.set(e,t),wm(t,[e])}for(var vT=0;vT<_V.length;vT++){var bT=_V[vT],Lce=bT.toLowerCase(),Rce=bT[0].toUpperCase()+bT.slice(1);Jp(Lce,"on"+Rce)}Jp(kq,"onAnimationEnd");Jp(Pq,"onAnimationIteration");Jp(Oq,"onAnimationStart");Jp("dblclick","onDoubleClick");Jp("focusin","onFocus");Jp("focusout","onBlur");Jp(Lq,"onTransitionEnd");Wg("onMouseEnter",["mouseout","mouseover"]);Wg("onMouseLeave",["mouseout","mouseover"]);Wg("onPointerEnter",["pointerout","pointerover"]);Wg("onPointerLeave",["pointerout","pointerover"]);wm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wm("onBeforeInput",["compositionend","keypress","textInput","paste"]);wm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ace=new Set("cancel close invalid load scroll toggle".split(" ").concat(cb));function xV(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Lle(n,t,void 0,e),e.currentTarget=null}function Aq(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;xV(i,a,c),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;xV(i,a,c),o=l}}}if(F$)throw e=yO,F$=!1,yO=null,e}function Dr(e,t){var r=t[EO];r===void 0&&(r=t[EO]=new Set);var n=e+"__bubble";r.has(n)||(Fq(t,e,2,!1),r.add(n))}function wT(e,t,r){var n=0;t&&(n|=4),Fq(r,e,n,t)}var Ix="_reactListening"+Math.random().toString(36).slice(2);function c1(e){if(!e[Ix]){e[Ix]=!0,UH.forEach(function(r){r!=="selectionchange"&&(Ace.has(r)||wT(r,!1,e),wT(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ix]||(t[Ix]=!0,wT("selectionchange",!1,t))}}function Fq(e,t,r,n){switch(bq(t)){case 1:var i=Jle;break;case 4:i=Zle;break;default:i=iN}r=i.bind(null,t,r,e),i=void 0,!mO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function _T(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=mf(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}oq(function(){var c=o,d=eN(r),p=[];e:{var f=Rq.get(e);if(f!==void 0){var y=sN,g=e;switch(e){case"keypress":if(nC(r)===0)break e;case"keydown":case"keyup":y=dce;break;case"focusin":g="focus",y=fT;break;case"focusout":g="blur",y=fT;break;case"beforeblur":case"afterblur":y=fT;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=uV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Xle;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=fce;break;case kq:case Pq:case Oq:y=rce;break;case Lq:y=yce;break;case"scroll":y=Yle;break;case"wheel":y=vce;break;case"copy":case"cut":case"paste":y=ice;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=pV}var v=(t&4)!==0,b=!v&&e==="scroll",w=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,S;x!==null;){S=x;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,w!==null&&(C=n1(x,w),C!=null&&v.push(u1(x,C,S)))),b)break;x=x.return}0<v.length&&(f=new y(f,g,null,r,d),p.push({event:f,listeners:v}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==hO&&(g=r.relatedTarget||r.fromElement)&&(mf(g)||g[Lu]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=c,g=g?mf(g):null,g!==null&&(b=_m(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=c),y!==g)){if(v=uV,C="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=pV,C="onPointerLeave",w="onPointerEnter",x="pointer"),b=y==null?f:Xy(y),S=g==null?f:Xy(g),f=new v(C,x+"leave",y,r,d),f.target=b,f.relatedTarget=S,C=null,mf(d)===c&&(v=new v(w,x+"enter",g,r,d),v.target=S,v.relatedTarget=b,C=v),b=C,y&&g)t:{for(v=y,w=g,x=0,S=v;S;S=Fm(S))x++;for(S=0,C=w;C;C=Fm(C))S++;for(;0<x-S;)v=Fm(v),x--;for(;0<S-x;)w=Fm(w),S--;for(;x--;){if(v===w||w!==null&&v===w.alternate)break t;v=Fm(v),w=Fm(w)}v=null}else v=null;y!==null&&SV(p,f,y,v,!1),g!==null&&b!==null&&SV(p,b,g,v,!0)}}e:{if(f=c?Xy(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var $=$ce;else if(mV(f))if($q)$=Tce;else{$=Ice;var M=Ece}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&($=Mce);if($&&($=$(e,c))){Cq(p,$,r,d);break e}M&&M(e,f,c),e==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&lO(f,"number",f.value)}switch(M=c?Xy(c):window,e){case"focusin":(mV(M)||M.contentEditable==="true")&&(Yy=M,wO=c,yw=null);break;case"focusout":yw=wO=Yy=null;break;case"mousedown":_O=!0;break;case"contextmenu":case"mouseup":case"dragend":_O=!1,wV(p,r,d);break;case"selectionchange":if(Oce)break;case"keydown":case"keyup":wV(p,r,d)}var I;if(lN)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Zy?xq(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(_q&&r.locale!=="ko"&&(Zy||T!=="onCompositionStart"?T==="onCompositionEnd"&&Zy&&(I=wq()):(up=d,oN="value"in up?up.value:up.textContent,Zy=!0)),M=j$(c,T),0<M.length&&(T=new dV(T,e,null,r,d),p.push({event:T,listeners:M}),I?T.data=I:(I=Sq(r),I!==null&&(T.data=I)))),(I=wce?_ce(e,r):xce(e,r))&&(c=j$(c,"onBeforeInput"),0<c.length&&(d=new dV("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=I))}Aq(p,t)})}function u1(e,t,r){return{instance:e,listener:t,currentTarget:r}}function j$(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=n1(e,r),o!=null&&n.unshift(u1(e,o,i)),o=n1(e,t),o!=null&&n.push(u1(e,o,i))),e=e.return}return n}function Fm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function SV(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=n1(r,o),l!=null&&s.unshift(u1(r,l,a))):i||(l=n1(r,o),l!=null&&s.push(u1(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Fce=/\r\n?/g,Nce=/\u0000|\uFFFD/g;function CV(e){return(typeof e=="string"?e:""+e).replace(Fce,`
`).replace(Nce,"")}function Mx(e,t,r){if(t=CV(t),CV(e)!==t&&r)throw Error($e(425))}function B$(){}var xO=null,SO=null;function CO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $O=typeof setTimeout=="function"?setTimeout:void 0,Dce=typeof clearTimeout=="function"?clearTimeout:void 0,$V=typeof Promise=="function"?Promise:void 0,zce=typeof queueMicrotask=="function"?queueMicrotask:typeof $V<"u"?function(e){return $V.resolve(null).then(e).catch(Vce)}:$O;function Vce(e){setTimeout(function(){throw e})}function xT(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),s1(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);s1(t)}function $p(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function EV(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var P0=Math.random().toString(36).slice(2),pc="__reactFiber$"+P0,d1="__reactProps$"+P0,Lu="__reactContainer$"+P0,EO="__reactEvents$"+P0,jce="__reactListeners$"+P0,Bce="__reactHandles$"+P0;function mf(e){var t=e[pc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lu]||r[pc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=EV(e);e!==null;){if(r=e[pc])return r;e=EV(e)}return t}e=r,r=e.parentNode}return null}function v_(e){return e=e[pc]||e[Lu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xy(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($e(33))}function qE(e){return e[d1]||null}var IO=[],eg=-1;function Zp(e){return{current:e}}function jr(e){0>eg||(e.current=IO[eg],IO[eg]=null,eg--)}function Rr(e,t){eg++,IO[eg]=e.current,e.current=t}var Vp={},Bi=Zp(Vp),Fo=Zp(!1),Zf=Vp;function Kg(e,t){var r=e.type.contextTypes;if(!r)return Vp;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return e=e.childContextTypes,e!=null}function U$(){jr(Fo),jr(Bi)}function IV(e,t,r){if(Bi.current!==Vp)throw Error($e(168));Rr(Bi,t),Rr(Fo,r)}function Nq(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error($e(108,Ele(e)||"Unknown",i));return an({},r,n)}function G$(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vp,Zf=Bi.current,Rr(Bi,e),Rr(Fo,Fo.current),!0}function MV(e,t,r){var n=e.stateNode;if(!n)throw Error($e(169));r?(e=Nq(e,t,Zf),n.__reactInternalMemoizedMergedChildContext=e,jr(Fo),jr(Bi),Rr(Bi,e)):jr(Fo),Rr(Fo,r)}var wu=null,WE=!1,ST=!1;function Dq(e){wu===null?wu=[e]:wu.push(e)}function Uce(e){WE=!0,Dq(e)}function Yp(){if(!ST&&wu!==null){ST=!0;var e=0,t=wr;try{var r=wu;for(wr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}wu=null,WE=!1}catch(i){throw wu!==null&&(wu=wu.slice(e+1)),cq(tN,Yp),i}finally{wr=t,ST=!1}}return null}var tg=[],rg=0,H$=null,q$=0,ia=[],oa=0,Yf=null,Cu=1,$u="";function yh(e,t){tg[rg++]=q$,tg[rg++]=H$,H$=e,q$=t}function zq(e,t,r){ia[oa++]=Cu,ia[oa++]=$u,ia[oa++]=Yf,Yf=e;var n=Cu;e=$u;var i=32-bl(n)-1;n&=~(1<<i),r+=1;var o=32-bl(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Cu=1<<32-bl(t)+i|r<<i|n,$u=o+e}else Cu=1<<o|r<<i|n,$u=e}function uN(e){e.return!==null&&(yh(e,1),zq(e,1,0))}function dN(e){for(;e===H$;)H$=tg[--rg],tg[rg]=null,q$=tg[--rg],tg[rg]=null;for(;e===Yf;)Yf=ia[--oa],ia[oa]=null,$u=ia[--oa],ia[oa]=null,Cu=ia[--oa],ia[oa]=null}var $s=null,xs=null,Jr=!1,ul=null;function Vq(e,t){var r=ca(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function TV(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$s=e,xs=$p(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$s=e,xs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yf!==null?{id:Cu,overflow:$u}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ca(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$s=e,xs=null,!0):!1;default:return!1}}function MO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function TO(e){if(Jr){var t=xs;if(t){var r=t;if(!TV(e,t)){if(MO(e))throw Error($e(418));t=$p(r.nextSibling);var n=$s;t&&TV(e,t)?Vq(n,r):(e.flags=e.flags&-4097|2,Jr=!1,$s=e)}}else{if(MO(e))throw Error($e(418));e.flags=e.flags&-4097|2,Jr=!1,$s=e}}}function kV(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$s=e}function Tx(e){if(e!==$s)return!1;if(!Jr)return kV(e),Jr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!CO(e.type,e.memoizedProps)),t&&(t=xs)){if(MO(e))throw jq(),Error($e(418));for(;t;)Vq(e,t),t=$p(t.nextSibling)}if(kV(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xs=$p(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xs=null}}else xs=$s?$p(e.stateNode.nextSibling):null;return!0}function jq(){for(var e=xs;e;)e=$p(e.nextSibling)}function Jg(){xs=$s=null,Jr=!1}function pN(e){ul===null?ul=[e]:ul.push(e)}var Gce=qu.ReactCurrentBatchConfig;function nl(e,t){if(e&&e.defaultProps){t=an({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var W$=Zp(null),K$=null,ng=null,hN=null;function fN(){hN=ng=K$=null}function mN(e){var t=W$.current;jr(W$),e._currentValue=t}function kO(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Cg(e,t){K$=e,hN=ng=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Lo=!0),e.firstContext=null)}function va(e){var t=e._currentValue;if(hN!==e)if(e={context:e,memoizedValue:t,next:null},ng===null){if(K$===null)throw Error($e(308));ng=e,K$.dependencies={lanes:0,firstContext:e}}else ng=ng.next=e;return t}var yf=null;function yN(e){yf===null?yf=[e]:yf.push(e)}function Bq(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,yN(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ru(e,n)}function Ru(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jd=!1;function gN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uq(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ep(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Qt&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ru(e,r)}return i=n.interleaved,i===null?(t.next=t,yN(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ru(e,r)}function iC(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rN(e,r)}}function PV(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function J$(e,t,r,n){var i=e.updateQueue;Jd=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var p=i.baseState;s=0,d=c=l=null,a=o;do{var f=a.lane,y=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(f=t,y=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){p=g.call(y,p,f);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(y,p,f):g,f==null)break e;p=an({},p,f);break e;case 2:Jd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=p):d=d.next=y,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Xf|=s,e.lanes=s,e.memoizedState=p}}function OV(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error($e(191,i));i.call(n)}}}var Gq=new BH.Component().refs;function PO(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:an({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var KE={isMounted:function(e){return(e=e._reactInternals)?_m(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=co(),i=Mp(e),o=Mu(n,i);o.payload=t,r!=null&&(o.callback=r),t=Ep(e,o,i),t!==null&&(wl(t,e,i,n),iC(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=co(),i=Mp(e),o=Mu(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Ep(e,o,i),t!==null&&(wl(t,e,i,n),iC(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=co(),n=Mp(e),i=Mu(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ep(e,i,n),t!==null&&(wl(t,e,n,r),iC(t,e,n))}};function LV(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!l1(r,n)||!l1(i,o):!0}function Hq(e,t,r){var n=!1,i=Vp,o=t.contextType;return typeof o=="object"&&o!==null?o=va(o):(i=No(t)?Zf:Bi.current,n=t.contextTypes,o=(n=n!=null)?Kg(e,i):Vp),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=KE,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function RV(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&KE.enqueueReplaceState(t,t.state,null)}function OO(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Gq,gN(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=va(o):(o=No(t)?Zf:Bi.current,i.context=Kg(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(PO(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&KE.enqueueReplaceState(i,i.state,null),J$(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Sv(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($e(309));var n=r.stateNode}if(!n)throw Error($e(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===Gq&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error($e(284));if(!r._owner)throw Error($e(290,e))}return e}function kx(e,t){throw e=Object.prototype.toString.call(t),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function AV(e){var t=e._init;return t(e._payload)}function qq(e){function t(w,x){if(e){var S=w.deletions;S===null?(w.deletions=[x],w.flags|=16):S.push(x)}}function r(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Tp(w,x),w.index=0,w.sibling=null,w}function o(w,x,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<x?(w.flags|=2,x):S):(w.flags|=2,x)):(w.flags|=1048576,x)}function s(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,x,S,C){return x===null||x.tag!==6?(x=kT(S,w.mode,C),x.return=w,x):(x=i(x,S),x.return=w,x)}function l(w,x,S,C){var $=S.type;return $===Jy?d(w,x,S.props.children,C,S.key):x!==null&&(x.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Kd&&AV($)===x.type)?(C=i(x,S.props),C.ref=Sv(w,x,S),C.return=w,C):(C=uC(S.type,S.key,S.props,null,w.mode,C),C.ref=Sv(w,x,S),C.return=w,C)}function c(w,x,S,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=PT(S,w.mode,C),x.return=w,x):(x=i(x,S.children||[]),x.return=w,x)}function d(w,x,S,C,$){return x===null||x.tag!==7?(x=Af(S,w.mode,C,$),x.return=w,x):(x=i(x,S),x.return=w,x)}function p(w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=kT(""+x,w.mode,S),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bx:return S=uC(x.type,x.key,x.props,null,w.mode,S),S.ref=Sv(w,null,x),S.return=w,S;case Ky:return x=PT(x,w.mode,S),x.return=w,x;case Kd:var C=x._init;return p(w,C(x._payload),S)}if(ab(x)||vv(x))return x=Af(x,w.mode,S,null),x.return=w,x;kx(w,x)}return null}function f(w,x,S,C){var $=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return $!==null?null:a(w,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bx:return S.key===$?l(w,x,S,C):null;case Ky:return S.key===$?c(w,x,S,C):null;case Kd:return $=S._init,f(w,x,$(S._payload),C)}if(ab(S)||vv(S))return $!==null?null:d(w,x,S,C,null);kx(w,S)}return null}function y(w,x,S,C,$){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(S)||null,a(x,w,""+C,$);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case bx:return w=w.get(C.key===null?S:C.key)||null,l(x,w,C,$);case Ky:return w=w.get(C.key===null?S:C.key)||null,c(x,w,C,$);case Kd:var M=C._init;return y(w,x,S,M(C._payload),$)}if(ab(C)||vv(C))return w=w.get(S)||null,d(x,w,C,$,null);kx(x,C)}return null}function g(w,x,S,C){for(var $=null,M=null,I=x,T=x=0,O=null;I!==null&&T<S.length;T++){I.index>T?(O=I,I=null):O=I.sibling;var L=f(w,I,S[T],C);if(L===null){I===null&&(I=O);break}e&&I&&L.alternate===null&&t(w,I),x=o(L,x,T),M===null?$=L:M.sibling=L,M=L,I=O}if(T===S.length)return r(w,I),Jr&&yh(w,T),$;if(I===null){for(;T<S.length;T++)I=p(w,S[T],C),I!==null&&(x=o(I,x,T),M===null?$=I:M.sibling=I,M=I);return Jr&&yh(w,T),$}for(I=n(w,I);T<S.length;T++)O=y(I,w,T,S[T],C),O!==null&&(e&&O.alternate!==null&&I.delete(O.key===null?T:O.key),x=o(O,x,T),M===null?$=O:M.sibling=O,M=O);return e&&I.forEach(function(N){return t(w,N)}),Jr&&yh(w,T),$}function v(w,x,S,C){var $=vv(S);if(typeof $!="function")throw Error($e(150));if(S=$.call(S),S==null)throw Error($e(151));for(var M=$=null,I=x,T=x=0,O=null,L=S.next();I!==null&&!L.done;T++,L=S.next()){I.index>T?(O=I,I=null):O=I.sibling;var N=f(w,I,L.value,C);if(N===null){I===null&&(I=O);break}e&&I&&N.alternate===null&&t(w,I),x=o(N,x,T),M===null?$=N:M.sibling=N,M=N,I=O}if(L.done)return r(w,I),Jr&&yh(w,T),$;if(I===null){for(;!L.done;T++,L=S.next())L=p(w,L.value,C),L!==null&&(x=o(L,x,T),M===null?$=L:M.sibling=L,M=L);return Jr&&yh(w,T),$}for(I=n(w,I);!L.done;T++,L=S.next())L=y(I,w,T,L.value,C),L!==null&&(e&&L.alternate!==null&&I.delete(L.key===null?T:L.key),x=o(L,x,T),M===null?$=L:M.sibling=L,M=L);return e&&I.forEach(function(H){return t(w,H)}),Jr&&yh(w,T),$}function b(w,x,S,C){if(typeof S=="object"&&S!==null&&S.type===Jy&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case bx:e:{for(var $=S.key,M=x;M!==null;){if(M.key===$){if($=S.type,$===Jy){if(M.tag===7){r(w,M.sibling),x=i(M,S.props.children),x.return=w,w=x;break e}}else if(M.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Kd&&AV($)===M.type){r(w,M.sibling),x=i(M,S.props),x.ref=Sv(w,M,S),x.return=w,w=x;break e}r(w,M);break}else t(w,M);M=M.sibling}S.type===Jy?(x=Af(S.props.children,w.mode,C,S.key),x.return=w,w=x):(C=uC(S.type,S.key,S.props,null,w.mode,C),C.ref=Sv(w,x,S),C.return=w,w=C)}return s(w);case Ky:e:{for(M=S.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){r(w,x.sibling),x=i(x,S.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else t(w,x);x=x.sibling}x=PT(S,w.mode,C),x.return=w,w=x}return s(w);case Kd:return M=S._init,b(w,x,M(S._payload),C)}if(ab(S))return g(w,x,S,C);if(vv(S))return v(w,x,S,C);kx(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(r(w,x.sibling),x=i(x,S),x.return=w,w=x):(r(w,x),x=kT(S,w.mode,C),x.return=w,w=x),s(w)):r(w,x)}return b}var Zg=qq(!0),Wq=qq(!1),b_={},bc=Zp(b_),p1=Zp(b_),h1=Zp(b_);function gf(e){if(e===b_)throw Error($e(174));return e}function vN(e,t){switch(Rr(h1,t),Rr(p1,e),Rr(bc,b_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uO(t,e)}jr(bc),Rr(bc,t)}function Yg(){jr(bc),jr(p1),jr(h1)}function Kq(e){gf(h1.current);var t=gf(bc.current),r=uO(t,e.type);t!==r&&(Rr(p1,e),Rr(bc,r))}function bN(e){p1.current===e&&(jr(bc),jr(p1))}var rn=Zp(0);function Z$(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var CT=[];function wN(){for(var e=0;e<CT.length;e++)CT[e]._workInProgressVersionPrimary=null;CT.length=0}var oC=qu.ReactCurrentDispatcher,$T=qu.ReactCurrentBatchConfig,Qf=0,on=null,Yn=null,ci=null,Y$=!1,gw=!1,f1=0,Hce=0;function Ti(){throw Error($e(321))}function _N(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$l(e[r],t[r]))return!1;return!0}function xN(e,t,r,n,i,o){if(Qf=o,on=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oC.current=e===null||e.memoizedState===null?Jce:Zce,e=r(n,i),gw){o=0;do{if(gw=!1,f1=0,25<=o)throw Error($e(301));o+=1,ci=Yn=null,t.updateQueue=null,oC.current=Yce,e=r(n,i)}while(gw)}if(oC.current=Q$,t=Yn!==null&&Yn.next!==null,Qf=0,ci=Yn=on=null,Y$=!1,t)throw Error($e(300));return e}function SN(){var e=f1!==0;return f1=0,e}function tc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?on.memoizedState=ci=e:ci=ci.next=e,ci}function ba(){if(Yn===null){var e=on.alternate;e=e!==null?e.memoizedState:null}else e=Yn.next;var t=ci===null?on.memoizedState:ci.next;if(t!==null)ci=t,Yn=e;else{if(e===null)throw Error($e(310));Yn=e,e={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},ci===null?on.memoizedState=ci=e:ci=ci.next=e}return ci}function m1(e,t){return typeof t=="function"?t(e):t}function ET(e){var t=ba(),r=t.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=e;var n=Yn,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((Qf&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,s=n):l=l.next=p,on.lanes|=d,Xf|=d}c=c.next}while(c!==null&&c!==o);l===null?s=n:l.next=a,$l(n,t.memoizedState)||(Lo=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,on.lanes|=o,Xf|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function IT(e){var t=ba(),r=t.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);$l(o,t.memoizedState)||(Lo=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Jq(){}function Zq(e,t){var r=on,n=ba(),i=t(),o=!$l(n.memoizedState,i);if(o&&(n.memoizedState=i,Lo=!0),n=n.queue,CN(Xq.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ci!==null&&ci.memoizedState.tag&1){if(r.flags|=2048,y1(9,Qq.bind(null,r,n,i,t),void 0,null),ui===null)throw Error($e(349));(Qf&30)!==0||Yq(r,t,i)}return i}function Yq(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Qq(e,t,r,n){t.value=r,t.getSnapshot=n,eW(t)&&tW(e)}function Xq(e,t,r){return r(function(){eW(t)&&tW(e)})}function eW(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$l(e,r)}catch{return!0}}function tW(e){var t=Ru(e,1);t!==null&&wl(t,e,1,-1)}function FV(e){var t=tc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m1,lastRenderedState:e},t.queue=e,e=e.dispatch=Kce.bind(null,on,e),[t.memoizedState,e]}function y1(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rW(){return ba().memoizedState}function sC(e,t,r,n){var i=tc();on.flags|=e,i.memoizedState=y1(1|t,r,void 0,n===void 0?null:n)}function JE(e,t,r,n){var i=ba();n=n===void 0?null:n;var o=void 0;if(Yn!==null){var s=Yn.memoizedState;if(o=s.destroy,n!==null&&_N(n,s.deps)){i.memoizedState=y1(t,r,o,n);return}}on.flags|=e,i.memoizedState=y1(1|t,r,o,n)}function NV(e,t){return sC(8390656,8,e,t)}function CN(e,t){return JE(2048,8,e,t)}function nW(e,t){return JE(4,2,e,t)}function iW(e,t){return JE(4,4,e,t)}function oW(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sW(e,t,r){return r=r!=null?r.concat([e]):null,JE(4,4,oW.bind(null,t,e),r)}function $N(){}function aW(e,t){var r=ba();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_N(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lW(e,t){var r=ba();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_N(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cW(e,t,r){return(Qf&21)===0?(e.baseState&&(e.baseState=!1,Lo=!0),e.memoizedState=r):($l(r,t)||(r=pq(),on.lanes|=r,Xf|=r,e.baseState=!0),t)}function qce(e,t){var r=wr;wr=r!==0&&4>r?r:4,e(!0);var n=$T.transition;$T.transition={};try{e(!1),t()}finally{wr=r,$T.transition=n}}function uW(){return ba().memoizedState}function Wce(e,t,r){var n=Mp(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dW(e))pW(t,r);else if(r=Bq(e,t,r,n),r!==null){var i=co();wl(r,e,n,i),hW(r,t,n)}}function Kce(e,t,r){var n=Mp(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dW(e))pW(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,$l(a,s)){var l=t.interleaved;l===null?(i.next=i,yN(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Bq(e,t,i,n),r!==null&&(i=co(),wl(r,e,n,i),hW(r,t,n))}}function dW(e){var t=e.alternate;return e===on||t!==null&&t===on}function pW(e,t){gw=Y$=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hW(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rN(e,r)}}var Q$={readContext:va,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useInsertionEffect:Ti,useLayoutEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useMutableSource:Ti,useSyncExternalStore:Ti,useId:Ti,unstable_isNewReconciler:!1},Jce={readContext:va,useCallback:function(e,t){return tc().memoizedState=[e,t===void 0?null:t],e},useContext:va,useEffect:NV,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sC(4194308,4,oW.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sC(4194308,4,e,t)},useInsertionEffect:function(e,t){return sC(4,2,e,t)},useMemo:function(e,t){var r=tc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Wce.bind(null,on,e),[n.memoizedState,e]},useRef:function(e){var t=tc();return e={current:e},t.memoizedState=e},useState:FV,useDebugValue:$N,useDeferredValue:function(e){return tc().memoizedState=e},useTransition:function(){var e=FV(!1),t=e[0];return e=qce.bind(null,e[1]),tc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=on,i=tc();if(Jr){if(r===void 0)throw Error($e(407));r=r()}else{if(r=t(),ui===null)throw Error($e(349));(Qf&30)!==0||Yq(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,NV(Xq.bind(null,n,o,e),[e]),n.flags|=2048,y1(9,Qq.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=tc(),t=ui.identifierPrefix;if(Jr){var r=$u,n=Cu;r=(n&~(1<<32-bl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=f1++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Hce++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zce={readContext:va,useCallback:aW,useContext:va,useEffect:CN,useImperativeHandle:sW,useInsertionEffect:nW,useLayoutEffect:iW,useMemo:lW,useReducer:ET,useRef:rW,useState:function(){return ET(m1)},useDebugValue:$N,useDeferredValue:function(e){var t=ba();return cW(t,Yn.memoizedState,e)},useTransition:function(){var e=ET(m1)[0],t=ba().memoizedState;return[e,t]},useMutableSource:Jq,useSyncExternalStore:Zq,useId:uW,unstable_isNewReconciler:!1},Yce={readContext:va,useCallback:aW,useContext:va,useEffect:CN,useImperativeHandle:sW,useInsertionEffect:nW,useLayoutEffect:iW,useMemo:lW,useReducer:IT,useRef:rW,useState:function(){return IT(m1)},useDebugValue:$N,useDeferredValue:function(e){var t=ba();return Yn===null?t.memoizedState=e:cW(t,Yn.memoizedState,e)},useTransition:function(){var e=IT(m1)[0],t=ba().memoizedState;return[e,t]},useMutableSource:Jq,useSyncExternalStore:Zq,useId:uW,unstable_isNewReconciler:!1};function Qg(e,t){try{var r="",n=t;do r+=$le(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function MT(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function LO(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Qce=typeof WeakMap=="function"?WeakMap:Map;function fW(e,t,r){r=Mu(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){e2||(e2=!0,UO=n),LO(e,t)},r}function mW(e,t,r){r=Mu(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){LO(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){LO(e,t),typeof n!="function"&&(Ip===null?Ip=new Set([this]):Ip.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function DV(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Qce;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=pue.bind(null,e,t,r),t.then(e,e))}function zV(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function VV(e,t,r,n,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mu(-1,1),t.tag=2,Ep(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Xce=qu.ReactCurrentOwner,Lo=!1;function ro(e,t,r,n){t.child=e===null?Wq(t,null,r,n):Zg(t,e.child,r,n)}function jV(e,t,r,n,i){r=r.render;var o=t.ref;return Cg(t,i),n=xN(e,t,r,n,o,i),r=SN(),e!==null&&!Lo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Au(e,t,i)):(Jr&&r&&uN(t),t.flags|=1,ro(e,t,n,i),t.child)}function BV(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!LN(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,yW(e,t,o,n,i)):(e=uC(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)===0){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:l1,r(s,n)&&e.ref===t.ref)return Au(e,t,i)}return t.flags|=1,e=Tp(o,n),e.ref=t.ref,e.return=t,t.child=e}function yW(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(l1(o,n)&&e.ref===t.ref)if(Lo=!1,t.pendingProps=n=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Lo=!0);else return t.lanes=e.lanes,Au(e,t,i)}return RO(e,t,r,n,i)}function gW(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(og,bs),bs|=r;else{if((r&1073741824)===0)return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rr(og,bs),bs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Rr(og,bs),bs|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Rr(og,bs),bs|=n;return ro(e,t,i,r),t.child}function vW(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function RO(e,t,r,n,i){var o=No(r)?Zf:Bi.current;return o=Kg(t,o),Cg(t,i),r=xN(e,t,r,n,o,i),n=SN(),e!==null&&!Lo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Au(e,t,i)):(Jr&&n&&uN(t),t.flags|=1,ro(e,t,r,i),t.child)}function UV(e,t,r,n,i){if(No(r)){var o=!0;G$(t)}else o=!1;if(Cg(t,i),t.stateNode===null)aC(e,t),Hq(t,r,n),OO(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=va(c):(c=No(r)?Zf:Bi.current,c=Kg(t,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==c)&&RV(t,s,n,c),Jd=!1;var f=t.memoizedState;s.state=f,J$(t,n,s,i),l=t.memoizedState,a!==n||f!==l||Fo.current||Jd?(typeof d=="function"&&(PO(t,r,d,n),l=t.memoizedState),(a=Jd||LV(t,r,a,n,f,l,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Uq(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:nl(t.type,a),s.props=c,p=t.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=va(l):(l=No(r)?Zf:Bi.current,l=Kg(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||f!==l)&&RV(t,s,n,l),Jd=!1,f=t.memoizedState,s.state=f,J$(t,n,s,i);var g=t.memoizedState;a!==p||f!==g||Fo.current||Jd?(typeof y=="function"&&(PO(t,r,y,n),g=t.memoizedState),(c=Jd||LV(t,r,c,n,f,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return AO(e,t,r,n,o,i)}function AO(e,t,r,n,i,o){vW(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&MV(t,r,!1),Au(e,t,o);n=t.stateNode,Xce.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Zg(t,e.child,null,o),t.child=Zg(t,null,a,o)):ro(e,t,a,o),t.memoizedState=n.state,i&&MV(t,r,!0),t.child}function bW(e){var t=e.stateNode;t.pendingContext?IV(e,t.pendingContext,t.pendingContext!==t.context):t.context&&IV(e,t.context,!1),vN(e,t.containerInfo)}function GV(e,t,r,n,i){return Jg(),pN(i),t.flags|=256,ro(e,t,r,n),t.child}var FO={dehydrated:null,treeContext:null,retryLane:0};function NO(e){return{baseLanes:e,cachePool:null,transitions:null}}function wW(e,t,r){var n=t.pendingProps,i=rn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Rr(rn,i&1),e===null)return TO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},(n&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=QE(s,n,0,null),e=Af(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=NO(r),t.memoizedState=FO,e):EN(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return eue(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return(s&1)===0&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Tp(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Tp(a,o):(o=Af(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?NO(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=FO,n}return o=e.child,e=o.sibling,n=Tp(o,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function EN(e,t){return t=QE({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Px(e,t,r,n){return n!==null&&pN(n),Zg(t,e.child,null,r),e=EN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eue(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=MT(Error($e(422))),Px(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=QE({mode:"visible",children:n.children},i,0,null),o=Af(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,(t.mode&1)!==0&&Zg(t,e.child,null,s),t.child.memoizedState=NO(s),t.memoizedState=FO,o);if((t.mode&1)===0)return Px(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error($e(419)),n=MT(o,n,void 0),Px(e,t,s,n)}if(a=(s&e.childLanes)!==0,Lo||a){if(n=ui,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(n.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ru(e,i),wl(n,e,i,-1))}return ON(),n=MT(Error($e(421))),Px(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=hue.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,xs=$p(i.nextSibling),$s=t,Jr=!0,ul=null,e!==null&&(ia[oa++]=Cu,ia[oa++]=$u,ia[oa++]=Yf,Cu=e.id,$u=e.overflow,Yf=t),t=EN(t,n.children),t.flags|=4096,t)}function HV(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kO(e.return,t,r)}function TT(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function _W(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(ro(e,t,n.children,r),n=rn.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HV(e,r,t);else if(e.tag===19)HV(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Rr(rn,n),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Z$(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),TT(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Z$(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}TT(t,!0,r,null,o);break;case"together":TT(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aC(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Au(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xf|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error($e(153));if(t.child!==null){for(e=t.child,r=Tp(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tp(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function tue(e,t,r){switch(t.tag){case 3:bW(t),Jg();break;case 5:Kq(t);break;case 1:No(t.type)&&G$(t);break;case 4:vN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Rr(W$,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Rr(rn,rn.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?wW(e,t,r):(Rr(rn,rn.current&1),e=Au(e,t,r),e!==null?e.sibling:null);Rr(rn,rn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return _W(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rr(rn,rn.current),n)break;return null;case 22:case 23:return t.lanes=0,gW(e,t,r)}return Au(e,t,r)}var xW,DO,SW,CW;xW=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};DO=function(){};SW=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,gf(bc.current);var o=null;switch(r){case"input":i=sO(e,i),n=sO(e,n),o=[];break;case"select":i=an({},i,{value:void 0}),n=an({},n,{value:void 0}),o=[];break;case"textarea":i=cO(e,i),n=cO(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=B$)}dO(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(t1.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(t1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Dr("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};CW=function(e,t,r,n){r!==n&&(t.flags|=4)};function Cv(e,t){if(!Jr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ki(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function rue(e,t,r){var n=t.pendingProps;switch(dN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(t),null;case 1:return No(t.type)&&U$(),ki(t),null;case 3:return n=t.stateNode,Yg(),jr(Fo),jr(Bi),wN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ul!==null&&(qO(ul),ul=null))),DO(e,t),ki(t),null;case 5:bN(t);var i=gf(h1.current);if(r=t.type,e!==null&&t.stateNode!=null)SW(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($e(166));return ki(t),null}if(e=gf(bc.current),Tx(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[pc]=t,n[d1]=o,e=(t.mode&1)!==0,r){case"dialog":Dr("cancel",n),Dr("close",n);break;case"iframe":case"object":case"embed":Dr("load",n);break;case"video":case"audio":for(i=0;i<cb.length;i++)Dr(cb[i],n);break;case"source":Dr("error",n);break;case"img":case"image":case"link":Dr("error",n),Dr("load",n);break;case"details":Dr("toggle",n);break;case"input":eV(n,o),Dr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Dr("invalid",n);break;case"textarea":rV(n,o),Dr("invalid",n)}dO(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Mx(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Mx(n.textContent,a,e),i=["children",""+a]):t1.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Dr("scroll",n)}switch(r){case"input":wx(n),tV(n,o,!0);break;case"textarea":wx(n),nV(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=B$)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YH(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[pc]=t,e[d1]=n,xW(e,t,!1,!1),t.stateNode=e;e:{switch(s=pO(r,n),r){case"dialog":Dr("cancel",e),Dr("close",e),i=n;break;case"iframe":case"object":case"embed":Dr("load",e),i=n;break;case"video":case"audio":for(i=0;i<cb.length;i++)Dr(cb[i],e);i=n;break;case"source":Dr("error",e),i=n;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),i=n;break;case"details":Dr("toggle",e),i=n;break;case"input":eV(e,n),i=sO(e,n),Dr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=an({},n,{value:void 0}),Dr("invalid",e);break;case"textarea":rV(e,n),i=cO(e,n),Dr("invalid",e);break;default:i=n}dO(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?eq(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QH(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&r1(e,l):typeof l=="number"&&r1(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(t1.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Dr("scroll",e):l!=null&&ZF(e,o,l,s))}switch(r){case"input":wx(e),tV(e,n,!1);break;case"textarea":wx(e),nV(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zp(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?wg(e,!!n.multiple,o,!1):n.defaultValue!=null&&wg(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=B$)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ki(t),null;case 6:if(e&&t.stateNode!=null)CW(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($e(166));if(r=gf(h1.current),gf(bc.current),Tx(t)){if(n=t.stateNode,r=t.memoizedProps,n[pc]=t,(o=n.nodeValue!==r)&&(e=$s,e!==null))switch(e.tag){case 3:Mx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mx(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pc]=t,t.stateNode=n}return ki(t),null;case 13:if(jr(rn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jr&&xs!==null&&(t.mode&1)!==0&&(t.flags&128)===0)jq(),Jg(),t.flags|=98560,o=!1;else if(o=Tx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error($e(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($e(317));o[pc]=t}else Jg(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ki(t),o=!1}else ul!==null&&(qO(ul),ul=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(rn.current&1)!==0?Xn===0&&(Xn=3):ON())),t.updateQueue!==null&&(t.flags|=4),ki(t),null);case 4:return Yg(),DO(e,t),e===null&&c1(t.stateNode.containerInfo),ki(t),null;case 10:return mN(t.type._context),ki(t),null;case 17:return No(t.type)&&U$(),ki(t),null;case 19:if(jr(rn),o=t.memoizedState,o===null)return ki(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)Cv(o,!1);else{if(Xn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Z$(e),s!==null){for(t.flags|=128,Cv(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rr(rn,rn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Sn()>Xg&&(t.flags|=128,n=!0,Cv(o,!1),t.lanes=4194304)}else{if(!n)if(e=Z$(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Cv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Jr)return ki(t),null}else 2*Sn()-o.renderingStartTime>Xg&&r!==1073741824&&(t.flags|=128,n=!0,Cv(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Sn(),t.sibling=null,r=rn.current,Rr(rn,n?r&1|2:r&1),t):(ki(t),null);case 22:case 23:return PN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(bs&1073741824)!==0&&(ki(t),t.subtreeFlags&6&&(t.flags|=8192)):ki(t),null;case 24:return null;case 25:return null}throw Error($e(156,t.tag))}function nue(e,t){switch(dN(t),t.tag){case 1:return No(t.type)&&U$(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yg(),jr(Fo),jr(Bi),wN(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return bN(t),null;case 13:if(jr(rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($e(340));Jg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jr(rn),null;case 4:return Yg(),null;case 10:return mN(t.type._context),null;case 22:case 23:return PN(),null;case 24:return null;default:return null}}var Ox=!1,zi=!1,iue=typeof WeakSet=="function"?WeakSet:Set,He=null;function ig(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fn(e,t,n)}else r.current=null}function zO(e,t,r){try{r()}catch(n){fn(e,t,n)}}var qV=!1;function oue(e,t){if(xO=z$,e=Mq(),cN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var y;p!==r||i!==0&&p.nodeType!==3||(a=s+i),p!==o||n!==0&&p.nodeType!==3||(l=s+n),p.nodeType===3&&(s+=p.nodeValue.length),(y=p.firstChild)!==null;)f=p,p=y;for(;;){if(p===e)break t;if(f===r&&++c===i&&(a=s),f===o&&++d===n&&(l=s),(y=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(SO={focusedElem:e,selectionRange:r},z$=!1,He=t;He!==null;)if(t=He,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,He=e;else for(;He!==null;){t=He;try{var g=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:nl(t.type,v),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(C){fn(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,He=e;break}He=t.return}return g=qV,qV=!1,g}function vw(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&zO(t,r,o)}i=i.next}while(i!==n)}}function ZE(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function VO(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $W(e){var t=e.alternate;t!==null&&(e.alternate=null,$W(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pc],delete t[d1],delete t[EO],delete t[jce],delete t[Bce])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function EW(e){return e.tag===5||e.tag===3||e.tag===4}function WV(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||EW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jO(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=B$));else if(n!==4&&(e=e.child,e!==null))for(jO(e,t,r),e=e.sibling;e!==null;)jO(e,t,r),e=e.sibling}function BO(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(BO(e,t,r),e=e.sibling;e!==null;)BO(e,t,r),e=e.sibling}var vi=null,sl=!1;function ed(e,t,r){for(r=r.child;r!==null;)IW(e,t,r),r=r.sibling}function IW(e,t,r){if(vc&&typeof vc.onCommitFiberUnmount=="function")try{vc.onCommitFiberUnmount(BE,r)}catch{}switch(r.tag){case 5:zi||ig(r,t);case 6:var n=vi,i=sl;vi=null,ed(e,t,r),vi=n,sl=i,vi!==null&&(sl?(e=vi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):vi.removeChild(r.stateNode));break;case 18:vi!==null&&(sl?(e=vi,r=r.stateNode,e.nodeType===8?xT(e.parentNode,r):e.nodeType===1&&xT(e,r),s1(e)):xT(vi,r.stateNode));break;case 4:n=vi,i=sl,vi=r.stateNode.containerInfo,sl=!0,ed(e,t,r),vi=n,sl=i;break;case 0:case 11:case 14:case 15:if(!zi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&zO(r,t,s),i=i.next}while(i!==n)}ed(e,t,r);break;case 1:if(!zi&&(ig(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){fn(r,t,a)}ed(e,t,r);break;case 21:ed(e,t,r);break;case 22:r.mode&1?(zi=(n=zi)||r.memoizedState!==null,ed(e,t,r),zi=n):ed(e,t,r);break;default:ed(e,t,r)}}function KV(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new iue),t.forEach(function(n){var i=fue.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Pa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:vi=a.stateNode,sl=!1;break e;case 3:vi=a.stateNode.containerInfo,sl=!0;break e;case 4:vi=a.stateNode.containerInfo,sl=!0;break e}a=a.return}if(vi===null)throw Error($e(160));IW(o,s,i),vi=null,sl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){fn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)MW(t,e),t=t.sibling}function MW(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pa(t,e),Ll(e),n&4){try{vw(3,e,e.return),ZE(3,e)}catch(v){fn(e,e.return,v)}try{vw(5,e,e.return)}catch(v){fn(e,e.return,v)}}break;case 1:Pa(t,e),Ll(e),n&512&&r!==null&&ig(r,r.return);break;case 5:if(Pa(t,e),Ll(e),n&512&&r!==null&&ig(r,r.return),e.flags&32){var i=e.stateNode;try{r1(i,"")}catch(v){fn(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&JH(i,o),pO(a,s);var c=pO(a,o);for(s=0;s<l.length;s+=2){var d=l[s],p=l[s+1];d==="style"?eq(i,p):d==="dangerouslySetInnerHTML"?QH(i,p):d==="children"?r1(i,p):ZF(i,d,p,c)}switch(a){case"input":aO(i,o);break;case"textarea":ZH(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?wg(i,!!o.multiple,y,!1):f!==!!o.multiple&&(o.defaultValue!=null?wg(i,!!o.multiple,o.defaultValue,!0):wg(i,!!o.multiple,o.multiple?[]:"",!1))}i[d1]=o}catch(v){fn(e,e.return,v)}}break;case 6:if(Pa(t,e),Ll(e),n&4){if(e.stateNode===null)throw Error($e(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){fn(e,e.return,v)}}break;case 3:if(Pa(t,e),Ll(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{s1(t.containerInfo)}catch(v){fn(e,e.return,v)}break;case 4:Pa(t,e),Ll(e);break;case 13:Pa(t,e),Ll(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(TN=Sn())),n&4&&KV(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(zi=(c=zi)||d,Pa(t,e),zi=c):Pa(t,e),Ll(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&(e.mode&1)!==0)for(He=e,d=e.child;d!==null;){for(p=He=d;He!==null;){switch(f=He,y=f.child,f.tag){case 0:case 11:case 14:case 15:vw(4,f,f.return);break;case 1:ig(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){fn(n,r,v)}}break;case 5:ig(f,f.return);break;case 22:if(f.memoizedState!==null){ZV(p);continue}}y!==null?(y.return=f,He=y):ZV(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,l=p.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=XH("display",s))}catch(v){fn(e,e.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){fn(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Pa(t,e),Ll(e),n&4&&KV(e);break;case 21:break;default:Pa(t,e),Ll(e)}}function Ll(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(EW(r)){var n=r;break e}r=r.return}throw Error($e(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(r1(i,""),n.flags&=-33);var o=WV(e);BO(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=WV(e);jO(e,a,s);break;default:throw Error($e(161))}}catch(l){fn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sue(e,t,r){He=e,TW(e)}function TW(e,t,r){for(var n=(e.mode&1)!==0;He!==null;){var i=He,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Ox;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zi;a=Ox;var c=zi;if(Ox=s,(zi=l)&&!c)for(He=i;He!==null;)s=He,l=s.child,s.tag===22&&s.memoizedState!==null?YV(i):l!==null?(l.return=s,He=l):YV(i);for(;o!==null;)He=o,TW(o),o=o.sibling;He=i,Ox=a,zi=c}JV(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,He=o):JV(e)}}function JV(e){for(;He!==null;){var t=He;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:zi||ZE(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!zi)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:nl(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&OV(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}OV(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&s1(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}zi||t.flags&512&&VO(t)}catch(f){fn(t,t.return,f)}}if(t===e){He=null;break}if(r=t.sibling,r!==null){r.return=t.return,He=r;break}He=t.return}}function ZV(e){for(;He!==null;){var t=He;if(t===e){He=null;break}var r=t.sibling;if(r!==null){r.return=t.return,He=r;break}He=t.return}}function YV(e){for(;He!==null;){var t=He;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ZE(4,t)}catch(l){fn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){fn(t,i,l)}}var o=t.return;try{VO(t)}catch(l){fn(t,o,l)}break;case 5:var s=t.return;try{VO(t)}catch(l){fn(t,s,l)}}}catch(l){fn(t,t.return,l)}if(t===e){He=null;break}var a=t.sibling;if(a!==null){a.return=t.return,He=a;break}He=t.return}}var aue=Math.ceil,X$=qu.ReactCurrentDispatcher,IN=qu.ReactCurrentOwner,pa=qu.ReactCurrentBatchConfig,Qt=0,ui=null,Dn=null,_i=0,bs=0,og=Zp(0),Xn=0,g1=null,Xf=0,YE=0,MN=0,bw=null,To=null,TN=0,Xg=1/0,mu=null,e2=!1,UO=null,Ip=null,Lx=!1,dp=null,t2=0,ww=0,GO=null,lC=-1,cC=0;function co(){return(Qt&6)!==0?Sn():lC!==-1?lC:lC=Sn()}function Mp(e){return(e.mode&1)===0?1:(Qt&2)!==0&&_i!==0?_i&-_i:Gce.transition!==null?(cC===0&&(cC=pq()),cC):(e=wr,e!==0||(e=window.event,e=e===void 0?16:bq(e.type)),e)}function wl(e,t,r,n){if(50<ww)throw ww=0,GO=null,Error($e(185));y_(e,r,n),((Qt&2)===0||e!==ui)&&(e===ui&&((Qt&2)===0&&(YE|=r),Xn===4&&ap(e,_i)),Do(e,n),r===1&&Qt===0&&(t.mode&1)===0&&(Xg=Sn()+500,WE&&Yp()))}function Do(e,t){var r=e.callbackNode;Gle(e,t);var n=D$(e,e===ui?_i:0);if(n===0)r!==null&&sV(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sV(r),t===1)e.tag===0?Uce(QV.bind(null,e)):Dq(QV.bind(null,e)),zce(function(){(Qt&6)===0&&Yp()}),r=null;else{switch(hq(n)){case 1:r=tN;break;case 4:r=uq;break;case 16:r=N$;break;case 536870912:r=dq;break;default:r=N$}r=NW(r,kW.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kW(e,t){if(lC=-1,cC=0,(Qt&6)!==0)throw Error($e(327));var r=e.callbackNode;if($g()&&e.callbackNode!==r)return null;var n=D$(e,e===ui?_i:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=r2(e,n);else{t=n;var i=Qt;Qt|=2;var o=OW();(ui!==e||_i!==t)&&(mu=null,Xg=Sn()+500,Rf(e,t));do try{uue();break}catch(a){PW(e,a)}while(1);fN(),X$.current=o,Qt=i,Dn!==null?t=0:(ui=null,_i=0,t=Xn)}if(t!==0){if(t===2&&(i=gO(e),i!==0&&(n=i,t=HO(e,i))),t===1)throw r=g1,Rf(e,0),ap(e,n),Do(e,Sn()),r;if(t===6)ap(e,n);else{if(i=e.current.alternate,(n&30)===0&&!lue(i)&&(t=r2(e,n),t===2&&(o=gO(e),o!==0&&(n=o,t=HO(e,o))),t===1))throw r=g1,Rf(e,0),ap(e,n),Do(e,Sn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error($e(345));case 2:gh(e,To,mu);break;case 3:if(ap(e,n),(n&130023424)===n&&(t=TN+500-Sn(),10<t)){if(D$(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){co(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$O(gh.bind(null,e,To,mu),t);break}gh(e,To,mu);break;case 4:if(ap(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-bl(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=Sn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aue(n/1960))-n,10<n){e.timeoutHandle=$O(gh.bind(null,e,To,mu),n);break}gh(e,To,mu);break;case 5:gh(e,To,mu);break;default:throw Error($e(329))}}}return Do(e,Sn()),e.callbackNode===r?kW.bind(null,e):null}function HO(e,t){var r=bw;return e.current.memoizedState.isDehydrated&&(Rf(e,t).flags|=256),e=r2(e,t),e!==2&&(t=To,To=r,t!==null&&qO(t)),e}function qO(e){To===null?To=e:To.push.apply(To,e)}function lue(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!$l(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ap(e,t){for(t&=~MN,t&=~YE,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bl(t),n=1<<r;e[r]=-1,t&=~n}}function QV(e){if((Qt&6)!==0)throw Error($e(327));$g();var t=D$(e,0);if((t&1)===0)return Do(e,Sn()),null;var r=r2(e,t);if(e.tag!==0&&r===2){var n=gO(e);n!==0&&(t=n,r=HO(e,n))}if(r===1)throw r=g1,Rf(e,0),ap(e,t),Do(e,Sn()),r;if(r===6)throw Error($e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gh(e,To,mu),Do(e,Sn()),null}function kN(e,t){var r=Qt;Qt|=1;try{return e(t)}finally{Qt=r,Qt===0&&(Xg=Sn()+500,WE&&Yp())}}function em(e){dp!==null&&dp.tag===0&&(Qt&6)===0&&$g();var t=Qt;Qt|=1;var r=pa.transition,n=wr;try{if(pa.transition=null,wr=1,e)return e()}finally{wr=n,pa.transition=r,Qt=t,(Qt&6)===0&&Yp()}}function PN(){bs=og.current,jr(og)}function Rf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Dce(r)),Dn!==null)for(r=Dn.return;r!==null;){var n=r;switch(dN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&U$();break;case 3:Yg(),jr(Fo),jr(Bi),wN();break;case 5:bN(n);break;case 4:Yg();break;case 13:jr(rn);break;case 19:jr(rn);break;case 10:mN(n.type._context);break;case 22:case 23:PN()}r=r.return}if(ui=e,Dn=e=Tp(e.current,null),_i=bs=t,Xn=0,g1=null,MN=YE=Xf=0,To=bw=null,yf!==null){for(t=0;t<yf.length;t++)if(r=yf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}yf=null}return e}function PW(e,t){do{var r=Dn;try{if(fN(),oC.current=Q$,Y$){for(var n=on.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Y$=!1}if(Qf=0,ci=Yn=on=null,gw=!1,f1=0,IN.current=null,r===null||r.return===null){Xn=1,g1=t,Dn=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=_i,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,p=d.tag;if((d.mode&1)===0&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=zV(s);if(y!==null){y.flags&=-257,VV(y,s,a,o,t),y.mode&1&&DV(o,c,t),t=y,l=c;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if((t&1)===0){DV(o,c,t),ON();break e}l=Error($e(426))}}else if(Jr&&a.mode&1){var b=zV(s);if(b!==null){(b.flags&65536)===0&&(b.flags|=256),VV(b,s,a,o,t),pN(Qg(l,a));break e}}o=l=Qg(l,a),Xn!==4&&(Xn=2),bw===null?bw=[o]:bw.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=fW(o,l,t);PV(o,w);break e;case 1:a=l;var x=o.type,S=o.stateNode;if((o.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ip===null||!Ip.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=mW(o,a,t);PV(o,C);break e}}o=o.return}while(o!==null)}RW(r)}catch($){t=$,Dn===r&&r!==null&&(Dn=r=r.return);continue}break}while(1)}function OW(){var e=X$.current;return X$.current=Q$,e===null?Q$:e}function ON(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),ui===null||(Xf&268435455)===0&&(YE&268435455)===0||ap(ui,_i)}function r2(e,t){var r=Qt;Qt|=2;var n=OW();(ui!==e||_i!==t)&&(mu=null,Rf(e,t));do try{cue();break}catch(i){PW(e,i)}while(1);if(fN(),Qt=r,X$.current=n,Dn!==null)throw Error($e(261));return ui=null,_i=0,Xn}function cue(){for(;Dn!==null;)LW(Dn)}function uue(){for(;Dn!==null&&!Ale();)LW(Dn)}function LW(e){var t=FW(e.alternate,e,bs);e.memoizedProps=e.pendingProps,t===null?RW(e):Dn=t,IN.current=null}function RW(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=rue(r,t,bs),r!==null){Dn=r;return}}else{if(r=nue(r,t),r!==null){r.flags&=32767,Dn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xn=6,Dn=null;return}}if(t=t.sibling,t!==null){Dn=t;return}Dn=t=e}while(t!==null);Xn===0&&(Xn=5)}function gh(e,t,r){var n=wr,i=pa.transition;try{pa.transition=null,wr=1,due(e,t,r,n)}finally{pa.transition=i,wr=n}return null}function due(e,t,r,n){do $g();while(dp!==null);if((Qt&6)!==0)throw Error($e(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($e(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Hle(e,o),e===ui&&(Dn=ui=null,_i=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Lx||(Lx=!0,NW(N$,function(){return $g(),null})),o=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||o){o=pa.transition,pa.transition=null;var s=wr;wr=1;var a=Qt;Qt|=4,IN.current=null,oue(e,r),MW(r,e),Pce(SO),z$=!!xO,SO=xO=null,e.current=r,sue(r),Fle(),Qt=a,wr=s,pa.transition=o}else e.current=r;if(Lx&&(Lx=!1,dp=e,t2=i),o=e.pendingLanes,o===0&&(Ip=null),zle(r.stateNode),Do(e,Sn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(e2)throw e2=!1,e=UO,UO=null,e;return(t2&1)!==0&&e.tag!==0&&$g(),o=e.pendingLanes,(o&1)!==0?e===GO?ww++:(ww=0,GO=e):ww=0,Yp(),null}function $g(){if(dp!==null){var e=hq(t2),t=pa.transition,r=wr;try{if(pa.transition=null,wr=16>e?16:e,dp===null)var n=!1;else{if(e=dp,dp=null,t2=0,(Qt&6)!==0)throw Error($e(331));var i=Qt;for(Qt|=4,He=e.current;He!==null;){var o=He,s=o.child;if((He.flags&16)!==0){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(He=c;He!==null;){var d=He;switch(d.tag){case 0:case 11:case 15:vw(8,d,o)}var p=d.child;if(p!==null)p.return=d,He=p;else for(;He!==null;){d=He;var f=d.sibling,y=d.return;if($W(d),d===c){He=null;break}if(f!==null){f.return=y,He=f;break}He=y}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}He=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,He=s;else e:for(;He!==null;){if(o=He,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:vw(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,He=w;break e}He=o.return}}var x=e.current;for(He=x;He!==null;){s=He;var S=s.child;if((s.subtreeFlags&2064)!==0&&S!==null)S.return=s,He=S;else e:for(s=x;He!==null;){if(a=He,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:ZE(9,a)}}catch($){fn(a,a.return,$)}if(a===s){He=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,He=C;break e}He=a.return}}if(Qt=i,Yp(),vc&&typeof vc.onPostCommitFiberRoot=="function")try{vc.onPostCommitFiberRoot(BE,e)}catch{}n=!0}return n}finally{wr=r,pa.transition=t}}return!1}function XV(e,t,r){t=Qg(r,t),t=fW(e,t,1),e=Ep(e,t,1),t=co(),e!==null&&(y_(e,1,t),Do(e,t))}function fn(e,t,r){if(e.tag===3)XV(e,e,r);else for(;t!==null;){if(t.tag===3){XV(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ip===null||!Ip.has(n))){e=Qg(r,e),e=mW(t,e,1),t=Ep(t,e,1),e=co(),t!==null&&(y_(t,1,e),Do(t,e));break}}t=t.return}}function pue(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=co(),e.pingedLanes|=e.suspendedLanes&r,ui===e&&(_i&r)===r&&(Xn===4||Xn===3&&(_i&130023424)===_i&&500>Sn()-TN?Rf(e,0):MN|=r),Do(e,t)}function AW(e,t){t===0&&((e.mode&1)===0?t=1:(t=Sx,Sx<<=1,(Sx&130023424)===0&&(Sx=4194304)));var r=co();e=Ru(e,t),e!==null&&(y_(e,t,r),Do(e,r))}function hue(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),AW(e,r)}function fue(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($e(314))}n!==null&&n.delete(t),AW(e,r)}var FW;FW=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fo.current)Lo=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Lo=!1,tue(e,t,r);Lo=(e.flags&131072)!==0}else Lo=!1,Jr&&(t.flags&1048576)!==0&&zq(t,q$,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;aC(e,t),e=t.pendingProps;var i=Kg(t,Bi.current);Cg(t,r),i=xN(null,t,n,e,i,r);var o=SN();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(n)?(o=!0,G$(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gN(t),i.updater=KE,t.stateNode=i,i._reactInternals=t,OO(t,n,e,r),t=AO(null,t,n,!0,o,r)):(t.tag=0,Jr&&o&&uN(t),ro(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(aC(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=yue(n),e=nl(n,e),i){case 0:t=RO(null,t,n,e,r);break e;case 1:t=UV(null,t,n,e,r);break e;case 11:t=jV(null,t,n,e,r);break e;case 14:t=BV(null,t,n,nl(n.type,e),r);break e}throw Error($e(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:nl(n,i),RO(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:nl(n,i),UV(e,t,n,i,r);case 3:e:{if(bW(t),e===null)throw Error($e(387));n=t.pendingProps,o=t.memoizedState,i=o.element,Uq(e,t),J$(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Qg(Error($e(423)),t),t=GV(e,t,n,r,i);break e}else if(n!==i){i=Qg(Error($e(424)),t),t=GV(e,t,n,r,i);break e}else for(xs=$p(t.stateNode.containerInfo.firstChild),$s=t,Jr=!0,ul=null,r=Wq(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jg(),n===i){t=Au(e,t,r);break e}ro(e,t,n,r)}t=t.child}return t;case 5:return Kq(t),e===null&&TO(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,CO(n,i)?s=null:o!==null&&CO(n,o)&&(t.flags|=32),vW(e,t),ro(e,t,s,r),t.child;case 6:return e===null&&TO(t),null;case 13:return wW(e,t,r);case 4:return vN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zg(t,null,n,r):ro(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:nl(n,i),jV(e,t,n,i,r);case 7:return ro(e,t,t.pendingProps,r),t.child;case 8:return ro(e,t,t.pendingProps.children,r),t.child;case 12:return ro(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Rr(W$,n._currentValue),n._currentValue=s,o!==null)if($l(o.value,s)){if(o.children===i.children&&!Fo.current){t=Au(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Mu(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),kO(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error($e(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),kO(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ro(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Cg(t,r),i=va(i),n=n(i),t.flags|=1,ro(e,t,n,r),t.child;case 14:return n=t.type,i=nl(n,t.pendingProps),i=nl(n.type,i),BV(e,t,n,i,r);case 15:return yW(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:nl(n,i),aC(e,t),t.tag=1,No(n)?(e=!0,G$(t)):e=!1,Cg(t,r),Hq(t,n,i),OO(t,n,i,r),AO(null,t,n,!0,e,r);case 19:return _W(e,t,r);case 22:return gW(e,t,r)}throw Error($e(156,t.tag))};function NW(e,t){return cq(e,t)}function mue(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(e,t,r,n){return new mue(e,t,r,n)}function LN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yue(e){if(typeof e=="function")return LN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===QF)return 11;if(e===XF)return 14}return 2}function Tp(e,t){var r=e.alternate;return r===null?(r=ca(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function uC(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")LN(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Jy:return Af(r.children,i,o,t);case YF:s=8,i|=8;break;case rO:return e=ca(12,r,t,i|2),e.elementType=rO,e.lanes=o,e;case nO:return e=ca(13,r,t,i),e.elementType=nO,e.lanes=o,e;case iO:return e=ca(19,r,t,i),e.elementType=iO,e.lanes=o,e;case qH:return QE(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GH:s=10;break e;case HH:s=9;break e;case QF:s=11;break e;case XF:s=14;break e;case Kd:s=16,n=null;break e}throw Error($e(130,e==null?e:typeof e,""))}return t=ca(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Af(e,t,r,n){return e=ca(7,e,n,t),e.lanes=r,e}function QE(e,t,r,n){return e=ca(22,e,n,t),e.elementType=qH,e.lanes=r,e.stateNode={isHidden:!1},e}function kT(e,t,r){return e=ca(6,e,null,t),e.lanes=r,e}function PT(e,t,r){return t=ca(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gue(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dT(0),this.expirationTimes=dT(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dT(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function RN(e,t,r,n,i,o,s,a,l){return e=new gue(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ca(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gN(o),e}function vue(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ky,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function DW(e){if(!e)return Vp;e=e._reactInternals;e:{if(_m(e)!==e||e.tag!==1)throw Error($e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($e(171))}if(e.tag===1){var r=e.type;if(No(r))return Nq(e,r,t)}return t}function zW(e,t,r,n,i,o,s,a,l){return e=RN(r,n,!0,e,i,o,s,a,l),e.context=DW(null),r=e.current,n=co(),i=Mp(r),o=Mu(n,i),o.callback=t!=null?t:null,Ep(r,o,i),e.current.lanes=i,y_(e,i,n),Do(e,n),e}function XE(e,t,r,n){var i=t.current,o=co(),s=Mp(i);return r=DW(r),t.context===null?t.context=r:t.pendingContext=r,t=Mu(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ep(i,t,s),e!==null&&(wl(e,i,s,o),iC(e,i,s)),s}function n2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function e6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function AN(e,t){e6(e,t),(e=e.alternate)&&e6(e,t)}function bue(){return null}var VW=typeof reportError=="function"?reportError:function(e){console.error(e)};function FN(e){this._internalRoot=e}eI.prototype.render=FN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($e(409));XE(e,t,null,null)};eI.prototype.unmount=FN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;em(function(){XE(null,e,null,null)}),t[Lu]=null}};function eI(e){this._internalRoot=e}eI.prototype.unstable_scheduleHydration=function(e){if(e){var t=yq();e={blockedOn:null,target:e,priority:t};for(var r=0;r<sp.length&&t!==0&&t<sp[r].priority;r++);sp.splice(r,0,e),r===0&&vq(e)}};function NN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function t6(){}function wue(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=n2(s);o.call(c)}}var s=zW(t,n,e,0,null,!1,!1,"",t6);return e._reactRootContainer=s,e[Lu]=s.current,c1(e.nodeType===8?e.parentNode:e),em(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=n2(l);a.call(c)}}var l=RN(e,0,!1,null,null,!1,!1,"",t6);return e._reactRootContainer=l,e[Lu]=l.current,c1(e.nodeType===8?e.parentNode:e),em(function(){XE(t,l,r,n)}),l}function rI(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=n2(s);a.call(l)}}XE(t,s,e,i)}else s=wue(r,t,e,i,n);return n2(s)}fq=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lb(t.pendingLanes);r!==0&&(rN(t,r|1),Do(t,Sn()),(Qt&6)===0&&(Xg=Sn()+500,Yp()))}break;case 13:em(function(){var n=Ru(e,1);if(n!==null){var i=co();wl(n,e,1,i)}}),AN(e,1)}};nN=function(e){if(e.tag===13){var t=Ru(e,134217728);if(t!==null){var r=co();wl(t,e,134217728,r)}AN(e,134217728)}};mq=function(e){if(e.tag===13){var t=Mp(e),r=Ru(e,t);if(r!==null){var n=co();wl(r,e,t,n)}AN(e,t)}};yq=function(){return wr};gq=function(e,t){var r=wr;try{return wr=e,t()}finally{wr=r}};fO=function(e,t,r){switch(t){case"input":if(aO(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=qE(n);if(!i)throw Error($e(90));KH(n),aO(n,i)}}}break;case"textarea":ZH(e,r);break;case"select":t=r.value,t!=null&&wg(e,!!r.multiple,t,!1)}};nq=kN;iq=em;var _ue={usingClientEntryPoint:!1,Events:[v_,Xy,qE,tq,rq,kN]},$v={findFiberByHostInstance:mf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xue={bundleType:$v.bundleType,version:$v.version,rendererPackageName:$v.rendererPackageName,rendererConfig:$v.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aq(e),e===null?null:e.stateNode},findFiberByHostInstance:$v.findFiberByHostInstance||bue,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rx.isDisabled&&Rx.supportsFiber)try{BE=Rx.inject(xue),vc=Rx}catch{}}Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_ue;Ls.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NN(t))throw Error($e(200));return vue(e,t,null,r)};Ls.createRoot=function(e,t){if(!NN(e))throw Error($e(299));var r=!1,n="",i=VW;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=RN(e,1,!1,null,null,r,!1,n,i),e[Lu]=t.current,c1(e.nodeType===8?e.parentNode:e),new FN(t)};Ls.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=aq(t),e=e===null?null:e.stateNode,e};Ls.flushSync=function(e){return em(e)};Ls.hydrate=function(e,t,r){if(!tI(t))throw Error($e(200));return rI(null,e,t,!0,r)};Ls.hydrateRoot=function(e,t,r){if(!NN(e))throw Error($e(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=VW;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=zW(t,null,e,1,r!=null?r:null,i,!1,o,s),e[Lu]=t.current,c1(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new eI(t)};Ls.render=function(e,t,r){if(!tI(t))throw Error($e(200));return rI(null,e,t,!1,r)};Ls.unmountComponentAtNode=function(e){if(!tI(e))throw Error($e(40));return e._reactRootContainer?(em(function(){rI(null,null,e,!1,function(){e._reactRootContainer=null,e[Lu]=null})}),!0):!1};Ls.unstable_batchedUpdates=kN;Ls.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!tI(r))throw Error($e(200));if(e==null||e._reactInternals===void 0)throw Error($e(38));return rI(e,t,r,!1,n)};Ls.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=Ls})(bm);const Ax=jE(bm.exports);var r6=bm.exports;eO.createRoot=r6.createRoot,eO.hydrateRoot=r6.hydrateRoot;function u(e,t,r,n){var i,o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}const Sue="modulepreload",Cue=function(e,t){return new URL(e,t).href},n6={},ae=function(t,r,n){return!r||r.length===0?t():Promise.all(r.map(i=>{if(i=Cue(i,n),i in n6)return;n6[i]=!0;const o=i.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":Sue,o||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),o)return new Promise((l,c)=>{a.addEventListener("load",l),a.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};function $ue(e){return e&&e.release&&typeof e.release=="function"}function Eue(e){return e&&e.acquire&&typeof e.acquire=="function"}class El{constructor(t,r,n,i=1,o=0){if(this.ctor=t,this.acquireFunction=r,this.releaseFunction=n,this.allocationSize=i,this._pool=new Array(o),this._initialSize=o,this.ctor)for(let s=0;s<o;s++)this._pool[s]=new this.ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(El.test.disabled)r=new this.ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let i=0;i<n;i++)this._pool[i]=new this.ctor}r=this._pool.pop()}return this.acquireFunction?this.acquireFunction(r,...t):Eue(r)&&r.acquire(...t),r}release(t){t&&!El.test.disabled&&(this.releaseFunction?this.releaseFunction(t):$ue(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}}El.test={disabled:!1};function Iue(e){e.length=0}class oo{constructor(t=50,r=50){this._pool=new El(Array,void 0,Iue,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return OT.acquire()}static release(t){return OT.release(t)}static prune(){OT.prune()}}const OT=new oo(100);function eXe(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function tXe(e,t){for(const r of e)if(r!=null&&t(r))return r}function WO(e){return e!=null&&typeof e[Symbol.iterator]=="function"}const Mue=null;function G(e){return e!=null}function te(e){return e==null}function hc(e,t){return G(e)?t(e):Mue}function rXe(e){return e}function Tue(e,t){if(te(e))throw new Error(t);return e}function nI(e,t){return G(e)?e:typeof t=="function"?t():t}function nXe(e,t){return G(e)?e:t}function ko(e){return G(e)&&e.destroy(),null}function iXe(e){return G(e)&&e.dispose(),null}function zo(e){return G(e)&&e.remove(),null}function i2(e){return G(e)&&e.abort(),null}function oXe(e){return G(e)&&e.release(),null}function kue(e,t,r){return G(e)&&G(t)?G(r)?r(e,t):e.equals(t):e===t}function Pue(e){return null}function sXe(e,t){const r=new Array;for(const n of e)r.push(ub(n,null,t));return r}function aXe(e,t){for(const r of e)hc(r,t)}function ub(e,t,r){return G(e)?r(e):t}function lXe(e){return e.filter(t=>G(t))}function DN(e,...t){let r=e;for(let n=0;n<t.length&&r;++n)r=r[t[n]];return r}function cXe(e){return e}function iI(e){return O0(()=>e.forEach(t=>G(t)&&t.remove()))}function O0(e){return{remove:()=>{e&&(e(),e=void 0)}}}class dl{constructor(t=1){this._seed=t}set seed(t){this._seed=t==null?Math.random()*dl._m:t}getInt(){return this._seed=(dl._a*this._seed+dl._c)%dl._m,this._seed}getFloat(){return this.getInt()/(dl._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/dl._m*n}}dl._m=2147483647,dl._a=48271,dl._c=0;function Oue(e,t){return t?e.filter((r,n,i)=>i.findIndex(t.bind(null,r))===n):e.filter((r,n,i)=>i.indexOf(r)===n)}function zN(e,t,r){if(te(e)&&te(t))return!0;if(te(e)||te(t)||e.length!==t.length)return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function uXe(e,t){let r=e.length!==t.length;e.length=t.length;for(let n=0;n<t.length;++n)e[n]!==t[n]&&(e[n]=t[n],r=!0);return r}function dXe(e,t,r){let n,i;return r?(n=t.filter(o=>!e.some(s=>r(s,o))),i=e.filter(o=>!t.some(s=>r(s,o)))):(n=t.filter(o=>!e.includes(o)),i=e.filter(o=>!t.includes(o))),{added:n,removed:i}}function pXe(e){return e&&typeof e.length=="number"}const Lue=!!Array.prototype.fill;function hXe(e,t){if(Lue)return new Array(e).fill(t);const r=new Array(e);for(let n=0;n<e;n++)r[n]=t;return r}function fXe(e,t){t===void 0&&(t=e,e=0);const r=new Array(t-e);for(let n=e;n<t;n++)r[n-e]=n;return r}class jW{constructor(){this.last=0}}const BW=new jW;function UW(e,t,r,n){n=n||BW;const i=Math.max(0,n.last-10);for(let s=i;s<r;++s)if(e[s]===t)return n.last=s,s;const o=Math.min(i,r);for(let s=0;s<o;++s)if(e[s]===t)return n.last=s,s;return-1}function VN(e,t,r,n){const i=r==null?e.length:r,o=UW(e,t,i,n);if(o!==-1)return e[o]=e[i-1],r==null&&e.pop(),t}const Oa=new Set;function Rue(e,t,r=e.length,n=t.length,i,o){if(n===0||r===0)return r;Oa.clear();for(let a=0;a<n;++a)Oa.add(t[a]);i=i||BW;const s=Math.max(0,i.last-10);for(let a=s;a<r;++a)if(Oa.has(e[a])&&(o&&o.push(e[a]),Oa.delete(e[a]),e[a]=e[r-1],--r,--a,Oa.size===0||r===0))return Oa.clear(),r;for(let a=0;a<s;++a)if(Oa.has(e[a])&&(o&&o.push(e[a]),Oa.delete(e[a]),e[a]=e[r-1],--r,--a,Oa.size===0||r===0))return Oa.clear(),r;return Oa.clear(),r}new dl;function Aue(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}let pp;function oe(e){return typeof pp[e]=="function"?pp[e]=pp[e](globalThis):pp[e]}var CH,$H,EH,IH;pp=((CH=globalThis.dojoConfig)==null?void 0:CH.has)||(($H=globalThis.esriConfig)==null?void 0:$H.has)?{...(EH=globalThis.dojoConfig)==null?void 0:EH.has,...(IH=globalThis.esriConfig)==null?void 0:IH.has}:{},oe.add=(e,t,r,n)=>((n||pp[e]===void 0)&&(pp[e]=t),r&&oe(e)),oe.cache=pp,oe.add("esri-deprecation-warnings",!0),(()=>{var t;oe.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(oe.add("host-browser",e),oe.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),oe.add("dom",e),oe("host-browser")){const r=navigator,n=r.userAgent,i=r.appVersion,o=parseFloat(i);if(oe.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),oe.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),oe.add("khtml",i.includes("Konqueror")?o:void 0),oe.add("edge",parseFloat(n.split("Edge/")[1])||void 0),oe.add("opr",parseFloat(n.split("OPR/")[1])||void 0),oe.add("webkit",!oe("wp")&&!oe("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),oe.add("chrome",!oe("edge")&&!oe("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),oe.add("android",!oe("wp")&&parseFloat(n.split("Android ")[1])||void 0),oe.add("safari",!i.includes("Safari")||oe("wp")||oe("chrome")||oe("android")||oe("edge")||oe("opr")?void 0:parseFloat(i.split("Version/")[1])),oe.add("mac",i.includes("Macintosh")),!oe("wp")&&n.match(/(iPhone|iPod|iPad)/)){const s=RegExp.$1.replace(/P/,"p"),a=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",l=parseFloat(a.replace(/_/,".").replace(/_/g,""));oe.add(s,l),oe.add("ios",l)}oe.add("trident",parseFloat(i.split("Trident/")[1])||void 0),oe("webkit")||(!n.includes("Gecko")||oe("wp")||oe("khtml")||oe("trident")||oe("edge")||oe.add("mozilla",o),oe("mozilla")&&oe.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&oe.add("esri-mobile",t),r&&oe.add("esri-iPhone",r),oe.add("esri-geolocation",!!navigator.geolocation)}oe.add("esri-canvas-svg-support",!oe("trident")),oe.add("esri-wasm","WebAssembly"in globalThis),oe.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),oe.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),oe.add("esri-atomics","Atomics"in globalThis),oe.add("esri-workers","Worker"in globalThis),oe.add("web-feat:cache","caches"in globalThis),oe.add("esri-workers-arraybuffer-transfer",!oe("safari")||Number(oe("safari"))>=12),oe.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),oe.add("featurelayer-simplify-payload-size-factors",[1,1,4]),oe.add("featurelayer-snapshot-enabled",!0),oe.add("featurelayer-snapshot-point-min-threshold",8e4),oe.add("featurelayer-snapshot-point-max-threshold",4e5),oe.add("featurelayer-snapshot-point-coverage",.1),oe.add("featurelayer-advanced-symbols",!1),oe.add("featurelayer-pbf",!0),oe.add("featurelayer-pbf-statistics",!1),oe.add("feature-layers-workers",!0),oe.add("feature-polyline-generalization-factor",1),oe.add("mapview-transitions-duration",200),oe.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),oe.add("mapserver-pbf-enabled",!1),oe.add("mapimagelayer-popup-identify-max-tolerance",20),oe.add("heatmap-allow-raster-fallback",!0),oe.add("heatmap-force-raster",!1),oe("host-webworker")||oe("host-browser")&&(oe.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),oe.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{oe.add("esri-image-decode",!0,!0,!0)}).catch(()=>{oe.add("esri-image-decode",!1,!0,!0)})}return!1}),oe.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function mXe(e,t){if(e.forEach)e.forEach(t);else for(let r=0;r<e.length;r++)t(e[r],r,e)}function Fue(e,t,r){if(e.slice)return e.slice(t,r);t===void 0?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),r===void 0?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));const n=Math.max(0,r-t),i=new e.constructor(n);for(let o=0;o<n;o++)i[o]=e[t+o];return i}function yXe(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}function Nue(e){return e instanceof Int8Array||e&&e.constructor&&e.constructor.name==="Int8Array"}function Due(e){return e instanceof Uint8Array||e&&e.constructor&&e.constructor.name==="Uint8Array"}function zue(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&e.constructor.name==="Uint8ClampedArray"}function Vue(e){return e instanceof Int16Array||e&&e.constructor&&e.constructor.name==="Int16Array"}function jue(e){return e instanceof Uint16Array||e&&e.constructor&&e.constructor.name==="Uint16Array"}function Bue(e){return e instanceof Int32Array||e&&e.constructor&&e.constructor.name==="Int32Array"}function Uue(e){return e instanceof Uint32Array||e&&e.constructor&&e.constructor.name==="Uint32Array"}function Gue(e){return e instanceof Float32Array||e&&e.constructor&&e.constructor.name==="Float32Array"}function Hue(e){return e instanceof Float64Array||e&&e.constructor&&e.constructor.name==="Float64Array"}function GW(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&GW(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function X(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=KW(e);if(G(t))return t;if(HW(e))return e.clone();if(qW(e))return e.map(X);if(WW(e))return e.clone();const r={};for(const n of Object.getOwnPropertyNames(e))r[n]=X(e[n]);return r}function KO(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=KW(e);if(G(t))return t;if(qW(e)){let r=!0;const n=e.map(i=>{const o=KO(i);return i!=null&&o==null&&(r=!1),o});return r?n:null}if(HW(e))return e.clone();if(!WW(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const i=e[n],o=KO(i);if(i!=null&&o==null)return null;r[n]=o}return r}return null}function HW(e){return typeof e.clone=="function"}function qW(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function WW(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function i6(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function KW(e){if(Nue(e)||Due(e)||zue(e)||Vue(e)||jue(e)||Bue(e)||Uue(e)||Gue(e)||Hue(e))return Fue(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach((r,n)=>{t.set(n,X(r))}),t}if(e instanceof Set){const t=new Set;return e.forEach(r=>{t.add(X(r))}),t}return null}function jN(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&e.getTime()===t.getTime()||!1}function que(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&zN(e,t):e instanceof Set?t instanceof Set&&Kue(e,t):e instanceof Map?t instanceof Map&&Jue(e,t):!!i6(e)&&i6(t)&&Wue(e,t))}function Wue(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function Kue(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function Jue(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const i=t.get(r);if(i!==n||i===void 0&&!t.has(r))return!1}return!0}function Ui(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function Zue(e,t){return e!=null&&e.metadatas&&e.metadatas[t]!=null}function dC(e,t,r){return r?o2(e,t,{policy:r,path:""}):o2(e,t,null)}function o2(e,t,r){return t?Object.keys(t).reduce((n,i)=>{let o=null,s="merge";if(r&&(o=r.path?`${r.path}.${i}`:i,s=r.policy(o)),s==="replace")return n[i]=t[i],n;if(n[i]===void 0)return n[i]=X(t[i]),n;let a=n[i],l=t[i];if(a===l)return n;if(Array.isArray(l)||Array.isArray(n))a=a?Array.isArray(a)?n[i]=a.concat():n[i]=[a]:n[i]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach(c=>{a.includes(c)||a.push(c)}));else if(l&&typeof l=="object")if(r){const c=r.path;r.path=o,n[i]=o2(a,l,r),r.path=c}else n[i]=o2(a,l,null);else n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[i]=l);return n},e||{}):e}function JW(e){return Array.isArray(e)?e:e.split(".")}function o6(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function Yue(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...o6(r));return t}return o6(e)}function ZW(e,t,r,n){const i=Yue(t);if(i.length!==1){const o=i.map(s=>n(e,s,r));return iI(o)}return n(e,i[0],r)}function YW(e){let t=!1;return()=>{t||(t=!0,e())}}function QW(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.getItemAt(i)}const n=Ui(t);return Zue(n,r)?n.get(r):t[r]}function XW(e,t,r){if(e==null)return e;const n=QW(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:XW(n,t,r+1)}function w_(e,t,r=0){return typeof t!="string"||t.includes(".")?XW(e,JW(t),r):QW(t,e)}function s2(e,t){return w_(e,t)}function s6(e,t){return w_(t,e)!==void 0}var fc;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(fc||(fc={}));class a6{constructor(t){this.autoDestroy=!1,this.properties=t}}function __(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){const n=Object.create(t.properties),i=t.autoDestroy;for(const o in n)n[o]=X(n[o]);t=new a6(n),t.autoDestroy=i,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new a6({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function Que(e){return __(e).properties}function oI(e,t){const r=Que(e);let n=r[t];return n||(n=r[t]={}),n}function Xue(e,t){return dC(e,t,tde)}const ede=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function tde(e){return ede.test(e)?"replace":"merge"}function eK(e,t,r=!1){return rK(e,t,r)}function L0(e,t){if(t!=null)return t[e]||tK(e.split("."),!1,t)}function qo(e,t,r){const n=e.split("."),i=n.pop(),o=tK(n,!0,r);o&&i&&(o[i]=t)}function tK(e,t,r){let n=r;for(const i of e){if(n==null)return;if(!(i in n)){if(!t)return;n[i]={}}n=n[i]}return n}function rK(e,t,r){return t?Object.keys(t).reduce((n,i)=>{let o=n[i],s=t[i];return o===s?n:o===void 0?(n[i]=X(s),n):(Array.isArray(s)||Array.isArray(n)?(o=o?Array.isArray(o)?n[i]=o.concat():n[i]=[o]:n[i]=[],s&&(Array.isArray(s)||(s=[s]),r?s.forEach(a=>{o.includes(a)||o.push(a)}):n[i]=s.concat())):s&&typeof s=="object"?n[i]=rK(o,s,r):n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[i]=s),n)},e||{}):e}var MH;const qt={apiKey:void 0,applicationUrl:(MH=globalThis.location)==null?void 0:MH.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(eK(qt,globalThis.esriConfig,!0),delete qt.has),!qt.assetsPath){const e="4.24.7";qt.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}qt.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(qt,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),qt.request.corsEnabledServers=[],qt.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0};const rde=/\{([^\}]+)\}/g;function l6(e){return e==null?"":e}function Sc(e,t){return e.replace(rde,typeof t=="object"?(r,n)=>l6(L0(n,t)):(r,n)=>l6(t(n)))}function nK(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,r=>t&&t.includes(r)?r:`\\${r}`)}function BN(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function gXe(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}const c6={info:0,warn:1,error:2,none:3};class Ce{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Ce._loggers[this.module]=this;const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=Ce.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const r=Ce._loggers;return Ce._loggers=t,r},set throttlingDisabled(t){Ce._throttlingDisabled=t}}}static getLogger(t){let r=Ce._loggers[t];return r||(r=new Ce({module:t})),r}_log(t,r,...n){if(!!this._matchLevel(t)){if(r!=="always"&&!Ce._throttlingDisabled){const i=this._argsToKey(n),o=this._loggedMessages[t].get(i);if(r==="once"&&o!=null||r==="oncePerTick"&&o&&o>=Ce._tickCounter)return;this._loggedMessages[t].set(i,Ce._tickCounter),Ce._scheduleTickCounterIncrement()}for(const i of qt.log.interceptors)if(i(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,r){let n=this;for(;G(n);){const i=n[t];if(G(i))return i;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...n){console[t](`[${r}]`,...n)}_matchLevel(t){const r=qt.log.level?qt.log.level:"warn";return c6[this._parentWithMember("level",r)]<=c6[t]}_argsToKey(...t){const r=(n,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]";return BN(JSON.stringify(t,r))}static _scheduleTickCounterIncrement(){Ce._tickCounterScheduled||(Ce._tickCounterScheduled=!0,Promise.resolve().then(()=>{Ce._tickCounter++,Ce._tickCounterScheduled=!1}))}}Ce._loggers={},Ce._tickCounter=0,Ce._tickCounterScheduled=!1,Ce._throttlingDisabled=!1;var ht;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.USER=6]="USER"})(ht||(ht={}));const JO=ht.USER+1;function hp(e){switch(e){case"defaults":return ht.DEFAULTS;case"service":return ht.SERVICE;case"portal-item":return ht.PORTAL_ITEM;case"web-scene":return ht.WEB_SCENE;case"web-map":return ht.WEB_MAP;case"user":return ht.USER}}function a2(e){switch(e){case ht.DEFAULTS:return"defaults";case ht.SERVICE:return"service";case ht.PORTAL_ITEM:return"portal-item";case ht.WEB_SCENE:return"web-scene";case ht.WEB_MAP:return"web-map";case ht.USER:return"user"}return void 0}function nde(e){return a2(e)}var cr;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(cr||(cr={}));let l2,db=[];const ide=Ce.getLogger("esri.core.Accessor");function bt(e){l2!==void 0&&l2.onObservableAccessed(e)}let pC=!1,hC=!1;function Fu(e,t,r){if(pC)return UN(e,t,r);iK(e);const n=t.call(r);return oK(),n}function ode(e,t){return Fu(void 0,e,t)}function UN(e,t,r){const n=pC;pC=!0,iK(e);let i=null;try{i=t.call(r)}catch(o){hC&&ide.error(o)}return oK(),pC=n,i}function iK(e){l2=e,db.push(e)}function oK(){const e=db.pop();l2=db.length>0?db[db.length-1]:void 0,e!==void 0&&e.onTrackingEnd()}function sK(e,t){if(t.flags&cr.DepTrackingInitialized)return;const r=hC;hC=!1,t.flags&cr.AutoTracked?UN(t,t.metadata.get,e):aK(e,t),hC=r}const sde=[];function aK(e,t){t.flags&cr.ExplicitlyTracking||(t.flags|=cr.ExplicitlyTracking,UN(t,()=>{const r=t.metadata.dependsOn||sde;for(const n of r)if(typeof n!="string"||n.includes(".")){const i=JW(n);for(let o=0,s=e;o<i.length&&s!=null&&typeof s=="object";++o)s=u6(s,i[o],o!==i.length-1)}else u6(e,n,!1)}),t.flags&=~cr.ExplicitlyTracking)}function u6(e,t,r){var o;const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(n,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.getItemAt(s)}const i=(o=Ui(e))==null?void 0:o.properties.get(n);return i&&(bt(i),sK(e,i)),r?e[n]:void 0}class lK{constructor(t,r){this._observers=t,this._observer=r}remove(){Aue(this._observers,this._observer)}}class d6{constructor(t,r,n){this.properties=t,this.propertyName=r,this.metadata=n,this._observers=null,this._accessed=null,this._handles=null,this.flags=cr.Dirty|(n.nonNullable?cr.NonNullable:0)|(n.hasOwnProperty("value")?cr.HasDefaultValue:0)|(n.get===void 0?cr.DepTrackingInitialized:0)|(n.dependsOn===void 0?cr.AutoTracked:0)}destroy(){if(this.flags&cr.Dirty&&this._observers){const t=this._observers.slice();for(const r of t)r.onCommitted()}this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){bt(this);const t=this.properties.store,r=this.propertyName,n=this.flags,i=t.get(r);if(n&cr.Computing||~n&cr.Dirty&&t.has(r))return i;this.flags|=cr.Computing;const o=this.properties.host;let s;n&cr.AutoTracked?s=Fu(this,this.metadata.get,o):(aK(o,this),s=this.metadata.get.call(o)),t.set(r,s,ht.COMPUTED);const a=t.get(r);return a===i?this.flags&=~cr.Dirty:ode(this.commit,this),this.flags&=~cr.Computing,a}onObservableAccessed(t){t!==this&&(this._accessed===null&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=cr.DepTrackingInitialized;const t=this._accessed;if(t===null)return;let r=this._handles;r===null&&(r=this._handles=[]);for(let n=0;n<t.length;++n)r.push(t[n].observe(this));t.length=0}observe(t){return this._observers===null&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new lK(this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&cr.Overriden&&(this.flags|=cr.Dirty);const t=this._observers;if(t!==null)for(let r=0;r<t.length;++r)t[r].onInvalidated()}commit(){this.flags&=~cr.Dirty,this.onCommitted()}onCommitted(){if(this._observers===null)return;const t=this._observers.slice();for(let r=0;r<t.length;++r)t[r].onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}}class GN{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new GN;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,X(n))}),r}get(t){return this._values.get(t)}originOf(){return ht.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function Fx(e,t,r){return e!==void 0}function p6(e,t,r,n){return e!==void 0&&(!(r==null&&e.flags&cr.NonNullable)||(n.lifecycle,fc.INITIALIZING,!1))}function ade(e){return e&&typeof e.destroy=="function"}Ce.getLogger("esri.core.accessorSupport.Properties");class lde{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=fc.INITIALIZING,this.store=new GN,this._origin=ht.USER;const r=this.host.constructor.__accessorMetadata__,n=r.properties;for(const i in n){const o=new d6(this,i,n[i]);this.properties.set(i,o)}this.metadatas=n,this._autoDestroy=r.autoDestroy}initialize(){this.lifecycle=fc.CONSTRUCTING}constructed(){this.lifecycle=fc.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,r]of this.properties){const n=this.internalGet(t);n&&ade(n)&&(n.destroy(),~r.flags&cr.NonNullable&&this._internalSet(r,null)),r.destroy()}else for(const[t,r]of this.properties)r.destroy()}get initialized(){return this.lifecycle!==fc.INITIALIZING}get(t){const r=this.properties.get(t);if(r.metadata.get)return r.getComputed();bt(r);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.properties.get(t);if(n!==void 0&&n.flags&cr.HasDefaultValue)return"defaults"}return a2(r)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const r=this.properties.get(t);if(Fx(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.properties.get(t);Fx(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const i=this.properties.get(r);if(!Fx(i))return"";const o=new Set,s=Fu({onObservableAccessed:l=>o.add(l),onTrackingEnd:()=>{}},()=>{var l;return(l=i.metadata.get)==null?void 0:l.call(t)});let a=`${n}${t.declaredClass.split(".").pop()}.${r}: ${s}
`;if(o.size===0)return a;n+="  ";for(const l of o){if(!(l instanceof d6))continue;const c=l.properties.host,d=l.propertyName,p=Ui(c);a+=p?p.getDependsInfo(c,d,n):`${n}${d}: undefined
`}return a}setAtOrigin(t,r,n){const i=this.properties.get(t);if(Fx(i))return this._setAtOrigin(i,r,n)}isOverridden(t){const r=this.properties.get(t);return r!==void 0&&!!(r.flags&cr.Overriden)}clearOverride(t){const r=this.properties.get(t);r!==void 0&&r.flags&cr.Overriden&&(r.flags&=~cr.Overriden,r.notifyChange())}override(t,r){const n=this.properties.get(t);if(!p6(n,t,r,this))return;const i=n.metadata.cast;if(i){const o=this._cast(i,r),{valid:s,value:a}=o;if(LT.release(o),!s)return;r=a}n.flags|=cr.Overriden,this._internalSet(n,r)}set(t,r){const n=this.properties.get(t);if(!p6(n,t,r,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,r),{valid:a,value:l}=s;if(LT.release(s),!a)return;r=l}const o=n.metadata.set;o?o.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=hp(t)}getDefaultOrigin(){return a2(this._origin)}notifyChange(t){const r=this.properties.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.properties.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.properties.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==fc.INITIALIZING?this._origin:ht.DEFAULTS;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const i=this.store,o=t.propertyName;i.has(o,n)&&jN(r,i.get(o))&&~t.flags&cr.Overriden&&n===i.originOf(o)||(t.invalidate(),i.set(o,r,n),t.commit(),sK(this.host,t))}_cast(t,r){const n=LT.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}}class cde{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const LT=new El(cde);function ude(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(r,n)=>{if(n==="")return"$";const i=L0(n,t),o=i==null?"":i;if(o===void 0)throw new Error(`could not find key "${n}" in template`);return o.toString()})}class sI{constructor(t,r,n){this.name=t,this.details=n,this.message=void 0,this instanceof sI&&(this.message=r&&ude(r,n)||"")}toString(){return"["+this.name+"]: "+this.message}}class Z extends sI{constructor(t,r,n){if(super(t,r,n),!(this instanceof Z))return new Z(t,r,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return X(r)}catch{return"[object]"}}))}}catch(t){throw Ce.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new Z(t.name,t.message,t.details)}}Z.prototype.type="error";function c2(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))c2(e,n,t[n]);else{if(t.includes(".")){const i=t.split("."),o=i.splice(i.length-1,1)[0];return void c2(s2(e,i),o,r)}const n=e.__accessor__;n!=null&&dde(t,n),e[t]=r}}function dde(e,t){if(oe("esri-unknown-property-errors")&&!pde(e,t))throw new Z("set:unknown-property",hde(e,t))}function pde(e,t){return t.metadatas[e]!=null}function hde(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}Ce.getLogger("esri.core.accessorSupport.set");class cK extends El{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=Pue(this._set)}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}const Nx=[];function u2(e){Nx.push(e),Nx.length===1&&queueMicrotask(()=>{const t=Nx.slice();Nx.length=0;for(const r of t)r()})}const fde=29;class _w{constructor(t,r=fde){this.name=t,this._counter=0,this._items=new Array(r)}record(t){this._items[++this._counter%this._items.length]=t}get median(){return this._items.slice().sort((t,r)=>t-r)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((t,r)=>t+r,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}var ZO;(function(e){const t=(o,s,a,l)=>{let c=s,d=s;const p=a>>>1,f=o[c-1];for(;d<=p;){d=c<<1,d<a&&l(o[d-1],o[d])<0&&++d;const y=o[d-1];if(l(y,f)<=0)break;o[c-1]=y,c=d}o[c-1]=f},r=(o,s)=>o<s?-1:o>s?1:0;function n(o,s,a,l){s===void 0&&(s=0),a===void 0&&(a=o.length),l===void 0&&(l=r);for(let d=a>>>1;d>s;d--)t(o,d,a,l);const c=s+1;for(let d=a-1;d>s;d--){const p=o[s];o[s]=o[d],o[d]=p,t(o,c,d,l)}}function*i(o,s,a,l){s===void 0&&(s=0),a===void 0&&(a=o.length),l===void 0&&(l=r);for(let d=a>>>1;d>s;d--)t(o,d,a,l),yield;const c=s+1;for(let d=a-1;d>s;d--){const p=o[s];o[s]=o[d],o[d]=p,t(o,c,d,l),yield}}e.sort=n,e.iterableSort=i})(ZO||(ZO={}));const h6=ZO,mde=1.5,yde=1.1;class Ff{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new jW,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>f6(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&r.push(i)}return r}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,f6(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=UW(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){const r=VN(this.data,t,this.length,this._hint);return r!==void 0&&(this.length=this.length-1),this._shrink(),r}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=Rue(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){t>=this.length||r>=this.length||t===r||([this.data[t],this.data[r]]=[this.data[r],this.data[t]])}sort(t){h6.sort(this.data,0,this.length,t)}iterableSort(t){return h6.iterableSort(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}filterInPlace(t,r){let n=0;for(let i=0;i<this._length;++i){const o=this.data[i];t.call(r,o,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=o,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,r){const n=this.length,i=this.data;for(let o=0;o<n;++o)t.call(r,i[o],o,i)}forEach(t,r){for(let n=0;n<this.length;++n)t.call(r,this.data[n],n,this.data)}map(t,r){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(r,this.data[i],i,this.data);return n}reduce(t,r){let n=r;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const r=this.length,n=this.data;for(let i=0;i<r;++i)if(n[i]===t)return!0;return!1}}function f6(e){e.data.length>mde*e.length&&(e.data.length=Math.floor(e.length*yde))}function gde(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return{remove:()=>e.clearTimeout(n)}}}}const x_=gde(globalThis),m6=new Set;function vde(e,t,r=!1){r&&m6.has(t)||(r&&m6.add(t),e.warn(`\u{1F6D1} DEPRECATED - ${t}`))}function bde(e,t,r={}){if(oe("esri-deprecation-warnings")){const{moduleName:n}=r;uK(e,`Property: ${(n?n+"::":"")+t}`,r)}}function uK(e,t,r={}){if(oe("esri-deprecation-warnings")){const{replacement:n,version:i,see:o,warnOnce:s}=r;let a=t;n&&(a+=`
	\u{1F6E0}\uFE0F Replacement: ${n}`),i&&(a+=`
	\u2699\uFE0F Version: ${i}`),o&&(a+=`
	\u{1F517} See ${o} for more details.`),vde(e,a,s)}}function aI(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function lI(e,t,r){if(!aI(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const n=t.slice();for(const i of n)e.addEventListener(i,r);return{remove(){for(const i of n)e.removeEventListener(i,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function dK(e,t,r){if(!aI(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=lI(e,t,i=>{n.remove(),r.call(e,i)});return{remove(){n.remove()}}}const wde={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function tf({key:e}){return wde[e]||e}function Zr(e="Aborted"){return new Z("AbortError",e)}function Ar(e,t="Aborted"){if(Il(e))throw Zr(t)}function cI(e){return G(e)?"aborted"in e?e:e.signal:e}function Il(e){const t=cI(e);return G(t)&&t.aborted}function S_(e){if(Gi(e))throw e}function YO(e){if(!Gi(e))throw e}function wa(e,t){const r=cI(e);if(!te(r)){if(!r.aborted)return dK(r,"abort",()=>t());t()}}function HN(e,t){const r=cI(e);if(!te(r))return Ar(r),dK(r,"abort",()=>t(Zr()))}function _de(e,t){const r=cI(t);return te(r)?e:new Promise((n,i)=>{let o=wa(t,()=>i(Zr()));const s=()=>o=zo(o);e.then(s,s),e.then(n,i)})}function Gi(e){return e&&e.name==="AbortError"}async function QO(e){try{return await e}catch(t){if(!Gi(t))throw t}}function Nu(){let e=null;const t=new Promise((r,n)=>{e={promise:void 0,resolve:r,reject:n}});return e.promise=t,e}async function yn(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(s=>e[s]),i=await yn(n),o={};return r.map((s,a)=>o[s]=i[a]),o}const t=e;return new Promise(r=>{const n=[];let i=t.length;i===0&&r(n),t.forEach(o=>{const s={promise:o||Promise.resolve(o)};n.push(s),s.promise.then(a=>{s.value=a}).catch(a=>{s.error=a}).then(()=>{--i,i===0&&r(n)})})})}async function xde(e){return(await yn(e)).filter(t=>!!t.value).map(t=>t.value)}function qN(e,t,r){const n=new AbortController;return wa(r,()=>n.abort()),new Promise((i,o)=>{let s=setTimeout(()=>{s=0,i(t)},e);wa(n,()=>{s&&(clearTimeout(s),o(Zr()))})})}function Wu(e){return e&&typeof e.then=="function"}function XO(e){return Wu(e)?e:Promise.resolve(e)}function uI(e,t=-1){let r,n,i,o,s=null;const a=(...l)=>{if(r){n=l,o&&o.reject(Zr()),o=Nu();const f=o.promise;if(s){const y=s;s=null,y.abort()}return f}if(i=o||Nu(),o=null,t>0){const f=new AbortController;r=XO(e(...l,f.signal));const y=r;qN(t).then(()=>{r===y&&(o?f.abort():s=f)})}else r=1,r=XO(e(...l));const c=()=>{const f=n;n=i=r=s=null,f!=null&&a(...f)},d=r,p=i;return d.then(c,c),d.then(p.resolve,p.reject),p.promise};return a}function pK(){let e,t;const r=new Promise((i,o)=>{e=i,t=o}),n=i=>{e(i)};return n.resolve=i=>e(i),n.reject=i=>t(i),n.timeout=(i,o)=>x_.setTimeout(()=>n.reject(o),i),n.promise=r,n}function hK(e,t){let r,n=new AbortController;const i=e(n.signal);let o={promise:i,finished:!1,abort:()=>{n&&(n.abort(),n=null)}};const s=()=>{o&&(o.finished=!0,o=null),G(r)&&(r.remove(),r=null),n=null};return i.then(s,s),r=wa(t,()=>{G(o)&&o.abort()}),o}async function y6(e){await Promise.resolve(),Ar(e)}function vXe(e){return e}class Sde{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}}class Cde{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let eL=0;const Ev={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},tL=["prepare","preRender","render","postRender","update","finish"],rL=[],tm=new Ff;class $de{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const d2={frameTasks:tm,willDispatch:!1,clearFrameTasks:Ede,dispatch:yK,executeFrameTasks:Ide};function R0(e){const t=new Cde(e);return rL.push(t),d2.willDispatch||(d2.willDispatch=!0,u2(yK)),t}function e0(e){const t=new Sde(e);return tm.push(t),p2==null&&(eL=performance.now(),p2=requestAnimationFrame(fK)),new $de(t)}let p2=null;function Ede(e=!1){tm.forAll(t=>{t.removed=!0}),e&&mK()}function fK(){const e=performance.now();p2=null,p2=tm.length>0?requestAnimationFrame(fK):null,d2.executeFrameTasks(e)}function Ide(e){const t=e-eL;eL=e;const r=1e3/60,n=Math.max(0,t-r);for(let i=0;i<tL.length;i++){const o=performance.now(),s=tL[i];tm.forAll(a=>{var l;a.paused||a.removed||(i===0&&a.ticks++,a.phases[s]&&(Ev.time=e,Ev.deltaTime=a.ticks===0?0:t,Ev.elapsedFrameTime=performance.now()-e,Ev.frameDuration=r-n,(l=a.phases[s])==null||l.call(a,Ev)))}),Mde[i].record(performance.now()-o)}mK(),Tde.record(performance.now()-e)}const Dx=new Ff;function mK(){tm.forAll(e=>{e.removed&&Dx.push(e)}),tm.removeUnorderedMany(Dx.data,Dx.length),Dx.clear()}function yK(){for(;rL.length;){const e=rL.shift();e.isActive&&e.callback()}d2.willDispatch=!1}function bXe(e=1,t){const r=pK(),n=()=>{Il(t)?r.reject(Zr()):e===0?r():(--e,u2(()=>n()))};return n(),r.promise}const Mde=tL.map(e=>new _w(e)),Tde=new _w("total");function kde(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}let Pde=0;function xw(){return++Pde}class dI{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}onObservableAccessed(t){this._accessed.includes(t)||this._accessed.push(t)}onTrackingEnd(){const t=this._handles,r=this._accessed;for(let n=0;n<r.length;++n)t.push(r[n].observe(this));r.length=0}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}let Eg=!1;const h2=[];function gK(e,t){let r=new dI(o),n=null,i=!1;function o(){if(!r||i)return;if(Eg)return void wK(o);const a=n;r.clear(),Eg=!0,i=!0,n=Fu(r,e),i=!1,Eg=!1,t(n,a),_K()}function s(){r&&(r.destroy(),r=null,n=null)}return i=!0,n=Fu(r,e),i=!1,{remove:s}}function vK(e,t){let r=new dI(i),n=null;function i(){t(n,s)}function o(){r&&(r.destroy(),r=null),n=null}function s(){return r?(r.clear(),n=Fu(r,e),n):null}return s(),{remove:o}}function bK(e){let t=new dI(n),r=!1;function n(){t&&!r&&(Eg?wK(n):(t.clear(),Eg=!0,r=!0,Fu(t,e),r=!1,Eg=!1,_K()))}function i(){t&&(t.destroy(),t=null)}return r=!0,Fu(t,e),r=!1,{remove:i}}function wK(e){h2.includes(e)||h2.unshift(e)}function _K(){for(;h2.length;)h2.pop()()}var Sw;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Sw||(Sw={}));class v1{constructor(){this.uid=xw(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,i,o){return this.pool.acquire(Sw.Untracked,t,r,n,i,o,jN)}static acquireTracked(t,r,n,i){return this.pool.acquire(Sw.Tracked,t,r,n,null,null,i)}notify(t,r){this.type===Sw.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r)}acquire(t,r,n,i,o,s,a){this.uid=xw(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=i,this.target=o,this.path=s,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=xw(),this.removed=!0}}v1.pool=new cK(v1);const fC=new oo,Tu=new Set;let f2;function m2(e){Tu.delete(e),Tu.add(e),f2||(f2=R0(Rde))}function Ode(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function Lde(e){for(const t of Tu.values())t.target===e&&(t.removed=!0)}function Rde(){let e=10;for(;f2&&e--;){f2=null;const t=Ade(),r=fC.acquire();for(const n of t){const i=n.uid;Ode(n),i===n.uid&&n.removed&&r.push(n)}for(const n of Tu)n.removed&&(r.push(n),Tu.delete(n));for(const n of r)v1.pool.release(n);fC.release(r),fC.release(t),nL.forEach(n=>n())}}function Ade(){const e=fC.acquire();e.length=Tu.size;let t=0;for(const r of Tu)e[t]=r,++t;return Tu.clear(),e}const nL=new Set;function Fde(e){return nL.add(e),{remove(){nL.delete(e)}}}function Nde(e,t,r){let n=ZW(e,t,r,(i,o,s)=>{let a,l,c=vK(()=>w_(i,o),(d,p)=>{i.__accessor__.destroyed||a&&a.uid!==l?n.remove():(a||(a=v1.acquireUntracked(d,s,p,i,o),l=a.uid),m2(a))});return{remove:YW(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,m2(a)),a=null),n=c=null})}});return n}function Dde(e,t,r){const n=ZW(e,t,r,(i,o,s)=>{let a=!1;return gK(()=>w_(i,o),(l,c)=>{i.__accessor__.destroyed?n.remove():a||(a=!0,jN(c,l)||s.call(i,l,c,o,i),a=!1)})});return n}function zde(e,t,r,n=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:n?Dde(e,t,r):Nde(e,t,r)}function Vde(e,t,r){let n,i,o=vK(e,(s,a)=>{n&&n.uid!==i?o.remove():(n||(n=v1.acquireTracked(s,t,a,r),i=n.uid),m2(n))});return{remove:YW(()=>{o.remove(),n&&(n.uid!==i||n.removed||(n.removed=!0,m2(n)),n=null),o=null})}}function jde(e,t,r){let n=!1;return gK(e,(i,o)=>{n||(n=!0,r(o,i)||t(i,o),n=!1)})}function Bde(e,t,r=!1,n=que){return r?jde(e,t,n):Vde(e,t,n)}function g6(e){return kde(Tu,t=>t.oldValue===e)}function pI(e,t){for(const[r,n]of e)if(t(n,r))return!0;return!1}function xK(e,t,r){const n=e.get(t);if(n!==void 0)return n;const i=r();return e.set(t,i),i}const Ig=Ce.getLogger("esri.core.Accessor");function Ude(e){return e==null?e:new Date(e)}function Gde(e){return e==null?e:!!e}function C_(e){return e==null?e:e.toString()}function sa(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function WN(e){return e==null?e:Math.round(parseFloat(e))}function SK(e){return e&&e.constructor&&e.constructor.__accessorMetadata__!==void 0}function y2(e,t){return t!=null&&e&&!(t instanceof e)}function CK(e){return e&&"isCollection"in e}function v6(e){return e&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Hde(e,t){if(!t||!t.constructor||!CK(t.constructor))return iL(e,t)?t:new e(t);const r=v6(e.prototype.itemType),n=v6(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(iL(e,t),t):new e(t):t}function iL(e,t){return!!SK(t)&&(Ig.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+hI(e)+"'"),!0)}function KN(e,t){return t==null?t:CK(e)?Hde(e,t):y2(e,t)?iL(e,t)?t:new e(t):t}function hI(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const qde=new WeakMap;function Wde(e){switch(e){case Number:return sa;case Ir:return WN;case Boolean:return Gde;case String:return C_;case Date:return Ude;default:return xK(qde,e,()=>KN.bind(null,e))}}function $n(e,t){const r=Wde(e);return arguments.length===1?r:r(t)}function b1(e,t,r){return arguments.length===1?b1.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function Kde(e,t){return arguments.length===1?b1($n.bind(null,e)):b1($n.bind(null,e),t)}function $K(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>$K(e,t-1,n)):e(r)}function g2(e,t,r){if(arguments.length===2)return g2.bind(null,e,t);if(!r)return r;let n=t,i=r=$K(e,t,r);for(;n>0&&Array.isArray(i);)n--,i=i[0];if(i!==void 0)for(let o=0;o<n;o++)r=[r];return r}function Jde(e,t,r){return arguments.length===2?g2($n.bind(null,e),t):g2($n.bind(null,e),t,r)}function EK(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function oL(e,t){if(arguments.length===2)return oL(e).call(null,t);const r=new Set,n=e.filter(a=>typeof a!="function"),i=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let o=null,s=null;return(a,l)=>{if(a==null)return a;const c=typeof a,d=c==="string"||c==="number";return d&&(r.has(a)||i.some(p=>c==="string"&&p===String||c==="number"&&p===Number))||c==="object"&&i.some(p=>!y2(a,p))?a:(d&&n.length?(o||(o=n.map(p=>typeof p=="string"?`'${p}'`:`${p}`).join(", ")),Ig.error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${o}`)):typeof a=="object"&&i.length?(s||(s=i.map(p=>hI(p)).join(", ")),Ig.error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${s}`)):Ig.error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Cc(e,t){if(arguments.length===2)return Cc(e).call(null,t);const r={},n=[],i=[];for(const l in e.typeMap){const c=e.typeMap[l];r[l]=$n(c),n.push(hI(c)),i.push(l)}const o=()=>`'${n.join("', '")}'`,s=()=>`'${i.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!y2(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,d=r[c];if(!d)return Ig.error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${s()})`),null;if(!y2(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!SK(l)){const p={};for(const f in l)f!==e.key&&(p[f]=l[f]);return d(p)}return d(l)}}class Ir{}const wXe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Zde(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function IK(e){switch(e.type){case"native":return $n(e.value);case"array":return b1(IK(e.value));case"one-of":return Yde(e);default:return null}}function Yde(e){let t=null;return(r,n)=>aL(r,e)?r:(t==null&&(t=sL(e)),Ig.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function sL(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Ir:return"integer";case Date:return"date";default:return hI(e.value)}case"array":return`array of ${sL(e.value)}`;case"one-of":{const t=e.values.map(r=>sL(r));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function aL(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Ir:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!aL(r,t.value));case"one-of":return t.values.some(r=>aL(e,r))}}function h(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),i=oI(t,r);n&&(n.get||n.set?(i.get=n.get||i.get,i.set=n.set||i.set):"value"in n&&("value"in e&&Ce.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=n.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const o=e.aliasOf;if(o){const l=typeof o=="string"?o:o.source,c=typeof o=="string"?null:o.overridable===!0;let d;i.dependsOn=[l],i.get=function(){let p=s2(this,l);if(typeof p=="function"){d||(d=l.split(".").slice(0,-1).join("."));const f=s2(this,d);f&&(p=p.bind(f))}return p},i.readOnly||(i.set=c?function(p){p!==void 0?this._override(r,p):this._clearOverride(r)}:function(p){c2(this,l,p)})}const s=e.type,a=e.types;i.cast||(s?i.cast=Qde(s):a&&(Array.isArray(a)?i.cast=b1(Cc(a[0])):i.cast=Cc(a))),e.range&&(i.cast=Xde(i.cast,e.range)),Xue(i,e)}}function MK(e,t,r){const n=oI(e,r);n.json||(n.json={});let i=n.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function Qde(e){let t=0,r=e;if(Zde(e))return IK(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(EK(n))return t===0?oL(n):g2(oL(n),t);if(t===1)return Kde(n);if(t>1)return Jde(n,t);const i=e;return i.from?i.from:$n(i)}function Xde(e,t){return r=>{let n=+e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function epe(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const i=t[n];r[n].forEach(o=>{t[o]=i}),delete t[n]}}}class ho extends sI{constructor(t,r,n){if(super(t,r,n),!(this instanceof ho))return new ho(t,r,n)}}ho.prototype.type="warning";function TK(e){return!!e&&e.prototype&&e.prototype.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const lL=Ce.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function b6(e,t,r){var n,i;e&&(!r&&!t.read||((n=t.read)==null?void 0:n.reader)||((i=t.read)==null?void 0:i.enabled)===!1||npe(e)&&qo("read.reader",A0(e),t))}function A0(e){var r,n,i;const t=(r=e.ndimArray)!=null?r:0;if(t>1)return rpe(e);if(t===1)return w6(e);if("type"in e&&PK(e.type)){const o=(i=(n=e.type.prototype)==null?void 0:n.itemType)==null?void 0:i.Type,s=w6(typeof o=="function"?{type:o}:{types:o});return(a,l,c)=>{const d=s(a,l,c);return d&&new e.type(d)}}return JN(e)}function JN(e){return"type"in e?tpe(e.type):ipe(e.types)}function tpe(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void lL.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const o=new e;return o.read(t,n),o}:e.fromJSON}function kK(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(i=>kK(e,i,r,n-1)):e(t,void 0,r)}function rpe(e){var i;const t=JN(e),r=kK.bind(null,t),n=(i=e.ndimArray)!=null?i:0;return(o,s,a)=>{if(o==null)return o;o=r(o,a,n);let l=n,c=o;for(;l>0&&Array.isArray(c);)l--,c=c[0];if(c!==void 0)for(let d=0;d<l;d++)o=[o];return o}}function w6(e){const t=JN(e);return(r,n,i)=>{if(r==null)return r;if(Array.isArray(r)){const s=[];for(const a of r){const l=t(a,void 0,i);l!==void 0&&s.push(l)}return s}const o=t(r,void 0,i);return o!==void 0?[o]:void 0}}function PK(e){if(!TK(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?ZN(t.Type):OK(t.Type))}function npe(e){return"types"in e?OK(e.types):ZN(e.type)}function ZN(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||PK(e))}function OK(e){for(const t in e.typeMap)if(!ZN(e.typeMap[t]))return!1;return!0}function ipe(e){var n;let t=null;const r=(n=e.errorContext)!=null?n:"type";return(i,o,s)=>{if(i==null)return i;const a=typeof i;if(a!=="object")return void lL.error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=ope(e));const l=e.key;if(typeof l!="string")return;const c=i[l],d=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const f=`Type '${c||"unknown"}' is not supported`;return s&&s.messages&&i&&s.messages.push(new ho(`${r}:unsupported`,f,{definition:i,context:s})),void lL.error(f)}const p=new d;return p.read(i,s),p}}function ope(e){var r,n;const t={};for(const i in e.typeMap){const o=e.typeMap[i],s=__(o.prototype);if(typeof e.key=="function")continue;const a=s.properties[e.key];if(!a)continue;((r=a.json)==null?void 0:r.type)&&Array.isArray(a.json.type)&&a.json.type.length===1&&typeof a.json.type[0]=="string"&&(t[a.json.type[0]]=o);const l=(n=a.json)==null?void 0:n.write;if(!l||!l.writer){t[i]=o;continue}const c=l.target,d=typeof c=="string"?c:e.key,p={};l.writer(i,p,d),p[d]&&(t[p[d]]=o)}return t}function spe(e){if(e.json||(e.json={}),x6(e.json),S6(e.json),_6(e.json),e.json.origins)for(const t in e.json.origins)x6(e.json.origins[t]),S6(e.json.origins[t]),_6(e.json.origins[t]);return!0}function _6(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function x6(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function S6(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}const ape=Ce.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function C6(e,t){var n;if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=(n=e==null?void 0:e.ndimArray)!=null?n:0;e&&(r===1||"type"in e&&TK(e.type))?t.write.writer=upe:r>1?t.write.writer=dpe(r):t.types?Array.isArray(t.types)?t.write.writer=cpe(t.types[0]):t.write.writer=lpe(t.types):t.write.writer=w1}function lpe(e){return(t,r,n,i)=>t?LK(t,e,i)?w1(t,r,n,i):void 0:w1(t,r,n,i)}function LK(e,t,r){var n,i;for(const o in t.typeMap)if(e instanceof t.typeMap[o])return!0;if(r!=null&&r.messages){const o=(n=t.errorContext)!=null?n:"type",s=`Values of type '${(i=typeof t.key!="function"?e[t.key]:e.declaredClass)!=null?i:"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new Z(`${o}:unsupported`,s,{definition:e,context:r})),ape.error(s)}return!1}function cpe(e){return(t,r,n,i)=>!t||!Array.isArray(t)?w1(t,r,n,i):w1(t.filter(o=>LK(o,e,i)),r,n,i)}function w1(e,t,r,n){qo(r,v2(e,n),t)}function v2(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?b2(e):e}function b2(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function upe(e,t,r,n){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(o=>v2(o,n)),typeof i.toArray=="function"&&(i=i.toArray())):i=[v2(e,n)],qo(r,i,t)}function RK(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>RK(n,t,r-1)):v2(e,t)}function dpe(e){return(t,r,n,i)=>{let o;if(t===null)o=null;else{o=RK(t,i,e);let s=e,a=o;for(;s>0&&Array.isArray(a);)s--,a=a[0];if(a!==void 0)for(let l=0;l<s;l++)o=[o]}qo(n,o,r)}}function cL(e,t){return YN(e,"read",t)}function AK(e,t){return YN(e,"write",t)}function YN(e,t,r){let n=e&&e.json;if(e&&e.json&&e.json.origins&&r){const i=e.json.origins[r.origin];i&&(t==="any"||t in i)&&(n=i)}return n}function ppe(e){const t=hpe(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],i=n.types?fpe(n):t;b6(i,n,!1),n.types&&!n.write&&e.json.write&&e.json.write.enabled&&(n.write={...e.json.write}),C6(i,n)}b6(t,e.json,!0),C6(t,e.json)}function hpe(e){return e.json.types?uL(e.json):e.type?FK(e):uL(e)}function fpe(e){return e.type?FK(e):uL(e)}function FK(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!EK(r);)r=r[0],t++;return{type:r,ndimArray:t}}function uL(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function mpe(e){spe(e)&&(epe(e),ppe(e))}const RT=new Set,AT=new Set;function B(e){return t=>{t.prototype.declaredClass=e,gpe(t);const r=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!RT.has(i.initialize)&&(RT.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!AT.has(i.destroy)&&(AT.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);RT.clear(),AT.clear();class o extends t{constructor(...a){if(super(...a),this.constructor===o&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),n.length){let l=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0;for(let c=0;c<n.length;c++)n[c].call(this)}}})}this.postscript(...a)}}}return o.__accessorMetadata__=__(t.prototype),o.prototype.declaredClass=e,o}}function ype(e,t){return t.get==null?function(){const r=this.__accessor__.properties.get(e);if(r===void 0)return;bt(r);const n=this.__accessor__.store;return n.has(e)?n.get(e):r.metadata.value}:function(){const r=this.__accessor__.properties.get(e);if(r!==void 0)return r.getComputed()}}function gpe(e){const t=e.prototype,r=__(t).properties,n={};for(const i of Object.getOwnPropertyNames(r)){const o=r[i];mpe(o),n[i]={enumerable:!0,configurable:!0,get:ype(i,o),set(s){const a=this.__accessor__;if(a!==void 0){if(!Object.isFrozen(this)){if(a.initialized&&o.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${i}' of ${this.declaredClass}`);if(a.lifecycle===fc.CONSTRUCTED&&o.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${i}' of ${this.declaredClass}`);a.set(i,s)}}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:s})}}}Object.defineProperties(e.prototype,n)}var NK;function vpe(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return((t=e.constructor)==null?void 0:t.__accessorMetadata__)||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const pb=Symbol("Accessor-Handles");class Ve{constructor(...t){if(this[NK]=null,this.constructor===Ve)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new lde(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const o=this;class s extends o{constructor(...l){super(...l),this.inherited=null,i&&i.apply(this,l)}}__(s.prototype);for(const a in t){const l=t[a];s.prototype[a]=typeof l=="function"?function(...c){const d=this.inherited;let p;this.inherited=function(...f){if(o.prototype[a])return o.prototype[a].apply(this,f)};try{p=l.apply(this,c)}catch(f){throw this.inherited=d,f}return this.inherited=d,p}:t[a]}for(const a in r){const l=vpe(r[a]);h(l)(s.prototype,a)}return B(n)(s)}postscript(t){const r=this.__accessor__,n=r.ctorArgs||t;r.initialize(),n&&(this.set(n),r.ctorArgs=null),r.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(hc(this[pb],t=>{t.forEach(r=>r.remove())}),this[pb]=null,Lde(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===fc.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return s2(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return c2(this,t,r),this}watch(t,r,n){return zde(this,t,r,n)}own(t){let r=this[pb];if(te(r)&&(r=this[pb]=new Set),WO(t))for(const n of t)r.add(n);else r.add(t)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_override(t,r){return this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}}NK=pb;class Mg{constructor(){this._emitter=new Mg.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}}(function(e){class t{constructor(i=null){this.target=i,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(i,o){const s=this._listenersMap&&this._listenersMap.get(i);if(!s)return!1;const a=this.target||this;return[...s].forEach(l=>{l.call(a,o)}),s.length>0}on(i,o){if(Array.isArray(i)){const a=i.map(l=>this.on(l,o));return iI(a)}if(i.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const s=this._listenersMap.get(i)||[];return s.push(o),this._listenersMap.set(i,s),{remove:()=>{const a=this._listenersMap&&this._listenersMap.get(i)||[],l=a.indexOf(o);l>=0&&a.splice(l,1)}}}once(i,o){const s=this.on(i,a=>{s.remove(),o.call(null,a)});return s}hasEventListener(i){const o=this._listenersMap&&this._listenersMap.get(i);return o!=null&&o.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let i=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(o,s){return this._emitter.emit(o,s)}on(o,s){return this._emitter.on(o,s)}once(o,s){return this._emitter.once(o,s)}hasEventListener(o){return this._emitter.hasEventListener(o)}};return i=u([B("esri.core.Evented")],i),i};let r=class extends Ve{constructor(){super(...arguments),this._emitter=new Mg.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,i){return this._emitter.emit(n,i)}on(n,i){return this._emitter.on(n,i)}once(n,i){return this._emitter.once(n,i)}hasEventListener(n){return this._emitter.hasEventListener(n)}};r=u([B("esri.core.Evented")],r),e.EventedAccessor=r})(Mg||(Mg={}));const Ku=Mg;var ir;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(ir||(ir={}));function QN(e){return(t,r)=>{t[r]=e}}class DK{constructor(){this._observers=[]}observe(t){return this._observers.includes(t)||this._observers.push(t),new lK(this._observers,t)}notify(){const t=this._observers.slice();for(let r=0;r<t.length;++r){const n=t[r];n.onInvalidated(),n.onCommitted()}}}var _u;class bpe{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}const Ds=new El(bpe,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),wpe=()=>{};function FT(e){return e?e instanceof rf?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function NT(e){if(e&&e.length)return e[0]}function _pe(e,t,r,n){const i=Math.min(e.length-r,t.length-n);let o=0;for(;o<i&&e[r+o]===t[n+o];)o++;return o}function zK(e,t,r,n){t&&t.forEach((i,o,s)=>{e.push(i),zK(e,r.call(n,i,o,s),r,n)})}const td=new Set,rd=new Set,nd=new Set,DT=new Map;let xpe=0,rf=_u=class extends Ku.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new DK,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:xpe++})}static isCollection(e){return e!=null&&e instanceof _u}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof _u?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return bt(this._observable),this._items}set items(e){this._emitBeforeChanges(ir.ADD)||(this._splice(0,this.length,FT(e)),this._emitAfterChanges(ir.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const r=this._chgListeners,n={removed:!1,callback:t};return r.push(n),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=wpe,n.removed=!0,r.splice(r.indexOf(n),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if(bt(this._observable),this._emitBeforeChanges(ir.ADD))return this;const r=this.getNextIndex(t!=null?t:null);return this._splice(r,0,[e]),this._emitAfterChanges(ir.ADD),this}addMany(e,t=this._items.length){if(bt(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(ir.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,FT(e)),this._emitAfterChanges(ir.ADD),this}at(e){if(bt(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(bt(this._observable),!this.length||this._emitBeforeChanges(ir.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(ir.REMOVE),e}clone(){return bt(this._observable),this._createNewInstance({items:this._items.map(X)})}concat(...e){bt(this._observable);const t=e.map(FT);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(bt(this._observable),!this.length||this._emitBeforeChanges(ir.REMOVE))return;const r=this._splice(0,this.length),n=r.length;for(let i=0;i<n;i++)e.call(t,r[i],i,r);this._emitAfterChanges(ir.REMOVE)}every(e,t){return bt(this._observable),this._items.every(e,t)}filter(e,t){let r;return bt(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return bt(this._observable),this._items.find(e,t)}findIndex(e,t){return bt(this._observable),this._items.findIndex(e,t)}flatten(e,t){bt(this._observable);const r=[];return zK(r,this,e,t),new _u(r)}forEach(e,t){return bt(this._observable),this._items.forEach(e,t)}getItemAt(e){return bt(this._observable),this._items[e]}getNextIndex(e){bt(this._observable);const t=this.length;return(e=e==null?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return bt(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return bt(this._observable),this._items.indexOf(e,t)}join(e=","){return bt(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return bt(this._observable),this._items.lastIndexOf(e,t)}map(e,t){bt(this._observable);const r=this._items.map(e,t);return new _u({items:r})}reorder(e,t=this.length-1){bt(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(ir.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(ir.MOVE)}return e}}pop(){if(bt(this._observable),!this.length||this._emitBeforeChanges(ir.REMOVE))return;const e=NT(this._splice(this.length-1,1));return this._emitAfterChanges(ir.REMOVE),e}push(...e){return bt(this._observable),this._emitBeforeChanges(ir.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(ir.ADD)),this.length}reduce(e,t){bt(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){bt(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return bt(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(bt(this._observable),e<0||e>=this.length||this._emitBeforeChanges(ir.REMOVE))return;const t=NT(this._splice(e,1));return this._emitAfterChanges(ir.REMOVE),t}removeMany(e){if(bt(this._observable),!e||!e.length||this._emitBeforeChanges(ir.REMOVE))return[];const t=e instanceof _u?e.toArray():e,r=this._items,n=[],i=t.length;for(let o=0;o<i;o++){const s=t[o],a=r.indexOf(s);if(a>-1){const l=1+_pe(t,r,o+1,a+1),c=this._splice(a,l);c&&c.length>0&&n.push.apply(n,c),o+=l-1}}return this._emitAfterChanges(ir.REMOVE),n}reverse(){if(bt(this._observable),this._emitBeforeChanges(ir.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(ir.MOVE),this}shift(){if(bt(this._observable),!this.length||this._emitBeforeChanges(ir.REMOVE))return;const e=NT(this._splice(0,1));return this._emitAfterChanges(ir.REMOVE),e}slice(e=0,t=this.length){return bt(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return bt(this._observable),this._items.some(e,t)}sort(e){if(bt(this._observable),!this.length||this._emitBeforeChanges(ir.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(ir.MOVE),this}splice(e,t,...r){bt(this._observable);const n=(t?ir.REMOVE:0)|(r.length?ir.ADD:0);if(this._emitBeforeChanges(n))return[];const i=this._splice(e,t,r)||[];return this._emitAfterChanges(n),i}toArray(){return bt(this._observable),this._items.slice()}toJSON(){return bt(this._observable),this.toArray()}toLocaleString(){return bt(this._observable),this._items.toLocaleString()}toString(){return bt(this._observable),this._items.toString()}unshift(...e){return bt(this._observable),!e.length||this._emitBeforeChanges(ir.ADD)||(this._splice(0,0,e),this._emitAfterChanges(ir.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const n=this._items,i=this.itemType;let o,s;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=R0(()=>this._dispatchChange())),t){if(s=n.splice(e,t),this.hasEventListener("before-remove")){const a=Ds.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=s.length;l<c;l++)o=s[l],a.reset(o),this.emit("before-remove",a),a.defaultPrevented&&(s.splice(l,1),n.splice(e,0,o),e+=1,l-=1,c-=1);Ds.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Ds.acquire();a.target=this,a.cancellable=!1;const l=s.length;for(let c=0;c<l;c++)a.reset(s[c]),this.emit("after-remove",a);Ds.release(a)}}if(r&&r.length){if(i){const d=[];for(const p of r){const f=i.ensureType(p);f==null&&p!=null||d.push(f)}r=d}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const d=Ds.acquire();d.target=this,d.cancellable=!0;const p=Ds.acquire();p.target=this,p.cancellable=!1;for(const f of r)a?(d.reset(f),this.emit("before-add",d),d.defaultPrevented||(c?n.push(f):n.splice(e++,0,f),this._set("length",n.length),l&&(p.reset(f),this.emit("after-add",p)))):(c?n.push(f):n.splice(e++,0,f),this._set("length",n.length),p.reset(f),this.emit("after-add",p));Ds.release(p),Ds.release(d)}else{if(c)for(const d of r)n.push(d);else n.splice(e,0,...r);this._set("length",n.length)}}return(r&&r.length||s&&s.length)&&this._notifyChangeEvent(r,s),s}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=Ds.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,Ds.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Ds.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Ds.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;td.clear(),rd.clear(),nd.clear();for(const{added:l,removed:c}of r){if(l)if(nd.size===0&&rd.size===0)for(const d of l)td.add(d);else for(const d of l)rd.has(d)?(nd.add(d),rd.delete(d)):nd.has(d)||td.add(d);if(c)if(nd.size===0&&td.size===0)for(const d of c)rd.add(d);else for(const d of c)td.has(d)?td.delete(d):(nd.delete(d),rd.add(d))}const n=oo.acquire();td.forEach(l=>{n.push(l)});const i=oo.acquire();rd.forEach(l=>{i.push(l)});const o=this._items,s=t.items,a=oo.acquire();if(nd.forEach(l=>{s.indexOf(l)!==o.indexOf(l)&&a.push(l)}),t.listeners&&(n.length||i.length||a.length)){const l={target:this,added:n,removed:i,moved:a},c=t.listeners.length;for(let d=0;d<c;d++){const p=t.listeners[d];p.removed||p.callback.call(this,l)}}oo.release(n),oo.release(i),oo.release(a)}td.clear(),rd.clear(),nd.clear()}};rf.ofType=e=>{if(!e)return _u;if(DT.has(e))return DT.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const i=e.typeMap[n].prototype.declaredClass;t?t+=` | ${i}`:t=i}let r=class extends _u{};return u([QN({Type:e,ensureType:typeof e=="function"?$n(e):Cc(e)})],r.prototype,"itemType",void 0),r=u([B(`esri.core.Collection<${t}>`)],r),DT.set(e,r),r},u([h()],rf.prototype,"length",void 0),u([h()],rf.prototype,"items",null),rf=_u=u([B("esri.core.Collection")],rf);const We=rf;function rm(e,t,r=We){return t||(t=new r),t===e||(t.removeAll(),Spe(e)?t.addMany(e):e&&t.add(e)),t}function VK(e){return e}function Spe(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}class XN{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new XN;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,X(n.value),n.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const n=this._values.get(t);return r==null||(n==null?void 0:n.origin)===r?n==null?void 0:n.value:void 0}originOf(t){var r,n;return(n=(r=this._values.get(t))==null?void 0:r.origin)!=null?n:ht.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(n=>{var i;return((i=this._values.get(n))==null?void 0:i.origin)===t})}set(t,r,n){if((n=this._normalizeOrigin(n))===ht.DEFAULTS){const i=this._values.get(t);if(i&&i.origin!=null&&i.origin>n)return}this._values.set(t,new Cpe(r,n))}delete(t,r){var n;(r=this._normalizeOrigin(r))!=null&&((n=this._values.get(t))==null?void 0:n.origin)!==r||this._values.delete(t)}has(t,r){var n;return(r=this._normalizeOrigin(r))!=null?((n=this._values.get(t))==null?void 0:n.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},n)=>t(r,n))}_normalizeOrigin(t){if(t!=null)return t===ht.DEFAULTS?t:ht.USER}}class Cpe{constructor(t,r){this.value=t,this.origin=r}}function jK(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),ht.DEFAULTS)});const n=e.metadatas;Object.keys(n).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),ht.DEFAULTS)})}function $pe(e,t,r){if(!e||!e.read||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&s6(n,r))return!0}else for(const i of n)if(i===t||i.includes(".")&&i.indexOf(t)===0&&s6(i,r))return!0;return!1}function Epe(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function Ipe(e,t,r,n,i){let o=cL(t[r],i);Epe(o)&&(e[r]=!0);for(const s of Object.getOwnPropertyNames(t))o=cL(t[s],i),$pe(o,r,n)&&(e[s]=!0)}function Mpe(e,t,r,n){const i=r.metadatas,o=YN(i[t],"any",n),s=o&&o.default;if(s===void 0)return;const a=typeof s=="function"?s.call(e,t,n):s;a!==void 0&&r.set(t,a)}const BK={origin:"service"};function UK(e,t,r=BK){if(!t||typeof t!="object")return;const n=Ui(e),i=n.metadatas,o={};for(const s of Object.getOwnPropertyNames(t))Ipe(o,i,s,t,r);n.setDefaultOrigin(r.origin);for(const s of Object.getOwnPropertyNames(o)){const a=cL(i[s],r).read,l=a&&a.source;let c;c=l&&typeof l=="string"?w_(t,l):t[s],a&&a.reader&&(c=a.reader.call(e,c,t,r)),c!==void 0&&n.set(s,c)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const s of Object.getOwnPropertyNames(i))o[s]||Mpe(e,s,n,r)}n.setDefaultOrigin("user")}function Tpe(e,t,r,n=BK){var o;const i={...n,messages:[]};r(i),(o=i.messages)==null||o.forEach(s=>{s.type!=="warning"||e.loaded?n&&n.messages&&n.messages.push(s):e.loadWarnings.push(s)})}const kpe=Ce.getLogger("esri.core.accessorSupport.write");function Ppe(e,t,r,n,i){var s,a;const o={};return(a=(s=t.write)==null?void 0:s.writer)==null||a.call(e,n,o,r,i),o}function GK(e,t,r,n,i,o){if(!n||!n.write)return!1;const s=e.get(r);if(!i&&n.write.overridePolicy){const a=n.write.overridePolicy.call(e,s,r,o);a!==void 0&&(i=a)}if(i||(i=n.write),!i||i.enabled===!1)return!1;if((s===null&&!i.allowNull&&!i.writerEnsuresNonNull||s===void 0)&&i.isRequired){const a=new Z("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&o&&o.messages?o.messages.push(a):a&&!o&&kpe.error(a.name,a.message),!1}return!(s===void 0||s===null&&!i.allowNull&&!i.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(r)===ht.DEFAULTS)&&Ope(e,r,o,n,s)||!i.ignoreOrigin&&o&&o.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<hp(o.origin))}function Ope(e,t,r,n,i){const o=n.default;if(o===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof o=="function"){if(Array.isArray(i)){const s=o.call(e,t,r);return zN(s,i)}return!1}return o===i}function Lpe(e,t,r,n){const i=Ui(e),o=i.metadatas,s=AK(o[t],n);return!!s&&GK(e,i,t,s,r,n)}function HK(e,t,r){var o,s;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return dC(t,e.toJSON(r));const n=Ui(e),i=n.metadatas;for(const a in i){const l=AK(i[a],r);if(!GK(e,n,a,l,void 0,r))continue;const c=e.get(a),d=Ppe(e,l,l.write&&typeof l.write.target=="string"?l.write.target:a,c,r);Object.keys(d).length>0&&(t=dC(t,d),(s=(o=r==null?void 0:r.resources)==null?void 0:o.pendingOperations)!=null&&s.length&&Promise.all(r.resources.pendingOperations).then(()=>dC(t,d)),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:a,oldOrigin:nde(n.store.originOf(a)),newOrigin:r.origin}))}return t}const $_=e=>{let t=class extends e{constructor(...r){super(...r);const n=Ui(this),i=n.store,o=new XN;n.store=o,jK(n,i,o)}read(r,n){UK(this,r,n)}write(r={},n){return HK(this,r,n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return Rpe.call(this,r,n)}};return t=u([B("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Rpe(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let ve=class extends $_(Ve){};ve=u([B("esri.core.JSONSupport")],ve);var Zd;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Zd||(Zd={}));class Ape{constructor(t){this.instance=t,this._resolver=Nu(),this._status=Zd.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Zd.RESOLVED,this._cleanUp()},()=>{this._status=Zd.REJECTED,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Zd.RESOLVED}isRejected(){return this._status===Zd.REJECTED}isFulfilled(){return this._status!==Zd.PENDING}abort(){this._resolver.reject(Zr())}when(t,r){return this._resolver.promise.then(t,r)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=Nu(),r=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(r);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve(this.instance)},i=>{this.isFulfilled()||this._allPromise!==n||Gi(i)||this._resolver.reject(i)}),t.resolve()}}const E_=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new Ape(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return new Promise((i,o)=>{this._promiseProps.when(i,o)}).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=u([B("esri.core.Promise")],t),t};let w2=class extends E_(Ve){};w2=u([B("esri.core.Promise")],w2);const Fpe="not-loaded",Npe="loading",Dpe="failed",$6="loaded",qK=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const i=this.load.bind(this);this.load=o=>{const s=new Promise((a,l)=>{const c=HN(o,l);this.destroyed&&l(new Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===Fpe){this._set("loadStatus",Npe);const a=this._loadController=new AbortController;i({signal:a.signal}),wa(a.signal,()=>{this._promiseProps.abort()})}return n(),s}})),this.when(()=>{this._set("loadStatus",$6),this._loadController=null},n=>{this._set("loadStatus",Dpe),this._set("loadError",n),this._loadController=null})}get loaded(){return this.loadStatus===$6}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new Z("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort()),this}};return u([h({readOnly:!0})],t.prototype,"loaded",null),u([h({readOnly:!0})],t.prototype,"loadError",void 0),u([h({clonable:!1})],t.prototype,"loadStatus",void 0),u([h({type:[ho],readOnly:!0})],t.prototype,"loadWarnings",null),t=u([B("esri.core.Loadable")],t),t};let hb=class extends qK(w2){};hb=u([B("esri.core.Loadable")],hb),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=qK,e.isLoadable=t}(hb||(hb={}));const Os=hb;function zpe(e,t,r){return yn(e.map((n,i)=>t.apply(r,[n,i])))}async function Vpe(e,t,r){return(await yn(e.map((n,i)=>t.apply(r,[n,i])))).map(n=>n.value)}async function fI(e){if(te(e))return{ok:!1,error:new Error("no promise provided")};try{return{ok:!0,value:await e}}catch(t){return{ok:!1,error:t}}}async function _Xe(e){try{return{ok:!0,value:await e}}catch(t){return S_(t),{ok:!1,error:t}}}async function WK(e,t){return await e.load(),jpe(e,t)}async function jpe(e,t){const r=[],n=(...o)=>{for(const s of o)te(s)||(Array.isArray(s)?n(...s):We.isCollection(s)?s.forEach(a=>n(a)):Os.isLoadable(s)&&r.push(s))};t(n);let i=null;if(await Vpe(r,async o=>{(await fI(Bpe(o)?o.loadAll():o.load())).ok!==!1||i||(i=o)}),i)throw i.loadError;return e}function Bpe(e){return"loadAll"in e&&typeof e.loadAll=="function"}const Upe=Ce.getLogger("esri.core.urlUtils"),F0=qt.request,E6="esri/config: esriConfig.request.proxyUrl is not set.",KK=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,JK=/^\s*http:/i,Gpe=/^\s*https:/i,Hpe=/^\s*file:/i,qpe=/:\d+$/,Wpe=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Kpe=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Jpe=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class Tg{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(Kpe);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(Jpe),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}}const zx={},Zpe=new Tg(qt.applicationUrl);let Vi=Zpe;const Ype=Qpe();let eD=Ype;const tD=()=>Vi,xXe=()=>eD;function Qpe(){const e=Vi.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${Vi.scheme}://${Vi.host}${Vi.port!=null?`:${Vi.port}`:""}`}${t}`}function vn(e){const t={path:null,query:null},r=new Tg(e),n=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,n),t.query=ZK(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function ZK(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const i=n.indexOf("=");let o,s;i<0?(o=decodeURIComponent(n),s=""):(o=decodeURIComponent(n.slice(0,i)),s=decodeURIComponent(n.slice(i+1)));let a=r[o];typeof a=="string"&&(a=r[o]=[a]),Array.isArray(a)?a.push(s):r[o]=s}return r}function I6(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}function _1(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const n=e[r];if(n==null)return"";const i=encodeURIComponent(r)+"=",o=t&&t[r];return o?i+encodeURIComponent(o(n)):Array.isArray(n)?n.map(s=>I6(s)?i+encodeURIComponent(JSON.stringify(s)):i+encodeURIComponent(s)).join("&"):I6(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)}).filter(r=>r).join("&"):""}function Xpe(e=!1){let t,r=F0.proxyUrl;if(typeof e=="string"){t=ohe(e);const n=mI(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw Upe.warn(E6),new Z("urlutils:proxy-not-set",E6);return t&&dL()&&(r=sD(r)),vn(r)}function SXe(e){const t=mI(e);let r,n;if(t){const i=rD(t.proxyUrl);r=i.path,n=i.query?ZK(i.query):null}if(r){const i=vn(e);e=r+"?"+i.path;const o=_1({...n,...i.query});o&&(e=`${e}?${o}`)}return e}const Iv={path:"",query:""};function rD(e){const t=e.indexOf("?");return t!==-1?(Iv.path=e.slice(0,t),Iv.query=e.slice(t+1)):(Iv.path=e,Iv.query=null),Iv}function YK(e){return e=(e=_2(e=uhe(e=rD(e).path),!0)).toLowerCase()}function ehe(e){const t={proxyUrl:e.proxyUrl,urlPrefix:YK(e.urlPrefix)},r=F0.proxyRules,n=t.urlPrefix;let i=r.length;for(let o=0;o<r.length;o++){const s=r[o].urlPrefix;if(n.indexOf(s)===0){if(n.length===s.length)return-1;i=o;break}s.indexOf(n)===0&&(i=o+1)}return r.splice(i,0,t),i}function mI(e){const t=F0.proxyRules,r=YK(e);for(let n=0;n<t.length;n++)if(r.indexOf(t[n].urlPrefix)===0)return t[n]}function QK(e,t){return e=M6(e),t=M6(t),_2(e)===_2(t)}function M6(e){const t=(e=ha(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function XK(e){const t=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n),r=F0.interceptors;if(r){for(const n of r)if(Array.isArray(n.urls)){if(n.urls.some(t))return n}else if(t(n.urls))return n}return null}function x1(e,t,r=!1){const n=hL(e),i=hL(t);return!(!r&&n.scheme!==i.scheme)&&n.host!=null&&i.host!=null&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function nD(e){if(typeof e=="string"){if(!Es(e))return!0;e=hL(e)}if(x1(e,Vi))return!0;const t=F0.trustedServers||[];for(let r=0;r<t.length;r++){const n=the(t[r]);for(let i=0;i<n.length;i++)if(x1(e,n[i]))return!0}return!1}function the(e){return zx[e]||(oD(e)||$c(e)?zx[e]=[new Tg(ml(e))]:zx[e]=[new Tg(`http://${e}`),new Tg(`https://${e}`)]),zx[e]}function ml(e,t=eD,r){return $c(e)?r&&r.preserveProtocolRelative?e:Vi.scheme==="http"&&Vi.authority===_l(e).slice(2)?`http:${e}`:`https:${e}`:oD(e)?e:nm(e[0]==="/"?che(t):t,e)}function iD(e,t=eD,r){if(!Es(e))return e;const n=ha(e),i=n.toLowerCase(),o=ha(t).toLowerCase().replace(/\/+$/,""),s=r?ha(r).toLowerCase().replace(/\/+$/,""):null;if(s&&o.indexOf(s)!==0)return e;const a=(p,f,y)=>(y=p.indexOf(f,y))===-1?p.length:y;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===o.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(c===-1||s&&c<s.length)return e;e=n.slice(c);const d=o.slice(c-1).replace(/[^/]+/g,"").length;if(d>0)for(let p=0;p<d;p++)e=`../${e}`;else e=`./${e}`;return e}function ha(e){return e=hhe(e=phe(e=dhe(e=ml(e=e.trim()))))}function nm(...e){const t=e.filter(G);if(!t||!t.length)return;const r=[];if(Es(t[0])){const i=t[0],o=i.indexOf("//");o!==-1&&(r.push(i.slice(0,o+1)),ahe(t[0])&&(r[0]+="/"),t[0]=i.slice(o+2))}else t[0][0]==="/"&&r.push("");const n=t.reduce((i,o)=>o?i.concat(o.split("/")):i,[]);for(let i=0;i<n.length;i++){const o=n[i];o===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!o&&i===n.length-1||o&&(o!=="."||r.length===0))&&r.push(o)}return r.join("/")}function _l(e,t=!1){if(yI(e)||xm(e))return null;let r=e.indexOf("://");if(r===-1&&$c(e))r=2;else{if(r===-1)return null;r+=3}const n=e.indexOf("/",r);return n!==-1&&(e=e.slice(0,n)),t&&(e=_2(e,!0)),e}function Es(e){return $c(e)||oD(e)}function yI(e){return e!=null&&e.slice(0,5)==="blob:"}function xm(e){return e.slice(0,5)==="data:"}function CXe(e){const t=eJ(e);if(!t||!t.isBase64)return null;const r=atob(t.data),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n.buffer}function $Xe(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const rhe=/^data:(.*?)(;base64)?,(.*)$/;function eJ(e){const t=e.match(rhe);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function tJ(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function EXe(e,t){nhe(e,t)||ihe(e,t)}function nhe(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const n=URL.createObjectURL(e);return r.download=t,r.href=n,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),!0}function ihe(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function $c(e){return e!=null&&e!==void 0&&e[0]==="/"&&e[1]==="/"}function oD(e){return KK.test(e)}function ohe(e){return Gpe.test(e)||Vi.scheme==="https"&&$c(e)}function she(e){return JK.test(e)||Vi.scheme==="http"&&$c(e)}function ahe(e){return Hpe.test(e)}function sD(e){return $c(e)?`https:${e}`:e.replace(JK,"https:")}function lhe(){return Vi.scheme==="http"}function dL(){return Vi.scheme==="https"}function _2(e,t=!1){return $c(e)?e.slice(2):(e=e.replace(KK,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function che(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function aD(e){let t=0;if(Es(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function IXe(e,t){if(!e)return"";const r=vn(e).path.replace(/\/+$/,""),n=r.substring(r.lastIndexOf("/")+1);if(!(t!=null&&t.length))return n;const i=new RegExp(`.(${t.join("|")})$`,"ig");return n.replace(i,"")}function uhe(e){return e&&e[e.length-1]==="/"?e:`${e}/`}function rJ(e){return e.replace(/\/+$/,"")}function dhe(e){if(/^https?:\/\//i.test(e)){const t=rD(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function phe(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function hhe(e){const t=F0.httpsDomains;if(!she(e))return e;const r=e.indexOf("/",7);let n;if(n=r===-1?e:e.slice(0,r),n=n.toLowerCase().slice(7),qpe.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return lhe()&&n===Vi.authority&&!Wpe.test(e)||(dL()&&n===Vi.authority||t&&t.some(i=>n===i||n.endsWith(`.${i}`))||dL()&&!mI(e))&&(e=sD(e)),e}function pL(e,t,r){if(!(t&&r&&e&&Es(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),o=e.indexOf(":",n+2),s=Math.min(i<0?e.length:i,o<0?e.length:o);return e.slice(n+2,s).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(s)}`}function hL(e){return typeof e=="string"?new Tg(ml(e)):(e.scheme||(e.scheme=Vi.scheme),e)}function MXe(e){return mhe.test(e)}function nJ(e,t){const r=vn(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function iJ(e,t,r){const n=vn(e),i=n.query||{};return i[t]=String(r),`${n.path}?${_1(i)}`}function mC(e,t){const r=vn(e),n=r.query||{};for(const o in t)n[o]=t[o];const i=_1(n);return i?`${r.path}?${i}`:r.path}function TXe(e){if(te(e))return null;const t=e.match(fhe);return t?t[1]:null}const fhe=/.*?\.([^\/]*)$/,mhe=/(^data:image\/svg|\.svg$)/i;function Ae(e,t,r){let n,i;return t===void 0?(i=e,n=[void 0]):typeof t!="string"?(i=e,n=[void 0],r=t):(i=t,n=Array.isArray(e)?e:[e]),(o,s)=>{const a=o.constructor.prototype;for(const l of n){const c=MK(o,l,i);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[s]}}}var la;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(la||(la={}));let m;const D={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(m=2e3;m<=2045;m++)D[m]=0;for(m=2056;m<=2065;m++)D[m]=0;for(m=2067;m<=2135;m++)D[m]=0;for(m=2137;m<=2154;m++)D[m]=0;for(m=2161;m<=2170;m++)D[m]=0;for(m=2172;m<=2193;m++)D[m]=0;for(m=2195;m<=2198;m++)D[m]=0;for(m=2200;m<=2203;m++)D[m]=0;for(m=2205;m<=2217;m++)D[m]=0;for(m=2222;m<=2224;m++)D[m]=1;for(m=2225;m<=2250;m++)D[m]=2;for(m=2251;m<=2253;m++)D[m]=1;for(m=2257;m<=2264;m++)D[m]=2;for(m=2274;m<=2279;m++)D[m]=2;for(m=2280;m<=2282;m++)D[m]=1;for(m=2283;m<=2289;m++)D[m]=2;for(m=2290;m<=2292;m++)D[m]=0;for(m=2308;m<=2313;m++)D[m]=0;for(m=2315;m<=2491;m++)D[m]=0;for(m=2494;m<=2866;m++)D[m]=0;for(m=2867;m<=2869;m++)D[m]=1;for(m=2870;m<=2888;m++)D[m]=2;for(m=2891;m<=2895;m++)D[m]=2;for(m=2896;m<=2898;m++)D[m]=1;for(m=2902;m<=2908;m++)D[m]=2;for(m=2915;m<=2920;m++)D[m]=2;for(m=2921;m<=2923;m++)D[m]=1;for(m=2924;m<=2930;m++)D[m]=2;for(m=2931;m<=2962;m++)D[m]=0;for(m=2964;m<=2968;m++)D[m]=2;for(m=2969;m<=2973;m++)D[m]=0;for(m=2975;m<=2991;m++)D[m]=0;for(m=2995;m<=3051;m++)D[m]=0;for(m=3054;m<=3079;m++)D[m]=0;for(m=3081;m<=3088;m++)D[m]=0;for(m=3092;m<=3101;m++)D[m]=0;for(m=3106;m<=3138;m++)D[m]=0;for(m=3146;m<=3151;m++)D[m]=0;for(m=3153;m<=3166;m++)D[m]=0;for(m=3168;m<=3172;m++)D[m]=0;for(m=3174;m<=3203;m++)D[m]=0;for(m=3294;m<=3358;m++)D[m]=0;for(m=3367;m<=3403;m++)D[m]=0;for(m=3408;m<=3416;m++)D[m]=0;for(m=3417;m<=3438;m++)D[m]=2;for(m=3441;m<=3446;m++)D[m]=2;for(m=3447;m<=3450;m++)D[m]=0;for(m=3451;m<=3459;m++)D[m]=2;for(m=3460;m<=3478;m++)D[m]=0;for(m=3554;m<=3559;m++)D[m]=0;for(m=3560;m<=3570;m++)D[m]=2;for(m=3571;m<=3581;m++)D[m]=0;for(m=3594;m<=3597;m++)D[m]=0;for(m=3601;m<=3604;m++)D[m]=0;for(m=3637;m<=3639;m++)D[m]=0;for(m=3665;m<=3667;m++)D[m]=0;for(m=3693;m<=3695;m++)D[m]=0;for(m=3701;m<=3727;m++)D[m]=0;for(m=3728;m<=3739;m++)D[m]=2;for(m=3740;m<=3751;m++)D[m]=0;for(m=3753;m<=3760;m++)D[m]=2;for(m=3761;m<=3773;m++)D[m]=0;for(m=3775;m<=3777;m++)D[m]=0;for(m=3779;m<=3781;m++)D[m]=0;for(m=3783;m<=3785;m++)D[m]=0;for(m=3788;m<=3791;m++)D[m]=0;for(m=3797;m<=3802;m++)D[m]=0;for(m=3814;m<=3816;m++)D[m]=0;for(m=3825;m<=3829;m++)D[m]=0;for(m=3832;m<=3841;m++)D[m]=0;for(m=3844;m<=3852;m++)D[m]=0;for(m=3873;m<=3885;m++)D[m]=0;for(m=3890;m<=3893;m++)D[m]=0;for(m=3907;m<=3912;m++)D[m]=0;for(m=3942;m<=3950;m++)D[m]=0;for(m=3968;m<=3970;m++)D[m]=0;for(m=3973;m<=3976;m++)D[m]=0;for(m=3986;m<=3989;m++)D[m]=0;for(m=3994;m<=3997;m++)D[m]=0;for(m=4048;m<=4051;m++)D[m]=0;for(m=4056;m<=4063;m++)D[m]=0;for(m=4093;m<=4096;m++)D[m]=0;for(m=4390;m<=4398;m++)D[m]=0;for(m=4399;m<=4413;m++)D[m]=2;for(m=4418;m<=4433;m++)D[m]=2;for(m=4455;m<=4457;m++)D[m]=2;for(m=4484;m<=4489;m++)D[m]=0;for(m=4491;m<=4554;m++)D[m]=0;for(m=4568;m<=4589;m++)D[m]=0;for(m=4652;m<=4656;m++)D[m]=0;for(m=4766;m<=4800;m++)D[m]=0;for(m=5014;m<=5016;m++)D[m]=0;for(m=5069;m<=5072;m++)D[m]=0;for(m=5105;m<=5130;m++)D[m]=0;for(m=5173;m<=5188;m++)D[m]=0;for(m=5253;m<=5259;m++)D[m]=0;for(m=5269;m<=5275;m++)D[m]=0;for(m=5292;m<=5311;m++)D[m]=0;for(m=5329;m<=5331;m++)D[m]=0;for(m=5343;m<=5349;m++)D[m]=0;for(m=5355;m<=5357;m++)D[m]=0;for(m=5387;m<=5389;m++)D[m]=0;for(m=5459;m<=5463;m++)D[m]=0;for(m=5479;m<=5482;m++)D[m]=0;for(m=5518;m<=5520;m++)D[m]=0;for(m=5530;m<=5539;m++)D[m]=0;for(m=5550;m<=5552;m++)D[m]=0;for(m=5562;m<=5583;m++)D[m]=0;for(m=5623;m<=5625;m++)D[m]=2;for(m=5631;m<=5639;m++)D[m]=0;for(m=5649;m<=5653;m++)D[m]=0;for(m=5663;m<=5680;m++)D[m]=0;for(m=5682;m<=5685;m++)D[m]=0;for(m=5875;m<=5877;m++)D[m]=0;for(m=5896;m<=5899;m++)D[m]=0;for(m=5921;m<=5940;m++)D[m]=0;for(m=6050;m<=6125;m++)D[m]=0;for(m=6244;m<=6275;m++)D[m]=0;for(m=6328;m<=6348;m++)D[m]=0;for(m=6350;m<=6356;m++)D[m]=0;for(m=6366;m<=6372;m++)D[m]=0;for(m=6381;m<=6387;m++)D[m]=0;for(m=6393;m<=6404;m++)D[m]=0;for(m=6480;m<=6483;m++)D[m]=0;for(m=6511;m<=6514;m++)D[m]=0;for(m=6579;m<=6581;m++)D[m]=0;for(m=6619;m<=6624;m++)D[m]=0;for(m=6625;m<=6627;m++)D[m]=2;for(m=6628;m<=6632;m++)D[m]=0;for(m=6634;m<=6637;m++)D[m]=0;for(m=6669;m<=6692;m++)D[m]=0;for(m=6707;m<=6709;m++)D[m]=0;for(m=6720;m<=6723;m++)D[m]=0;for(m=6732;m<=6738;m++)D[m]=0;for(m=6931;m<=6933;m++)D[m]=0;for(m=6956;m<=6959;m++)D[m]=0;for(m=7005;m<=7007;m++)D[m]=0;for(m=7057;m<=7070;m++)D[m]=2;for(m=7074;m<=7082;m++)D[m]=0;for(m=7109;m<=7118;m++)D[m]=0;for(m=7119;m<=7127;m++)D[m]=1;for(m=7374;m<=7376;m++)D[m]=0;for(m=7528;m<=7586;m++)D[m]=0;for(m=7587;m<=7645;m++)D[m]=2;for(m=7692;m<=7696;m++)D[m]=0;for(m=7755;m<=7787;m++)D[m]=0;for(m=7791;m<=7795;m++)D[m]=0;for(m=7799;m<=7801;m++)D[m]=0;for(m=7803;m<=7805;m++)D[m]=0;for(m=7825;m<=7831;m++)D[m]=0;for(m=7845;m<=7859;m++)D[m]=0;for(m=8013;m<=8032;m++)D[m]=0;for(m=8065;m<=8068;m++)D[m]=1;for(m=8518;m<=8529;m++)D[m]=2;for(m=8533;m<=8536;m++)D[m]=2;for(m=8538;m<=8540;m++)D[m]=2;for(m=8677;m<=8679;m++)D[m]=0;for(m=8836;m<=8840;m++)D[m]=0;for(m=8857;m<=8859;m++)D[m]=0;for(m=8908;m<=8910;m++)D[m]=0;for(m=9154;m<=9159;m++)D[m]=0;for(m=9205;m<=9218;m++)D[m]=0;for(m=9271;m<=9273;m++)D[m]=0;for(m=9295;m<=9297;m++)D[m]=0;for(m=9356;m<=9360;m++)D[m]=0;for(m=9404;m<=9407;m++)D[m]=0;for(m=9476;m<=9482;m++)D[m]=0;for(m=9487;m<=9494;m++)D[m]=0;for(m=9697;m<=9699;m++)D[m]=0;for(m=20002;m<=20032;m++)D[m]=0;for(m=20062;m<=20092;m++)D[m]=0;for(m=20135;m<=20138;m++)D[m]=0;for(m=20248;m<=20258;m++)D[m]=0;for(m=20348;m<=20358;m++)D[m]=0;for(m=20436;m<=20440;m++)D[m]=0;for(m=20822;m<=20824;m++)D[m]=0;for(m=20904;m<=20932;m++)D[m]=0;for(m=20934;m<=20936;m++)D[m]=0;for(m=21004;m<=21032;m++)D[m]=0;for(m=21035;m<=21037;m++)D[m]=0;for(m=21095;m<=21097;m++)D[m]=0;for(m=21148;m<=21150;m++)D[m]=0;for(m=21207;m<=21264;m++)D[m]=0;for(m=21307;m<=21364;m++)D[m]=0;for(m=21413;m<=21423;m++)D[m]=0;for(m=21453;m<=21463;m++)D[m]=0;for(m=21473;m<=21483;m++)D[m]=0;for(m=21780;m<=21782;m++)D[m]=0;for(m=21891;m<=21894;m++)D[m]=0;for(m=21896;m<=21899;m++)D[m]=0;for(m=22171;m<=22177;m++)D[m]=0;for(m=22181;m<=22187;m++)D[m]=0;for(m=22191;m<=22197;m++)D[m]=0;for(m=22234;m<=22236;m++)D[m]=0;for(m=22521;m<=22525;m++)D[m]=0;for(m=22991;m<=22994;m++)D[m]=0;for(m=23028;m<=23038;m++)D[m]=0;for(m=23830;m<=23853;m++)D[m]=0;for(m=23866;m<=23872;m++)D[m]=0;for(m=23877;m<=23884;m++)D[m]=0;for(m=23886;m<=23894;m++)D[m]=0;for(m=23946;m<=23948;m++)D[m]=0;for(m=24311;m<=24313;m++)D[m]=0;for(m=24342;m<=24347;m++)D[m]=0;for(m=24370;m<=24374;m++)D[m]=10;for(m=24375;m<=24381;m++)D[m]=0;for(m=24718;m<=24721;m++)D[m]=0;for(m=24817;m<=24821;m++)D[m]=0;for(m=24877;m<=24882;m++)D[m]=0;for(m=24891;m<=24893;m++)D[m]=0;for(m=25391;m<=25395;m++)D[m]=0;for(m=25828;m<=25838;m++)D[m]=0;for(m=26191;m<=26195;m++)D[m]=0;for(m=26391;m<=26393;m++)D[m]=0;for(m=26701;m<=26722;m++)D[m]=0;for(m=26729;m<=26799;m++)D[m]=2;for(m=26801;m<=26803;m++)D[m]=2;for(m=26811;m<=26813;m++)D[m]=2;for(m=26847;m<=26870;m++)D[m]=2;for(m=26891;m<=26899;m++)D[m]=0;for(m=26901;m<=26923;m++)D[m]=0;for(m=26929;m<=26946;m++)D[m]=0;for(m=26948;m<=26998;m++)D[m]=0;for(m=27037;m<=27040;m++)D[m]=0;for(m=27205;m<=27232;m++)D[m]=0;for(m=27258;m<=27260;m++)D[m]=0;for(m=27391;m<=27398;m++)D[m]=0;for(m=27561;m<=27564;m++)D[m]=0;for(m=27571;m<=27574;m++)D[m]=0;for(m=27581;m<=27584;m++)D[m]=0;for(m=27591;m<=27594;m++)D[m]=0;for(m=28191;m<=28193;m++)D[m]=0;for(m=28348;m<=28358;m++)D[m]=0;for(m=28402;m<=28432;m++)D[m]=0;for(m=28462;m<=28492;m++)D[m]=0;for(m=29118;m<=29122;m++)D[m]=0;for(m=29168;m<=29172;m++)D[m]=0;for(m=29177;m<=29185;m++)D[m]=0;for(m=29187;m<=29195;m++)D[m]=0;for(m=29900;m<=29903;m++)D[m]=0;for(m=30161;m<=30179;m++)D[m]=0;for(m=30491;m<=30494;m++)D[m]=0;for(m=30729;m<=30732;m++)D[m]=0;for(m=31251;m<=31259;m++)D[m]=0;for(m=31265;m<=31268;m++)D[m]=0;for(m=31275;m<=31279;m++)D[m]=0;for(m=31281;m<=31297;m++)D[m]=0;for(m=31461;m<=31469;m++)D[m]=0;for(m=31491;m<=31495;m++)D[m]=0;for(m=31917;m<=31922;m++)D[m]=0;for(m=31965;m<=32e3;m++)D[m]=0;for(m=32001;m<=32003;m++)D[m]=2;for(m=32005;m<=32031;m++)D[m]=2;for(m=32033;m<=32060;m++)D[m]=2;for(m=32064;m<=32067;m++)D[m]=2;for(m=32074;m<=32077;m++)D[m]=2;for(m=32081;m<=32086;m++)D[m]=0;for(m=32107;m<=32130;m++)D[m]=0;for(m=32133;m<=32158;m++)D[m]=0;for(m=32164;m<=32167;m++)D[m]=2;for(m=32180;m<=32199;m++)D[m]=0;for(m=32201;m<=32260;m++)D[m]=0;for(m=32301;m<=32360;m++)D[m]=0;for(m=32601;m<=32662;m++)D[m]=0;for(m=32664;m<=32667;m++)D[m]=2;for(m=32701;m<=32761;m++)D[m]=0;for(m=53001;m<=53004;m++)D[m]=0;for(m=53008;m<=53019;m++)D[m]=0;for(m=53021;m<=53032;m++)D[m]=0;for(m=53034;m<=53037;m++)D[m]=0;for(m=53042;m<=53046;m++)D[m]=0;for(m=53074;m<=53080;m++)D[m]=0;for(m=54001;m<=54004;m++)D[m]=0;for(m=54008;m<=54019;m++)D[m]=0;for(m=54021;m<=54032;m++)D[m]=0;for(m=54034;m<=54037;m++)D[m]=0;for(m=54042;m<=54046;m++)D[m]=0;for(m=54048;m<=54053;m++)D[m]=0;for(m=54074;m<=54080;m++)D[m]=0;for(m=54098;m<=54101;m++)D[m]=0;for(m=102001;m<=102040;m++)D[m]=0;for(m=102042;m<=102063;m++)D[m]=0;for(m=102065;m<=102067;m++)D[m]=0;for(m=102070;m<=102117;m++)D[m]=0;for(m=102122;m<=102216;m++)D[m]=0;for(m=102221;m<=102377;m++)D[m]=0;for(m=102382;m<=102388;m++)D[m]=0;for(m=102389;m<=102398;m++)D[m]=2;for(m=102399;m<=102444;m++)D[m]=0;for(m=102445;m<=102447;m++)D[m]=2;for(m=102448;m<=102458;m++)D[m]=0;for(m=102459;m<=102468;m++)D[m]=2;for(m=102469;m<=102499;m++)D[m]=0;for(m=102500;m<=102519;m++)D[m]=1;for(m=102520;m<=102524;m++)D[m]=0;for(m=102525;m<=102529;m++)D[m]=2;for(m=102530;m<=102588;m++)D[m]=0;for(m=102590;m<=102598;m++)D[m]=0;for(m=102601;m<=102603;m++)D[m]=0;for(m=102605;m<=102628;m++)D[m]=0;for(m=102629;m<=102646;m++)D[m]=2;for(m=102648;m<=102700;m++)D[m]=2;for(m=102701;m<=102703;m++)D[m]=0;for(m=102707;m<=102730;m++)D[m]=2;for(m=102733;m<=102758;m++)D[m]=2;for(m=102767;m<=102900;m++)D[m]=0;for(m=102901;m<=102933;m++)D[m]=2;for(m=102934;m<=102950;m++)D[m]=13;for(m=102951;m<=102955;m++)D[m]=0;for(m=102961;m<=102963;m++)D[m]=0;for(m=102965;m<=102969;m++)D[m]=0;for(m=102971;m<=102973;m++)D[m]=0;for(m=102975;m<=102989;m++)D[m]=0;for(m=102990;m<=102992;m++)D[m]=1;for(m=102997;m<=103002;m++)D[m]=0;for(m=103003;m<=103008;m++)D[m]=2;for(m=103009;m<=103011;m++)D[m]=0;for(m=103012;m<=103014;m++)D[m]=2;for(m=103019;m<=103021;m++)D[m]=0;for(m=103022;m<=103024;m++)D[m]=2;for(m=103029;m<=103031;m++)D[m]=0;for(m=103032;m<=103034;m++)D[m]=2;for(m=103065;m<=103068;m++)D[m]=0;for(m=103074;m<=103076;m++)D[m]=0;for(m=103077;m<=103079;m++)D[m]=1;for(m=103080;m<=103082;m++)D[m]=0;for(m=103083;m<=103085;m++)D[m]=2;for(m=103090;m<=103093;m++)D[m]=0;for(m=103097;m<=103099;m++)D[m]=0;for(m=103100;m<=103102;m++)D[m]=2;for(m=103107;m<=103109;m++)D[m]=0;for(m=103110;m<=103112;m++)D[m]=2;for(m=103113;m<=103116;m++)D[m]=0;for(m=103117;m<=103120;m++)D[m]=2;for(m=103153;m<=103157;m++)D[m]=0;for(m=103158;m<=103162;m++)D[m]=2;for(m=103163;m<=103165;m++)D[m]=0;for(m=103166;m<=103168;m++)D[m]=1;for(m=103169;m<=103171;m++)D[m]=2;for(m=103186;m<=103188;m++)D[m]=0;for(m=103189;m<=103191;m++)D[m]=2;for(m=103192;m<=103195;m++)D[m]=0;for(m=103196;m<=103199;m++)D[m]=2;for(m=103200;m<=103224;m++)D[m]=0;for(m=103225;m<=103227;m++)D[m]=1;for(m=103232;m<=103237;m++)D[m]=0;for(m=103238;m<=103243;m++)D[m]=2;for(m=103244;m<=103246;m++)D[m]=0;for(m=103247;m<=103249;m++)D[m]=2;for(m=103254;m<=103256;m++)D[m]=0;for(m=103257;m<=103259;m++)D[m]=2;for(m=103264;m<=103266;m++)D[m]=0;for(m=103267;m<=103269;m++)D[m]=2;for(m=103300;m<=103375;m++)D[m]=0;for(m=103381;m<=103383;m++)D[m]=0;for(m=103384;m<=103386;m++)D[m]=1;for(m=103387;m<=103389;m++)D[m]=0;for(m=103390;m<=103392;m++)D[m]=2;for(m=103397;m<=103399;m++)D[m]=0;for(m=103400;m<=103471;m++)D[m]=2;for(m=103476;m<=103478;m++)D[m]=0;for(m=103479;m<=103481;m++)D[m]=2;for(m=103486;m<=103488;m++)D[m]=0;for(m=103489;m<=103491;m++)D[m]=2;for(m=103492;m<=103495;m++)D[m]=0;for(m=103496;m<=103499;m++)D[m]=2;for(m=103528;m<=103543;m++)D[m]=0;for(m=103544;m<=103548;m++)D[m]=2;for(m=103549;m<=103551;m++)D[m]=0;for(m=103552;m<=103554;m++)D[m]=1;for(m=103555;m<=103557;m++)D[m]=2;for(m=103558;m<=103560;m++)D[m]=0;for(m=103571;m<=103573;m++)D[m]=0;for(m=103574;m<=103576;m++)D[m]=2;for(m=103577;m<=103580;m++)D[m]=0;for(m=103581;m<=103583;m++)D[m]=2;for(m=103595;m<=103694;m++)D[m]=0;for(m=103696;m<=103699;m++)D[m]=0;for(m=103700;m<=103793;m++)D[m]=2;for(m=103794;m<=103887;m++)D[m]=0;for(m=103900;m<=103971;m++)D[m]=2;const yhe={102113:!0,102100:!0,3857:!0,3785:!0},ghe={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},T6='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',Vx=[-20037508342788905e-9,20037508342788905e-9],jx=[-20037508342787e-6,20037508342787e-6],oJ={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Vx,origin:jx,dx:1e-5},102100:{wkTemplate:T6,valid:Vx,origin:jx,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Vx,origin:jx,dx:1e-5},3857:{wkTemplate:T6,valid:Vx,origin:jx,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Ci(e,t){return!te(e)&&!te(t)&&(e===t||(e.wkid!=null||t.wkid!=null?e.wkid===t.wkid||im(e)&&im(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function xl(e){return Hi(e)&&e.wkid&&oJ[e.wkid]||null}function sJ(e){return!!Hi(e)&&(e.wkid?D[e.wkid]==null:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function vhe(e){return!(N0(e)||D0(e))}function S1(e){return Hi(e)&&e.wkid===4326}function kXe(e){return Hi(e)&&e.wkid===la.CGCS2000}function im(e){return Hi(e)&&e.wkid!=null&&yhe[e.wkid]===!0}function bhe(e){return Hi(e)&&e.wkid===32662}function lD(e){return e===la.GCSMARS2000||e===la.GCSMARS2000_SPHERE}function N0(e){return Hi(e)&&e.wkid!=null&&lD(e.wkid)}function cD(e){return e===la.GCSMOON2000}function D0(e){return Hi(e)&&e.wkid!=null&&cD(e.wkid)}function whe(e){return Hi(e)&&e.wkid!=null&&ghe[e.wkid]===!0}function Hi(e){return G(e)&&(e.wkid!=null&&e.wkid>=2e3||e.wkt!=null)}const _he={wkid:4326,wkt:Sc(oJ[4326].wkTemplate,{Central_Meridian:"0.0"})},xhe={wkid:102100,latestWkid:3857},She={wkid:32662};var Nl;let hr=Nl=class extends ve{constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return Nl.WebMercator;if(e.wkid===4326)return Nl.WGS84}const t=new Nl;return t.read(e),t}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return S1(this)}get isWebMercator(){return im(this)}get isGeographic(){return sJ(this)}get isWrappable(){return whe(this)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Nl.WGS84)return Nl.WGS84;if(this===Nl.WebMercator)return Nl.WebMercator;const e=new Nl;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=X(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||n?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return Ci(this,e)}toJSON(e){return this.write(void 0,e)}};hr.GCS_NAD_1927=null,hr.WGS84=null,hr.WebMercator=null,hr.PlateCarree=null,u([h({readOnly:!0})],hr.prototype,"isWGS84",null),u([h({readOnly:!0})],hr.prototype,"isWebMercator",null),u([h({readOnly:!0})],hr.prototype,"isGeographic",null),u([h({readOnly:!0})],hr.prototype,"isWrappable",null),u([h({type:Ir,json:{write:!0}})],hr.prototype,"latestWkid",void 0),u([h({type:Ir,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt===null}}}}}}})],hr.prototype,"wkid",void 0),u([h({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid===null}}}}}}})],hr.prototype,"wkt",void 0),u([Ae("wkt"),Ae("web-scene","wkt")],hr.prototype,"writeWkt",null),u([h({type:Ir,json:{write:!0}})],hr.prototype,"vcsWkid",void 0),u([h({type:Ir,json:{write:!0}})],hr.prototype,"latestVcsWkid",void 0),u([h()],hr.prototype,"imageCoordinateSystem",void 0),hr=Nl=u([B("esri.geometry.SpatialReference")],hr),hr.prototype.toJSON.isDefaultToJSON=!0,hr.GCS_NAD_1927=new hr({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),hr.WGS84=new hr(_he),hr.WebMercator=new hr(xhe),hr.PlateCarree=new hr(She),Object.freeze&&(Object.freeze(hr.GCS_NAD_1927),Object.freeze(hr.WGS84),Object.freeze(hr.WebMercator));const mt=hr,aJ="20220708",lJ="7fd01dbc0e83d753fcf101c8ff2a8d215430252d",cJ="4.24",Che={async request(e,t){var a;const{default:r}=await ae(()=>Promise.resolve().then(()=>Bhe),void 0,import.meta.url),n=e.options,i=n.responseType;n.signal=t==null?void 0:t.signal,n.responseType=i==="native"||i==="native-request-init"?"native-request-init":["blob","json","text"].includes(i)&&((a=XK(e.url))==null?void 0:a.after)?i:"array-buffer";const o=await r(e.url,n),s={data:o.data,ssl:o.ssl};switch(o.requestOptions.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}};let Br;function PXe(e){Br=e}function $he(e){const t=Br&&Br.findCredential(e);return t&&t.token?iJ(e,"token",t.token):e}oe("host-webworker")||(oe("edge")||oe("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");const Ehe=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function uJ(e){const t=_l(e,!0);return t&&t.endsWith(".arcgis.com")&&!Ehe.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function Ihe(e,t,r=!1,n){return new Promise((i,o)=>{if(Il(n))return void o(k6());let s=()=>{c(),o(new Error(`Unable to load ${t}`))},a=()=>{const d=e;c(),i(d)},l=()=>{if(!e)return;const d=e;c(),d.src="",o(k6())};const c=()=>{oe("esri-image-decode")||(e.removeEventListener("error",s),e.removeEventListener("load",a)),s=null,a=null,e=null,G(n)&&n.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};G(n)&&n.addEventListener("abort",l),oe("esri-image-decode")?e.decode().then(a,s):(e.addEventListener("error",s),e.addEventListener("load",a))})}function k6(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}function Mhe(e){qt.request.crossOriginNoCorsDomains||(qt.request.crossOriginNoCorsDomains={});const t=qt.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[_l(r)]=0:(t[_l("http://"+r)]=0,t[_l("https://"+r)]=0)}function The(e){const t=qt.request.crossOriginNoCorsDomains;if(t){let r=_l(e);if(r)return r=r.toLowerCase(),!x1(r,tD())&&t[r]<Date.now()-36e5}return!1}async function khe(e){var n;const t=qt.request.crossOriginNoCorsDomains;t&&(t[_l(e).toLowerCase()]=Date.now());const r=vn(e);e=r.path,((n=r.query)==null?void 0:n.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function _r(e,t){var c;const r=xm(e),n=yI(e);n||r||(e=ha(e));const i={url:e,requestOptions:{...t}};let o=XK(e);if(o){const d=await Dhe(o,i);if(d!=null)return{data:d,getHeader:uD,requestOptions:i.requestOptions,url:i.url};o.after||o.error||(o=null)}if(e=i.url,(t=i.requestOptions).responseType==="image"){if(oe("host-webworker")||oe("host-node"))throw yl("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i)}else if(r)throw yl("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),i);if(t.method==="head"){if(t.body)throw yl("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(r||n)throw yl("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await Ahe(),x2)return x2.execute(e,t);const s=new AbortController;wa(t,()=>s.abort());const a={controller:s,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:o,params:i,redoRequest:!1,useIdentity:al.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},l=await Vhe(a);return(c=o==null?void 0:o.after)==null||c.call(o,l),l}let x2;const al=qt.request,dJ="FormData"in globalThis,Phe=[499,498,403,401],Ohe=["COM_0056","COM_0057","SB_0008"],Lhe=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],uD=()=>null,fL=Symbol();function Rhe(e){const t=_l(e);t&&!_r._corsServers.includes(t)&&_r._corsServers.push(t)}function P6(e){const t=_l(e);return!t||t.endsWith(".arcgis.com")||_r._corsServers.includes(t)||nD(t)}function yl(e,t,r,n){let i="Error";const o={url:r.url,requestOptions:r.requestOptions,getHeader:uD,ssl:!1};if(t instanceof Z)return t.details?(t.details=X(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const s=n&&(c=>n.headers.get(c)),a=n&&n.status,l=t.message;l&&(i=l),s&&(o.getHeader=s),o.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||a||0,o.subCode=t.subcode,o.messageCode=t.messageCode,typeof t.details=="string"?o.messages=[t.details]:o.messages=t.details,o.raw=fL in t?t[fL]:t}return Gi(t)?Zr():new Z(e,i,o)}async function Ahe(){oe("host-webworker")?x2||(x2=await ae(()=>import("./request.fd97d957.js"),[],import.meta.url)):_r._abortableFetch||(_r._abortableFetch=globalThis.fetch.bind(globalThis))}async function mL(){Br||await ae(()=>import("./IdentityManager.9b3498f5.js"),[],import.meta.url)}async function Fhe(e){var a;const t=e.params.url,r=e.params.requestOptions,n=e.controller.signal,i=r.body;let o=null,s=null;if(dJ&&"HTMLFormElement"in globalThis&&(i instanceof FormData?o=i:i instanceof HTMLFormElement&&(o=new FormData(i))),typeof i=="string"&&(s=i),e.fetchOptions={cache:r.cacheBust&&!_r._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:al.priority,redirect:"follow",signal:n},(o||s)&&(e.fetchOptions.body=o||s),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||((a=r.query)==null?void 0:a.token)||(o==null?void 0:o.get("token"))),!e.hasToken&&qt.apiKey&&uJ(t)&&(r.query||(r.query={}),r.query.token=qt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!pJ(t)&&!Il(n)){let l;r.authMode==="immediate"?(await mL(),l=await Br.getCredential(t,{signal:n}),e.credential=l):r.authMode==="no-prompt"?(await mL(),l=await Br.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=l):Br&&(l=Br.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function pJ(e){return Lhe.some(t=>t.test(e))}async function Nhe(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions,i=yI(t)||xm(t),o=r.responseType||"json",s=i?0:r.timeout!=null?r.timeout:al.timeout;let a=!1;if(!i){e.useSSL&&(t=sD(t)),r.cacheBust&&n.cache==="default"&&(t=iJ(t,"request.preventCache",Date.now()));let f={...r.query};e.credentialToken&&(f.token=e.credentialToken);let y=_1(f);oe("esri-url-encodes-apostrophe")&&(y=y.replace(/'/g,"%27"));const g=t.length+1+y.length;let v;a=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||g>al.maxUrlLength;const b=r.useProxy||!!mI(t);if(b){const w=Xpe(t);v=w.path,!a&&v.length+1+g>al.maxUrlLength&&(a=!0),w.query&&(f={...w.query,...f})}if(n.method==="HEAD"&&(a||b)){if(a)throw g>al.maxUrlLength?yl("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):yl("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(b)throw yl("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(a?(n.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=mC(t,f):(n.body=_1(f),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=mC(t,f),b&&(e.useProxy=!0,t=`${v}?${t}`),f.token&&dJ&&n.body instanceof FormData&&!/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)&&n.body.set("token",f.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!x1(t,tD())){if(nD(t))e.withCredentials=!0;else if(Br){const w=Br.findServerInfo(t);w&&w.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(n.credentials="include",The(t)&&await khe(a?mC(t,f):t))}let l,c,d=0,p=!1;s>0&&(d=setTimeout(()=>{p=!0,e.controller.abort()},s));try{if(r.responseType==="native-request-init")c=n,c.url=t;else if(r.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||a||zhe(r.headers)||!i&&!e.useProxy&&al.proxyUrl&&!P6(t)){if(l=await _r._abortableFetch(t,n),e.useProxy||Rhe(t),r.responseType==="native")c=l;else if(n.method!=="HEAD")if(l.ok){switch(o){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(d&&(clearTimeout(d),d=0),o==="json"||o==="xml"||o==="document")if(c)switch(o){case"json":c=JSON.parse(c);break;case"xml":c=O6(c,"application/xml");break;case"document":c=O6(c,"text/html")}else c=null;if(c){if(o==="array-buffer"||o==="blob"){const f=l.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(f)&&c[o==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}o==="image"&&c instanceof Blob&&(c=await L6(URL.createObjectURL(c),e,!0))}}else c=await l.text()}else c=await L6(t,e)}catch(f){if(f.name==="AbortError")throw p?new Error("Timeout exceeded"):Zr("Request canceled");if(!(!l&&f instanceof TypeError&&al.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||P6(t))throw f;e.redoRequest=!0,ehe({proxyUrl:al.proxyUrl,urlPrefix:_l(t)})}finally{d&&clearTimeout(d)}return[l,c]}async function Dhe(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(i){r=yl("request:interceptor",i,t)}if((n instanceof Error||n instanceof Z)&&(r=yl("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function zhe(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function O6(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function Vhe(e){var o;let t,r;await Fhe(e);try{do[t,r]=await Nhe(e);while(!await jhe(e,t,r))}catch(s){const a=yl("request:server",s,e.params,t);throw a.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(a),a}const n=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&((o=r.user)==null?void 0:o.username)&&!nD(n)){const s=_l(n,!0);s&&al.trustedServers.push(s)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&Mhe(r.authorizedCrossOriginNoCorsDomains)}const i=e.credential;if(i&&Br){const s=Br.findServerInfo(i.server);let a=s&&s.owningSystemUrl;if(a){a=a.replace(/\/?$/,"/sharing");const l=Br.findCredential(a,i.userId);l&&Br._getIdenticalSvcIdx(a,l)===-1&&l.resources.unshift(a)}}return{data:r,getHeader:t?s=>t.headers.get(s):uD,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function jhe(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let i,o,s,a;if(!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[fL]=r,i;r!=null&&r.error&&(i=r.error),i&&(o=Number(i.code),s=i.hasOwnProperty("subcode")?Number(i.subcode):null,a=i.messageCode,a=a&&a.toUpperCase());const l=n.authMode;if(o===403&&(s===4||i.message&&i.message.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||o===498)&&Phe.includes(o)&&!pJ(e.params.url)&&(o!==403||!Ohe.includes(a)&&(s==null||s===2&&e.credentialToken))){await mL();try{const c=await Br.getCredential(e.params.url,{error:yl("request:server",i,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=null,e.credentialToken=null,!1;i=c}}if(i)throw i;return!0}function L6(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=al.priority,i.src=e,Ihe(i,e,r,n)}_r._abortableFetch=null,_r._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const Bhe=Object.freeze(Object.defineProperty({__proto__:null,default:_r},Symbol.toStringTag,{value:"Module"}));function Pe(e,t,r){let n,i;return t===void 0||Array.isArray(t)?(i=e,r=t,n=[void 0]):(i=t,n=Array.isArray(e)?e:[e]),(o,s)=>{const a=o.constructor.prototype;n.forEach(l=>{const c=MK(o,l,i);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[s],r&&(c.read.source=(c.read.source||[]).concat(r))})}}let Dl=class extends ve{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=mt.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof mt)return e;if(e!=null){const r=new mt;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};u([h()],Dl.prototype,"type",void 0),u([h({readOnly:!0})],Dl.prototype,"cache",null),u([h({readOnly:!0})],Dl.prototype,"extent",null),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Dl.prototype,"hasM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Dl.prototype,"hasZ",void 0),u([h({type:mt,json:{write:!0}})],Dl.prototype,"spatialReference",void 0),u([Pe("spatialReference")],Dl.prototype,"readSpatialReference",null),Dl=u([B("esri.geometry.Geometry")],Dl);const Wo=Dl,Uhe=Object.prototype.toString;function Ghe(e){const t="__accessorMetadata__"in e?$n(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Hhe.apply(this,r)}}function Hhe(e,t,r,n){oI(e,t).cast=n}function qhe(e){return(t,r)=>{oI(t,e).cast=t[r]}}function zt(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&Uhe.call(e[0])==="[object Function]"?Ghe(e[0]):e.length===1&&typeof e[0]=="string"?qhe(e[0]):void 0}function Whe(e,t,r,n){var i;return e.x=e.x+t,e.y=e.y+r,n!=null&&(e.z=((i=e.z)!=null?i:0)+n),e}function Khe(e,t){const r=e.x-t.x,n=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)}class dD{constructor(t,r,n,i){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=n;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const kr=new dD(6378137,1/298.257223563,3e5,.006694379990137799),ku=new dD(3396190,1/169.8944472236118,23e4),jp=new dD(1737400,0,0),Jhe=57.29577951308232,Zhe=.017453292519943;function R6(e){return e*Jhe}function A6(e){return e*Zhe}function F6(e){return e/kr.radius}function N6(e){return Math.PI/2-2*Math.atan(Math.exp(-e/kr.radius))}function yL(e){return e.wkid!=null||e.wkt!=null}const zT=[0,0];function S2(e,t,r,n,i){const o=e,s=i;if(s.spatialReference=r,"x"in o&&"x"in s)[s.x,s.y]=t(o.x,o.y,zT,n);else if("xmin"in o&&"xmin"in s)[s.xmin,s.ymin]=t(o.xmin,o.ymin,zT,n),[s.xmax,s.ymax]=t(o.xmax,o.ymax,zT,n);else if("paths"in o&&"paths"in s||"rings"in o&&"rings"in s){const a="paths"in o?o.paths:o.rings,l=[];let c;for(let d=0;d<a.length;d++){const p=a[d];c=[],l.push(c);for(let f=0;f<p.length;f++)c.push(t(p[f][0],p[f][1],[0,0],n)),p[f].length>2&&c[f].push(p[f][2]),p[f].length>3&&c[f].push(p[f][3])}"paths"in s?s.paths=l:s.rings=l}else if("points"in o&&"points"in s){const a=o.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],n),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);s.points=l}return i}function yC(e,t){const r=e&&(yL(e)?e:e.spatialReference),n=t&&(yL(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!n)&&(!!Ci(n,r)||im(n)&&S1(r)||im(r)&&S1(n))}function gI(e,t){if(te(e))return null;const r=e.spatialReference,n=t&&(yL(t)?t:t.spatialReference);return yC(r,n)?Ci(r,n)?X(e):im(n)?S2(e,sg,mt.WebMercator,!1,X(e)):S1(n)?S2(e,Cw,mt.WGS84,!1,X(e)):null:null}function sg(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=A6(t);return r[0]=A6(e)*kr.radius,r[1]=kr.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function Cw(e,t,r=[0,0],n=!1){const i=R6(e/kr.radius);return r[0]=n?i:i-360*Math.floor((i+180)/360),r[1]=R6(Math.PI/2-2*Math.atan(Math.exp(-t/kr.radius))),r}function kp(e,t=!1,r=X(e)){return S2(e,sg,mt.WebMercator,t,r)}function fb(e,t=!1,r=X(e)){return S2(e,Cw,mt.WGS84,t,r)}var gC;const Mv=[0,0];function D6(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}const Bx=Ce.getLogger("esri.geometry.Point");let Zi=gC=class extends Wo{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}normalizeCtorArgs(e,t,r,n,i){let o;if(Array.isArray(e))o=e,i=t,e=o[0],t=o[1],r=o[2],n=o[3];else if(e&&typeof e=="object"){if(o=e,e=o.x!=null?o.x:o.longitude,t=o.y!=null?o.y:o.latitude,r=o.z,n=o.m,(i=o.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new mt(i)),o.longitude!=null||o.latitude!=null){if(o.longitude==null)Bx.warn(".longitude=","Latitude was defined without longitude");else if(o.latitude==null)Bx.warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&i&&i.isWebMercator){const a=sg(o.longitude,o.latitude,Mv);e=a[0],t=a[1]}}}else D6(r)?(i=r,r=null):D6(n)&&(i=n,n=null);const s={x:e,y:t};return s.x==null&&s.y!=null?Bx.warn(".y=","Y coordinate was defined without an X coordinate"):s.y==null&&s.x!=null&&Bx.warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(s.spatialReference=i),r!=null&&(s.z=r),n!=null&&(s.m=n),s}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return Cw(t,r,Mv)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;t&&(t.isWebMercator?this._set("y",sg(r,e,Mv)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return Cw(e,t,Mv)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",sg(e,t,Mv)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new gC;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return gC.copy(e,this),this}equals(e){if(te(e))return!1;const{x:t,y:r,z:n,m:i,spatialReference:o}=this,{z:s,m:a}=e;let{x:l,y:c,spatialReference:d}=e;if(!o.equals(d))if(o.isWebMercator&&d.isWGS84)[l,c]=sg(l,c),d=o;else{if(!o.isWGS84||!d.isWebMercator)return!1;[l,c]=Cw(l,c),d=o}return t===l&&r===c&&n===s&&i===a&&o.wkid===d.wkid}offset(e,t,r){return Whe(this,e,t,r)}normalize(){if(!this.spatialReference)return this;const e=xl(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let o;return t>n?(o=Math.ceil(Math.abs(t-n)/i),t-=o*i):t<r&&(o=Math.ceil(Math.abs(t-r)/i),t+=o*i),this._set("x",t),this}distance(e){return Khe(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],Zi.prototype,"cache",null),u([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Zi.prototype,"hasM",null),u([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Zi.prototype,"hasZ",null),u([h({type:Number})],Zi.prototype,"latitude",null),u([h({type:Number})],Zi.prototype,"longitude",null),u([h({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),zt(e=>isNaN(e)?e:sa(e))],Zi.prototype,"x",void 0),u([Ae("x")],Zi.prototype,"writeX",null),u([Pe("x")],Zi.prototype,"readX",null),u([h({type:Number,json:{write:!0}})],Zi.prototype,"y",void 0),u([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Zi.prototype,"z",void 0),u([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Zi.prototype,"m",void 0),Zi=gC=u([B("esri.geometry.Point")],Zi),Zi.prototype.toJSON.isDefaultToJSON=!0;const at=Zi,VT=[0,0];function vI(e,t){return!!G(t)&&to(e,t.x,t.y,t.z)}function OXe(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!t0(e,r))return!1;return!0}function Yhe(e,t){const{xmin:r,ymin:n,zmin:i,xmax:o,ymax:s,zmax:a}=t;return e.hasZ&&t.hasZ?to(e,r,n,i)&&to(e,r,s,i)&&to(e,o,s,i)&&to(e,o,n,i)&&to(e,r,n,a)&&to(e,r,s,a)&&to(e,o,s,a)&&to(e,o,n,a):to(e,r,n)&&to(e,r,s)&&to(e,o,s)&&to(e,o,n)}function t0(e,t){return to(e,t[0],t[1])}function Qhe(e,t){return to(e,t[0],t[1],t[2])}function to(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function hJ(e,t){return VT[1]=t.y,VT[0]=t.x,Xhe(e,VT)}function Xhe(e,t){return fJ(e.rings,t)}function fJ(e,t){if(!e)return!1;if(efe(e))return z6(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=z6(r,e[n],t);return r}function efe(e){return!Array.isArray(e[0][0])}function z6(e,t,r){const[n,i]=r;let o=e,s=0;for(let a=0,l=t.length;a<l;a++){s++,s===l&&(s=0);const[c,d]=t[a],[p,f]=t[s];(d<i&&f>=i||f<i&&d>=i)&&c+(i-d)/(f-d)*(p-c)<n&&(o=!o)}return o}function tfe(e,t){return vI(e,t)}function rfe(e,t){const r=e.hasZ&&t.hasZ;let n,i,o;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1}return!0}function nfe(e,t){const{points:r,hasZ:n}=t,i=n?Qhe:t0;for(const o of r)if(i(e,o))return!0;return!1}const om=[0,0],sm=[0,0],am=[0,0],lm=[0,0],ife=[om,sm,am,lm],mJ=[[am,om],[om,sm],[sm,lm],[lm,am]];function ofe(e,t){return sfe(e,t.rings)}function sfe(e,t){om[0]=e.xmin,om[1]=e.ymax,sm[0]=e.xmax,sm[1]=e.ymax,am[0]=e.xmin,am[1]=e.ymin,lm[0]=e.xmax,lm[1]=e.ymin;for(const r of ife)if(fJ(t,r))return!0;for(const r of t){if(!r.length)continue;let n=r[0];if(t0(e,n))return!0;for(let i=1;i<r.length;i++){const o=r[i];if(t0(e,o)||yJ(n,o,mJ))return!0;n=o}}return!1}function afe(e,t){om[0]=e.xmin,om[1]=e.ymax,sm[0]=e.xmax,sm[1]=e.ymax,am[0]=e.xmin,am[1]=e.ymin,lm[0]=e.xmax,lm[1]=e.ymin;const r=t.paths;for(const n of r){if(!r.length)continue;let i=n[0];if(t0(e,i))return!0;for(let o=1;o<n.length;o++){const s=n[o];if(t0(e,s)||yJ(i,s,mJ))return!0;i=s}}return!1}const ni=[0,0];function lfe(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const o=r[i],s=r[i+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],d=e[a][l+1];if(gL(o,s,c,d,ni)&&!(ni[0]===o[0]&&ni[1]===o[1]||ni[0]===c[0]&&ni[1]===c[1]||ni[0]===s[0]&&ni[1]===s[1]||ni[0]===d[0]&&ni[1]===d[1]))return!0}}const n=r.length;if(!(n<=4))for(let i=0;i<n-3;i++){let o=n-1;i===0&&(o=n-2);const s=r[i],a=r[i+1];for(let l=i+2;l<o;l++){const c=r[l],d=r[l+1];if(gL(s,a,c,d,ni)&&!(ni[0]===s[0]&&ni[1]===s[1]||ni[0]===c[0]&&ni[1]===c[1]||ni[0]===a[0]&&ni[1]===a[1]||ni[0]===d[0]&&ni[1]===d[1]))return!0}}}return!1}function yJ(e,t,r){for(let n=0;n<r.length;n++)if(gL(e,t,r[n][0],r[n][1]))return!0;return!1}function gL(e,t,r,n,i){const[o,s]=e,[a,l]=t,[c,d]=r,[p,f]=n,y=p-c,g=o-c,v=a-o,b=f-d,w=s-d,x=l-s,S=b*v-y*x;if(S===0)return!1;const C=(y*w-b*g)/S,$=(v*w-x*g)/S;return C>=0&&C<=1&&$>=0&&$<=1&&(i&&(i[0]=o+C*(a-o),i[1]=s+C*(l-s)),!0)}function cfe(e){switch(e){case"esriGeometryEnvelope":case"extent":return rfe;case"esriGeometryMultipoint":case"multipoint":return nfe;case"esriGeometryPoint":case"point":return tfe;case"esriGeometryPolygon":case"polygon":return ofe;case"esriGeometryPolyline":case"polyline":return afe}}var Us;function ufe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function id(e,t,r){return t==null?r:r==null?t:e(t,r)}let Un=Us=class extends Wo{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return ufe(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?mt.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:i==null?mt.WGS84:i}}static fromBounds(e,t){return new Us({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Us({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new at({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Us;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&yC(t,r)&&(e=t.isWebMercator?kp(e):fb(e,!0)),e.type==="point"?vI(this,e):e.type==="extent"&&Yhe(this,e)}equals(e){if(this===e)return!0;if(te(e))return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&yC(t,r)&&(e=t.isWebMercator?kp(e):fb(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(te(e))return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&yC(t,r)&&(e=t.isWebMercator?kp(e):fb(e,!0)),cfe(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=id(Math.min,this.zmin,e.zmin),this.zmax=id(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=id(Math.min,this.mmin,e.mmin),this.mmax=id(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:te(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=id(Math.max,this.zmin,e.zmin),this.zmax=id(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=id(Math.max,this.mmin,e.mmin),this.mmax=id(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=xl(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const n=t.isWebMercator?fb(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new mt(Sc(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,o=this.xmax;return i>=r&&i<=n&&o>=r&&o<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;if(!(r=r||xl(n)))return this;const i=this._getParts(r).map(a=>a.extent);if(i.length<2)return i[0]||this;if(i.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return i;let o=!0,s=!0;return i.forEach(a=>{a.hasZ||(o=!1),a.hasM||(s=!1)}),{rings:i.map(a=>{const l=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(o){const c=(a.zmax-a.zmin)/2;for(let d=0;d<l.length;d++)l[d].push(c)}if(s){const c=(a.mmax-a.mmin)/2;for(let d=0;d<l.length;d++)l[d].push(c)}return l}),hasZ:o,hasM:s,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:o,spatialReference:s}=this,a=this.width,l=this.xmin,c=this.xmax;let d;e=e||xl(s);const[p,f]=e.valid;d=this._normalizeX(this.xmin,e);const y=d.x,g=d.frameId;d=this._normalizeX(this.xmax,e);const v=d.x,b=d.frameId,w=y===v&&a>0;if(a>2*f){const x=new Us(l<c?y:v,i,f,o,s),S=new Us(p,i,l<c?v:y,o,s),C=new Us(0,i,f,o,s),$=new Us(p,i,0,o,s),M=[],I=[];x.contains(C)&&M.push(g),x.contains($)&&I.push(g),S.contains(C)&&M.push(b),S.contains($)&&I.push(b);for(let T=g+1;T<b;T++)M.push(T),I.push(T);t.push({extent:x,frameIds:[g]},{extent:S,frameIds:[b]},{extent:C,frameIds:M},{extent:$,frameIds:I})}else y>v||w?t.push({extent:new Us(y,i,f,o,s),frameIds:[g]},{extent:new Us(p,i,v,o,s),frameIds:[b]}):t.push({extent:new Us(y,i,v,o,s),frameIds:[g]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),n&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let o=0;o<t.length;o++)t[o].extent.set(i)}return t}_normalizeX(e,t){const[r,n]=t.valid,i=2*n;let o,s=0;return e>n?(o=Math.ceil(Math.abs(e-n)/i),e-=o*i,s=o):e<r&&(o=Math.ceil(Math.abs(e-r)/i),e+=o*i,s=-o),{x:e,frameId:s}}};u([h({readOnly:!0})],Un.prototype,"cache",null),u([h({readOnly:!0})],Un.prototype,"center",null),u([h({readOnly:!0})],Un.prototype,"extent",null),u([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Un.prototype,"hasM",null),u([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Un.prototype,"hasZ",null),u([h({readOnly:!0})],Un.prototype,"height",null),u([h({readOnly:!0})],Un.prototype,"width",null),u([h({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Un.prototype,"xmin",void 0),u([h({type:Number,json:{write:!0}})],Un.prototype,"ymin",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Un.prototype,"mmin",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Un.prototype,"zmin",void 0),u([h({type:Number,json:{write:!0}})],Un.prototype,"xmax",void 0),u([h({type:Number,json:{write:!0}})],Un.prototype,"ymax",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Un.prototype,"mmax",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Un.prototype,"zmax",void 0),Un=Us=u([B("esri.geometry.Extent")],Un),Un.prototype.toJSON.isDefaultToJSON=!0;const er=Un;let $w;var TH,kH,PH;const jT=(PH=(TH=globalThis.esriConfig)==null?void 0:TH.locale)!=null?PH:(kH=globalThis.dojoConfig)==null?void 0:kH.locale;function gJ(){var e,t;return(t=jT!=null?jT:(e=globalThis.navigator)==null?void 0:e.language)!=null?t:"en"}function Is(){return $w===void 0&&($w=gJ()),$w}const Ew=[];function vJ(e){return Ew.push(e),{remove(){Ew.splice(Ew.indexOf(e),1)}}}const vL=[];function pD(e){return vL.push(e),{remove(){Ew.splice(vL.indexOf(e),1)}}}function dfe(){const e=gJ();$w!==e&&($w=e,[...vL].forEach(t=>{t.call(null,e)}),[...Ew].forEach(t=>{t.call(null,e)}))}var OH;(OH=globalThis.addEventListener)==null||OH.call(globalThis,"languagechange",dfe);class Et{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=t,this.options=r,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,o)=>{const s=this.toJSON(n);s!==void 0&&qo(o,s,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(this.apiToJSON.hasOwnProperty(t)){const r=this.apiToJSON[t];return this.options.useNumericKeys?+r:r}return this.options.ignoreUnknown?void 0:t}fromJSON(t){return this.jsonToAPI.hasOwnProperty(t)?this.jsonToAPI[t]:this.options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const n in t)r[t[n]]=n;return r}_getKeysSorted(t){const r=[];for(const n in t)r.push(n);return r.sort(),r}}function Ii(){return function(e,t){return new Et(e,{ignoreUnknown:!0,...t})}}var bL;const pfe=new Et({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Gs=bL=class extends Ve{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new bL({categories:this.categories?X(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,n;if(this.categories&&(r=this.categories.map(s=>Array.isArray(s)?JSON.stringify(s):s)),this.extent){const s=gI(this.extent,mt.WGS84);G(s)&&(n=`${s.xmin},${s.ymin},${s.xmax},${s.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const o={categories:r,bbox:n,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map(s=>pfe.toJSON(s.trim())).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};u([h()],Gs.prototype,"categories",void 0),u([h()],Gs.prototype,"disableExtraQuery",void 0),u([h({type:er})],Gs.prototype,"extent",void 0),u([h()],Gs.prototype,"filter",void 0),u([h()],Gs.prototype,"num",void 0),u([h()],Gs.prototype,"query",void 0),u([h()],Gs.prototype,"sortField",void 0),u([h()],Gs.prototype,"sortOrder",null),u([h()],Gs.prototype,"start",void 0),Gs=bL=u([B("esri.portal.PortalQueryParams")],Gs);const Su=Gs;let vh=class extends Ve{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([h()],vh.prototype,"nextQueryParams",void 0),u([h()],vh.prototype,"queryParams",void 0),u([h()],vh.prototype,"results",void 0),u([h()],vh.prototype,"total",void 0),vh=u([B("esri.portal.PortalQueryResult")],vh);const hfe=vh;let Wc=class extends ve{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([h({type:Date})],Wc.prototype,"created",void 0),u([h()],Wc.prototype,"id",void 0),u([h()],Wc.prototype,"portal",void 0),u([h()],Wc.prototype,"title",void 0),u([h({readOnly:!0})],Wc.prototype,"url",null),u([h()],Wc.prototype,"username",void 0),Wc=u([B("esri.portal.PortalFolder")],Wc);const ffe=Wc;let Gn=class extends ve{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=$n(Su,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new Su,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Su,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then(r=>{const n=r.contentCategorySetsGroupQuery;if(n){const i=new Su;return i.disableExtraQuery=!0,i.num=1,i.query=n,this.portal.queryGroups(i,t)}throw new Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const n=r.results[0],i=new Su;return i.num=1,i.query=`typekeywords:"${e}"`,n.queryItems(i,t)}throw new Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(n=>{const i=n&&n.categorySchema;return i&&i.length?i:[]}):[])}};u([h()],Gn.prototype,"access",void 0),u([h({type:Date})],Gn.prototype,"created",void 0),u([h()],Gn.prototype,"description",void 0),u([h()],Gn.prototype,"id",void 0),u([h()],Gn.prototype,"isInvitationOnly",void 0),u([h({type:Date})],Gn.prototype,"modified",void 0),u([h()],Gn.prototype,"owner",void 0),u([h()],Gn.prototype,"portal",void 0),u([h()],Gn.prototype,"snippet",void 0),u([h()],Gn.prototype,"sortField",void 0),u([h()],Gn.prototype,"sortOrder",void 0),u([h()],Gn.prototype,"tags",void 0),u([h()],Gn.prototype,"thumbnail",void 0),u([h({readOnly:!0})],Gn.prototype,"thumbnailUrl",null),u([h()],Gn.prototype,"title",void 0),u([h({readOnly:!0})],Gn.prototype,"url",null),Gn=u([B("esri.portal.PortalGroup")],Gn);const wL=Gn,mfe=Object.freeze(Object.defineProperty({__proto__:null,default:wL},Symbol.toStringTag,{value:"Module"}));var _L;let Or=_L=class extends ve{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,n=e&&e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let o=this.userContentUrl;return n&&(o+="/"+(typeof n=="string"?n:n.id)),this.portal._request(o+"/addItem",i).then(s=>(t.id=s.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map(n=>n.id);if(r.length){const n={method:"post",query:{items:r.join(",")}};return this.portal._request(t,n).then(()=>{e.forEach(i=>{i.id=null,i.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal._request(this.userContentUrl,e).then(t=>{let r;return r=t&&t.folders?t.folders.map(n=>{const i=ffe.fromJSON(n);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal._request(this.url).then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const n=wL.fromJSON(r);return n.portal=this.portal,n}):[],t})}fetchItems(e){e||(e={});let t,r=this.userContentUrl;return e.folder&&(r+="/"+e.folder.id),ae(()=>Promise.resolve().then(()=>bJ),void 0,import.meta.url).then(({default:n})=>{t=n;const i={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(r,{query:i})}).then(n=>{let i;return n&&n.items?(i=n.items.map(o=>{const s=t.fromJSON(o);return s.portal=this.portal,s}),Promise.all(i.map(o=>o.load())).catch(o=>o).then(()=>({items:i,nextStart:n.nextStart,total:n.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new wL({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new _L;return t.sourceJSON=e,t.read(e),t}};u([h()],Or.prototype,"access",void 0),u([h({type:Date})],Or.prototype,"created",void 0),u([h()],Or.prototype,"culture",void 0),u([h()],Or.prototype,"description",void 0),u([h()],Or.prototype,"email",void 0),u([h()],Or.prototype,"favGroupId",void 0),u([h()],Or.prototype,"fullName",void 0),u([h({type:Date})],Or.prototype,"modified",void 0),u([h()],Or.prototype,"orgId",void 0),u([h()],Or.prototype,"portal",void 0),u([h()],Or.prototype,"preferredView",void 0),u([h()],Or.prototype,"privileges",void 0),u([h()],Or.prototype,"region",void 0),u([h()],Or.prototype,"role",void 0),u([h()],Or.prototype,"roleId",void 0),u([h()],Or.prototype,"sourceJSON",void 0),u([h()],Or.prototype,"thumbnail",void 0),u([h({readOnly:!0})],Or.prototype,"thumbnailUrl",null),u([h()],Or.prototype,"units",void 0),u([h({readOnly:!0})],Or.prototype,"userContentUrl",null),u([h({readOnly:!0})],Or.prototype,"url",null),u([h()],Or.prototype,"username",void 0),u([h()],Or.prototype,"userType",void 0),Or=_L=u([B("esri.portal.PortalUser")],Or);const hD=Or,yfe=Object.freeze(Object.defineProperty({__proto__:null,default:hD},Symbol.toStringTag,{value:"Module"}));var us;let BT;const V6={PortalGroup:()=>ae(()=>Promise.resolve().then(()=>mfe),void 0,import.meta.url),PortalItem:()=>ae(()=>Promise.resolve().then(()=>bJ),void 0,import.meta.url),PortalUser:()=>ae(()=>Promise.resolve().then(()=>yfe),void 0,import.meta.url)};let Te=us=class extends $_(Os){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=qt.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)qt.request.trustedServers.includes(t)||qt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=hD.fromJSON(e),t.portal=this),t}load(e){const t=ae(()=>Promise.resolve().then(()=>Afe),void 0,import.meta.url).then(({default:r})=>{Ar(e),BT=r}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e)).then(r=>{if(Br){const n=Br;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==us.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=n.on("credential-create",()=>{n.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await ae(()=>import("./ElevationLayer.4cd746fe.js"),["ElevationLayer.4cd746fe.js","ArcGISCachedService.9af53120.js","TilemapCache.4f67f6b7.js"],import.meta.url)).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}fetchBasemaps(e,t){const r=new Su;return r.query=e||(qt.apiKey&&uJ(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then(n=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',n.total){const i=n.results[0];return r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc",i.queryItems(r,t)}return null}).then(n=>{let i;return i=n&&n.total?n.results.filter(o=>o.type==="Web Map").map(o=>new BT({portalItem:o})):[],i})}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Il(e)?Promise.reject(Zr()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new Su;if(r.num=100,r.sortField="title",t&&t.length){const n=[];for(const i of t)n.push(`(title:"${i.title}" AND owner:${i.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,e).then(i=>i.results)}return Il(e)?Promise.reject(Zr()):Promise.resolve([])}fetchRegions(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Is();return this._request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Is();return this._request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return us._default&&!us._default.destroyed||(us._default=new us),us._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new us({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new Z("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const n=this.restUrl+"/portals/self",i={authMode:e,query:{culture:Is().toLowerCase()},...r};return i.authMode==="auto"&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this._request(n,i)}_queryPortal(e,t,r,n){const i=$n(Su,t),o=s=>this._request(this.restUrl+e,{...i.toRequestOptions(this),...n}).then(a=>{const l=i.clone();return l.start=a.nextStart,new hfe({nextQueryParams:l,queryParams:i,total:a.total,results:us._resultsToTypedArray(s,{portal:this},a,n)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(S_(l),a)));return r&&V6[r]?V6[r]().then(({default:s})=>(Ar(n),o(s))):o()}_signIn(){if(this.authMode===us.AUTH_MODE_ANONYMOUS)return Promise.reject(new Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Br?Br.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then(n=>{const i=us._resultsToTypedArray(r,{portal:this},n);return Promise.all(i.map(o=>typeof o.when=="function"?o.when():n)).then(()=>i,()=>i)})}_readBasemap(e){if(e){const t=BT.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const r={f:"json",...t.query},{authMode:n=this.authMode===us.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:i=null,cacheBust:o=!1,method:s="auto",responseType:a="json",signal:l}=t,c={authMode:n,body:i,cacheBust:o,method:s,query:r,responseType:a,timeout:0,signal:l};return _r(this._normalizeSSL(e),c).then(d=>d.data)}static _resultsToTypedArray(e,t,r,n){let i;if(r){const o=G(n)?n.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map(s=>{const a=Object.assign(e?e.fromJSON(s):s,t);return typeof a.load=="function"&&a.load(o),a}))}else i=[];return i}};Te.AUTH_MODE_ANONYMOUS="anonymous",Te.AUTH_MODE_AUTO="auto",Te.AUTH_MODE_IMMEDIATE="immediate",u([h()],Te.prototype,"access",void 0),u([h()],Te.prototype,"allSSL",void 0),u([h()],Te.prototype,"authMode",void 0),u([h()],Te.prototype,"authorizedCrossOriginDomains",void 0),u([Pe("authorizedCrossOriginDomains")],Te.prototype,"readAuthorizedCrossOriginDomains",null),u([h()],Te.prototype,"basemapGalleryGroupQuery",void 0),u([h()],Te.prototype,"bingKey",void 0),u([h()],Te.prototype,"canListApps",void 0),u([h()],Te.prototype,"canListData",void 0),u([h()],Te.prototype,"canListPreProvisionedItems",void 0),u([h()],Te.prototype,"canProvisionDirectPurchase",void 0),u([h()],Te.prototype,"canSearchPublic",void 0),u([h()],Te.prototype,"canShareBingPublic",void 0),u([h()],Te.prototype,"canSharePublic",void 0),u([h()],Te.prototype,"canSignInArcGIS",void 0),u([h()],Te.prototype,"canSignInIDP",void 0),u([h()],Te.prototype,"colorSetsGroupQuery",void 0),u([h()],Te.prototype,"commentsEnabled",void 0),u([h({type:Date})],Te.prototype,"created",void 0),u([h()],Te.prototype,"credential",void 0),u([h()],Te.prototype,"culture",void 0),u([h()],Te.prototype,"currentVersion",void 0),u([h()],Te.prototype,"customBaseUrl",void 0),u([h()],Te.prototype,"defaultBasemap",void 0),u([Pe("defaultBasemap")],Te.prototype,"readDefaultBasemap",null),u([h()],Te.prototype,"defaultDevBasemap",void 0),u([Pe("defaultDevBasemap")],Te.prototype,"readDefaultDevBasemap",null),u([h({type:er})],Te.prototype,"defaultExtent",void 0),u([h()],Te.prototype,"defaultVectorBasemap",void 0),u([Pe("defaultVectorBasemap")],Te.prototype,"readDefaultVectorBasemap",null),u([h()],Te.prototype,"description",void 0),u([h()],Te.prototype,"devBasemapGalleryGroupQuery",void 0),u([h()],Te.prototype,"eueiEnabled",void 0),u([h({readOnly:!0})],Te.prototype,"extraQuery",null),u([h()],Te.prototype,"featuredGroups",void 0),u([h()],Te.prototype,"featuredItemsGroupQuery",void 0),u([h()],Te.prototype,"galleryTemplatesGroupQuery",void 0),u([h()],Te.prototype,"livingAtlasGroupQuery",void 0),u([h()],Te.prototype,"hasCategorySchema",void 0),u([h()],Te.prototype,"helpBase",void 0),u([h()],Te.prototype,"helperServices",void 0),u([h()],Te.prototype,"helpMap",void 0),u([h()],Te.prototype,"homePageFeaturedContent",void 0),u([h()],Te.prototype,"homePageFeaturedContentCount",void 0),u([h()],Te.prototype,"httpPort",void 0),u([h()],Te.prototype,"httpsPort",void 0),u([h()],Te.prototype,"id",void 0),u([h()],Te.prototype,"ipCntryCode",void 0),u([h({readOnly:!0})],Te.prototype,"isOrganization",null),u([h()],Te.prototype,"isPortal",void 0),u([h()],Te.prototype,"isReadOnly",void 0),u([h()],Te.prototype,"layerTemplatesGroupQuery",void 0),u([h()],Te.prototype,"maxTokenExpirationMinutes",void 0),u([h({type:Date})],Te.prototype,"modified",void 0),u([h()],Te.prototype,"name",void 0),u([h()],Te.prototype,"portalHostname",void 0),u([h()],Te.prototype,"portalMode",void 0),u([h()],Te.prototype,"portalProperties",void 0),u([h()],Te.prototype,"region",void 0),u([h({readOnly:!0})],Te.prototype,"restUrl",null),u([h()],Te.prototype,"rotatorPanels",void 0),u([h()],Te.prototype,"showHomePageDescription",void 0),u([h()],Te.prototype,"sourceJSON",void 0),u([h()],Te.prototype,"staticImagesUrl",void 0),u([h({json:{name:"2DStylesGroupQuery"}})],Te.prototype,"stylesGroupQuery2d",void 0),u([h({json:{name:"stylesGroupQuery"}})],Te.prototype,"stylesGroupQuery3d",void 0),u([h()],Te.prototype,"supportsHostedServices",void 0),u([h()],Te.prototype,"symbolSetsGroupQuery",void 0),u([h()],Te.prototype,"templatesGroupQuery",void 0),u([h()],Te.prototype,"thumbnail",void 0),u([h({readOnly:!0})],Te.prototype,"thumbnailUrl",null),u([h()],Te.prototype,"units",void 0),u([h()],Te.prototype,"url",void 0),u([h()],Te.prototype,"urlKey",void 0),u([Pe("urlKey")],Te.prototype,"readUrlKey",null),u([h()],Te.prototype,"user",void 0),u([Pe("user")],Te.prototype,"readUser",null),u([h()],Te.prototype,"useStandardizedQuery",void 0),u([h()],Te.prototype,"useVectorBasemaps",void 0),u([h()],Te.prototype,"vectorBasemapGalleryGroupQuery",void 0),Te=us=u([B("esri.portal.Portal")],Te);const di=Te,gfe=Ce.getLogger("esri.assets");function Nt(e){if(!qt.assetsPath)throw gfe.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new Z("assets:path-not-set","config.assetsPath is not set");return nm(qt.assetsPath,e)}const vfe=Ce.getLogger("esri.portal.PortalItemResource");let bd=class extends Ve{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this._normalizePath(e.path,e.portalItem)}:e}set path(e){G(e)&&Es(e)?vfe.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.url;if(te(r))throw new Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:DN(t,"signal")})}async update(e,t){return(await ae(()=>import("./resourceUtils.29094a53.js"),[],import.meta.url)).addOrUpdateResource(this,"update",e,t)}hasPath(){return G(this.path)}_normalizePath(e,t){return te(e)?e:(e=e.replace(/^\/+/,""),G(t)&&Es(e)&&(e=iD(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};u([h()],bd.prototype,"portalItem",void 0),u([h({type:String,value:null})],bd.prototype,"path",null),u([zt("path")],bd.prototype,"_castPath",null),u([h({type:String,readOnly:!0})],bd.prototype,"url",null),u([h({type:String,readOnly:!0})],bd.prototype,"itemRelativeUrl",null),bd=u([B("esri.portal.PortalItemResource")],bd);const bfe=bd;let mb=class extends Ve{constructor(e){super(e),this.created=null,this.rating=null}};u([h()],mb.prototype,"created",void 0),u([h()],mb.prototype,"rating",void 0),mb=u([B("esri.portal.PortalRating")],mb);const UT=mb;var ly;let xt=ly=class extends $_(Os){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return KN(ly,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"&&this.portal&&this.portal.isPortal?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geocoding Service"?r="Locator":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e&&e.toLowerCase().includes("add in")?r=e.replace(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")&&(r="Instant App"),r}readExtent(e){return e&&e.length?new er(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",n="16";let i,o=!1,s=!1,a=!1,l=!1,c=!1,d=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(o=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(s=t.includes("Table"),a=t.includes("Route Layer"),l=t.includes("Markup"),c=t.includes("Spatiotemporal"),d=t.includes("UtilityNetwork"),i=c&&s?"spatiotemporaltable":s?"table":a?"routelayer":l?"markup":c?"spatiotemporal":o?"featureshosted":d?"utilitynetwork":"features"):i=e==="map service"||e==="wms"||e==="wmts"?o||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="video service"?"mediaservice":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"?t.includes("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":e==="geodata service"?"geodataservice":"layers"):i=e==="web map"||e==="cityengine web scene"?"maps":e==="web scene"?t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?"instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?"apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?"mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="360 vr experience"||e==="netcdf"||e==="administrative report"?"datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?"appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?"addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="form"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?"datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?"toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?"layersgray":e==="scene package"?"scenepackage":e==="mobile scene package"?"mobilescenepackage":e==="tile package"||e==="compact tile package"?"tilepackage":e==="task file"?"taskfile":e==="report template"?"report-template":e==="statistical data collection"?"statisticaldatacollection":e==="insights workbook"?"workbook":e==="insights model"?"insightsmodel":e==="insights page"?"insightspage":e==="insights theme"?"insightstheme":e==="hub initiative"?"hubinitiative":e==="hubpage"?"hubpage":e==="hub event"?"hubevent":e==="hub site application"?"hubsite":e==="hub project"?"hubproject":e==="relational database connection"?"relationaldatabaseconnection":e==="big data file share"?"datastorecollection":e==="image collection"?"imagecollection":e==="style"?"style":e==="desktop style"?"desktopstyle":e==="dashboard"?"dashboard":e==="raster function template"?"rasterprocessingtemplate":e==="vector tile package"?"vectortilepackage":e==="ortho mapping project"?"orthomappingproject":e==="ortho mapping template"?"orthomappingtemplate":e==="solution"?"solutions":e==="geopackage"?"geopackage":e==="deep learning package"?"deeplearningpackage":e==="real time analytic"?"realtimeanalytics":e==="big data analytic"?"bigdataanalytics":e==="feed"?"feed":e==="excalibur imagery project"?"excaliburimageryproject":e==="notebook"?"notebook":e==="storymap"?"storymap":e==="survey123 add in"?"survey123addin":e==="mission"?"mission":e==="mission report"?"missionreport":e==="quickcapture project"?"quickcaptureproject":e==="pro report"?"proreport":e==="urban model"?"urbanmodel":e==="web experience"?"experiencebuilder":e==="web experience template"?"webexperiencetemplate":e==="experience builder widget"?"experiencebuilderwidget":e==="experience builder widget package"?"experiencebuilderwidgetpackage":e==="workflow"?"workflow":e==="insights script"?"insightsscript":e==="kernel gateway connection"?"kernelgatewayconnection":e==="hub initiative template"?"hubinitiativetemplate":e==="storymap theme"?"storymaptheme":e==="knowledge graph"?"knowledgegraph":e==="native application"?"nativeapp":e==="native application installer"?"nativeappinstaller":e==="link chart"?"linkchart":e==="investigation"?"investigation":e==="ogcfeatureserver"?"features":e==="pro project"?"proproject":e==="insights workbook package"?"insightsworkbookpackage":e==="apache parquet"?"apacheparquet":e==="notebook code snippets"?"notebookcodesnippets":e==="suitability model"?"suitabilitymodel":e==="esri classifier definition"?"classifierdefinition":e==="esri classification schema"?"classificationschema":e==="insights data engineering workbook"?"dataengineeringworkbook":e==="insights data engineering model"?"dataengineeringmodel":e==="deep learning studio project"?"deeplearningproject":"maps",i?Nt(r+i+n+".png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].includes(this.type)}get itemUrl(){const e=this.get("portal.restUrl");return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=di.getDefault());const t=this.portal.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:G(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof UT&&(e=e.rating),isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then(()=>new UT({rating:e,created:new Date}))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:X(this.applicationProxies),avgRating:this.avgRating,categories:X(this.categories),created:X(this.created),culture:this.culture,description:this.description,extent:X(this.extent),groupCategories:X(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:X(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:X(this.screenshots),size:this.size,snippet:this.snippet,spatialReference:this.spatialReference,tags:X(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:X(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new ly({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const r of["tags","typeKeywords","categories"])e[r]&&(e[r]=e[r].join(", "));const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e}).then(t=>t.rating!=null?(t.created=new Date(t.created),new UT(t)):null)}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},ly)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const n in r.query)r.query[n]===null&&(r.query[n]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e.thumbnail,r=e.filename,n={method:"post"};if(typeof t=="string")xm(t)?n.query={data:t}:n.query={url:ml(t)},G(r)&&(n.query.filename=r);else{const i=new FormData;G(r)?i.append("file",t,r):i.append("file",t),n.body=i}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await ae(()=>import("./resourceUtils.29094a53.js"),[],import.meta.url)).fetchResources(this,e,t)}async addResource(e,t,r){const n=await ae(()=>import("./resourceUtils.29094a53.js"),[],import.meta.url);return e.portalItem=this,n.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await ae(()=>import("./resourceUtils.29094a53.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await ae(()=>import("./resourceUtils.29094a53.js"),[],import.meta.url)).removeAllResources(this,e)}resourceFromPath(e){return new bfe({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:X(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,spatialReference:this.spatialReference,tags:X(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:X(this.typeKeywords),url:this.url};return GW(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new ly({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};u([h({type:["private","shared","org","public"]})],xt.prototype,"access",void 0),u([h()],xt.prototype,"accessInformation",void 0),u([h({type:String})],xt.prototype,"apiKey",void 0),u([h({json:{read:{source:"appProxies"}}})],xt.prototype,"applicationProxies",void 0),u([h()],xt.prototype,"avgRating",void 0),u([h()],xt.prototype,"categories",void 0),u([h({type:Date})],xt.prototype,"created",void 0),u([h()],xt.prototype,"culture",void 0),u([h()],xt.prototype,"description",void 0),u([h({readOnly:!0})],xt.prototype,"displayName",null),u([h({type:er})],xt.prototype,"extent",void 0),u([Pe("extent")],xt.prototype,"readExtent",null),u([h()],xt.prototype,"groupCategories",void 0),u([h({readOnly:!0})],xt.prototype,"iconUrl",null),u([h()],xt.prototype,"id",void 0),u([h({readOnly:!0})],xt.prototype,"isLayer",null),u([h()],xt.prototype,"itemControl",void 0),u([h({readOnly:!0})],xt.prototype,"itemUrl",null),u([h()],xt.prototype,"licenseInfo",void 0),u([h({type:Date})],xt.prototype,"modified",void 0),u([h()],xt.prototype,"name",void 0),u([h()],xt.prototype,"numComments",void 0),u([h()],xt.prototype,"numRatings",void 0),u([h()],xt.prototype,"numViews",void 0),u([h()],xt.prototype,"owner",void 0),u([h()],xt.prototype,"ownerFolder",void 0),u([h({type:di})],xt.prototype,"portal",void 0),u([h()],xt.prototype,"screenshots",void 0),u([h()],xt.prototype,"size",void 0),u([h()],xt.prototype,"snippet",void 0),u([h()],xt.prototype,"sourceJSON",void 0),u([h({type:String})],xt.prototype,"spatialReference",void 0),u([h()],xt.prototype,"tags",void 0),u([h()],xt.prototype,"thumbnail",void 0),u([h({readOnly:!0})],xt.prototype,"thumbnailUrl",null),u([h()],xt.prototype,"title",void 0),u([h()],xt.prototype,"type",void 0),u([h()],xt.prototype,"typeKeywords",void 0),u([h({type:String,json:{read(e,t){var n;if(t.type!=="KML")return e;const r=(n=this.portal)==null?void 0:n.restUrl;return e||(e=r&&this.id?`${r}/content/items/${this.id}/data`:null),e}}})],xt.prototype,"url",void 0),u([h({readOnly:!0})],xt.prototype,"userItemUrl",null),xt=ly=u([B("esri.portal.PortalItem")],xt);const C2=xt,bJ=Object.freeze(Object.defineProperty({__proto__:null,default:C2},Symbol.toStringTag,{value:"Module"})),j6=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,wfe={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function B6(e){var t;return(t=wfe[e])!=null?t:!1}const yb=[],kg=new Map;function U6(e){for(const t of kg.keys())_J(e.pattern,t)&&kg.delete(t)}function _fe(e){return yb.includes(e)||(U6(e),yb.unshift(e)),{remove(){const t=yb.indexOf(e);t>-1&&(yb.splice(t,1),U6(e))}}}async function wJ(e){const t=Is();kg.has(e)||kg.set(e,Sfe(e,t));const r=kg.get(e);return await Cfe.add(r),r}function xfe(e){if(!j6.test(e))return null;const[,t,r]=j6.exec(e),n=t+(r?"-"+r.toUpperCase():"");return B6(n)?n:B6(t)?t:null}async function Sfe(e,t){const r=[];for(const n of yb)if(_J(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new Z("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new Z("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function _J(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}pD(()=>{kg.clear()});const Cfe=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Nu())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function $fe(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e,r=await wJ("esri/t9n/basemaps");return r[e]||r[t]}const xL={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return Nt("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return Nt("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Nt("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Nt("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return Nt("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Nt("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return Nt("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Nt("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Nt("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Nt("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Nt("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Nt("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Nt("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Nt("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Nt("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Nt("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}};function G6(e){const t=e==null?void 0:e.type;return t==="imagery-tile"||t==="tile"||t==="open-street-map"||t==="vector-tile"||t==="web-tile"||t==="wmts"}function Efe(e){const t=e==null?void 0:e.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}function fD(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function LXe(e){var t;return(e==null?void 0:e.type)==="feature"&&((t=e.source)==null?void 0:t.type)==="feature-layer"}function Ife(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const r=e.activeLayer.tileMatrixSets;if(r)return r}return null}const Mfe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),Tfe=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","route","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function kfe(e){return e.layerContainerType==="basemap"?Mfe:e.layerContainerType==="operational-layers"?Tfe:null}function Pfe(e,t){if(t.restrictedWebMapWriting){const r=kfe(t);return!G(r)||r.has(e.type)&&!fD(e)}return!0}function Ofe(e,t){if(fD(e)){const r=L0("featureCollection.layers",t),n=r&&r[0]&&r[0].layerDefinition;n&&GT(e,n)}else e.type==="stream"?GT(e,t.layerDefinition=t.layerDefinition||{}):e.type!=="group"&&GT(e,t)}function GT(e,t){"maxScale"in e&&(t.maxScale=b2(e.maxScale)),"minScale"in e&&(t.minScale=b2(e.minScale))}function Lfe(e,t){if(Ofe(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=b2(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts")if(fD(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function H6(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new Z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(Pfe(e,r)){const n={};return e.write(n,r)?n:null}return G(t)&&Lfe(e,t=X(t)),t}var vC;let Rfe=0;const HT=Ce.getLogger("esri.Basemap");let Hs=vC=class extends $_(Os){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Rfe++,this.baseLayers=new We,this.referenceLayers=new We;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&HT.error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=n=>{n.parent=null};this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>r(n.item)),this.referenceLayers.on("after-remove",n=>r(n.item))}initialize(){this.when().catch(e=>{HT.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var r;const e=this.baseLayers.removeAll();for(const n of e)n.destroy();const t=this.referenceLayers.removeAll();for(const n of t)n.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),(r=this.portalItem)==null||r.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",rm(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const n=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(i=>{const o=H6(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);G(o)&&n.push(o)}),this.referenceLayers.forEach(i=>{const o=H6(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);G(o)&&(o.isReference=!0,n.push(o))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",rm(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return WK(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new vC({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const n=X(r);return n.url&&$c(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&$c(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r}=this;Ar(e);const n=[];if(t){const i=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,i,e)),t.data.id&&!t.data.title){const o=t.data.id;n.push($fe(o).then(s=>{s&&this.read({title:s},t.context)}))}}else r&&n.push(this._loadFromItem(r,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,r){const n=this.resourceInfo&&this.resourceInfo.context,i=this.portalItem&&this.portalItem.portal||n&&n.portal||null,o=n&&n.origin==="web-scene"?"web-scene":"web-map",{populateOperationalLayers:s}=await ae(()=>import("./layersCreator.fe2100d9.js"),["layersCreator.fe2100d9.js","lazyLayerLoader.d04227a2.js","portalLayers.8204cd7a.js","layersLoader.00e5e57c.js","jsonContext.69c696c6.js","portalItemUtils.82093fb1.js"],import.meta.url),a=[];if(Ar(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const l={context:{origin:o,url:t,portal:i,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},c=s(this.baseLayers,e.baseMapLayers.filter(p=>!p.isReference),l);a.push(c);const d=s(this.referenceLayers,e.baseMapLayers.filter(p=>p.isReference),l);a.push(d)}await yn(a)}async _loadFromItem(e,t){const r=await e.load(t),n=await r.fetchData("json",t),i=vn(e.itemUrl);return this._set("resourceInfo",{data:n.baseMap,context:{origin:"web-map",portal:e.portal||di.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||di.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}static fromId(e){const t=xL[e];if(t){if(t.deprecated){let r=null;e==="dark-gray"?r="dark-gray-vector":e==="gray"?r="gray-vector":e==="streets"?r="streets-vector":e==="topo"&&(r="topo-vector"),uK(HT,`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:r,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return vC.fromJSON(t)}return null}};u([h({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:We}},writer(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],Hs.prototype,"baseLayers",null),u([h({type:String,json:{origins:{"web-scene":{write:!0}}}})],Hs.prototype,"id",void 0),u([h({type:C2})],Hs.prototype,"portalItem",void 0),u([h()],Hs.prototype,"referenceLayers",null),u([h({readOnly:!0})],Hs.prototype,"resourceInfo",void 0),u([h({type:mt})],Hs.prototype,"spatialReference",void 0),u([h()],Hs.prototype,"thumbnailUrl",void 0),u([h({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Hs.prototype,"title",void 0),u([Ae("title")],Hs.prototype,"writeTitle",null),Hs=vC=u([B("esri.Basemap")],Hs);const wc=Hs,Afe=Object.freeze(Object.defineProperty({__proto__:null,default:wc},Symbol.toStringTag,{value:"Module"})),$2={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function xJ(e){return $2[e]||$2[e.toLowerCase()]}function mD(e){var t;return(t=$2[e])!=null?t:$2[e.toLowerCase()]}function Ffe(e){return[...mD(e)]}function qT(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function SJ(e,t,r,n=1){const i=(e%360+360)%360/360,o=r<=.5?r*(t+1):r+t-r*t,s=2*r-o;return[Math.round(255*qT(s,o,i+1/3)),Math.round(255*qT(s,o,i)),Math.round(255*qT(s,o,i-1/3)),n]}function Nfe(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,o=t?e.length===9:e.length===5;let s=Number("0x"+e.substr(1));if(isNaN(s))return null;const a=[0,0,0,1];let l;return o&&(l=s&n,s>>=r,a[3]=i*l/255),l=s&n,s>>=r,a[2]=i*l,l=s&n,s>>=r,a[1]=i*l,l=s&n,s>>=r,a[0]=i*l,a}function Qo(){return[0,0,0]}function Dfe(e){return[e[0],e[1],e[2]]}function z0(e,t,r){return[e,t,r]}function zfe(e){const t=Qo(),r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function Vfe(e,t){return new Float64Array(e,t,3)}function CJ(){return Qo()}function $J(){return z0(1,1,1)}function EJ(){return z0(1,0,0)}function IJ(){return z0(0,1,0)}function MJ(){return z0(0,0,1)}const jfe=CJ(),TJ=$J(),Bfe=EJ(),Ufe=IJ(),Gfe=MJ();Object.freeze(Object.defineProperty({__proto__:null,create:Qo,clone:Dfe,fromValues:z0,fromArray:zfe,createView:Vfe,zeros:CJ,ones:$J,unitX:EJ,unitY:IJ,unitZ:MJ,ZEROS:jfe,ONES:TJ,UNIT_X:Bfe,UNIT_Y:Ufe,UNIT_Z:Gfe},Symbol.toStringTag,{value:"Module"}));const pt=1e-6,fp=Math.random,Hfe=Math.PI/180,qfe=180/Math.PI;function yD(e){return e*Hfe}function Wfe(e){return e*qfe}function Kfe(e,t){return Math.abs(e-t)<=pt*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,EPSILON:pt,RANDOM:fp,toRadian:yD,toDegree:Wfe,equals:Kfe},Symbol.toStringTag,{value:"Module"}));function gD(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function E2(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function kJ(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function PJ(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Iw(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function OJ(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function LJ(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function Jfe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Zfe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function Yfe(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function Qfe(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function Xfe(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function eme(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function tme(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function vD(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function rme(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function RJ(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function AJ(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function FJ(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function nme(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function ime(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function SL(e,t){const r=t[0],n=t[1],i=t[2];let o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function I2(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ome(e,t,r){const n=t[0],i=t[1],o=t[2],s=r[0],a=r[1],l=r[2];return e[0]=i*l-o*a,e[1]=o*s-n*l,e[2]=n*a-i*s,e}function sme(e,t,r,n){const i=t[0],o=t[1],s=t[2];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=s+n*(r[2]-s),e}function ame(e,t,r,n,i,o){const s=o*o,a=s*(2*o-3)+1,l=s*(o-2)+o,c=s*(o-1),d=s*(3-2*o);return e[0]=t[0]*a+r[0]*l+n[0]*c+i[0]*d,e[1]=t[1]*a+r[1]*l+n[1]*c+i[1]*d,e[2]=t[2]*a+r[2]*l+n[2]*c+i[2]*d,e}function lme(e,t,r,n,i,o){const s=1-o,a=s*s,l=o*o,c=a*s,d=3*o*a,p=3*l*s,f=l*o;return e[0]=t[0]*c+r[0]*d+n[0]*p+i[0]*f,e[1]=t[1]*c+r[1]*d+n[1]*p+i[1]*f,e[2]=t[2]*c+r[2]*d+n[2]*p+i[2]*f,e}function cme(e,t){t=t||1;const r=2*fp()*Math.PI,n=2*fp()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e}function ume(e,t,r){const n=t[0],i=t[1],o=t[2];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12],e[1]=r[1]*n+r[5]*i+r[9]*o+r[13],e[2]=r[2]*n+r[6]*i+r[10]*o+r[14],e}function dme(e,t,r){const n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function pme(e,t,r){const n=r[0],i=r[1],o=r[2],s=r[3],a=t[0],l=t[1],c=t[2];let d=i*c-o*l,p=o*a-n*c,f=n*l-i*a,y=i*f-o*p,g=o*d-n*f,v=n*p-i*d;const b=2*s;return d*=b,p*=b,f*=b,y*=2,g*=2,v*=2,e[0]=a+d+y,e[1]=l+p+g,e[2]=c+f+v,e}function hme(e,t,r,n){const i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function fme(e,t,r,n){const i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function mme(e,t,r,n){const i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function yme(e,t){E2(Ux,e),E2(Gx,t),SL(Ux,Ux),SL(Gx,Gx);const r=I2(Ux,Gx);return r>1?0:r<-1?Math.PI:Math.acos(r)}const Ux=Qo(),Gx=Qo();function gme(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function vme(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function bme(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],o=t[0],s=t[1],a=t[2];return Math.abs(r-o)<=pt*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=pt*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-a)<=pt*Math.max(1,Math.abs(i),Math.abs(a))}function wme(e,t,r){const n=r[0]-t[0],i=r[1]-t[1],o=r[2]-t[2];let s=n*n+i*i+o*o;return s>0?(s=1/Math.sqrt(s),e[0]=n*s,e[1]=i*s,e[2]=o*s,e):(e[0]=0,e[1]=0,e[2]=0,e)}const _me=Iw,xme=OJ,Sme=LJ,Cme=RJ,$me=AJ,Eme=gD,Ime=FJ;Object.freeze(Object.defineProperty({__proto__:null,length:gD,copy:E2,set:kJ,add:PJ,subtract:Iw,multiply:OJ,divide:LJ,ceil:Jfe,floor:Zfe,abs:Yfe,sign:Qfe,min:Xfe,max:eme,round:tme,scale:vD,scaleAndAdd:rme,distance:RJ,squaredDistance:AJ,squaredLength:FJ,negate:nme,inverse:ime,normalize:SL,dot:I2,cross:ome,lerp:sme,hermite:ame,bezier:lme,random:cme,transformMat4:ume,transformMat3:dme,transformQuat:pme,rotateX:hme,rotateY:fme,rotateZ:mme,angle:yme,str:gme,exactEquals:vme,equals:bme,direction:wme,sub:_me,mul:xme,div:Sme,dist:Cme,sqrDist:$me,len:Eme,sqrLen:Ime},Symbol.toStringTag,{value:"Module"}));function Mme(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Tme(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function kme(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function NJ(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function DJ(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function zJ(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function Pme(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Ome(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Lme(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function Rme(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function Ame(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Fme(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Nme(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function VJ(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+o*o)}function jJ(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+i*i+o*o}function BJ(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function UJ(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function Dme(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function zme(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Vme(e,t){const r=t[0],n=t[1],i=t[2],o=t[3];let s=r*r+n*n+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=r*s,e[1]=n*s,e[2]=i*s,e[3]=o*s),e}function jme(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function GJ(e,t,r,n){const i=t[0],o=t[1],s=t[2],a=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=s+n*(r[2]-s),e[3]=a+n*(r[3]-a),e}function Bme(e,t){let r,n,i,o,s,a;t=t||1;do r=2*fp()-1,n=2*fp()-1,s=r*r+n*n;while(s>=1);do i=2*fp()-1,o=2*fp()-1,a=i*i+o*o;while(a>=1);const l=Math.sqrt((1-s)/a);return e[0]=t*r,e[1]=t*n,e[2]=t*i*l,e[3]=t*o*l,e}function Ume(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*s,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*s,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*s,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*s,e}function Gme(e,t,r){const n=t[0],i=t[1],o=t[2],s=r[0],a=r[1],l=r[2],c=r[3],d=c*n+a*o-l*i,p=c*i+l*n-s*o,f=c*o+s*i-a*n,y=-s*n-a*i-l*o;return e[0]=d*c+y*-s+p*-l-f*-a,e[1]=p*c+y*-a+f*-s-d*-l,e[2]=f*c+y*-l+d*-a-p*-s,e[3]=t[3],e}function Hme(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function qme(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Wme(e,t){const r=e[0],n=e[1],i=e[2],o=e[3],s=t[0],a=t[1],l=t[2],c=t[3];return Math.abs(r-s)<=pt*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-a)<=pt*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=pt*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-c)<=pt*Math.max(1,Math.abs(o),Math.abs(c))}const Kme=NJ,Jme=DJ,Zme=zJ,Yme=VJ,Qme=jJ,Xme=BJ,eye=UJ;Object.freeze(Object.defineProperty({__proto__:null,copy:Mme,set:Tme,add:kme,subtract:NJ,multiply:DJ,divide:zJ,ceil:Pme,floor:Ome,min:Lme,max:Rme,round:Ame,scale:Fme,scaleAndAdd:Nme,distance:VJ,squaredDistance:jJ,length:BJ,squaredLength:UJ,negate:Dme,inverse:zme,normalize:Vme,dot:jme,lerp:GJ,random:Bme,transformMat4:Ume,transformQuat:Gme,str:Hme,exactEquals:qme,equals:Wme,sub:Kme,mul:Jme,div:Zme,dist:Yme,sqrDist:Qme,len:Xme,sqrLen:eye},Symbol.toStringTag,{value:"Module"}));const q6=new Float32Array(1);function RXe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Ko(e,t,r){return Math.min(Math.max(e,t),r)}function AXe(e){return(e&e-1)==0}function FXe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function NXe(e,t,r){return e+(t-e)*r}function gb(e){return e*Math.PI/180}function HJ(e){return 180*e/Math.PI}function DXe(e){return Math.acos(Ko(e,-1,1))}function qJ(e){return Math.asin(Ko(e,-1,1))}function tye(e,t,r=1e-6){if(isNaN(e)||isNaN(t))return!1;if(e===t)return!0;const n=Math.abs(e-t),i=Math.abs(e),o=Math.abs(t);if(e===0||t===0||i<1e-12&&o<1e-12){if(n>.01*r)return!1}else if(n/(i+o)>r)return!1;return!0}function Pg(e,t,r=1e-6){return isNaN(e)||isNaN(t)?!1:(e>t?e-t:t-e)<=r}function rye(e){return WJ(Math.max(-CL,Math.min(e,CL)))}function WJ(e){return q6[0]=e,q6[0]}function zXe(e,t){const r=gD(e),n=qJ(e[2]/r),i=Math.atan2(e[1]/r,e[0]/r);return kJ(t,r,n,i),t}function VXe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Pg(t,1)&&Pg(r,1)&&Pg(n,1))}const CL=WJ(34028234663852886e22);function Hx(e){return Ko(WN(e),0,255)}function qx(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}class _n{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,r,n,i=new _n){return i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()}static fromRgb(t,r){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){const i=n[2].split(/\s*,\s*/),o=n[1];if(o==="rgb"&&i.length===3||o==="rgba"&&i.length===4){const s=i[0];if(s.charAt(s.length-1)==="%"){const a=i.map(l=>2.56*parseFloat(l));return i.length===4&&(a[3]=parseFloat(i[3])),_n.fromArray(a,r)}return _n.fromArray(i.map(a=>parseFloat(a)),r)}if(o==="hsl"&&i.length===3||o==="hsla"&&i.length===4)return _n.fromArray(SJ(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}static fromHex(t,r=new _n){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const n=t.length===4?4:8,i=(1<<n)-1;let o=Number("0x"+t.substr(1));return isNaN(o)?null:(["b","g","r"].forEach(s=>{const a=o&i;o>>=n,r[s]=n===4?17*a:a}),r.a=1,r)}static fromArray(t,r=new _n){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const n=xJ(t)?mD(t):null;return n&&_n.fromArray(n,r)||_n.fromRgb(t,r)||_n.fromHex(t,r)}static fromJSON(t){return t&&new _n([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return G(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return G(t)?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){var r,n,i,o;return typeof t=="string"?_n.fromString(t,this):Array.isArray(t)?_n.fromArray(t,this):(this._set((r=t.r)!=null?r:0,(n=t.g)!=null?n:0,(i=t.b)!=null?i:0,(o=t.a)!=null?o:1),t instanceof _n||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),r=this.g.toString(16),n=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${n.length<2?"0"+n:n}`}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=_n.AlphaMode.ALWAYS){const r=Hx(this.r),n=Hx(this.g),i=Hx(this.b);return t===_n.AlphaMode.ALWAYS||this.a!==1?[r,n,i,Hx(255*this.a)]:[r,n,i]}clone(){return new _n(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return G(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(qx(this.r,0,255)),this.g=Math.round(qx(this.g,0,255)),this.b=Math.round(qx(this.b,0,255)),this.a=qx(this.a,0,1),this}_set(t,r,n,i){this.r=t,this.g=r,this.b=n,this.a=i}}_n.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(_n||(_n={}));const ze=_n;function jXe(e){}function nye(e){return()=>e}function nt(e,t={}){var i;const r=e instanceof Et?e:new Et(e,t),n={type:(i=t==null?void 0:t.ignoreUnknown)==null||i?r.apiValues:String,json:{type:r.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:r.read},write:{writer:r.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(n.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(n.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(n.json.name=t.name),h(n)}var $L;let bC=$L=class extends ve{constructor(e){super(e),this.type="none"}clone(){return new $L({type:this.type})}};u([nt({none:"none",stayAbove:"stay-above"})],bC.prototype,"type",void 0),bC=$L=u([B("esri.ground.NavigationConstraint")],bC);function bI(e){const t=WN(100*(1-e));return Math.max(0,Math.min(t,100))}function C1(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var EL;const W6=Ce.getLogger("esri.Ground");let Kc=EL=class extends $_(Os){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new We;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&W6.error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=n=>{n.parent=null};this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>r(n.item))}initialize(){this.when().catch(e=>{W6.error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",rm(e,this._get("layers")))}writeLayers(e,t,r,n){const i=[];e&&(n={...n,layerContainerType:"ground"},e.forEach(o=>{if("write"in o){const s={};nye(o)().write(s,n)&&i.push(s)}else n&&n.messages&&n.messages.push(new Z("layer:unsupported",`Layers (${o.title}, ${o.id}) of type '${o.declaredClass}' cannot be persisted in the ground`,{layer:o}))})),t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return WK(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await ae(()=>import("./ElevationQuery.055e40ce.js"),[],import.meta.url);Ar(t);const n=new r,i=this.layers.filter(K6).toArray();return n.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await ae(()=>import("./ElevationQuery.055e40ce.js"),[],import.meta.url);Ar(t);const n=new r,i=this.layers.filter(K6).toArray();return n.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:X(this.surfaceColor),navigationConstraint:X(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new EL({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve(null)}_loadLayersFromJSON(e,t,r){const n=t&&t.origin||"web-scene",i=t&&t.portal||null,o=t&&t.url||null;return ae(()=>import("./layersCreator.fe2100d9.js"),["layersCreator.fe2100d9.js","lazyLayerLoader.d04227a2.js","portalLayers.8204cd7a.js","layersLoader.00e5e57c.js","jsonContext.69c696c6.js","portalItemUtils.82093fb1.js"],import.meta.url).then(({populateOperationalLayers:s})=>{Ar(r);const a=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:n,url:o,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(s(this.layers,e.layers,l))}return yn(a)}).then(()=>{})}};function iye(e){return e&&"createElevationSampler"in e}function K6(e){return e.type==="elevation"||iye(e)}u([h({json:{read:!1}})],Kc.prototype,"layers",null),u([Ae("layers")],Kc.prototype,"writeLayers",null),u([h({readOnly:!0})],Kc.prototype,"resourceInfo",void 0),u([h({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Ir,read:{reader:C1,source:"transparency"},write:{writer:(e,t)=>{t.transparency=bI(e)},target:"transparency"}}})],Kc.prototype,"opacity",void 0),u([h({type:ze,json:{type:[Ir],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Kc.prototype,"surfaceColor",void 0),u([h({type:bC,json:{write:!0}})],Kc.prototype,"navigationConstraint",void 0),Kc=EL=u([B("esri.Ground")],Kc);const M2=Kc;let wC=class extends Ve{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!We.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||We.isCollection(e)?e.forEach(n=>this._isHandle(n)&&r.push(n)):r.push(e),this.notifyChange("size"),this}forEach(e,t){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||We.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(e=>{for(let t=0;t<e.length;t++)e[t].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};u([h({readOnly:!0})],wC.prototype,"size",null),wC=u([B("esri.core.Handles")],wC);const bn=wC;function fe(e,t,r={}){return bD(e,t,r,KJ)}function qi(e,t,r={}){return bD(e,t,r,JJ)}function bD(e,t,r={},n){let i=null;const o=r.once?(s,a)=>{n(s)&&(zo(i),t(s,a))}:(s,a)=>{n(s)&&t(s,a)};if(i=Bde(e,o,r.sync,r.equals),r.initial){const s=e();o(s,s)}return i}function Vo(e,t,r,n={}){let i=null,o=null,s=null;function a(){var d;i&&o&&(o.remove(),(d=n.onListenerRemove)==null||d.call(n,i),i=null,o=null)}function l(d){n.once&&n.once&&zo(s),r(d)}const c=fe(e,(d,p)=>{var f;a(),aI(d)&&(i=d,o=lI(d,t,l),(f=n.onListenerAdd)==null||f.call(n,d))},{sync:n.sync,initial:!0});return s=O0(()=>{c.remove(),a()}),s}function I_(e,t){return oye(e,JJ,t)}function oye(e,t,r){if(Il(r))return Promise.reject(Zr());const n=e();if(t!=null&&t(n))return Promise.resolve(n);let i=null;function o(){i=zo(i)}return new Promise((s,a)=>{i=iI([wa(r,()=>{o(),a(Zr())}),bD(e,l=>{o(),s(l)},{sync:!1,once:!0},t!=null?t:KJ)])})}function KJ(e){return!0}function JJ(e){return!!e}function sye(e,t,r={}){let n=!1;const i=fe(e,(o,s)=>{n||t(o,s)},r);return{remove(){i.remove()},pause(){n=!0},resume(){n=!1}}}const r0={sync:!0},At={initial:!0},bh={sync:!0,initial:!0};let Og=class extends Ve{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new bn,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r={}){return this._installWatch(e,t,r,fe)}addWhen(e,t,r={}){return this._installWatch(e,t,r,qi)}addOnCollectionChange(e,t,{initial:r=!1,final:n=!1}={}){const i=++this.handleId;return this.handles.add([Vo(e,"after-changes",this._createSyncUpdatingCallback(),r0),Vo(e,"change",t,{onListenerAdd:r?o=>t({added:o.toArray(),removed:[]}):void 0,onListenerRemove:n?o=>t({added:[],removed:o.toArray()}):void 0})],i),{remove:()=>this.handles.remove(i)}}addPromise(e){if(te(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(this.pendingPromises.size!==0||this.handles.has(Wx)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,r={},n){const i=++this.handleId;r.sync||this._installSyncUpdatingWatch(e,i);const o=n(e,t,r);return this.handles.add(o,i),{remove:()=>this.handles.remove(i)}}_installSyncUpdatingWatch(e,t){const r=this._createSyncUpdatingCallback(),n=fe(e,r,{sync:!0,equals:()=>!1});return this.handles.add(n,t),n}_createSyncUpdatingCallback(){return()=>{this.handles.remove(Wx),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(R0(()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(Wx))}),Wx)}}};u([h({readOnly:!0})],Og.prototype,"updating",void 0),Og=u([B("esri.core.support.WatchUpdatingTracking")],Og);const Wx=-42;var J6;(function(e){e[e.NONE=0]="NONE",e[e.SYNC=1]="SYNC",e[e.INIT=2]="INIT"})(J6||(J6={}));const Pc=e=>{let t=class extends e{destroy(){var r,n;this.destroyed||((r=this._get("handles"))==null||r.destroy(),(n=this._get("updatingHandles"))==null||n.destroy())}get handles(){return this._get("handles")||new bn}get updatingHandles(){return this._get("updatingHandles")||new Og}};return u([h({readOnly:!0})],t.prototype,"handles",null),u([h({readOnly:!0})],t.prototype,"updatingHandles",null),t=u([B("esri.core.HandleOwner")],t),t};let $1=class extends Pc(Ve){};$1=u([B("esri.core.HandleOwner")],$1);let cy=class extends Pc(We){constructor(e){super(e),this.getCollections=null}initialize(){this.handles.add(bK(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const e=G(this.getCollections)?this.getCollections():null;if(te(e))return void this.removeAll();let t=0;for(const r of e)G(r)&&(t=this._processCollection(t,r));this.splice(t,this.length)}_createNewInstance(e){return new We(e)}_processCollection(e,t){if(!t)return e;const r=this.itemFilterFunction?this.itemFilterFunction:n=>!!n;for(const n of t)if(n){if(r(n)){const i=this.indexOf(n,e);i>=0?i!==e&&this.reorder(n,e):this.add(n,e),++e}if(this.getChildrenFunction){const i=this.getChildrenFunction(n);if(Array.isArray(i))for(const o of i)e=this._processCollection(e,o);else e=this._processCollection(e,i)}}return e}};u([h()],cy.prototype,"getCollections",void 0),u([h()],cy.prototype,"getChildrenFunction",void 0),u([h()],cy.prototype,"itemFilterFunction",void 0),cy=u([B("esri.core.CollectionFlattener")],cy);const n0=cy;function aye(e){var t;return!!(e&&e.loaded&&"capabilities"in e&&((t=e==null?void 0:e.capabilities)==null?void 0:t.operations)&&"supportsEditing"in e.capabilities.operations&&e.capabilities.operations.supportsEditing===!0)&&!("editingEnabled"in e&&!e.editingEnabled)}const Z6=Ce.getLogger("esri.support.basemapUtils");function lye(){return{}}function cye(e){for(const t in e){const r=e[t];(r==null?void 0:r.destroyed)===!1&&r.destroy(),delete e[t]}}function uye(e,t){let r;if(typeof e=="string"){if(!(e in xL)){const n=Object.entries(xL).filter(([i,o])=>qt.apiKey&&!o.classic||!qt.apiKey&&o.classic&&!o.deprecated).map(([i])=>`"${i}"`).join(", ");return Z6.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${n}`),null}t&&(r=t[e]),r||(r=wc.fromId(e),t&&(t[e]=r))}else r=$n(wc,e);return r!=null&&r.destroyed&&(Z6.warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function dye(e,t){return e===t?!0:yye(Y6(e),Y6(t),{mustMatchReferences:!0})==="equal"}function pye(e,t){var i,o,s;if(te(t)||te(e))return{spatialReference:null,updating:!1};if(t.loadStatus==="not-loaded")return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(t.baseLayers.length===0)return{spatialReference:null,updating:!1};const r=t.baseLayers.getItemAt(0);switch(r.loadStatus){case"not-loaded":r.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const n=(("supportedSpatialReferences"in r?r.supportedSpatialReferences:null)||["tileInfo"in r?(i=r.tileInfo)==null?void 0:i.spatialReference:r.spatialReference]).filter(Boolean);return e.spatialReference?{spatialReference:(s=(o=n.find(a=>e.spatialReference.equals(a)))!=null?o:n[0])!=null?s:null,updating:!1}:{spatialReference:n[0],updating:!1}}function Y6(e){return e?!e.loaded&&e.resourceInfo?fye(e.resourceInfo.data):{baseLayers:Q6(e.baseLayers),referenceLayers:Q6(e.referenceLayers)}:null}function Q6(e){return(We.isCollection(e)?e.toArray():e).map(hye)}function hye(e){var t,r;return{type:e.type,url:ZJ("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&e.minScale!=null?e.minScale:0,maxScale:"maxScale"in e&&e.maxScale!=null?e.maxScale:0,opacity:e.opacity!=null?e.opacity:1,visible:e.visible==null||!!e.visible,sublayers:e.type!=="map-image"&&e.type!=="wms"||!G(e.sublayers)||(t=e.sublayers)==null?void 0:t.map(n=>({id:n.id,visible:n.visible})),activeLayerId:e.type==="wmts"?(r=e.activeLayer)==null?void 0:r.id:void 0}}function fye(e){return e?{baseLayers:X6(e.baseMapLayers.filter(t=>!t.isReference)),referenceLayers:X6(e.baseMapLayers.filter(t=>t.isReference))}:null}function X6(e){return e.map(t=>mye(t))}function mye(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:ZJ(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale!=null?e.minScale:0,maxScale:e.maxScale!=null?e.maxScale:0,opacity:e.opacity!=null?e.opacity:1,visible:e.visibility==null||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}function yye(e,t,r){return e!=null!=(t!=null)?"not-equal":e?ej(e.baseLayers,t.baseLayers)?ej(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function ej(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!gye(e[r],t[r]))return!1;return!0}function gye(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity)return!1;if(G(e.activeLayerId)||G(t.activeLayerId))return e.activeLayerId===t.activeLayerId;if(G(e.sublayers)||G(t.sublayers)){if(te(e.sublayers)||te(t.sublayers)||e.sublayers.length!==t.sublayers.length)return!1;for(let r=0;r<e.sublayers.length;r++){const n=e.sublayers.at(r),i=t.sublayers.at(r);if(n.id!==i.id||n.visible!==i.visible)return!1}}return!0}function ZJ(e){return e?ha(e).replace(/^\s*https?:/i,"").toLowerCase():""}function vye(e){return new n0({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return r&&"tables"in r&&r.tables.includes(t)}})}const bye=Ce.getLogger("esri.support.groundUtils"),tj={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function wye(e){let t=null;if(typeof e=="string")if(e in tj){const r=tj[e];t=new M2({resourceInfo:{data:{layers:[r]}}})}else bye.warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=$n(M2,e);return t}function i0(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?t.length!==4||n||i?t.length===3&&r&&!n?(i=!0,n=!1):t.length===3&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}var IL;function rj(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function _ye(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let wd=IL=class extends Wo{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return null;const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):_ye(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const n=r.points&&r.points[0];return n&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=n.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=n.length>3:r.hasM===void 0&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new er,r=this.hasZ,n=this.hasM,i=r?3:2,o=e[0],s=rj(Math.min),a=rj(Math.max);let l,c,d,p,[f,y]=o,[g,v]=o;for(let b=0,w=e.length;b<w;b++){const x=e[b],[S,C]=x;if(f=s(f,S),y=s(y,C),g=a(g,S),v=a(v,C),r&&x.length>2){const $=x[2];l=s(l,$),d=a(d,$)}if(n&&x.length>i){const $=x[i];c=s(c,$),p=a(p,$)}}return t.xmin=f,t.ymin=y,t.xmax=g,t.ymax=v,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=d):(t.zmin=null,t.zmax=null),n?(t.mmin=c,t.mmax=p):(t.mmin=null,t.mmax=null),t}writePoints(e,t){t.points=X(this.points)}addPoint(e){return i0(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:X(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new IL(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new at(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new at(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(i0(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};u([h({readOnly:!0})],wd.prototype,"cache",null),u([h()],wd.prototype,"extent",null),u([h({type:[[Number]],json:{write:{isRequired:!0}}})],wd.prototype,"points",void 0),u([Ae("points")],wd.prototype,"writePoints",null),wd=IL=u([B("esri.geometry.Multipoint")],wd),wd.prototype.toJSON.isDefaultToJSON=!0;const V0=wd;function xye(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function Sye(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function Cye(e,t,r,n){const[i,o]=t,[s,a]=r[n],[l,c]=r[n+1],d=l-s,p=c-a,f=d*d+p*p,y=(i-s)*d+(o-a)*p,g=Math.min(1,Math.max(0,y/f));return e[0]=s+d*g,e[1]=a+p*g,e}function $ye(e,t){return Sye(e,t,.5)}function wD(e,t,r){const n=e.length;let i=0,o=0,s=0;for(let a=0;a<n;a++){const l=e[a],c=e[(a+1)%n];let d=2;i+=l[0]*c[1]-c[0]*l[1],l.length>2&&c.length>2&&r&&(o+=l[0]*c[2]-c[0]*l[2],d=3),l.length>d&&c.length>d&&t&&(s+=l[0]*c[d]-c[0]*l[d])}return i<=0&&o<=0&&s<=0}function BXe(e){if("rings"in e){for(const t of e.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]);if(e.rings.length>0&&!wD(e.rings[0],e.hasM,e.hasZ))for(let t=0;t<e.rings.length;++t)e.rings[t]=e.rings[t].reverse()}}function UXe(e){if("rings"in e)for(const t of e.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]])}function GXe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Eye(e){return e?Iye(e.rings,e.hasZ):null}function Iye(e,t){if(!e||!e.length)return null;const r=[],n=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let o=0,s=e.length;o<s;o++){const a=Mye(e[o],t,i);a&&n.push(a)}if(n.sort((o,s)=>{let a=o[2]-s[2];return a===0&&t&&(a=o[4]-s[4]),a}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const o=e[0]&&e[0].length?Tye(e[0],t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function Mye(e,t,r){let n=0,i=0,o=0,s=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,d=e.length&&t?e[0][2]:0;for(let f=0;f<e.length;f++){const y=e[f],g=e[(f+1)%e.length],[v,b,w]=y,x=v-l,S=b-c,C=t?w-d:void 0,[$,M,I]=g,T=$-l,O=M-c,L=t?I-d:void 0,N=x*O-T*S;if(s+=N,n+=(x+T)*N,i+=(S+O)*N,t&&y.length>2&&g.length>2){const H=x*L-T*C;o+=(C+L)*H,a+=H}v<r[0]&&(r[0]=v),v>r[1]&&(r[1]=v),b<r[2]&&(r[2]=b),b>r[3]&&(r[3]=b),t&&(w<r[4]&&(r[4]=w),w>r[5]&&(r[5]=w))}if(s>0&&(s*=-1),a>0&&(a*=-1),!s)return null;s*=.5,a*=.5;const p=[n/(6*s)+l,i/(6*s)+c,s];return t&&(r[4]===r[5]||a===0?(p[3]=(r[4]+r[5])/2,p[4]=0):(p[3]=o/(6*a)+d,p[4]=a)),p}function Tye(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,o=0,s=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const d=e[l],p=e[l+1];if(d&&p){r[0]=d[0],r[1]=d[1],n[0]=p[0],n[1]=p[1],t&&d.length>2&&p.length>2&&(r[2]=d[2],n[2]=p[2]);const f=xye(r,n);if(f){i+=f;const y=$ye(d,p);o+=f*y[0],s+=f*y[1],t&&y.length>2&&(a+=f*y[2])}}}return i>0?t?[o/i,s/i,a/i]:[o/i,s/i]:e.length?e[0]:null}function YJ(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function QJ(e){return e.points!==void 0}function XJ(e){return e.x!==void 0&&e.y!==void 0}function eZ(e){return e.paths!==void 0}function tZ(e){return e.rings!==void 0}function rZ(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}const mp=rZ(Math.min),yp=rZ(Math.max);function HXe(e,t){return eZ(t)?o0(e,t.paths,!1,!1):tZ(t)?o0(e,t.rings,!1,!1):QJ(t)?_D(e,t.points,!1,!1,!1,!1):YJ(t)?nZ(e,t):(XJ(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function qXe(e,t){return eZ(t)?o0(e,t.paths,!0,!1):tZ(t)?o0(e,t.rings,!0,!1):QJ(t)?_D(e,t.points,!0,!1,!0,!1):YJ(t)?nZ(e,t,!0,!1,!0,!1):(XJ(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function o0(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let o,s,a,l,[c,d]=t[0][0],[p,f]=t[0][0];for(let y=0;y<t.length;y++){const g=t[y];for(let v=0;v<g.length;v++){const b=g[v],[w,x]=b;if(c=mp(c,w),d=mp(d,x),p=yp(p,w),f=yp(f,x),r&&b.length>2){const S=b[2];o=mp(o,S),s=yp(s,S)}if(n&&b.length>i){const S=b[i];a=mp(o,S),l=yp(s,S)}}}return r?n?(e[0]=c,e[1]=d,e[2]=o,e[3]=a,e[4]=p,e[5]=f,e[6]=s,e[7]=l,e.length=8,e):(e[0]=c,e[1]=d,e[2]=o,e[3]=p,e[4]=f,e[5]=s,e.length=6,e):n?(e[0]=c,e[1]=d,e[2]=a,e[3]=p,e[4]=f,e[5]=l,e.length=6,e):(e[0]=c,e[1]=d,e[2]=p,e[3]=f,e.length=4,e)}function nZ(e,t,r,n,i,o){const s=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let d=t.zmin,p=t.zmax,f=t.mmin,y=t.mmax;return i?(d=d||0,p=p||0,o?(f=f||0,y=y||0,e[0]=s,e[1]=l,e[2]=d,e[3]=f,e[4]=a,e[5]=c,e[6]=p,e[7]=y,e):(e[0]=s,e[1]=l,e[2]=d,e[3]=a,e[4]=c,e[5]=p,e)):o?(f=f||0,y=y||0,e[0]=s,e[1]=l,e[2]=f,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=s,e[1]=l,e[2]=a,e[3]=c,e)}function _D(e,t,r,n,i,o){const s=r?3:2,a=n&&o,l=r&&i;if(!t.length||!t[0].length)return null;let c,d,p,f,[y,g]=t[0],[v,b]=t[0];for(let w=0;w<t.length;w++){const x=t[w],[S,C]=x;if(y=mp(y,S),g=mp(g,C),v=yp(v,S),b=yp(b,C),l&&x.length>2){const $=x[2];c=mp(c,$),d=yp(d,$)}if(a&&x.length>s){const $=x[s];p=mp(c,$),f=yp(d,$)}}return i?(c=c||0,d=d||0,o?(p=p||0,f=f||0,e[0]=y,e[1]=g,e[2]=c,e[3]=p,e[4]=v,e[5]=b,e[6]=d,e[7]=f,e):(e[0]=y,e[1]=g,e[2]=c,e[3]=v,e[4]=b,e[5]=d,e)):o?(p=p||0,f=f||0,e[0]=y,e[1]=g,e[2]=p,e[3]=v,e[4]=b,e[5]=f,e):(e[0]=y,e[1]=g,e[2]=v,e[3]=b,e)}function kye(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Pye(e){return e.points!==void 0}function Oye(e){return e.x!==void 0&&e.y!==void 0}function Lye(e){return e.paths!==void 0}function Rye(e){return e.rings!==void 0}const xD=[];function iZ(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function oZ(e,t,r,n,i,o){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:o}}function sZ(e,t,r,n,i,o){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:o}}function aZ(e,t,r,n,i,o,s,a){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:o,zmax:s,mmax:a}}function SD(e,t=!1,r=!1){return t?r?aZ(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):oZ(e[0],e[1],e[2],e[3],e[4],e[5]):r?sZ(e[0],e[1],e[2],e[3],e[4],e[5]):iZ(e[0],e[1],e[2],e[3])}function WXe(e){return e?kye(e)?e:Oye(e)?Fye(e):Rye(e)?lZ(e):Lye(e)?cZ(e):Pye(e)?Aye(e):null:null}function Aye(e){const{hasZ:t,hasM:r,points:n}=e;return SD(_D(xD,n,t,r),t,r)}function Fye(e){const{x:t,y:r,z:n,m:i}=e,o=i!=null;return n!=null?o?aZ(t,r,n,i,t,r,n,i):oZ(t,r,n,t,r,n):o?sZ(t,r,i,t,r,i):iZ(t,r,t,r)}function lZ(e){const{hasZ:t,hasM:r,rings:n}=e,i=o0(xD,n,t,r);return i?SD(i,t,r):null}function cZ(e){const{hasZ:t,hasM:r,paths:n}=e,i=o0(xD,n,t,r);return i?SD(i,t,r):null}var _C;function nj(e){return!Array.isArray(e[0])}let zl=_C=class extends Wo{constructor(...e){super(...e),this.rings=[],this.type="polygon"}static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let n=!1,i=!1;for(const s of t)s.hasZ&&(n=!0),s.hasM&&(i=!0);const o={rings:t.map(s=>{const a=[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]];if(n&&s.hasZ){const l=s.zmin+.5*(s.zmax-s.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(i&&s.hasM){const l=s.mmin+.5*(s.mmax-s.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:r};return n&&(o.hasZ=!0),i&&(o.hasM=!0),new _C(o)}normalizeCtorArgs(e,t){let r,n,i=null,o=null;return e&&!Array.isArray(e)?(i=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||mt.WGS84,i.length&&i[0]&&i[0][0]!=null&&typeof i[0][0]=="number"&&(i=[i]),o=i[0]&&i[0][0],o&&(r===void 0&&n===void 0?(r=o.length>2,n=o.length>3):r===void 0?r=n?o.length>3:o.length>2:n===void 0&&(n=r?o.length>3:o.length>2)),{rings:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Eye(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new at;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=lZ(this);if(!t)return null;const r=new er(t);return r.spatialReference=e,r}get isSelfIntersecting(){return lfe(this.rings)}writeRings(e,t){t.rings=X(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(nj(e)){const n=[];for(let i=0,o=e.length;i<o;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new _C;return e.spatialReference=this.spatialReference,e.rings=X(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(te(e))return!1;const t=this.spatialReference,r=e.spatialReference;if(G(t)!==G(r)||G(t)&&G(r)&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const n=([i,o,s,a],[l,c,d,p])=>i===l&&o===c&&(s==null&&d==null||s===d)&&(a==null&&p==null||a===p);for(let i=0;i<this.rings.length;i++){const o=this.rings[i],s=e.rings[i];if(!zN(o,s,n))return!1}return!0}contains(e){if(!e)return!1;const t=gI(e,this.spatialReference);return hJ(this,G(t)?t:e)}isClockwise(e){let t;return t=nj(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e,wD(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new at(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new at(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new at(r[0],r[1],r[2],r[3],this.spatialReference):new at(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(i0(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new at(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new at(i,r));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(i0(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],zl.prototype,"cache",null),u([h({readOnly:!0})],zl.prototype,"centroid",null),u([h({readOnly:!0})],zl.prototype,"extent",null),u([h({readOnly:!0})],zl.prototype,"isSelfIntersecting",null),u([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],zl.prototype,"rings",void 0),u([Ae("rings")],zl.prototype,"writeRings",null),zl=_C=u([B("esri.geometry.Polygon")],zl),zl.prototype.toJSON.isDefaultToJSON=!0;const _a=zl;var ML;function Nye(e){return!Array.isArray(e[0])}let _d=ML=class extends Wo{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,n,i=null,o=null;return e&&!Array.isArray(e)?(i=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||mt.WGS84,i.length&&i[0]&&i[0][0]!=null&&typeof i[0][0]=="number"&&(i=[i]),o=i[0]&&i[0][0],o&&(r===void 0&&n===void 0?(r=o.length>2,n=!1):r===void 0?r=!n&&o.length>3:n===void 0&&(n=!r&&o.length>3)),{paths:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=cZ(this);if(!t)return null;const r=new er(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=X(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(Nye(e)){const n=[];for(let i=0,o=e.length;i<o;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new ML;return e.spatialReference=this.spatialReference,e.paths=X(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new at(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new at(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new at(r[0],r[1],r[2],r[3],this.spatialReference):new at(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(i0(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new at(i,r));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new at(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(i0(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],_d.prototype,"cache",null),u([h({readOnly:!0})],_d.prototype,"extent",null),u([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],_d.prototype,"paths",void 0),u([Ae("paths")],_d.prototype,"writePaths",null),_d=ML=u([B("esri.geometry.Polyline")],_d),_d.prototype.toJSON.isDefaultToJSON=!0;const Ss=_d,CD=Ii()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),ij=Ii()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function uZ(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function $D(e){return e.points!==void 0}function ED(e){return e.x!==void 0&&e.y!==void 0}function ID(e){return e.paths!==void 0}function Nf(e){return e.rings!==void 0}function Bp(e){return te(e)?null:e instanceof Wo?e:ED(e)?at.fromJSON(e):ID(e)?Ss.fromJSON(e):Nf(e)?_a.fromJSON(e):$D(e)?V0.fromJSON(e):uZ(e)?er.fromJSON(e):null}function wI(e){return e?ED(e)?"esriGeometryPoint":ID(e)?"esriGeometryPolyline":Nf(e)?"esriGeometryPolygon":uZ(e)?"esriGeometryEnvelope":$D(e)?"esriGeometryMultipoint":null:null}const Dye={esriGeometryPoint:at,esriGeometryPolyline:Ss,esriGeometryPolygon:_a,esriGeometryEnvelope:er,esriGeometryMultipoint:V0};function zye(e){return e&&Dye[e]||null}const Sm={base:Wo,key:"type",typeMap:{extent:er,multipoint:V0,point:at,polyline:Ss,polygon:_a}};Cc(Sm);let Vye=0;const MD=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+Vye++})}};return t=u([B("esri.core.Identifiable")],t),t};let oj=class extends MD(class{}){};oj=u([B("esri.core.Identifiable")],oj);const jye=Ce.getLogger("esri.layers.support.fromPortalItem");async function Bye(e){const t="portalItem"in e?e:{portalItem:e},r=await ae(()=>import("./portalLayers.8204cd7a.js"),["portalLayers.8204cd7a.js","lazyLayerLoader.d04227a2.js","layersLoader.00e5e57c.js","jsonContext.69c696c6.js","portalItemUtils.82093fb1.js"],import.meta.url);try{return await r.fromItem(t)}catch(n){const i=t&&t.portalItem,o=i&&i.id||"unset",s=i&&i.portal&&i.portal.url||qt.portalUrl;throw jye.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+s+"', id: '"+o+"')",n),n}}let Uye=0,Hn=class extends Ku.EventedMixin(MD(Os)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new er(-180,-90,180,90,mt.WGS84),this.id=Date.now().toString(16)+"-layer-"+Uye++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=mt.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=typeof e=="string"?{url:e}:e;return(await ae(()=>import("./arcgisLayers.730146fb.js"),["arcgisLayers.730146fb.js","lazyLayerLoader.d04227a2.js"],import.meta.url)).fromUrl(t)}static fromPortalItem(e){return Bye(e)}initialize(){this.when().catch(e=>{var t,r;Gi(e)||Ce.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${(t=this.title)!=null?t:"no title"}', id: '${(r=this.id)!=null?r:"no id"}')`,{error:e})})}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){const e=this.url;return e?vn(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await _r(e,{query:{f:"json"},responseType:"json"})).data;throw new Z("layer:no-attribution-data","Layer does not have attribution data")}};u([h({type:String})],Hn.prototype,"attributionDataUrl",void 0),u([h({type:er})],Hn.prototype,"fullExtent",void 0),u([h({readOnly:!0})],Hn.prototype,"hasAttributionData",null),u([h({type:String,clonable:!1})],Hn.prototype,"id",void 0),u([h({type:Boolean,nonNullable:!0})],Hn.prototype,"legendEnabled",void 0),u([h({type:["show","hide","hide-children"]})],Hn.prototype,"listMode",void 0),u([h({type:Number,range:{min:0,max:1},nonNullable:!0})],Hn.prototype,"opacity",void 0),u([h({clonable:!1})],Hn.prototype,"parent",void 0),u([h({readOnly:!0})],Hn.prototype,"parsedUrl",null),u([h({type:Boolean})],Hn.prototype,"popupEnabled",void 0),u([h({type:Boolean})],Hn.prototype,"attributionVisible",void 0),u([h({type:mt})],Hn.prototype,"spatialReference",void 0),u([h({type:String})],Hn.prototype,"title",void 0),u([h({readOnly:!0,json:{read:!1}})],Hn.prototype,"type",void 0),u([h()],Hn.prototype,"url",void 0),u([h({type:Boolean,nonNullable:!0})],Hn.prototype,"visible",void 0),Hn=u([B("esri.layers.Layer")],Hn);const s0=Hn;function TL(e,t,r){let n,i;if(e)for(let o=0,s=e.length;o<s;o++){if(n=e.getItemAt(o),n[t]===r)return n;if((n==null?void 0:n.type)==="group"&&(i=TL(n.layers,t,r),i))return i}}const sj=Ce.getLogger("esri.support.LayersMixin"),Gye=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new We;const n=s=>{s.parent&&"remove"in s.parent&&s.parent.remove(s)},i=s=>{s.parent=this,this.layerAdded(s),s.type!=="elevation"&&s.type!=="base-elevation"||sj.error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as an operational layer and will therefore be ignored.`)},o=s=>{s.parent=null,this.layerRemoved(s)};this.layers.on("before-add",s=>n(s.item)),this.layers.on("after-add",s=>i(s.item)),this.layers.on("after-remove",s=>o(s.item))}destroy(){const r=this.layers.removeAll();for(const n of r)this.layerRemoved(n),n.destroy();this.layers.destroy()}set layers(r){this._set("layers",rm(r,this._get("layers")))}add(r,n){const i=this.layers;if(n=i.getNextIndex(n),r instanceof s0){const o=r;o.parent===this?this.reorder(o,n):i.add(o,n)}else Wu(r)?r.then(o=>{this.destroyed||this.add(o,n)}):sj.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const i=this.layers;n=i.getNextIndex(n),r.slice().forEach(o=>{o.parent!==this?(i.add(o,n),n+=1):this.reorder(o,n)})}findLayerById(r){return TL(this.layers,"id",r)}findLayerByUid(r){return TL(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return u([h()],t.prototype,"layers",null),t=u([B("esri.support.LayersMixin")],t),t},dZ="esri.support.TablesMixin",Hye=Ce.getLogger(dZ);function kL(e,t,r){if(e)for(let n=0,i=e.length;n<i;n++){const o=e.getItemAt(n);if(o[t]===r)return o;if((o==null?void 0:o.type)==="group"){const s=kL(o.tables,t,r);if(s)return s}}}const qye=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new We,this.tables.on("after-add",n=>{const i=n.item;i.parent&&i.parent!==this&&"tables"in i.parent&&i.parent.tables.remove(i),i.parent=this,i.type!=="feature"&&Hye.error(`Layer 'title:${i.title}, id:${i.id}' of type '${i.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})}destroy(){const r=this.tables.removeAll();for(const n of r)n.destroy();this.tables.destroy()}set tables(r){this._set("tables",rm(r,this._get("tables")))}findTableById(r){return kL(this.tables,"id",r)}findTableByUid(r){return kL(this.tables,"uid",r)}};return u([h()],t.prototype,"tables",null),t=u([B(dZ)],t),t};let Vl=class extends qye(Gye(Ku.EventedMixin(Ve))){constructor(e){super(e),this.allLayers=new n0({getCollections:()=>{var t,r,n;return[(t=this.basemap)==null?void 0:t.baseLayers,(r=this.ground)==null?void 0:r.layers,this.layers,(n=this.basemap)==null?void 0:n.referenceLayers]},getChildrenFunction:t=>"layers"in t?t.layers:null}),this.allTables=vye(this),this.basemap=null,this.editableLayers=new n0({getCollections:()=>[this.allLayers],itemFilterFunction:aye}),this.ground=new M2,this._basemapCache=lye()}destroy(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),(e=this.ground)==null||e.destroy(),(t=this.basemap)==null||t.destroy(),cye(this._basemapCache),this._basemapCache=null}castBasemap(e){return uye(e,this._basemapCache)}castGround(e){const t=wye(e);return te(t)?this._get("ground"):t}findLayerById(e){return this.allLayers.find(t=>t.id===e)}findTableById(e){return this.allTables.find(t=>t.id===e)}};u([h({readOnly:!0,dependsOn:[]})],Vl.prototype,"allLayers",void 0),u([h({readOnly:!0})],Vl.prototype,"allTables",void 0),u([h({type:wc})],Vl.prototype,"basemap",void 0),u([zt("basemap")],Vl.prototype,"castBasemap",null),u([h({readOnly:!0})],Vl.prototype,"editableLayers",void 0),u([h({type:M2,nonNullable:!0})],Vl.prototype,"ground",void 0),u([zt("ground")],Vl.prototype,"castGround",null),Vl=u([B("esri.Map")],Vl);const pZ=Vl;function Oe(e,t){const r=t?{...t,source:e}:e;return h({aliasOf:r})}const Rl={year:"numeric",month:"numeric",day:"numeric"},Tv={year:"numeric",month:"long",day:"numeric"},kv={year:"numeric",month:"short",day:"numeric"},Pv={year:"numeric",month:"long",weekday:"long",day:"numeric"},qs={hour:"numeric",minute:"numeric"},La={...qs,second:"numeric"},TD={"short-date":Rl,"short-date-short-time":{...Rl,...qs},"short-date-short-time-24":{...Rl,...qs,hour12:!1},"short-date-long-time":{...Rl,...La},"short-date-long-time-24":{...Rl,...La,hour12:!1},"short-date-le":Rl,"short-date-le-short-time":{...Rl,...qs},"short-date-le-short-time-24":{...Rl,...qs,hour12:!1},"short-date-le-long-time":{...Rl,...La},"short-date-le-long-time-24":{...Rl,...La,hour12:!1},"long-month-day-year":Tv,"long-month-day-year-short-time":{...Tv,...qs},"long-month-day-year-short-time-24":{...Tv,...qs,hour12:!1},"long-month-day-year-long-time":{...Tv,...La},"long-month-day-year-long-time-24":{...Tv,...La,hour12:!1},"day-short-month-year":kv,"day-short-month-year-short-time":{...kv,...qs},"day-short-month-year-short-time-24":{...kv,...qs,hour12:!1},"day-short-month-year-long-time":{...kv,...La},"day-short-month-year-long-time-24":{...kv,...La,hour12:!1},"long-date":Pv,"long-date-short-time":{...Pv,...qs},"long-date-short-time-24":{...Pv,...qs,hour12:!1},"long-date-long-time":{...Pv,...La},"long-date-long-time-24":{...Pv,...La,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":qs,"long-time":La},E1=Ii()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});E1.apiValues;E1.toJSON.bind(E1);E1.fromJSON.bind(E1);const Wye={ar:"ar-u-nu-latn-ca-gregory"};let xC=new WeakMap,hZ=TD["short-date-short-time"];function Kye(e){const t=e||hZ;if(!xC.has(t)){const r=Is(),n=Wye[Is()]||r;xC.set(t,new Intl.DateTimeFormat(n,t))}return xC.get(t)}function kD(e){return TD[e]||null}function Du(e,t){return Kye(t).format(e)}pD(()=>{xC=new WeakMap,hZ=TD["short-date-short-time"]});const Jye={ar:"ar-u-nu-latn"};let SC=new WeakMap,fZ={};function Zye(e){const t=e||fZ;if(!SC.has(t)){const r=Is(),n=Jye[Is()]||r;SC.set(t,new Intl.NumberFormat(n,e))}return SC.get(t)}function mZ(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function Ec(e,t){return e===-0&&(e=0),Zye(t).format(e)}pD(()=>{SC=new WeakMap,fZ={}});const yZ=Ce.getLogger("esri.intl");function ea(e,t,r={}){const{format:n={}}=r;return Sc(e,i=>Yye(i,t,n))}function Yye(e,t,r){let n,i;const o=e.indexOf(":");if(o===-1?n=e.trim():(n=e.slice(0,o).trim(),i=e.slice(o+1).trim()),!n)return"";const s=L0(n,t);if(s==null)return"";const a=r[i]||r[n];return a?Qye(s,a):i?Xye(s,i):PD(s)}function Qye(e,t){switch(t.type){case"date":return Du(e,t.intlOptions);case"number":return Ec(e,t.intlOptions);default:return yZ.warn("missing format descriptor for key {key}"),PD(e)}}function Xye(e,t){switch(t.toLowerCase()){case"dateformat":return Du(e);case"numberformat":return Ec(e);default:return yZ.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Du(e):/^numberformat/i.test(t)?Ec(e):PD(e)}}function PD(e){switch(typeof e){case"string":return e;case"number":return Ec(e);case"boolean":return""+e;default:return e instanceof Date?Du(e):""}}async function ege(e,t,r,n){const i=t.exec(r);if(!i)throw new Z("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const o=i[1]?`${i[1]}/`:"",s=i[2],a=xfe(n),l=`${o}${s}.json`,c=a?`${o}${s}_${a}.json`:l;let d;try{d=await aj(e(c))}catch(p){if(c===l)throw new Z("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:p});try{d=await aj(e(l))}catch(f){throw new Z("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:f})}}return d}async function aj(e){if(G(lj.fetchBundleAsset))return lj.fetchBundleAsset(e);const t=await _r(e,{responseType:"text"});return JSON.parse(t.data)}class tge{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let i;i=typeof n=="string"?o=>new URL(o,new URL(n,window.location.href)).href:n instanceof URL?o=>new URL(o,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return ege(this.getAssetUrl,this.matcher,t,r)}}function rge(e){return new tge(e)}const lj={};_fe(rge({pattern:"esri/",location:Nt}));function OD(e){return typeof e=="string"?document.getElementById(e):e}function gZ(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function cj(e,t){const r=t.parentNode;r&&r.insertBefore(e,t)}function uj(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}const nge="randomUUID"in crypto;function ige(){if(nge)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}/*!
 * @esri/arcgis-html-sanitizer - v2.10.0 - Tue Mar 15 2022 16:38:25 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var oge="[object Object]";function sge(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function age(e,t){return function(r){return e(t(r))}}var lge=Function.prototype,vZ=Object.prototype,bZ=lge.toString,cge=vZ.hasOwnProperty,uge=bZ.call(Object),dge=vZ.toString,pge=age(Object.getPrototypeOf,Object);function hge(e){return!!e&&typeof e=="object"}function fge(e){if(!hge(e)||dge.call(e)!=oge||sge(e))return!1;var t=pge(e);if(t===null)return!0;var r=cge.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&bZ.call(r)==uge}var mge=fge,nf={exports:{}},ln={},I1={exports:{}},Cm={};function wZ(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function yge(e,t,r){}function gge(e,t,r){}var vge=/javascript\s*\:/img;function bge(e,t){return vge.test(t)?"":t}Cm.whiteList=wZ();Cm.getDefaultWhiteList=wZ;Cm.onAttr=yge;Cm.onIgnoreAttr=gge;Cm.safeAttrValue=bge;var wge={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ov=wge;function _ge(e,t){e=Ov.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,n=!1,i=0,o=0,s="";function a(){if(!n){var d=Ov.trim(e.slice(i,o)),p=d.indexOf(":");if(p!==-1){var f=Ov.trim(d.slice(0,p)),y=Ov.trim(d.slice(p+1));if(f){var g=t(i,s.length,f,y,d);g&&(s+=g+"; ")}}}i=o+1}for(;o<r;o++){var l=e[o];if(l==="/"&&e[o+1]==="*"){var c=e.indexOf("*/",o+2);if(c===-1)break;o=c+1,i=o+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||a():l===`
`&&a()}return Ov.trim(s)}var xge=_ge,Kx=Cm,Sge=xge;function dj(e){return e==null}function Cge(e){var t={};for(var r in e)t[r]=e[r];return t}function _Z(e){e=Cge(e||{}),e.whiteList=e.whiteList||Kx.whiteList,e.onAttr=e.onAttr||Kx.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Kx.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Kx.safeAttrValue,this.options=e}_Z.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onAttr,o=r.onIgnoreAttr,s=r.safeAttrValue,a=Sge(e,function(l,c,d,p,f){var y=n[d],g=!1;if(y===!0?g=y:typeof y=="function"?g=y(p):y instanceof RegExp&&(g=y.test(p)),g!==!0&&(g=!1),p=s(d,p),!!p){var v={position:c,sourcePosition:l,source:f,isWhite:g};if(g){var b=i(d,p,v);return dj(b)?d+":"+p:b}else{var b=o(d,p,v);if(!dj(b))return b}}});return a};var $ge=_Z;(function(e,t){var r=Cm,n=$ge;function i(s,a){var l=new n(a);return l.process(s)}t=e.exports=i,t.FilterCSS=n;for(var o in r)t[o]=r[o]})(I1,I1.exports);var LD={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},Ege=I1.exports.FilterCSS,Ige=I1.exports.getDefaultWhiteList,T2=LD;function xZ(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var SZ=new Ege;function Mge(e,t,r){}function Tge(e,t,r){}function kge(e,t,r){}function Pge(e,t,r){}function CZ(e){return e.replace(Lge,"&lt;").replace(Rge,"&gt;")}function Oge(e,t,r,n){if(r=kZ(r),t==="href"||t==="src"){if(r=T2.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(Jx.lastIndex=0,Jx.test(r))return""}else if(t==="style"){if(pj.lastIndex=0,pj.test(r)||(hj.lastIndex=0,hj.test(r)&&(Jx.lastIndex=0,Jx.test(r))))return"";n!==!1&&(n=n||SZ,r=n.process(r))}return r=PZ(r),r}var Lge=/</g,Rge=/>/g,Age=/"/g,Fge=/&quot;/g,Nge=/&#([a-zA-Z0-9]*);?/gim,Dge=/&colon;?/gim,zge=/&newline;?/gim,Jx=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,pj=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,hj=/u\s*r\s*l\s*\(.*/gi;function $Z(e){return e.replace(Age,"&quot;")}function EZ(e){return e.replace(Fge,'"')}function IZ(e){return e.replace(Nge,function(r,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function MZ(e){return e.replace(Dge,":").replace(zge," ")}function TZ(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return T2.trim(t)}function kZ(e){return e=EZ(e),e=IZ(e),e=MZ(e),e=TZ(e),e}function PZ(e){return e=$Z(e),e=CZ(e),e}function Vge(){return""}function jge(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function n(s){return r?!0:T2.indexOf(e,s)!==-1}var i=[],o=!1;return{onIgnoreTag:function(s,a,l){if(n(s))if(l.isClosing){var c="[/removed]",d=l.position+c.length;return i.push([o!==!1?o:l.position,d]),o=!1,c}else return o||(o=l.position),"[removed]";else return t(s,a,l)},remove:function(s){var a="",l=0;return T2.forEach(i,function(c){a+=s.slice(l,c[0]),l=c[1]}),a+=s.slice(l),a}}}function Bge(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("<!--",r);if(n===-1){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("-->",n);if(i===-1)break;r=i+3}return t}function Uge(e){var t=e.split("");return t=t.filter(function(r){var n=r.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}ln.whiteList=xZ();ln.getDefaultWhiteList=xZ;ln.onTag=Mge;ln.onIgnoreTag=Tge;ln.onTagAttr=kge;ln.onIgnoreTagAttr=Pge;ln.safeAttrValue=Oge;ln.escapeHtml=CZ;ln.escapeQuote=$Z;ln.unescapeQuote=EZ;ln.escapeHtmlEntities=IZ;ln.escapeDangerHtml5Entities=MZ;ln.clearNonPrintableCharacter=TZ;ln.friendlyAttrValue=kZ;ln.escapeAttrValue=PZ;ln.onIgnoreTagStripAll=Vge;ln.StripTagBody=jge;ln.stripCommentTag=Bge;ln.stripBlankChar=Uge;ln.cssFilter=SZ;ln.getDefaultCSSWhiteList=Ige;var _I={},Yd=LD;function Gge(e){var t=Yd.spaceIndex(e);if(t===-1)var r=e.slice(1,-1);else var r=e.slice(1,t+1);return r=Yd.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function Hge(e){return e.slice(0,2)==="</"}function qge(e,t,r){var n="",i=0,o=!1,s=!1,a=0,l=e.length,c="",d="";e:for(a=0;a<l;a++){var p=e.charAt(a);if(o===!1){if(p==="<"){o=a;continue}}else if(s===!1){if(p==="<"){n+=r(e.slice(i,a)),o=a,i=a;continue}if(p===">"){n+=r(e.slice(i,o)),d=e.slice(o,a+1),c=Gge(d),n+=t(o,n.length,c,d,Hge(d)),i=a+1,o=!1;continue}if(p==='"'||p==="'")for(var f=1,y=e.charAt(a-f);y.trim()===""||y==="=";){if(y==="="){s=p;continue e}y=e.charAt(a-++f)}}else if(p===s){s=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n}var Wge=/[^a-zA-Z0-9_:\.\-]/gim;function Kge(e,t){var r=0,n=[],i=!1,o=e.length;function s(p,f){if(p=Yd.trim(p),p=p.replace(Wge,"").toLowerCase(),!(p.length<1)){var y=t(p,f||"");y&&n.push(y)}}for(var a=0;a<o;a++){var l=e.charAt(a),c,d;if(i===!1&&l==="="){i=e.slice(r,a),r=a+1;continue}if(i!==!1&&a===r&&(l==='"'||l==="'")&&e.charAt(a-1)==="="){if(d=e.indexOf(l,a+1),d===-1)break;c=Yd.trim(e.slice(r+1,d)),s(i,c),i=!1,a=d,r=a+1;continue}if(/\s|\n|\t/.test(l))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(d=Jge(e,a),d===-1){c=Yd.trim(e.slice(r,a)),s(c),i=!1,r=a+1;continue}else{a=d-1;continue}else if(d=Zge(e,a-1),d===-1){c=Yd.trim(e.slice(r,a)),c=fj(c),s(i,c),i=!1,r=a+1;continue}else continue}return r<e.length&&(i===!1?s(e.slice(r)):s(i,fj(Yd.trim(e.slice(r))))),Yd.trim(n.join(" "))}function Jge(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function Zge(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function Yge(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function fj(e){return Yge(e)?e.substr(1,e.length-2):e}_I.parseTag=qge;_I.parseAttr=Kge;var Qge=I1.exports.FilterCSS,il=ln,OZ=_I,Xge=OZ.parseTag,e0e=OZ.parseAttr,CC=LD;function Zx(e){return e==null}function t0e(e){var t=CC.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=CC.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=CC.trim(e.slice(0,-1))),{html:e,closing:r}}function r0e(e){var t={};for(var r in e)t[r]=e[r];return t}function LZ(e){e=r0e(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=il.onIgnoreTagStripAll),e.whiteList=e.whiteList||e.allowList||il.whiteList,e.onTag=e.onTag||il.onTag,e.onTagAttr=e.onTagAttr||il.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||il.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||il.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||il.safeAttrValue,e.escapeHtml=e.escapeHtml||il.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Qge(e.css))}LZ.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onTag,o=r.onIgnoreTag,s=r.onTagAttr,a=r.onIgnoreTagAttr,l=r.safeAttrValue,c=r.escapeHtml,d=t.cssFilter;r.stripBlankChar&&(e=il.stripBlankChar(e)),r.allowCommentTag||(e=il.stripCommentTag(e));var p=!1;if(r.stripIgnoreTagBody){var p=il.StripTagBody(r.stripIgnoreTagBody,o);o=p.onIgnoreTag}var f=Xge(e,function(y,g,v,b,w){var x={sourcePosition:y,position:g,isClosing:w,isWhite:n.hasOwnProperty(v)},S=i(v,b,x);if(!Zx(S))return S;if(x.isWhite){if(x.isClosing)return"</"+v+">";var C=t0e(b),$=n[v],M=e0e(C.html,function(T,O){var L=CC.indexOf($,T)!==-1,N=s(v,T,O,L);if(!Zx(N))return N;if(L)return O=l(v,T,O,d),O?T+'="'+O+'"':T;var N=a(v,T,O,L);return Zx(N)?void 0:N}),b="<"+v;return M&&(b+=" "+M),C.closing&&(b+=" /"),b+=">",b}else{var S=o(v,b,x);return Zx(S)?c(b):S}},c);return p&&(f=p.remove(f)),f};var n0e=LZ;(function(e,t){var r=ln,n=_I,i=n0e;function o(l,c){var d=new i(c);return d.process(l)}t=e.exports=o,t.filterXSS=o,t.FilterXSS=i;for(var s in r)t[s]=r[s];for(var s in n)t[s]=n[s];function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=e.exports)})(nf,nf.exports);var i0e=function(){function e(t,r){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(o,s,a,l){return o==="a"&&s==="href"||(o==="img"||o==="source")&&s==="src"?n.sanitizeUrl(a):nf.exports.safeAttrValue(o,s,a,l)}};var i;t&&!r?i=t:t&&r?(i=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(o){o==="whiteList"?i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]):i[o]=t[o]})):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList),this.xssFilterOptions=i,this._xssFilter=new nf.exports.FilterXSS(i)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var n=(r!=null?r:{}).isProtocolRequired,i=n===void 0?!0:n,o=this._trim(t.substring(0,t.indexOf(":"))),s=t==="/",a=/^#/.test(t),l=o&&this.allowedProtocols.indexOf(o.toLowerCase())>-1;return s||a||l?nf.exports.escapeAttrValue(t):!o&&!i?nf.exports.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,n,i){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,n,i):nf.exports.safeAttrValue(t,r,n,i)},e.prototype.validate=function(t,r){r===void 0&&(r={});var n=this.sanitize(t,r);return{isValid:t===n,sanitized:n}},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(n){Object.keys(n).forEach(function(i){Array.isArray(n[i])&&Array.isArray(r[i])?r[i]=r[i].concat(n[i]):r[i]=n[i]})}),r},e.prototype._iterateOverObject=function(t,r){var n=this;r===void 0&&(r={});try{var i=!1,o=void 0;if(Array.isArray(t))o=t.reduce(function(a,l){var c=n.validate(l,r);return c.isValid?a.concat([l]):(i=!0,a.concat([c.sanitized]))},[]);else if(mge(t)){var s=Object.keys(t);o=s.reduce(function(a,l){var c=t[l],d=n.validate(c,r);return d.isValid?a[l]=c:(i=!0,a[l]=d.sanitized),a},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return i?o:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const xI=new Map;function RZ(){xI.clear()}function o0e(e){return xI.get(e)}function s0e(e,t){xI.set(e,t)}function WT(e){xI.delete(e)}var cm,a0,a0e=function(e){if("WebkitTransition"in e.style)cm="webkitTransitionEnd",a0="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");cm="transitionend",a0="animationend"}},AZ=function(e){cm||a0e(e)},l0e=function(e,t){return t===void 0&&(t=e+"-active"),function(r){AZ(r);var n=!1,i=function(o){n||(n=!0,r.removeEventListener(cm,i),r.removeEventListener(a0,i),r.classList.remove(e),r.classList.remove(t))};r.classList.add(e),r.addEventListener(cm,i),r.addEventListener(a0,i),requestAnimationFrame(function(){r.classList.add(t)})}},c0e=function(e,t){return t===void 0&&(t=e+"-active"),function(r,n){AZ(r);var i=!1,o=function(s){i||(i=!0,r.removeEventListener(cm,o),r.removeEventListener(a0,o),n())};r.classList.add(e),r.addEventListener(cm,o),r.addEventListener(a0,o),requestAnimationFrame(function(){r.classList.add(t)})}};const u0e=Ce.getLogger("esri.widgets.support.widgetUtils");function ag(e){const t=oo.acquire();for(let n=0;n<arguments.length;n++){const i=arguments[n],o=typeof i;if(o==="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(o==="object")for(const s in i)i[s]&&t.push(s)}const r=t.join(" ");return oo.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(r=>{RZ();for(const n of r)e.get(n.target)(n)});return(r,n,i)=>(e.has(r)&&u0e.error("Already observing element",r),e.set(r,n),t.observe(r,i),O0(()=>{t.unobserve(r),e.delete(r)}))})();function gl(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function mj(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function PL(e){const t="data-node-ref";this[e.getAttribute(t)]=e}function d0e(e,t){return(e==="enter"?l0e:c0e)(t)}const p0e=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],h0e=p0e.reduce((e,t)=>(e[t]=[],e),{}),f0e=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],FZ=new i0e({whiteList:h0e,onTagAttr:(e,t,r)=>{const n=`${t}="${r}"`;if(f0e.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function m0e(e){return e==="Enter"||e===" "}const NZ="http://www.w3.org/",SI=`${NZ}2000/svg`,DZ=`${NZ}1999/xlink`;let k2,yj=[],RD=(e,t)=>{let r={};return Object.keys(e).forEach(n=>{r[n]=e[n]}),t&&Object.keys(t).forEach(n=>{r[n]=t[n]}),r},AD=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),zZ=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},y0e=(e,t,r)=>{if(t.vnodeSelector!==""){for(let n=r;n<e.length;n++)if(AD(e[n],t))return n}return-1},KT=(e,t,r,n)=>{let i=e[t];if(i.vnodeSelector==="")return;let o=i.properties;if(!(o&&(o.key===void 0?o.bind:o.key))){for(let s=0;s<e.length;s++)if(s!==t){let a=e[s];if(AD(a,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},g0e=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},OL=[],LL=!1,VZ=e=>{(e.children||[]).forEach(VZ),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},gj=()=>{LL=!1,OL.forEach(VZ),OL.length=0},vj=e=>{OL.push(e),LL||(LL=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(gj,{timeout:16}):setTimeout(gj,16))},bj=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),vj(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),vj(e))},v0e=(e,t,r)=>{if(!t)return;let n=r.eventHandlerInterceptor,i=Object.keys(t),o=i.length;for(let s=0;s<o;s++){let a=i[s],l=t[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")RL(e,l,!0);else if(a==="classes"){let c=Object.keys(l),d=c.length;for(let p=0;p<d;p++){let f=c[p];l[f]&&e.classList.add(f)}}else if(a==="styles"){let c=Object.keys(l),d=c.length;for(let p=0;p<d;p++){let f=c[p],y=l[f];y&&(zZ(y),r.styleApplyer(e,f,y))}}else if(a!=="key"&&l!=null){let c=typeof l;c==="function"?(a.lastIndexOf("on",0)===0&&(n&&(l=n(a,l,e,t)),a==="oninput"&&function(){let d=l;l=function(p){d.apply(this,[p]),p.target["oninput-value"]=p.target.value}}()),e[a]=l):r.namespace===SI?a==="href"?e.setAttributeNS(DZ,a,l):e.setAttribute(a,l):c==="string"&&a!=="value"?a==="innerHTML"?e[a]=FZ.sanitize(l):e.setAttribute(a,l):e[a]=l}}},b0e=(e,t,r)=>{if(t)for(let n of t)lg(n,e,void 0,r)},jZ=(e,t,r)=>{b0e(e,t.children,r),t.text&&(e.textContent=t.text),v0e(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},lg=(e,t,r,n)=>{let i,o=0,s=e.vnodeSelector,a=t.ownerDocument;if(s==="")i=e.domNode=a.createTextNode(e.text),r!==void 0?t.insertBefore(i,r):t.appendChild(i);else{for(let l=0;l<=s.length;++l){let c=s.charAt(l);if(l===s.length||c==="."||c==="#"){let d=s.charAt(o-1),p=s.slice(o,l);d==="."?i.classList.add(p):d==="#"?i.id=p:(p==="svg"&&(n=RD(n,{namespace:SI})),n.namespace!==void 0?i=e.domNode=a.createElementNS(n.namespace,p):(i=e.domNode=e.domNode||a.createElement(p),p==="input"&&e.properties&&e.properties.type!==void 0&&i.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),o=l+1}}jZ(i,e,n)}},RL=(e,t,r)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,r)})},w0e=(e,t,r,n)=>{if(!r)return;let i=!1,o=Object.keys(r),s=o.length;for(let a=0;a<s;a++){let l=o[a],c=r[l],d=t[l];if(l==="class")d!==c&&(RL(e,d,!1),RL(e,c,!0));else if(l==="classes"){let p=e.classList,f=Object.keys(c),y=f.length;for(let g=0;g<y;g++){let v=f[g],b=!!c[v];b!==!!d[v]&&(i=!0,b?p.add(v):p.remove(v))}}else if(l==="styles"){let p=Object.keys(c),f=p.length;for(let y=0;y<f;y++){let g=p[y],v=c[g];v!==d[g]&&(i=!0,v?(zZ(v),n.styleApplyer(e,g,v)):n.styleApplyer(e,g,""))}}else if(c||typeof d!="string"||(c=""),l==="value"){let p=e[l];p!==c&&(e["oninput-value"]?p===e["oninput-value"]:c!==d)&&(e[l]=c,e["oninput-value"]=void 0),c!==d&&(i=!0)}else if(c!==d){let p=typeof c;p==="function"&&n.eventHandlerInterceptor||(n.namespace===SI?l==="href"?e.setAttributeNS(DZ,l,c):e.setAttribute(l,c):p==="string"?l==="innerHTML"?e[l]=FZ.sanitize(c):l==="role"&&c===""?e.removeAttribute(l):e.setAttribute(l,c):e[l]!==c&&(e[l]=c),i=!0)}}return i},_0e=(e,t,r,n,i)=>{if(r===n)return!1;n=n||yj;let o,s=(r=r||yj).length,a=n.length,l=0,c=0,d=!1;for(;c<a;){let p=l<s?r[l]:void 0,f=n[c];if(p!==void 0&&AD(p,f))d=k2(p,f,i)||d,l++;else{let y=y0e(r,f,l+1);if(y>=0){for(o=l;o<y;o++)bj(r[o]),KT(r,o,e,"removed");d=k2(r[y],f,i)||d,l=y+1}else lg(f,t,l<s?r[l].domNode:void 0,i),g0e(f),KT(n,c,e,"added")}c++}if(s>l)for(o=l;o<s;o++)bj(r[o]),KT(r,o,e,"removed");return d};k2=(e,t,r)=>{let n=e.domNode,i=!1;if(e===t)return!1;let o=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let s=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(s,n),t.domNode=s,i=!0,i}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=RD(r,{namespace:SI})),e.text!==t.text&&(o=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,o=_0e(t,n,e.children,t.children,r)||o,o=w0e(n,e.properties,t.properties,r)||o,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return o&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),i};let Lv=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=r,k2(n,r,t)},domNode:e.domNode});const x0e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let uy=e=>RD(x0e,e),gp={create:(e,t)=>(t=uy(t),lg(e,document.createElement("div"),void 0,t),Lv(e,t)),append:(e,t,r)=>(r=uy(r),lg(t,e,void 0,r),Lv(t,r)),insertBefore:(e,t,r)=>(r=uy(r),lg(t,e.parentNode,e,r),Lv(t,r)),merge:(e,t,r)=>(r=uy(r),t.domNode=e,jZ(e,t,r),Lv(t,r)),replace:(e,t,r)=>(r=uy(r),lg(t,e.parentNode,e,r),e.parentNode.removeChild(e),Lv(t,r))},BZ,S0e=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};BZ=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let C0e=(e,t)=>{let r=e;return t.forEach(n=>{r=r&&r.children?BZ(r.children,i=>i.domNode===n):void 0}),r},$0e=(e,t,r)=>{let n=function(i){r("domEvent",i);let o=t(),s=S0e(i.currentTarget,o.domNode);s.reverse();let a,l=C0e(o.getLastRender(),s);return e.scheduleRender(),l&&(a=l.properties[`on${i.type}`].apply(l.properties.bind||this,arguments)),r("domEventProcessed",i),a};return(i,o,s,a)=>n},P2=e=>{let t,r,n=uy(e),i=n.performanceLogger,o=!0,s=!1,a=[],l=[],c=(p,f,y)=>{let g,v=()=>g;n.eventHandlerInterceptor=$0e(t,v,i),g=p(f,y(),n),a.push(g),l.push(y)},d=()=>{if(r=void 0,o){o=!1,i("renderStart",void 0);for(let p=0;p<a.length;p++){let f=l[p]();i("rendered",void 0),a[p].update(f),i("patched",void 0)}i("renderDone",void 0),o=!0}};return t={renderNow:d,scheduleRender:()=>{r||s||(r=requestAnimationFrame(d))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),s=!0},resume:()=>{s=!1,o=!0,t.scheduleRender()},append:(p,f)=>{c(gp.append,p,f)},insertBefore:(p,f)=>{c(gp.insertBefore,p,f)},merge:(p,f)=>{c(gp.merge,p,f)},replace:(p,f)=>{c(gp.replace,p,f)},detach:p=>{for(let f=0;f<l.length;f++)if(l[f]===p)return l.splice(f,1),a.splice(f,1)[0];throw new Error("renderFunction was not found")}},t};const E0e={handleInterceptedEvent:(e,t,r,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||r,[n]))},I0e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{e.style[t]=r}},M0e=e=>({...I0e,...e}),T0e=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},k0e=(e,t)=>e.find(t),wj=(e,t,r=!1)=>{let n=e;return t.forEach((i,o)=>{const s=n!=null&&n.children?k0e(n.children,a=>a.domNode===i):void 0;r&&!s&&o!==t.length-1||(n=s)}),n},P0e=e=>{let t;const r={...E0e,...e},n=M0e(r),i=n.performanceLogger;let o,s=!0,a=!1;const l=[],c=[],d=(f,y,g)=>{var w;let v;n.eventHandlerInterceptor=(x,S,C,$)=>function(M){let I;i("domEvent",M);const T=T0e(M.currentTarget,v.domNode),O=T.some(N=>{var H;return customElements.get((H=N==null?void 0:N.tagName)==null?void 0:H.toLowerCase())});if(M.eventPhase===Event.CAPTURING_PHASE||!O)T.reverse(),I=wj(v.getLastRender(),T);else{const N=M.composedPath(),H=N.slice(N.indexOf(M.currentTarget),N.indexOf(v.domNode)).filter(F=>F.getRootNode()===F.ownerDocument).reverse();I=wj(v.getLastRender(),H,!0)}let L;return I&&(L=r.handleInterceptedEvent(t,I,this,M)),i("domEventProcessed",M),L},(w=r.postProcessProjectionOptions)==null||w.call(r,n);const b=g();v=f(y,b,n),l.push(v),c.push(g),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(v,b)};let p=()=>{if(o=void 0,s){s=!1,i("renderStart",void 0);for(let f=0;f<l.length;f++){const y=c[f]();i("rendered",void 0),l[f].update(y),i("patched",void 0)}i("renderDone",void 0),s=!0}};return r.modifyDoRenderImplementation&&(p=r.modifyDoRenderImplementation(p,l,c)),t={renderNow:p,scheduleRender:()=>{o||a||(o=requestAnimationFrame(p))},stop:()=>{o&&(cancelAnimationFrame(o),o=void 0),a=!0},resume:()=>{a=!1,s=!0,t.scheduleRender()},append:(f,y)=>{d(gp.append,f,y)},insertBefore:(f,y)=>{d(gp.insertBefore,f,y)},merge:(f,y)=>{d(gp.merge,f,y)},replace:(f,y)=>{d(gp.replace,f,y)},detach:f=>{for(let y=0;y<c.length;y++)if(c[y]===f)return c.splice(y,1),l.splice(y,1)[0];throw new Error("renderFunction was not found")}},t},Ot={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let dy,UZ,CI,GZ=!1,O2=!1,FD=!1,ws=!1,_j=null,AL=!1;const j0=typeof window<"u"?window:{};Ot.cssVarShim&&j0.CSS;const Sl=j0.document||{head:{}},KXe=j0.HTMLElement||class{},$i={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,n)=>e.addEventListener(t,r,n),rel:(e,t,r,n)=>e.removeEventListener(t,r,n),ce:(e,t)=>new CustomEvent(e,t)},L2=Ot.shadowDomShim&&Ot.shadowDom?(()=>(Sl.head.attachShadow+"").indexOf("[native")>-1)():!0,O0e=(()=>{let e=!1;try{Sl.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),L0e=e=>Promise.resolve(e),R0e=Ot.constructableCSS?(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replace=="function"}catch{}return!1})():!1,HZ=(e,t,r,n)=>{r&&r.map(([i,o,s])=>{const a=F0e(e,i),l=A0e(t,s),c=N0e(i);$i.ael(a,o,l,c),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>$i.rel(a,o,l,c))})},A0e=(e,t)=>r=>{try{Ot.lazyLoad||e.$hostElement$[t](r)}catch(n){M_(n)}},F0e=(e,t)=>t&4?Sl:t&8?j0:t&16?Sl.body:e,N0e=e=>O0e?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,xj="http://www.w3.org/1999/xlink",um=(e,t="")=>()=>{},Sj=new WeakMap,D0e=(e,t,r)=>{let n=F2.get(e);R0e&&r?(n=n||new CSSStyleSheet,n.replace(t)):n=t,F2.set(e,n)},z0e=(e,t,r,n)=>{let i=qZ(t,r),o=F2.get(i);if(e=e.nodeType===11?e:Sl,o)if(typeof o=="string"){e=e.head||e;let s=Sj.get(e),a;s||Sj.set(e,s=new Set),s.has(i)||(a=Sl.createElement("style"),a.innerHTML=o,e.insertBefore(a,e.querySelector("link")),s&&s.add(i))}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return i},V0e=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,i=um("attachStyles",t.$tagName$),o=z0e(L2&&r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);n&10&&(r["s-sc"]=o,r.classList.add(o+"-h"),n&2&&r.classList.add(o+"-s")),i()},qZ=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),j0e=e=>gve.map(t=>t(e)).find(t=>!!t),Cj={},B0e="http://www.w3.org/2000/svg",U0e="http://www.w3.org/1999/xhtml",G0e=e=>e!=null,ND=e=>(e=typeof e,e==="object"||e==="function"),WZ=(e,t,...r)=>{let n=null,i=null,o=null,s=!1,a=!1,l=[];const c=p=>{for(let f=0;f<p.length;f++)n=p[f],Array.isArray(n)?c(n):n!=null&&typeof n!="boolean"&&((s=typeof e!="function"&&!ND(n))&&(n=String(n)),s&&a?l[l.length-1].$text$+=n:l.push(s?R2(null,n):n),a=s)};if(c(r),t&&(Ot.isDev&&e==="input"&&K0e(t),Ot.vdomKey&&t.key&&(i=t.key),Ot.slotRelocation&&t.name&&(o=t.name),Ot.vdomClass)){const p=t.className||t.class;p&&(t.class=typeof p!="object"?p:Object.keys(p).filter(f=>p[f]).join(" "))}if(Ot.isDev&&l.some(KZ)&&yve(`The <Host> must be the single root component. Make sure:
- You are NOT using hostData() and <Host> in the same component.
- <Host> is used once, and it's the single root component of the render() function.`),Ot.vdomFunctional&&typeof e=="function")return e(t===null?{}:t,l,q0e);const d=R2(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),Ot.vdomKey&&(d.$key$=i),Ot.slotRelocation&&(d.$name$=o),d},R2=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return Ot.vdomAttribute&&(r.$attrs$=null),Ot.vdomKey&&(r.$key$=null),Ot.slotRelocation&&(r.$name$=null),r},H0e={},KZ=e=>e&&e.$tag$===H0e,q0e={forEach:(e,t)=>e.map($j).forEach(t),map:(e,t)=>e.map($j).map(t).map(W0e)},$j=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),W0e=e=>{if(typeof e.vtag=="function"){const r=Object.assign({},e.vattrs);return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),WZ(e.vtag,r,...e.vchildren||[])}const t=R2(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},K0e=e=>{const t=Object.keys(e),r=t.indexOf("value");if(r===-1)return;const n=t.indexOf("type"),i=t.indexOf("min"),o=t.indexOf("max"),s=t.indexOf("step");(r<n||r<i||r<o||r<s)&&iY('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},Ej=(e,t,r,n,i,o)=>{if(r!==n){let s=kj(e,t),a=t.toLowerCase();if(t==="class"){const l=e.classList,c=Ij(r),d=Ij(n);l.remove(...c.filter(p=>p&&!d.includes(p))),l.add(...d.filter(p=>p&&!c.includes(p)))}else if(t==="style"){for(const l in r)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in n)(!r||n[l]!==r[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):kj(j0,a)?t=a.slice(2):t=a[2]+t.slice(3),r&&$i.rel(e,t,r,!1),n&&$i.ael(e,t,n,!1);else{const l=ND(n);if((s||l&&n!==null)&&!i)try{if(e.tagName.includes("-"))e[t]=n;else{let d=n==null?"":n;t==="list"?s=!1:(r==null||e[t]!=d)&&(e[t]=d)}}catch{}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(c?e.removeAttributeNS(xj,t):e.removeAttribute(t)):(!s||o&4||i)&&!l&&(n=n===!0?"":n,c?e.setAttributeNS(xj,t,n):e.setAttribute(t,n))}}},J0e=/\s/,Ij=e=>e?e.split(J0e):[],JZ=(e,t,r,n)=>{const i=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||Cj,s=t.$attrs$||Cj;for(n in o)n in s||Ej(i,n,o[n],void 0,r,t.$flags$);for(n in s)Ej(i,n,o[n],s[n],r,t.$flags$)},A2=(e,t,r,n)=>{let i=t.$children$[r],o=0,s,a,l;if(GZ||(FD=!0,i.$tag$==="slot"&&(dy&&n.classList.add(dy+"-s"),i.$flags$|=i.$children$?2:1)),i.$text$!==null)s=i.$elm$=Sl.createTextNode(i.$text$);else if(i.$flags$&1)s=i.$elm$=Sl.createTextNode("");else{if(ws||(ws=i.$tag$==="svg"),s=i.$elm$=Sl.createElementNS(ws?B0e:U0e,i.$flags$&2?"slot-fb":i.$tag$),ws&&i.$tag$==="foreignObject"&&(ws=!1),JZ(null,i,ws),G0e(dy)&&s["s-si"]!==dy&&s.classList.add(s["s-si"]=dy),i.$children$)for(o=0;o<i.$children$.length;++o)a=A2(e,i,o,s),a&&s.appendChild(a);i.$tag$==="svg"?ws=!1:s.tagName==="foreignObject"&&(ws=!0)}return s["s-hn"]=CI,i.$flags$&3&&(s["s-sr"]=!0,s["s-cr"]=UZ,s["s-sn"]=i.$name$||"",l=e&&e.$children$&&e.$children$[r],l&&l.$tag$===i.$tag$&&e.$elm$&&M1(e.$elm$,!1)),s},M1=(e,t)=>{$i.$flags$|=1;const r=e.childNodes;for(let n=r.length-1;n>=0;n--){const i=r[n];i["s-hn"]!==CI&&i["s-ol"]&&(QZ(i).insertBefore(i,DD(i)),i["s-ol"].remove(),i["s-ol"]=void 0,FD=!0),t&&M1(i,t)}$i.$flags$&=-2},ZZ=(e,t,r,n,i,o)=>{let s=e["s-cr"]&&e["s-cr"].parentNode||e,a;for(s.shadowRoot&&s.tagName===CI&&(s=s.shadowRoot);i<=o;++i)n[i]&&(a=A2(null,r,i,e),a&&(n[i].$elm$=a,s.insertBefore(a,DD(t))))},YZ=(e,t,r,n,i)=>{for(;t<=r;++t)(n=e[t])&&(i=n.$elm$,tY(n),O2=!0,i["s-ol"]?i["s-ol"].remove():M1(i,!0),i.remove())},Z0e=(e,t,r,n)=>{let i=0,o=0,s=0,a=0,l=t.length-1,c=t[0],d=t[l],p=n.length-1,f=n[0],y=n[p],g,v;for(;i<=l&&o<=p;)if(c==null)c=t[++i];else if(d==null)d=t[--l];else if(f==null)f=n[++o];else if(y==null)y=n[--p];else if(Yx(c,f))py(c,f),c=t[++i],f=n[++o];else if(Yx(d,y))py(d,y),d=t[--l],y=n[--p];else if(Yx(c,y))(c.$tag$==="slot"||y.$tag$==="slot")&&M1(c.$elm$.parentNode,!1),py(c,y),e.insertBefore(c.$elm$,d.$elm$.nextSibling),c=t[++i],y=n[--p];else if(Yx(d,f))(c.$tag$==="slot"||y.$tag$==="slot")&&M1(d.$elm$.parentNode,!1),py(d,f),e.insertBefore(d.$elm$,c.$elm$),d=t[--l],f=n[++o];else{for(s=-1,a=i;a<=l;++a)if(t[a]&&t[a].$key$!==null&&t[a].$key$===f.$key$){s=a;break}s>=0?(v=t[s],v.$tag$!==f.$tag$?g=A2(t&&t[o],r,s,e):(py(v,f),t[s]=void 0,g=v.$elm$),f=n[++o]):(g=A2(t&&t[o],r,o,e),f=n[++o]),g&&QZ(c.$elm$).insertBefore(g,DD(c.$elm$))}i>l?ZZ(e,n[p+1]==null?null:n[p+1].$elm$,r,n,o,p):o>p&&YZ(t,i,l)},Yx=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,DD=e=>e&&e["s-ol"]||e,QZ=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,py=(e,t)=>{const r=t.$elm$=e.$elm$,n=e.$children$,i=t.$children$,o=t.$tag$,s=t.$text$;let a;s===null?(ws=o==="svg"?!0:o==="foreignObject"?!1:ws,o==="slot"||JZ(e,t,ws),n!==null&&i!==null?Z0e(r,n,t,i):i!==null?(e.$text$!==null&&(r.textContent=""),ZZ(r,null,t,i,0,i.length-1)):n!==null&&YZ(n,0,n.length-1),ws&&o==="svg"&&(ws=!1)):(a=r["s-cr"])?a.parentNode.textContent=s:e.$text$!==s&&(r.data=s)},XZ=e=>{let t=e.childNodes,r,n,i,o,s,a;for(n=0,i=t.length;n<i;n++)if(r=t[n],r.nodeType===1){if(r["s-sr"]){for(s=r["s-sn"],r.hidden=!1,o=0;o<i;o++)if(a=t[o].nodeType,t[o]["s-hn"]!==r["s-hn"]||s!==""){if(a===1&&s===t[o].getAttribute("slot")){r.hidden=!0;break}}else if(a===1||a===3&&t[o].textContent.trim()!==""){r.hidden=!0;break}}XZ(r)}},pl=[],eY=e=>{let t,r,n,i,o,s,a=0,l=e.childNodes,c=l.length;for(;a<c;a++){if(t=l[a],t["s-sr"]&&(r=t["s-cr"])&&r.parentNode)for(n=r.parentNode.childNodes,i=t["s-sn"],s=n.length-1;s>=0;s--)r=n[s],!r["s-cn"]&&!r["s-nr"]&&r["s-hn"]!==t["s-hn"]&&(Mj(r,i)?(o=pl.find(d=>d.$nodeToRelocate$===r),O2=!0,r["s-sn"]=r["s-sn"]||i,o?o.$slotRefNode$=t:pl.push({$slotRefNode$:t,$nodeToRelocate$:r}),r["s-sr"]&&pl.map(d=>{Mj(d.$nodeToRelocate$,r["s-sn"])&&(o=pl.find(p=>p.$nodeToRelocate$===r),o&&!d.$slotRefNode$&&(d.$slotRefNode$=o.$slotRefNode$))})):pl.some(d=>d.$nodeToRelocate$===r)||pl.push({$nodeToRelocate$:r}));t.nodeType===1&&eY(t)}},Mj=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",tY=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(tY)},Y0e=(e,t)=>{const r=e.$hostElement$,n=e.$cmpMeta$,i=e.$vnode$||R2(null,null),o=KZ(t)?t:WZ(null,null,t);CI=r.tagName,n.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},n.$attrsToReflect$.map(([s,a])=>o.$attrs$[a]=r[s])),o.$tag$=null,o.$flags$|=4,e.$vnode$=o,o.$elm$=i.$elm$=r.shadowRoot||r,dy=r["s-sc"],UZ=r["s-cr"],GZ=L2&&(n.$flags$&1)!==0,O2=!1,py(i,o);{if($i.$flags$|=1,FD){eY(o.$elm$);let s,a,l,c,d,p,f=0;for(;f<pl.length;f++)s=pl[f],a=s.$nodeToRelocate$,a["s-ol"]||(l=Sl.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(f=0;f<pl.length;f++)if(s=pl[f],a=s.$nodeToRelocate$,s.$slotRefNode$){for(c=s.$slotRefNode$.parentNode,d=s.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(p=l["s-nr"],p&&p["s-sn"]===a["s-sn"]&&c===p.parentNode&&(p=p.nextSibling,!p||!p["s-nr"])){d=p;break}(!d&&c!==a.parentNode||a.nextSibling!==d)&&a!==d&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,d))}else a.nodeType===1&&(a.hidden=!0)}O2&&XZ(o.$elm$),$i.$flags$&=-2,pl.length=0}},Q0e=e=>Ot.lazyLoad?B0(e).$hostElement$:e,JXe=(e,t,r)=>{const n=Q0e(e);return{emit:i=>(Ot.isDev&&!n.isConnected&&iY(`The "${t}" event was emitted, but the dispatcher node is no longer connected to the dom.`),X0e(n,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:i}))}},X0e=(e,t,r)=>{const n=$i.ce(t,r);return e.dispatchEvent(n),n},eve=(e,t)=>{},zD=(e,t)=>(e.$flags$|=16,eve(e,e.$ancestorComponent$),wve(()=>tve(e,t))),tve=(e,t)=>{const r=e.$hostElement$,n=um("scheduleUpdate",e.$cmpMeta$.$tagName$),i=r;let o;return t?o=Lg(i,"componentWillLoad"):o=Lg(i,"componentWillUpdate"),o=Tj(o,()=>Lg(i,"componentWillRender")),n(),Tj(o,()=>rve(e,i,t))},rve=async(e,t,r)=>{const n=e.$hostElement$,i=um("update",e.$cmpMeta$.$tagName$);n["s-rc"],r&&V0e(e);const o=um("render",e.$cmpMeta$.$tagName$);nve(e,t,n),o(),i(),ive(e)},nve=(e,t,r)=>{try{_j=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Ot.hasRenderFn||Ot.reflect)&&(Ot.vdomRender||Ot.reflect)&&(Ot.hydrateServerSide||Y0e(e,t))}catch(a){M_(a,e.$hostElement$)}return _j=null,null},ive=e=>{const t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,n=um("postUpdate",t),i=r;e.$ancestorComponent$,Lg(i,"componentDidRender"),e.$flags$&64?(Lg(i,"componentDidUpdate"),n()):(e.$flags$|=64,Lg(i,"componentDidLoad"),n())},ZXe=e=>{if(Ot.updatable){const t=B0(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&zD(t,!1),r}return!1},Lg=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(n){M_(n)}},Tj=(e,t)=>e&&e.then?e.then(t):t(),ove=(e,t)=>e!=null&&!ND(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,sve=(e,t)=>B0(e).$instanceValues$.get(t),ave=(e,t,r,n)=>{const i=B0(e),o=e,s=i.$instanceValues$.get(t),a=i.$flags$,l=o;r=ove(r,n.$members$[t][0]);const c=Number.isNaN(s)&&Number.isNaN(r);if(r!==s&&!c){i.$instanceValues$.set(t,r);{if(n.$watchers$&&a&128){const p=n.$watchers$[t];p&&p.map(f=>{try{l[f](r,s,t)}catch(y){M_(y,o)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(r,s,t)===!1)return;zD(i,!1)}}}},lve=(e,t,r)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const n=Object.entries(t.$members$),i=e.prototype;n.map(([o,[s]])=>{(s&31||s&32)&&Object.defineProperty(i,o,{get(){return sve(this,o)},set(a){ave(this,o,a,t)},configurable:!0,enumerable:!0})});{const o=new Map;i.attributeChangedCallback=function(s,a,l){$i.jmp(()=>{const c=o.get(s);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(i.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},e.observedAttributes=n.filter(([s,a])=>a[0]&15).map(([s,a])=>{const l=a[1]||s;return o.set(l,s),a[0]&512&&t.$attrsToReflect$.push([s,l]),l})}}return e},cve=async(e,t,r,n,i)=>{if((t.$flags$&32)===0&&(i=e.constructor,t.$flags$|=32,customElements.whenDefined(r.$tagName$).then(()=>t.$flags$|=128),i.style)){let s=i.style;typeof s!="string"&&(s=s[t.$modeName$=j0e(e)]);const a=qZ(r,t.$modeName$);if(!F2.has(a)){const l=um("registerStyles",r.$tagName$);D0e(a,s,!!(r.$flags$&1)),l()}}t.$ancestorComponent$,(()=>zD(t,!0))()},uve=e=>{},dve=e=>{if(($i.$flags$&1)===0){const t=B0(e),r=t.$cmpMeta$,n=um("connectedCallback",r.$tagName$);t.$flags$&1?(HZ(e,t,r.$listeners$),uve(t.$lazyInstance$)):(t.$flags$|=1,r.$flags$&12&&pve(e),r.$members$&&Object.entries(r.$members$).map(([i,[o]])=>{if(o&31&&e.hasOwnProperty(i)){const s=e[i];delete e[i],e[i]=s}}),cve(e,t,r)),n()}},pve=e=>{const t=e["s-cr"]=Sl.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},hve=e=>{if(($i.$flags$&1)===0){const t=B0(e);t.$rmListeners$&&(t.$rmListeners$.map(r=>r()),t.$rmListeners$=void 0)}},YXe=(e,t)=>{const r={$flags$:t[0],$tagName$:t[1]};Ot.member&&(r.$members$=t[2]),Ot.hostListener&&(r.$listeners$=t[3]),Ot.watchCallback&&(r.$watchers$=e.$watchers$),Ot.reflect&&(r.$attrsToReflect$=[]),Ot.shadowDom&&!L2&&r.$flags$&1&&(r.$flags$|=8);const n=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){mve(this,r)},connectedCallback(){dve(this),Ot.connectedCallback&&n&&n.call(this)},disconnectedCallback(){hve(this),Ot.disconnectedCallback&&i&&i.call(this)},__attachShadow(){L2?Ot.shadowDelegatesFocus?this.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)}):this.attachShadow({mode:"open"}):this.shadowRoot=this}}),e.is=r.$tagName$,lve(e,r)},QXe=e=>{const t=new URL(e,$i.$resourcesUrl$);return t.origin!==j0.location.origin?t.href:t.pathname},fve=e=>$i.$resourcesUrl$=e,rY=new WeakMap,B0=e=>rY.get(e),mve=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Ot.isDev&&(r.$renderCount$=0),Ot.method&&Ot.lazyLoad&&(r.$onInstancePromise$=new Promise(n=>r.$onInstanceResolve$=n)),Ot.asyncLoading&&(r.$onReadyPromise$=new Promise(n=>r.$onReadyResolve$=n),e["s-p"]=[],e["s-rc"]=[]),HZ(e,r,t.$listeners$),rY.set(e,r)},kj=(e,t)=>t in e,M_=(e,t)=>(0,console.error)(e,t),nY=Ot.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],yve=(...e)=>console.error(...nY,...e),iY=(...e)=>console.warn(...nY,...e),F2=new Map,gve=[],Pj=[],oY=[],vve=(e,t)=>r=>{e.push(r),AL||(AL=!0,t&&$i.$flags$&4?bve(FL):$i.raf(FL))},Oj=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){M_(r)}e.length=0},FL=()=>{Oj(Pj),Oj(oY),(AL=Pj.length>0)&&$i.raf(FL)},bve=e=>L0e().then(e),wve=vve(oY,!0),XXe={isDev:!!Ot.isDev,isBrowser:!0,isServer:!1,isTesting:!!Ot.isTesting};let sY;function _ve(){fve(ml(Nt(sY)))}sY="components/assets";const aY=Symbol("widget"),xve=[],Sve={},N2=new WeakMap;function lY(e,t){let r=t.children;if(r&&r.length)for(let i=0;i<r.length;++i)r[i]=lY(e,r[i]);else r=xve;const n=t.vnodeSelector;if(VD(n)){const i=t.properties||Sve,o=i.key||n;return{vnodeSelector:"div",properties:{key:o,afterCreate:Cve,afterUpdate:$ve,afterRemoved:cY,parentWidget:e,widgetConstructor:n,widgetProperties:{...i,key:o,children:r}},children:void 0,text:void 0,domNode:null}}return t}function Cve(e,t,r,{parentWidget:n,widgetConstructor:i,widgetProperties:o}){var a;const s=new i(o);s.container=e,N2.set(e,s),(a=s.afterCreate)==null||a.call(s,s,e),n._internalHandles.add(O0(()=>cY(e)))}function $ve(e,t,r,{widgetProperties:n}){var o;const i=N2.get(e);i&&(i.set(n),(o=i.afterUpdate)==null||o.call(i,i,e))}function cY(e){const t=N2.get(e);t&&(t.destroy(),N2.delete(e))}function VD(e){return typeof e=="function"&&e[aY]}const Lj=new Set;function Eve(e){Lj.add(e),e.finally(()=>Lj.delete(e))}const uY="esri.widgets.Widget",Ive=Ce.getLogger(uY);let Mve=0;const Tve={widgetIcon:"esri-icon-checkbox-unchecked"};function dY(e,t){for(const r in t)e[r]!=null&&(typeof e[r]=="object"&&typeof t[r]=="object"?dY(e[r],t[r]):e[r]=t[r]);return e}const kve=P0e({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(n,i,o,s)=>{const a=t(n,i,o,s),l=r.test(n);if(!((n=n.replace(r,"")).toLowerCase()in o)||l){const c=n[2].toLowerCase()+n.slice(3),d=y=>a.call(o,y);o.addEventListener(c,d,l);const p=()=>o.removeEventListener(c,d,l),f=s.afterRemoved;s.afterRemoved=y=>{f==null||f(y),p()}}return a}},handleInterceptedEvent(e,t,r,n){const{eventPhase:i,type:o}=n,s=i===Event.CAPTURING_PHASE;let a=`on${o}${s?"capture":""}`;const l=t.properties;(a in l||(a=`on${o[0].toUpperCase()}${o.slice(1)}${s?"Capture":""}`,a in l))&&(RZ(),e.scheduleRender(),l[a].call(l.bind||r,n))}});let JT=!1,Tn=class extends E_(Ku.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new bn,this._projector=kve,this._readyForTrueRender=!1,this.domNode=null,this.iconClass=Tve.widgetIcon,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=uI(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const o=await yn(this._messageBundleProps.map(async({bundlePath:s,propertyName:a})=>{let l=await wJ(s);this.uiStrings&&Object.keys(this.uiStrings)&&(l=dY(X(l),this.uiStrings)),this[a]=l}));for(const s of o)s.error&&Ive.error("widget-intl:locale-error",this.declaredClass,s.error)}await this.loadLocale()}),_ve();const r="esri-widget-uid-"+ige(),n=this.render.bind(this);this._trackingTarget=new dI(()=>this.scheduleRender());const i=()=>{var d;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:r,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const o=n();let{properties:s}=o;s||(o.properties=s={});let{key:a,styles:l}=s;a||(s.key=r),l||(s.styles=l={}),l.display||(l.display="");let c=0;return(d=o.children)==null||d.forEach(p=>{if(VD(p.vnodeSelector))return;let{properties:f}=p;f||(p.properties=f={}),f.key||(f.key=`${this.id}--${c++}`)}),lY(this,o)};this.render=()=>{if(JT)return i();let o=o0e(this);if(o)return o;this._trackingTarget.clear(),JT=!0;try{o=Fu(this._trackingTarget,i)}catch(s){throw console.error(s),s}finally{JT=!1}return s0e(this,o),o},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()})),Eve(this._resourcesFetch)}normalizeCtorArgs(e,t){const r={...e};return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(YO)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(ko(this._trackingTarget),ko(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,WT(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return OD(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+Mve++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(WT(this),this._projector.scheduleRender())}classes(...e){return ag.apply(this,e)}renderNow(){WT(this),this._projector.renderNow()}_postInitialize(){var t;if(this.destroyed)return;this.scheduleRender(),(t=this._delegatedEventNames)!=null&&t.length&&this._internalHandles.add(fe(()=>this.viewModel,(r,n)=>{n&&this._internalHandles.remove("delegated-events"),r&&aI(r)&&this._internalHandles.add(this._delegatedEventNames.map(i=>lI(r,i,o=>{this.emit(i,o)})),"delegated-events")},At)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(YO),this.scheduleRender()};this._internalHandles.add([vJ(e),fe(()=>this.uiStrings,e),qi(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};Tn[aY]=!0,u([h()],Tn.prototype,"_readyForTrueRender",void 0),u([h({value:null})],Tn.prototype,"container",null),u([zt("container")],Tn.prototype,"castContainer",null),u([h({aliasOf:"container"})],Tn.prototype,"domNode",void 0),u([h()],Tn.prototype,"iconClass",void 0),u([h()],Tn.prototype,"id",null),u([h()],Tn.prototype,"label",void 0),u([h()],Tn.prototype,"renderable",null),u([h()],Tn.prototype,"uiStrings",void 0),u([h()],Tn.prototype,"viewModel",void 0),u([h()],Tn.prototype,"visible",void 0),u([h()],Tn.prototype,"key",void 0),u([h()],Tn.prototype,"children",void 0),u([h()],Tn.prototype,"afterCreate",void 0),u([h()],Tn.prototype,"afterUpdate",void 0),u([h()],Tn.prototype,"afterRemoved",void 0),Tn=u([B(uY)],Tn);const En=Tn;var l0;function Pve(e,t){switch(e.type){case"range":{const r="range"in e?e.range[0]:e.minValue,n="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>n)return l0.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(e.codedValues==null||e.codedValues.every(r=>r==null||r.code!==t))return l0.INVALID_CODED_VALUE}return null}(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(l0||(l0={}));let ZT;function zu(){return ZT||(ZT=(async()=>{const e=await ae(()=>import("./arcadeUtils.0fb1a668.js").then(t=>t.t),[],import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),ZT}const eet=(e,t,r)=>T_.create(e,t,r,null,["$feature"]),tet=(e,t,r)=>T_.create(e,t,r,null,["$feature","$view"]),Ove=(e,t,r,n)=>T_.create(e,t,r,n,["$feature","$view"]);class T_{constructor(t,r,n,i,o,s,a,l){this.script=t,this.evaluate=o;const c=Array.isArray(a)?a:a.fields;this.fields=c,this._syntaxTree=i,this._arcade=r,this._arcadeDictionary=n,this._arcadeFeature=s,this._spatialReference=l,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,n,i,o,s){const{arcade:a,Feature:l,Dictionary:c}=await zu(),d=mt.fromJSON(r),p=a.parseScript(t,s),f=o.reduce(($,M)=>({...$,[M]:null}),{});let y=null;G(i)&&(y=new c(i),y.immutable=!0,f.$config=null);const g=a.scriptUsesGeometryEngine(p)&&a.enableGeometrySupport(),v=a.scriptUsesFeatureSet(p)&&a.enableFeatureSetSupport(),b=a.scriptIsAsync(p)&&a.enableAsyncSupport(),w={vars:f,spatialReference:d,useAsync:!!b},x=new c;x.immutable=!1,x.setField("scale",0);const S=a.compileScript(p,w),C=$=>("$view"in $&&$.$view&&(x.setField("scale",$.$view.scale),$.$view=x),y&&($.$config=y),S({vars:$,spatialReference:d}));return await Promise.all([g,v,b]),new T_(t,a,c,p,C,new l,n,d)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(t){return this._arcade.referencesMember(this._syntaxTree,t)}referencesFunction(t){return this._arcade.referencesFunction(this._syntaxTree,t)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}const Lve=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Rve=["field","normalizationField"];function D2(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(Rj(Lve,r,t),"visualVariables"in r&&r.visualVariables)for(const n of r.visualVariables)Rj(Rve,n,t)}}function Rj(e,t,r){if(e)for(const n of e){const i=L0(n,t),o=i&&typeof i!="function"&&r.get(i);o&&qo(n,o.name,t)}}function jD(e,t){if(e!=null&&(t==null?void 0:t.fields.length))if("startField"in e){const r=t.get(e.startField),n=t.get(e.endField);e.startField=r&&r.name||null,e.endField=n&&n.name||null}else{const r=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=r&&r.name||null,e.endTimeField=n&&n.name||null}}const YT=new Set;function pY(e,t){return e&&t?(YT.clear(),T1(YT,e,t),Array.from(YT).sort()):[]}function T1(e,t,r){var n;if(r)if((n=t==null?void 0:t.fields)!=null&&n.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)fa(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)e.add(i)}}function fa(e,t,r){if(typeof r=="string")if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}function ret(e,t){return te(t)||te(e)?[]:t.includes("*")?e.fields.map(r=>r.name):t}async function fo(e,t,r){var o;if(!r)return;const{arcadeUtils:n}=await zu(),i=n.extractFieldNames(r,(o=t==null?void 0:t.fields)==null?void 0:o.map(s=>s.name));for(const s of i)fa(e,t,s)}async function hY(e,t,r){if(r&&r!=="1=1"){const n=(await ae(()=>import("./WhereClause.61d98999.js"),[],import.meta.url)).WhereClause.create(r,t);if(!n.isStandardized)throw new Z("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});T1(e,t,n.fieldNames)}}function Ave({displayField:e,fields:t}){return e||(t&&t.length?QT(t,"name-or-title")||QT(t,"unique-identifier")||QT(t,"type-or-category")||Fve(t):null)}function Fve(e){for(const t of e){if(!t||!t.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function QT(e,t){for(const r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}async function net(e,t){if(!t)return;const r=L0("elevationInfo.featureExpressionInfo",t);return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}async function Nve(e,t,r){r.outStatistic.onStatisticValueExpression?fo(e,t,r.outStatistic.onStatisticValueExpression):e.add(r.outStatistic.onStatisticField)}async function iet(e,t,r){var i,o;if(!t||!r||!("fields"in r))return;const n=[];if((i=r.popupTemplate)!=null&&i.expressionInfos&&n.push(...r.popupTemplate.expressionInfos.map(s=>fo(e,t.fieldsIndex,s.expression))),Array.isArray((o=r.popupTemplate)==null?void 0:o.content)){const s=r.popupTemplate.content;for(const a of s)a.type==="expression"&&a.expressionInfo&&n.push(fo(e,t.fieldsIndex,a.expressionInfo.expression))}r.fields&&n.push(...r.fields.map(s=>Nve(e,t.fieldsIndex,s))),await Promise.all(n)}async function oet(e,t,r){t&&(t.timeInfo&&G(r)&&r.timeExtent&&T1(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&T1(e,t.fieldsIndex,[t.floorInfo.floorField]),G(r)&&G(r.where)&&await hY(e,t.fieldsIndex,r.where))}async function set(e,t,r){t&&r&&await Promise.all(r.map(n=>Dve(e,t,n)))}async function Dve(e,t,r){t&&r&&(r.valueExpression?await fo(e,t.fieldsIndex,r.valueExpression):r.field&&fa(e,t.fieldsIndex,r.field))}function aet(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?pY(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}async function cet(e,t){const{labelingInfo:r,fieldsIndex:n}=t;r&&r.length&&await Promise.all(r.map(i=>zve(e,n,i)))}async function zve(e,t,r){if(!r)return;const n=r.getLabelExpression(),i=r.where;if(n.type==="arcade")await fo(e,t,n.expression);else{const o=n.expression.match(/{[^}]*}/g);o&&o.forEach(s=>{fa(e,t,s.slice(1,-1))})}await hY(e,t,i)}function Vve(e){const t=e.defaultValue;return t!==void 0&&yY(e,t)?t:e.nullable?null:void 0}function fY(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function jve(e){return e===null||fY(e)}const BD="isInteger"in Number?Number.isInteger:e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e;function Bve(e){return e===null||BD(e)}function mY(e){return e!=null&&typeof e=="string"}function Uve(e){return e===null||mY(e)}function Gve(){return!0}function yY(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?Bve:BD;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?jve:fY;break;case"string":case"esriFieldTypeString":r=e.nullable?Uve:mY;break;default:r=Gve}return arguments.length===1?r:r(t)}const Hve=["integer","small-integer","single","double"],qve=new Set([...Hve,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function UD(e){return e!=null&&qve.has(e.type)}function uet(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function Wve(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}var z2,V2;function det(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function pet(e,t){return e.nullable&&t===null?null:UD(e)&&!Kve(e.type,Number(t))?z2.OUT_OF_RANGE:yY(e,t)?e.domain?Pve(e.domain,t):null:V2.INVALID_TYPE}function Kve(e,t){const r=typeof e=="string"?gY(e):e;return!!r&&(r.isInteger?BD(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}function gY(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Jve;case"esriFieldTypeInteger":case"integer":return Zve;case"esriFieldTypeSingle":case"single":return Yve;case"esriFieldTypeDouble":case"double":return Qve}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(z2||(z2={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(V2||(V2={}));const Jve={min:-32768,max:32767,isInteger:!0},Zve={min:-2147483648,max:2147483647,isInteger:!0},Yve={min:-34e37,max:12e37,isInteger:!1},Qve={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function het(e,t,r){switch(e){case l0.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case l0.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case V2.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case z2.OUT_OF_RANGE:{const{min:n,max:i}=gY(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${i}`}}}function Xve(e,t){return!ebe(e,t,null)}function ebe(e,t,r){if(!t||!t.attributes||!e){if(G(r))for(const o of e)r.add(o);return!0}const n=t.attributes;let i=!1;for(const o of e)if(!(o in n)){if(i=!0,!G(r))break;r.add(o)}return i}function vY(e){return["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}const Aj=new Et({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let tbe=0,hy=class extends ve{constructor(e){super(e),this.id="sym"+tbe++,this.type=null,this.color=new ze([0,0,0,1])}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([h({type:Aj.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Aj.write}}})],hy.prototype,"type",void 0),u([h({type:ze,json:{write:{allowNull:!0}}})],hy.prototype,"color",void 0),u([Pe("color")],hy.prototype,"readColor",null),hy=u([B("esri.symbols.Symbol")],hy);const Xo=hy;var NL;let xd=NL=class extends Xo{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const r in e)t[r]=e[r]}async collectRequiredFields(e,t){if(this.data.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const n=r.map(i=>{const o=i.valueExpressionInfo;return fo(e,t,o.expression)});await Promise.all(n)}}}clone(){return new NL({data:X(this.data)})}hash(){return BN(JSON.stringify(this.data)).toString()}};u([h({json:{write:!1}})],xd.prototype,"color",void 0),u([h({json:{write:!0}})],xd.prototype,"data",void 0),u([Pe("data",["symbol"])],xd.prototype,"readData",null),u([Ae("data",{})],xd.prototype,"writeData",null),u([nt({CIMSymbolReference:"cim"},{readOnly:!0})],xd.prototype,"type",void 0),xd=NL=u([B("esri.symbols.CIMSymbol")],xd);const k_=xd;let fy=class extends ve{constructor(e){super(e),this.enabled=!0,this.type=null}writeEnabled(e,t,r){e||(t[r]=e)}};u([h({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],fy.prototype,"enabled",void 0),u([Ae("enabled")],fy.prototype,"writeEnabled",null),u([h({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],fy.prototype,"type",void 0),fy=u([B("esri.symbols.Symbol3DLayer")],fy);const Oc=fy,rbe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,nbe="screenUtils.toPt: input not recognized!",bY=96;function Ur(e){return e?e/72*bY:0}function xa(e){return e?72*e/bY:0}function Jt(e){if(typeof e=="string"){const t=e.match(rbe);if(t){const r=Number(t[1]),n=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",o=n==="px"?xa(r):r;return i?-o:o}return console.warn(nbe),null}return e}function Ro(e=0,t=0){return{x:e,y:t}}function fet(e=0,t=0){return[e,t]}function ibe(e,t){const r=t.transparency!=null?C1(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new ze([n[0]||0,n[1]||0,n[2]||0,r]):null}function obe(e,t){t.color=e.toJSON().slice(0,3);const r=bI(e.a);r!==0&&(t.transparency=r)}const Qp={type:ze,json:{type:[Ir],default:null,read:{source:["color","transparency"],reader:ibe},write:{target:{color:{type:[Ir]},transparency:{type:Ir}},writer:obe}}},Ic={type:Number,cast:Jt,json:{write:!0}};let wh=class extends ve{constructor(e){super(e),this.color=new ze([0,0,0,1]),this.extensionLength=0,this.size=xa(1)}clone(){}cloneProperties(){return{color:X(this.color),size:this.size,extensionLength:this.extensionLength}}};u([h({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],wh.prototype,"type",void 0),u([h(Qp)],wh.prototype,"color",void 0),u([h({...Ic,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],wh.prototype,"extensionLength",void 0),u([h(Ic)],wh.prototype,"size",void 0),wh=u([B("esri.symbols.edges.Edges3D")],wh);const GD=wh;var DL;let $C=DL=class extends GD{constructor(e){super(e),this.type="sketch"}clone(){return new DL(this.cloneProperties())}};u([nt({sketch:"sketch"},{readOnly:!0})],$C.prototype,"type",void 0),$C=DL=u([B("esri.symbols.edges.SketchEdges3D")],$C);const sbe=$C;var zL;let EC=zL=class extends GD{constructor(e){super(e),this.type="solid"}clone(){return new zL(this.cloneProperties())}};u([nt({solid:"solid"},{readOnly:!0})],EC.prototype,"type",void 0),EC=zL=u([B("esri.symbols.support.SolidEdges3D")],EC);const abe=EC,wY={types:{key:"type",base:GD,typeMap:{solid:abe,sketch:sbe}},json:{write:!0}};var VL;let Ms=VL=class extends ve{constructor(e){super(e),this.color=null}clone(){const e={color:G(this.color)?this.color.clone():null};return new VL(e)}};u([h(Qp)],Ms.prototype,"color",void 0),Ms=VL=u([B("esri.symbols.support.Symbol3DMaterial")],Ms);var jL;let Sd=jL=class extends Oc{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new jL({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:G(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};u([nt({Extrude:"extrude"},{readOnly:!0})],Sd.prototype,"type",void 0),u([h({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Sd.prototype,"size",void 0),u([h({type:Ms,json:{write:!0}})],Sd.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Sd.prototype,"castShadows",void 0),u([h(wY)],Sd.prototype,"edges",void 0),Sd=jL=u([B("esri.symbols.ExtrudeSymbol3DLayer")],Sd);const _Y=Sd;let vb=class extends Xo{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([nt({esriSLS:"simple-line"},{readOnly:!0})],vb.prototype,"type",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],vb.prototype,"width",void 0),vb=u([B("esri.symbols.LineSymbol")],vb);const lbe=vb,cbe=["begin","end","begin-end"],xY=["arrow","circle","square","diamond","cross","x"];var BL;let jl=BL=class extends ve{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,n){t[r]=(n==null?void 0:n.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,n){(n==null?void 0:n.origin)==="web-map"||(t[r]=e)}clone(){return new BL({color:X(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};u([h({type:["begin","end","begin-end"],json:{write:!0}})],jl.prototype,"placement",void 0),u([nt({"line-marker":"line-marker"},{readOnly:!0}),h({json:{origins:{"web-map":{write:!1}}}})],jl.prototype,"type",void 0),u([h({type:xY})],jl.prototype,"style",void 0),u([Ae("style")],jl.prototype,"writeStyle",null),u([h({type:ze,value:null,json:{write:{allowNull:!0}}})],jl.prototype,"color",null),u([Pe("color")],jl.prototype,"readColor",null),u([Ae("color")],jl.prototype,"writeColor",null),jl=BL=u([B("esri.symbols.LineSymbolMarker")],jl);const ube=jl;var UL;const XT=new Et({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Jc=UL=class extends lbe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,n,i,o){if(e&&typeof e!="string")return e;const s={};return e!=null&&(s.style=e),t!=null&&(s.color=t),r!=null&&(s.width=Jt(r)),n!=null&&(s.cap=n),i!=null&&(s.join=i),o!=null&&(s.miterLimit=Jt(o)),s}clone(){var e;return new UL({color:X(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};u([nt({esriSLS:"simple-line"},{readOnly:!0})],Jc.prototype,"type",void 0),u([h({type:XT.apiValues,json:{read:XT.read,write:XT.write}})],Jc.prototype,"style",void 0),u([h({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],Jc.prototype,"cap",void 0),u([h({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],Jc.prototype,"join",void 0),u([h({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":ube}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Jc.prototype,"marker",void 0),u([h({type:Number,json:{read:!1,write:!1}})],Jc.prototype,"miterLimit",void 0),Jc=UL=u([B("esri.symbols.SimpleLineSymbol")],Jc);const es=Jc;let bb=class extends Xo{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};u([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":es}},json:{default:null,write:!0}})],bb.prototype,"outline",void 0),u([h({type:["simple-fill","picture-fill"],readOnly:!0})],bb.prototype,"type",void 0),bb=u([B("esri.symbols.FillSymbol")],bb);const SY=bb;let IC=class extends ve{constructor(e){super(e)}clone(){}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],IC.prototype,"type",void 0),IC=u([B("esri.symbols.patterns.LinePattern3D")],IC);const CY=IC,dbe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var GL;const pbe=Ii()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let wb=GL=class extends CY{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new GL(e)}};u([h({type:["style"]})],wb.prototype,"type",void 0),u([nt(pbe),h({type:dbe})],wb.prototype,"style",void 0),wb=GL=u([B("esri.symbols.patterns.LineStylePattern3D")],wb);const HD=wb;let MC=class extends ve{constructor(e){super(e)}clone(){}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],MC.prototype,"type",void 0),MC=u([B("esri.symbols.patterns.Pattern3D")],MC);const $Y=MC,hbe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var HL;let _b=HL=class extends $Y{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new HL(e)}};u([h({type:["style"]})],_b.prototype,"type",void 0),u([h({type:hbe,json:{read:!0,write:!0}})],_b.prototype,"style",void 0),_b=HL=u([B("esri.symbols.patterns.StylePattern3D")],_b);const EY=_b,fbe={types:{key:"type",base:$Y,typeMap:{style:EY}},json:{write:!0}},IY={types:{key:"type",base:CY,typeMap:{style:HD}},json:{write:!0}},Mw=new ze("white");new ze("black");const mbe=new ze([255,255,255,0]);function ybe(e){return e.r===0&&e.g===0&&e.b===0}var qL;let Tw=qL=class extends Ms{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:G(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new qL(e)}};u([nt({multiply:"multiply",replace:"replace",tint:"tint"})],Tw.prototype,"colorMixMode",void 0),Tw=qL=u([B("esri.symbols.support.Symbol3DFillMaterial")],Tw);function Sa(e=$be){return[e[0],e[1],e[2],e[3]]}function met(e){return[e[0],e[1],e[2],e[3]]}function gbe(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function yet(e,t,r,n,i=Sa()){return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function vbe(e,t=Sa()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function get(e,t){return new er({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function vet(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function bbe(e){return te(e)||e[0]>=e[2]?0:e[2]-e[0]}function wbe(e){return e[1]>=e[3]?0:e[3]-e[1]}function bet(e){return bbe(e)*wbe(e)}function _be(e,t){return xbe(e,t[0],t[1])}function xbe(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function Sbe(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function wet(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function Cbe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function _et(e){return e?gbe(e,Fj):Sa(Fj)}const Fj=[1/0,1/0,-1/0,-1/0],$be=[0,0,0,0];function qD(e=kbe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function WD(e,t,r,n,i,o,s=qD()){return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=i,s[5]=o,s}function xet(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new er(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Cet(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function $et(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function Ebe(e){return e[0]>=e[3]?0:e[3]-e[0]}function Ibe(e){return e[1]>=e[4]?0:e[4]-e[1]}function Mbe(e){return e[2]>=e[5]?0:e[5]-e[2]}function Eet(e,t=[0,0,0]){return t[0]=Ebe(e),t[1]=Ibe(e),t[2]=Mbe(e),t}function Iet(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function Met(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function Tbe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Tet(e){return e?Tbe(e,Dj):qD(Dj)}function ket(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function Nj(e){return e.length===6}function Pet(e,t,r){if(te(e)||te(t))return e===t;if(!Nj(e)||!Nj(t))return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Dj=[1/0,1/0,1/0,-1/0,-1/0,-1/0],kbe=[0,0,0,0,0,0];qD();function Oet(e,{isPrimitive:t,width:r,depth:n,height:i}){const o=t?10:1;if(r==null&&i==null&&n==null)return[o*e[0],o*e[1],o*e[2]];const s=z0(r,n,i);let a;for(let l=0;l<3;l++){const c=s[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)s[l]==null&&(s[l]=e[l]*a);return s}const Pbe=WD(-.5,-.5,-.5,.5,.5,.5),Obe=WD(-.5,-.5,0,.5,.5,1),Lbe=WD(-.5,-.5,0,.5,.5,.5);function Let(e){switch(e){case"sphere":case"cube":case"diamond":return Pbe;case"cylinder":case"cone":case"inverted-cone":return Obe;case"tetrahedron":return Lbe;default:return}}const KD=["butt","square","round"],Rbe=[...KD,"none"],MY=["miter","bevel","round"];var WL;let _h=WL=class extends ve{constructor(e){super(e),this.color=new ze([0,0,0,1]),this.size=xa(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:G(this.color)?this.color.clone():null,size:this.size,pattern:G(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new WL(e)}};u([h(Qp)],_h.prototype,"color",void 0),u([h(Ic)],_h.prototype,"size",void 0),u([h(IY)],_h.prototype,"pattern",void 0),u([h({type:KD,json:{default:"butt",write:{overridePolicy(){return{enabled:G(this.pattern)}}}}})],_h.prototype,"patternCap",void 0),_h=WL=u([B("esri.symbols.support.Symbol3DOutline")],_h);var TC;let Zc=TC=class extends Oc{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:G(this.edges)?this.edges.clone():null,enabled:this.enabled,material:G(this.material)?this.material.clone():null,pattern:G(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:G(this.outline)?this.outline.clone():null};return new TC(e)}static fromSimpleFillSymbol(e){var n,i,o,s,a,l;const t=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new HD({style:e.outline.style}):null,r={size:(i=(n=e.outline)==null?void 0:n.width)!=null?i:0,color:((s=(o=e.outline)==null?void 0:o.color)!=null?s:Mw).clone(),pattern:t};return t&&((a=e.outline)==null?void 0:a.cap)&&(r.patternCap=e.outline.cap),new TC({material:new Tw({color:((l=e.color)!=null?l:mbe).clone()}),pattern:e.style&&e.style!=="solid"?new EY({style:e.style}):null,outline:r})}};u([nt({Fill:"fill"},{readOnly:!0})],Zc.prototype,"type",void 0),u([h({type:Tw,json:{write:!0}})],Zc.prototype,"material",void 0),u([h(fbe)],Zc.prototype,"pattern",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Zc.prototype,"castShadows",void 0),u([h({type:_h,json:{write:!0}})],Zc.prototype,"outline",void 0),u([h(wY)],Zc.prototype,"edges",void 0),Zc=TC=u([B("esri.symbols.FillSymbol3DLayer")],Zc);const $I=Zc,Abe=["none","underline","line-through"],Fbe=["normal","italic","oblique"],Nbe=["normal","lighter","bold","bolder"],TY={type:Number,cast:e=>{const t=sa(e);return t===0?1:Ko(t,.1,4)},nonNullable:!0},Dbe=["left","right","center"],zbe=["baseline","top","middle","bottom"],kY={type:Dbe,nonNullable:!0},PY={type:zbe,nonNullable:!0};var KL;let Yc=KL=class extends ve{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Jt(e)}clone(){return new KL({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([h({type:Abe,json:{default:"none",write:!0}})],Yc.prototype,"decoration",void 0),u([h({type:String,json:{write:!0}})],Yc.prototype,"family",void 0),u([h({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Yc.prototype,"size",void 0),u([zt("size")],Yc.prototype,"castSize",null),u([h({type:Fbe,json:{default:"normal",write:!0}})],Yc.prototype,"style",void 0),u([h({type:Nbe,json:{default:"normal",write:!0}})],Yc.prototype,"weight",void 0),Yc=KL=u([B("esri.symbols.Font")],Yc);const EI=Yc;function Up(e,t){const r=t&&t.url&&t.url.path;if(e&&r&&(e=ml(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=iD(e,t.portalItem.itemUrl);jbe.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return JL(e,t&&t.portal)}function P_(e,t,r=k1.YES){if(!e)return e;!Es(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=ml(e);if(t){const i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(i){const o=JL(i,t.portal);n=iD(JL(n,t.portal),o,o),n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=OY(n,t&&t.portal),Es(n)&&(n=ha(n)),(t==null?void 0:t.resources)&&(t==null?void 0:t.portalItem)&&!Es(n)&&!xm(n)&&r===k1.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function JD(e,t,r){return Up(e,r)}function dm(e,t,r,n){const i=P_(e,n);i!==void 0&&(t[r]=i)}const Vbe=/\/items\/([^\/]+)\/resources\//,jbe=/^\.\/resources\//;function Bbe(e){const t=G(e)?e.match(Vbe):null;return G(t)?t[1]:null}function OY(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?pL(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function JL(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=tD();return x1(n,`${n.scheme}://${r}`)?pL(e,t.portalHostname,r):pL(e,r,t.portalHostname)}var k1;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(k1||(k1={}));const Ret=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:Up,toJSON:P_,read:JD,write:dm,itemIdFromResourceUrl:Bbe,ensureMainOnlineDomain:OY,get MarkKeep(){return k1}},Symbol.toStringTag,{value:"Module"}));var ZL;const Ube=Ii()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let xh=ZL=class extends ve{constructor(e){super(e)}readHref(e,t,r){return e?Up(e,r):t.dataURI}writeHref(e,t,r,n){e&&(xm(e)?t.dataURI=e:(t.href=P_(e,n),Es(t.href)&&(t.href=ha(t.href))))}clone(){return new ZL({href:this.href,primitive:this.primitive})}};u([h({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],xh.prototype,"href",void 0),u([Pe("href")],xh.prototype,"readHref",null),u([Ae("href",{href:{type:String},dataURI:{type:String}})],xh.prototype,"writeHref",null),u([nt(Ube)],xh.prototype,"primitive",void 0),xh=ZL=u([B("esri.symbols.support.IconSymbol3DLayerResource")],xh);const Gbe="circle";var YL;let cg=YL=class extends Ve{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new YL({x:this.x,y:this.y})}};u([h({type:Number})],cg.prototype,"x",void 0),u([h({type:Number})],cg.prototype,"y",void 0),cg=YL=u([B("esri.symbols.support.Symbol3DAnchorPosition2D")],cg);var QL;let xb=QL=class extends ve{constructor(e){super(e),this.color=new ze([0,0,0,1]),this.size=xa(1)}clone(){const e={color:G(this.color)?this.color.clone():null,size:this.size};return new QL(e)}};u([h(Qp)],xb.prototype,"color",void 0),u([h(Ic)],xb.prototype,"size",void 0),xb=QL=u([B("esri.symbols.support.Symbol3DIconOutline")],xb);var my;const Hbe=Ce.getLogger("esri.symbols.IconSymbol3DLayer");let Bl=my=class extends Oc{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new my({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:G(this.material)?this.material.clone():null,outline:G(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Mw,r=zj(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Mw).clone()}:null;return new my({size:e.size,resource:{primitive:Wbe(e.style)},material:{color:t},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||ybe(e.color)?Mw:e.color,r=zj(e);return new my({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new my({resource:{href:tJ({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function zj(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=Vj(e.xoffset),i=Vj(e.yoffset);return(n||i)&&t&&r?{x:-n/t,y:i/r}:null}function Vj(e){return isFinite(e)?e:0}u([h({type:Ms,json:{write:!0}})],Bl.prototype,"material",void 0),u([h({type:xh,json:{write:!0}})],Bl.prototype,"resource",void 0),u([nt({Icon:"icon"},{readOnly:!0})],Bl.prototype,"type",void 0),u([h(Ic)],Bl.prototype,"size",void 0),u([nt({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),h({json:{default:"center"}})],Bl.prototype,"anchor",void 0),u([h({type:cg,json:{type:[Number],read:{reader:e=>new cg({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Bl.prototype,"anchorPosition",void 0),u([h({type:xb,json:{write:!0}})],Bl.prototype,"outline",void 0),Bl=my=u([B("esri.symbols.IconSymbol3DLayer")],Bl);const qbe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Wbe(e){return qbe[e]||(Hbe.warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const vf=Bl;Ce.getLogger("esri.core.Clonable");const ts=e=>{let t=class extends e{clone(){var l;const r=Tue(Ui(this),"unable to clone instance of non-accessor class"),n=r.metadatas,i=r.store,o={},s=new Map;for(const c in n){const d=n[c],p=i==null?void 0:i.originOf(c),f=d.clonable;if(d.readOnly||f===!1||p!==ht.USER&&p!==ht.DEFAULTS&&p!==ht.WEB_MAP&&p!==ht.WEB_SCENE)continue;const y=this[c];let g=null;g=typeof f=="function"?f(y):f==="reference"?y:KO(y),y!=null&&g==null||(p===ht.DEFAULTS?s.set(c,g):o[c]=g)}const a=new(Object.getPrototypeOf(this)).constructor(o);if(s.size){const c=(l=Ui(a))==null?void 0:l.store;if(c)for(const[d,p]of s)c.set(d,p,ht.DEFAULTS)}return a}};return t=u([B("esri.core.Clonable")],t),t};let jj=class extends ts(Ve){};jj=u([B("esri.core.Clonable")],jj);let Sh=class extends ts(ve){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return G(e)&&e.placement===this.placement&&e.style===this.style&&(te(this.color)&&te(e.color)||G(this.color)&&G(e.color)&&this.color.toJSON()===e.color.toJSON())}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Sh.prototype,"type",void 0),u([h({type:cbe,json:{default:"begin-end",write:!0}})],Sh.prototype,"placement",void 0),u([h({type:xY,json:{default:"arrow",write:!0}})],Sh.prototype,"style",void 0),u([h({type:ze,json:{type:[Ir],default:null,write:!0}})],Sh.prototype,"color",void 0),Sh=u([B("esri.symbols.LineStyleMarker3D")],Sh);const XL=Sh;var kC;let Ul=kC=class extends Oc{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=xa(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:G(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:G(this.pattern)?this.pattern.clone():null,marker:G(this.marker)?this.marker.clone():null};return new kC(e)}static fromSimpleLineSymbol(e){var r,n,i;const t={enabled:!0,size:(r=e.width)!=null?r:xa(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new HD({style:e.style}):null,material:new Ms({color:(e.color||Mw).clone()}),marker:e.marker?new XL({placement:e.marker.placement,style:e.marker.style,color:(i=(n=e.marker.color)==null?void 0:n.clone())!=null?i:null}):null};return new kC(t)}};u([h({type:Ms,json:{write:!0}})],Ul.prototype,"material",void 0),u([nt({Line:"line"},{readOnly:!0})],Ul.prototype,"type",void 0),u([h({type:MY,json:{write:!0,default:"miter"}})],Ul.prototype,"join",void 0),u([h({type:KD,json:{write:!0,default:"butt"}})],Ul.prototype,"cap",void 0),u([h(Ic)],Ul.prototype,"size",void 0),u([h(IY)],Ul.prototype,"pattern",void 0),u([h({types:{key:"type",base:XL,typeMap:{style:XL}},json:{write:!0}})],Ul.prototype,"marker",void 0),Ul=kC=u([B("esri.symbols.LineSymbol3DLayer")],Ul);const O_=Ul;var eR;const Kbe=Ii()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Sb=eR=class extends ve{clone(){return new eR({href:this.href,primitive:this.primitive})}};u([h({type:String,json:{read:JD,write:dm}})],Sb.prototype,"href",void 0),u([nt(Kbe)],Sb.prototype,"primitive",void 0),Sb=eR=u([B("esri.symbols.support.ObjectSymbol3DLayerResource")],Sb);const Jbe="sphere";var tR;let of=tR=class extends Ve{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new tR({x:this.x,y:this.y,z:this.z})}};u([h({type:Number})],of.prototype,"x",void 0),u([h({type:Number})],of.prototype,"y",void 0),u([h({type:Number})],of.prototype,"z",void 0),of=tR=u([B("esri.symbols.support.Symbol3DAnchorPosition3D")],of);var rR;let Pi=rR=class extends Oc{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new rR({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:G(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};u([h({type:Ms,json:{write:!0}})],Pi.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Pi.prototype,"castShadows",void 0),u([h({type:Sb,json:{write:!0}})],Pi.prototype,"resource",void 0),u([nt({Object:"object"},{readOnly:!0})],Pi.prototype,"type",void 0),u([h({type:Number,json:{write:!0}})],Pi.prototype,"width",void 0),u([h({type:Number,json:{write:!0}})],Pi.prototype,"height",void 0),u([h({type:Number,json:{write:!0}})],Pi.prototype,"depth",void 0),u([nt({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h({json:{default:"origin"}})],Pi.prototype,"anchor",void 0),u([h({type:of,json:{type:[Number],read:{reader:e=>new of({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Pi.prototype,"anchorPosition",void 0),u([h({type:Number,json:{write:!0}})],Pi.prototype,"heading",void 0),u([h({type:Number,json:{write:!0}})],Pi.prototype,"tilt",void 0),u([h({type:Number,json:{write:!0}})],Pi.prototype,"roll",void 0),u([h({readOnly:!0})],Pi.prototype,"isPrimitive",null),Pi=rR=u([B("esri.symbols.ObjectSymbol3DLayer")],Pi);const ZD=Pi;var nR;let Yi=nR=class extends Oc{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e!=null?e:t.height==null&&t.size!=null?t.size:void 0}readHeight(e,t){return e!=null?e:t.width==null&&t.size!=null?t.size:void 0}clone(){return new nR({enabled:this.enabled,material:G(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};u([h({type:Ms,json:{write:!0}})],Yi.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Yi.prototype,"castShadows",void 0),u([nt({Path:"path"},{readOnly:!0})],Yi.prototype,"type",void 0),u([h({type:["circle","quad"],json:{write:!0,default:"circle"}})],Yi.prototype,"profile",void 0),u([h({type:MY,json:{write:!0,default:"miter"}})],Yi.prototype,"join",void 0),u([h({type:Rbe,json:{write:!0,default:"butt"}})],Yi.prototype,"cap",void 0),u([h({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Yi.prototype,"width",void 0),u([Pe("width",["width","size","height"])],Yi.prototype,"readWidth",null),u([h({type:Number,json:{write:!0}})],Yi.prototype,"height",void 0),u([Pe("height",["height","size","width"])],Yi.prototype,"readHeight",null),u([h({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Yi.prototype,"anchor",void 0),u([h({type:["heading","all"],json:{write:!0,default:"all"}})],Yi.prototype,"profileRotation",void 0),Yi=nR=u([B("esri.symbols.PathSymbol3DLayer")],Yi);const YD=Yi;var iR;let ug=iR=class extends ve{constructor(){super(...arguments),this.color=new ze([0,0,0,1]),this.size=0}clone(){const e={color:X(this.color),size:this.size};return new iR(e)}};u([h(Qp)],ug.prototype,"color",void 0),u([h(Ic)],ug.prototype,"size",void 0),ug=iR=u([B("esri.symbols.support.Symbol3DHalo")],ug);let kw=class extends ts(ve){constructor(e){super(e),this.color=null}};u([h(Qp)],kw.prototype,"color",void 0),kw=u([B("esri.symbols.support.Symbol3DTextBackground")],kw);var PC;let bo=PC=class extends Oc{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){G(e)&&G(this._userSize)&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,n){const i={...n,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){return G(this._userSize)?this._userSize:G(this.font)&&this.font.size!=null?this.font.size:9}set size(e){this._userSize=e,G(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new PC({enabled:this.enabled,font:this.font&&X(this.font),halo:this.halo&&X(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:G(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:X(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new PC({font:G(e.font)?e.font.clone():new EI,halo:Zbe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Ms({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new kw({color:e.backgroundColor.clone()}):null})}};function Zbe(e,t){return e&&t>0?new ug({color:X(e),size:t}):null}u([h({type:EI,json:{write:!0}})],bo.prototype,"font",null),u([Ae("font")],bo.prototype,"writeFont",null),u([h({type:ug,json:{write:!0}})],bo.prototype,"halo",void 0),u([h({...kY,json:{default:"center",write:!0}})],bo.prototype,"horizontalAlignment",void 0),u([h({...TY,json:{default:1,write:!0}})],bo.prototype,"lineHeight",void 0),u([h({type:Ms,json:{write:!0}})],bo.prototype,"material",void 0),u([h({type:kw,json:{write:!0}})],bo.prototype,"background",void 0),u([h(Ic)],bo.prototype,"size",null),u([h({type:String,json:{write:!0}})],bo.prototype,"text",void 0),u([nt({Text:"text"},{readOnly:!0})],bo.prototype,"type",void 0),u([h({...PY,json:{default:"baseline",write:!0}})],bo.prototype,"verticalAlignment",void 0),bo=PC=u([B("esri.symbols.TextSymbol3DLayer")],bo);const U0=bo;var oR;let Cd=oR=class extends Oc{constructor(e){super(e),this.color=sR.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new oR({color:X(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};u([h({type:ze,nonNullable:!0,json:{type:[Ir],write:(e,t,r)=>t[r]=e.toArray(ze.AlphaMode.UNLESS_OPAQUE),default:()=>sR.clone(),defaultEquals:e=>e.toCss(!0)===sR.toCss(!0)}})],Cd.prototype,"color",void 0),u([nt({Water:"water"},{readOnly:!0})],Cd.prototype,"type",void 0),u([h({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Cd.prototype,"waterbodySize",void 0),u([h({type:Number,json:{write:!0,default:null}})],Cd.prototype,"waveDirection",void 0),u([h({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Cd.prototype,"waveStrength",void 0),Cd=oR=u([B("esri.symbols.WaterSymbol3DLayer")],Cd);const sR=new ze([0,119,190]),LY=Cd;var aR;let Ch=aR=class extends Ve{constructor(){super(...arguments),this.portal=null}clone(){return new aR({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([h({type:String})],Ch.prototype,"name",void 0),u([h({type:String})],Ch.prototype,"styleUrl",void 0),u([h({type:String})],Ch.prototype,"styleName",void 0),u([h({type:di})],Ch.prototype,"portal",void 0),Ch=aR=u([B("esri.symbols.support.StyleOrigin")],Ch);const P1=Ch;var lR;let Df=lR=class extends Ve{clone(){return new lR({url:this.url})}};u([h({type:String})],Df.prototype,"url",void 0),Df=lR=u([B("esri.symbols.support.Thumbnail")],Df);const RY={icon:vf,object:ZD,line:O_,path:YD,fill:$I,extrude:_Y,text:U0,water:LY},Ybe=We.ofType({base:Oc,key:"type",typeMap:RY,errorContext:"symbol-layer"}),Qbe=Ce.getLogger("esri.symbols.Symbol3D");let Gl=class extends Xo{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,r=t&&t.type||We;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.initialized&&Qbe.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){rm(e,this._get("symbolLayers"))}readStyleOrigin(e,t,r){if(e.styleUrl&&e.name){const n=Up(e.styleUrl,r);return new P1({styleUrl:n,name:e.name})}if(e.styleName&&e.name)return new P1({portal:r&&r.portal||di.getDefault(),styleName:e.styleName,name:e.name});r&&r.messages&&r.messages.push(new ho("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,t,r,n){if(e.styleUrl&&e.name){let i=P_(e.styleUrl,n);Es(i)&&(i=ha(i)),t.styleOrigin={styleUrl:i,name:e.name}}else e.styleName&&e.name&&(e.portal&&n&&n.portal&&!QK(e.portal.restUrl,n.portal.restUrl)?n&&n.messages&&n.messages.push(new ho("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof Oc||e&&RY[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};u([h({json:{read:!1,write:!1}})],Gl.prototype,"color",null),u([h({type:Ybe,nonNullable:!0,json:{write:!0}}),zt(VK)],Gl.prototype,"symbolLayers",null),u([h({type:P1})],Gl.prototype,"styleOrigin",void 0),u([Pe("styleOrigin")],Gl.prototype,"readStyleOrigin",null),u([Ae("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Gl.prototype,"writeStyleOrigin",null),u([h({type:Df,json:{read:!1}})],Gl.prototype,"thumbnail",void 0),u([h({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Gl.prototype,"type",void 0),Gl=u([B("esri.symbols.Symbol3D")],Gl);const G0=Gl;let Cb=class extends ve{constructor(e){super(e),this.visible=!0}clone(){}};u([h({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],Cb.prototype,"type",void 0),u([h({readOnly:!0})],Cb.prototype,"visible",void 0),Cb=u([B("esri.symbols.callouts.Callout3D")],Cb);const AY=Cb;var cR;let OC=cR=class extends ve{constructor(){super(...arguments),this.color=new ze("white")}clone(){return new cR({color:X(this.color)})}};u([h(Qp)],OC.prototype,"color",void 0),OC=cR=u([B("esri.symbols.callouts.LineCallout3DBorder")],OC);const FY=OC;Object.freeze(Object.defineProperty({__proto__:null,default:FY},Symbol.toStringTag,{value:"Module"}));var uR;let $d=uR=class extends AY{constructor(e){super(e),this.type="line",this.color=new ze([0,0,0,1]),this.size=xa(1),this.border=null}get visible(){return this.size>0&&G(this.color)&&this.color.a>0}clone(){return new uR({color:X(this.color),size:this.size,border:X(this.border)})}};u([nt({line:"line"},{readOnly:!0})],$d.prototype,"type",void 0),u([h(Qp)],$d.prototype,"color",void 0),u([h(Ic)],$d.prototype,"size",void 0),u([h({type:FY,json:{write:!0}})],$d.prototype,"border",void 0),u([h({readOnly:!0})],$d.prototype,"visible",null),$d=uR=u([B("esri.symbols.callouts.LineCallout3D")],$d);const Xbe=$d;function QD(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function NY(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!QD(e)}const DY={types:{key:"type",base:AY,typeMap:{line:Xbe}},json:{write:!0}};var dR;let sf=dR=class extends ve{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new dR({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([h(Ic)],sf.prototype,"screenLength",void 0),u([h({type:Number,json:{write:!0,default:0}})],sf.prototype,"minWorldLength",void 0),u([h({type:Number,json:{write:!0}})],sf.prototype,"maxWorldLength",void 0),sf=dR=u([B("esri.symbols.support.Symbol3DVerticalOffset")],sf);var LC;const zY=We.ofType({base:null,key:"type",typeMap:{text:U0}});let Ed=LC=class extends G0{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new zY,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return NY(this)}hasVisibleVerticalOffset(){return QD(this)}clone(){return new LC({styleOrigin:X(this.styleOrigin),symbolLayers:X(this.symbolLayers),thumbnail:X(this.thumbnail),callout:X(this.callout),verticalOffset:X(this.verticalOffset)})}static fromTextSymbol(e){return new LC({symbolLayers:[U0.fromTextSymbol(e)]})}};u([h({type:sf,json:{write:!0}})],Ed.prototype,"verticalOffset",void 0),u([h(DY)],Ed.prototype,"callout",void 0),u([h({json:{read:!1,write:!1}})],Ed.prototype,"styleOrigin",void 0),u([h({type:zY})],Ed.prototype,"symbolLayers",void 0),u([nt({LabelSymbol3D:"label-3d"},{readOnly:!0})],Ed.prototype,"type",void 0),Ed=LC=u([B("esri.symbols.LabelSymbol3D")],Ed);const II=Ed;var RC;const VY=We.ofType({base:null,key:"type",typeMap:{line:O_,path:YD}}),ewe=We.ofType({base:null,key:"type",typeMap:{line:O_,path:YD}});let $b=RC=class extends G0{constructor(e){super(e),this.symbolLayers=new VY,this.type="line-3d"}clone(){return new RC({styleOrigin:X(this.styleOrigin),symbolLayers:X(this.symbolLayers),thumbnail:X(this.thumbnail)})}static fromSimpleLineSymbol(e){return new RC({symbolLayers:[O_.fromSimpleLineSymbol(e)]})}};u([h({type:VY,json:{type:ewe}})],$b.prototype,"symbolLayers",void 0),u([nt({LineSymbol3D:"line-3d"},{readOnly:!0})],$b.prototype,"type",void 0),$b=RC=u([B("esri.symbols.LineSymbol3D")],$b);const MI=$b;let Id=class extends Xo{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Id.prototype,"angle",void 0),u([h({type:["simple-marker","picture-marker"],readOnly:!0})],Id.prototype,"type",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],Id.prototype,"xoffset",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],Id.prototype,"yoffset",void 0),u([h({type:Number,cast:e=>e==="auto"?e:Jt(e),json:{write:!0}})],Id.prototype,"size",void 0),Id=u([B("esri.symbols.MarkerSymbol")],Id);const jY=Id;var pR;const BY=We.ofType({base:null,key:"type",typeMap:{fill:$I}});let Eb=pR=class extends G0{constructor(e){super(e),this.symbolLayers=new BY,this.type="mesh-3d"}clone(){return new pR({styleOrigin:X(this.styleOrigin),symbolLayers:X(this.symbolLayers),thumbnail:X(this.thumbnail)})}};u([h({type:BY})],Eb.prototype,"symbolLayers",void 0),u([nt({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Eb.prototype,"type",void 0),Eb=pR=u([B("esri.symbols.MeshSymbol3D")],Eb);const XD=Eb;function twe(e,t,r){return t.imageData?tJ({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):UY(t.url,r)}function UY(e,t){return nwe(t)&&!Es(e)&&t.layer.parsedUrl?nm(t.layer.parsedUrl.path,"images",e):Up(e,t)}function rwe(e,t,r,n){if(xm(e)){const i=eJ(e);t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&dm(r.url,t,"url",n)}else dm(e,t,"url",n)}const GY={json:{read:{source:["imageData","url"],reader:twe},write:{writer(e,t,r,n){rwe(e,t,this.source,n)}}}},HY={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=UY(t.url,r)),n}}}};function nwe(e){return e&&(e.origin==="service"||e.origin==="portal-item")&&e.layer&&(e.layer.type==="feature"||e.layer.type==="stream")}var hR;let Ws=hR=class extends SY{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=Jt(r)),n!=null&&(i.height=Jt(n)),i}clone(){const e=new hR({color:X(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",X(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([nt({esriPFS:"picture-fill"},{readOnly:!0})],Ws.prototype,"type",void 0),u([h(GY)],Ws.prototype,"url",void 0),u([h({type:Number,json:{write:!0}})],Ws.prototype,"xscale",void 0),u([h({type:Number,json:{write:!0}})],Ws.prototype,"yscale",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],Ws.prototype,"width",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],Ws.prototype,"height",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],Ws.prototype,"xoffset",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],Ws.prototype,"yoffset",void 0),u([h(HY)],Ws.prototype,"source",void 0),Ws=hR=u([B("esri.symbols.PictureFillSymbol")],Ws);const qY=Ws;var fR;let Va=fR=class extends jY{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=Jt(t)),r!=null&&(n.height=Jt(r)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new fR({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",X(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([h({json:{write:!1}})],Va.prototype,"color",void 0),u([nt({esriPMS:"picture-marker"},{readOnly:!0})],Va.prototype,"type",void 0),u([h(GY)],Va.prototype,"url",void 0),u([h(HY)],Va.prototype,"source",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],Va.prototype,"height",void 0),u([Pe("height",["height","size"])],Va.prototype,"readHeight",null),u([h({type:Number,cast:Jt,json:{write:!0}})],Va.prototype,"width",void 0),u([h({json:{write:!1}})],Va.prototype,"size",void 0),Va=fR=u([B("esri.symbols.PictureMarkerSymbol")],Va);const TI=Va;var Md;const WY=We.ofType({base:null,key:"type",typeMap:{icon:vf,object:ZD,text:U0}});let $h=Md=class extends G0{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new WY,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return NY(this)}hasVisibleVerticalOffset(){return QD(this)}clone(){return new Md({verticalOffset:X(this.verticalOffset),callout:X(this.callout),styleOrigin:X(this.styleOrigin),symbolLayers:X(this.symbolLayers),thumbnail:X(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Md({symbolLayers:[vf.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new Md({symbolLayers:[vf.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var r,n;return((n=(r=e.data)==null?void 0:r.symbol)==null?void 0:n.type)!=="CIMPointSymbol"?null:e.data.symbol.callout?new Md({symbolLayers:[vf.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new Md({symbolLayers:[vf.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new Md({symbolLayers:[U0.fromTextSymbol(e)]})}};u([h({type:sf,json:{write:!0}})],$h.prototype,"verticalOffset",void 0),u([h(DY)],$h.prototype,"callout",void 0),u([h({type:WY,json:{origins:{"web-scene":{write:!0}}}})],$h.prototype,"symbolLayers",void 0),u([nt({PointSymbol3D:"point-3d"},{readOnly:!0})],$h.prototype,"type",void 0),$h=Md=u([B("esri.symbols.PointSymbol3D")],$h);const bf=$h;var Ib;const KY=We.ofType({base:null,key:"type",typeMap:{extrude:_Y,fill:$I,icon:vf,line:O_,object:ZD,text:U0,water:LY}});let Mb=Ib=class extends G0{constructor(e){super(e),this.symbolLayers=new KY,this.type="polygon-3d"}clone(){return new Ib({styleOrigin:X(this.styleOrigin),symbolLayers:X(this.symbolLayers),thumbnail:X(this.thumbnail)})}static fromJSON(e){const t=new Ib;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.getItemAt(0).type==="fill"&&t.symbolLayers.getItemAt(1).type==="line"){const r=t.symbolLayers.getItemAt(0),n=t.symbolLayers.getItemAt(1);!n.enabled||e.symbolLayers&&e.symbolLayers[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:n.size,color:G(n.material)?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Ib({symbolLayers:[$I.fromSimpleFillSymbol(e)]})}};u([h({type:KY,json:{write:!0}})],Mb.prototype,"symbolLayers",void 0),u([nt({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Mb.prototype,"type",void 0),Mb=Ib=u([B("esri.symbols.PolygonSymbol3D")],Mb);const L_=Mb;var mR;const ek=new Et({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Eh=mR=class extends SY{constructor(...e){super(...e),this.color=new ze([0,0,0,.25]),this.outline=new es,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}clone(){return new mR({color:X(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([h()],Eh.prototype,"color",void 0),u([h()],Eh.prototype,"outline",void 0),u([nt({esriSFS:"simple-fill"},{readOnly:!0})],Eh.prototype,"type",void 0),u([h({type:ek.apiValues,json:{read:ek.read,write:ek.write}})],Eh.prototype,"style",void 0),Eh=mR=u([B("esri.symbols.SimpleFillSymbol")],Eh);const Lc=Eh;var yR;const tk=new Et({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Hl=yR=class extends jY{constructor(...e){super(...e),this.color=new ze([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new es}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=Jt(t)),r&&(i.outline=r),n&&(i.color=n),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new yR({angle:this.angle,color:X(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};u([h()],Hl.prototype,"color",void 0),u([Ae("color")],Hl.prototype,"writeColor",null),u([nt({esriSMS:"simple-marker"},{readOnly:!0})],Hl.prototype,"type",void 0),u([h()],Hl.prototype,"size",void 0),u([h({type:tk.apiValues,json:{read:tk.read,write:tk.write}})],Hl.prototype,"style",void 0),u([h({type:String,json:{write:!0}})],Hl.prototype,"path",null),u([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":es}},json:{default:null,write:!0}})],Hl.prototype,"outline",void 0),Hl=yR=u([B("esri.symbols.SimpleMarkerSymbol")],Hl);const jo=Hl;var gR;let zr=gR=class extends Xo{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new EI,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}writeLineWidth(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}castLineWidth(e){return Jt(e)}writeLineHeight(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}clone(){return new gR({angle:this.angle,backgroundColor:X(this.backgroundColor),borderLineColor:X(this.borderLineColor),borderLineSize:this.borderLineSize,color:X(this.color),font:this.font&&this.font.clone(),haloColor:X(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([h({type:ze,json:{write:!0}})],zr.prototype,"backgroundColor",void 0),u([h({type:ze,json:{write:!0}})],zr.prototype,"borderLineColor",void 0),u([h({type:Number,json:{write:!0}})],zr.prototype,"borderLineSize",void 0),u([h({type:EI,json:{write:!0}})],zr.prototype,"font",void 0),u([h({...kY,json:{write:!0}})],zr.prototype,"horizontalAlignment",void 0),u([h({type:Boolean,json:{write:!0}})],zr.prototype,"kerning",void 0),u([h({type:ze,json:{write:!0}})],zr.prototype,"haloColor",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],zr.prototype,"haloSize",void 0),u([h({type:Boolean,json:{write:!0}})],zr.prototype,"rightToLeft",void 0),u([h({type:Boolean,json:{write:!0}})],zr.prototype,"rotated",void 0),u([h({type:String,json:{write:!0}})],zr.prototype,"text",void 0),u([nt({esriTS:"text"},{readOnly:!0})],zr.prototype,"type",void 0),u([h({...PY,json:{write:!0}})],zr.prototype,"verticalAlignment",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],zr.prototype,"xoffset",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],zr.prototype,"yoffset",void 0),u([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],zr.prototype,"angle",void 0),u([h({type:Number,json:{write:!0}})],zr.prototype,"width",void 0),u([h({type:Number})],zr.prototype,"lineWidth",void 0),u([Ae("lineWidth")],zr.prototype,"writeLineWidth",null),u([zt("lineWidth")],zr.prototype,"castLineWidth",null),u([h(TY)],zr.prototype,"lineHeight",void 0),u([Ae("lineHeight")],zr.prototype,"writeLineHeight",null),zr=gR=u([B("esri.symbols.TextSymbol")],zr);const H0=zr;var vR;const iwe=Ce.getLogger("esri.symbols.WebStyleSymbol");let ja=vR=class extends Xo{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get fetchCacheKey(){const e=G(this.portal)?this.portal:di.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?t.portal:void 0,super.read(e,t)}clone(){return new vR({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=G(t)?t.cache:null,n=r?this.fetchCacheKey:null;if(G(r)){const a=r.get(n);if(a)return a.clone()}const i=await owe();Ar(t);const o=i.resolveWebStyleSymbol(this,{portal:this.portal},e,t);o.catch(a=>{iwe.error("#fetchSymbol()","Failed to create symbol from style",a)});const s=await o;return e==="webRef"&&s.type==="point-3d"||e==="cimRef"&&s.type==="cim"?(G(r)&&r.set(n,s.clone()),s):null}};function owe(){return ae(()=>Promise.resolve().then(()=>VCe),void 0,import.meta.url)}u([h({json:{write:!1}})],ja.prototype,"color",void 0),u([h({type:String,json:{write:!0}})],ja.prototype,"styleName",void 0),u([h({type:di,json:{write:!1}})],ja.prototype,"portal",void 0),u([h({type:String,json:{read:JD,write:dm}})],ja.prototype,"styleUrl",void 0),u([h({type:Df,json:{read:!1}})],ja.prototype,"thumbnail",void 0),u([h({type:String,json:{write:!0}})],ja.prototype,"name",void 0),u([nt({styleSymbolReference:"web-style"},{readOnly:!0})],ja.prototype,"type",void 0),u([h()],ja.prototype,"fetchCacheKey",null),ja=vR=u([B("esri.symbols.WebStyleSymbol")],ja);const $m=ja;function kI(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Mc(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const zf={base:Xo,key:"type",typeMap:{"simple-fill":Lc,"picture-fill":qY,"picture-marker":TI,"simple-line":es,"simple-marker":jo,text:H0,"label-3d":II,"line-3d":MI,"mesh-3d":XD,"point-3d":bf,"polygon-3d":L_,"web-style":$m,cim:k_},errorContext:"symbol"},swe={base:Xo,key:"type",typeMap:{"picture-marker":TI,"simple-marker":jo,text:H0,"web-style":$m,cim:k_},errorContext:"symbol"},awe=A0({types:zf}),JY={base:Xo,key:"type",typeMap:{"simple-fill":Lc,"picture-fill":qY,"picture-marker":TI,"simple-line":es,"simple-marker":jo,text:H0,"line-3d":MI,"mesh-3d":XD,"point-3d":bf,"polygon-3d":L_,"web-style":$m,cim:k_},errorContext:"symbol"},lwe={base:Xo,key:"type",typeMap:{text:H0,"label-3d":II},errorContext:"symbol"},Bj={base:Xo,key:"type",typeMap:{"line-3d":MI,"mesh-3d":XD,"point-3d":bf,"polygon-3d":L_,"web-style":$m,cim:k_},errorContext:"symbol"},cwe={base:Xo,key:"type",typeMap:{"label-3d":II},errorContext:"symbol"},ZY=Cc(zf);function PI(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function uwe(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function dwe(e,t,r,n,i,o,s,a,l,c,d,p,f,y,g,v){const b=new Float32Array(16);return b[0]=e,b[1]=t,b[2]=r,b[3]=n,b[4]=i,b[5]=o,b[6]=s,b[7]=a,b[8]=l,b[9]=c,b[10]=d,b[11]=p,b[12]=f,b[13]=y,b[14]=g,b[15]=v,b}function pwe(e,t){return new Float32Array(e,t,16)}const hwe=PI();Object.freeze(Object.defineProperty({__proto__:null,create:PI,clone:uwe,fromValues:dwe,createView:pwe,IDENTITY:hwe},Symbol.toStringTag,{value:"Module"}));function fwe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Xp(e,t,r,n,i,o,s,a,l,c,d,p,f,y,g,v,b){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e[9]=d,e[10]=p,e[11]=f,e[12]=y,e[13]=g,e[14]=v,e[15]=b,e}function e5(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ju(e,t){if(e===t){const r=t[1],n=t[2],i=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function mwe(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=t[8],p=t[9],f=t[10],y=t[11],g=t[12],v=t[13],b=t[14],w=t[15],x=r*a-n*s,S=r*l-i*s,C=r*c-o*s,$=n*l-i*a,M=n*c-o*a,I=i*c-o*l,T=d*v-p*g,O=d*b-f*g,L=d*w-y*g,N=p*b-f*v,H=p*w-y*v,F=f*w-y*b;let k=x*F-S*H+C*N+$*L-M*O+I*T;return k?(k=1/k,e[0]=(a*F-l*H+c*N)*k,e[1]=(i*H-n*F-o*N)*k,e[2]=(v*I-b*M+w*$)*k,e[3]=(f*M-p*I-y*$)*k,e[4]=(l*L-s*F-c*O)*k,e[5]=(r*F-i*L+o*O)*k,e[6]=(b*C-g*I-w*S)*k,e[7]=(d*I-f*C+y*S)*k,e[8]=(s*H-a*L+c*T)*k,e[9]=(n*L-r*H-o*T)*k,e[10]=(g*M-v*C+w*x)*k,e[11]=(p*C-d*M-y*x)*k,e[12]=(a*O-s*N-l*T)*k,e[13]=(r*N-n*O+i*T)*k,e[14]=(v*S-g*$-b*x)*k,e[15]=(d*$-p*S+f*x)*k,e):null}function ywe(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=t[8],p=t[9],f=t[10],y=t[11],g=t[12],v=t[13],b=t[14],w=t[15];return e[0]=a*(f*w-y*b)-p*(l*w-c*b)+v*(l*y-c*f),e[1]=-(n*(f*w-y*b)-p*(i*w-o*b)+v*(i*y-o*f)),e[2]=n*(l*w-c*b)-a*(i*w-o*b)+v*(i*c-o*l),e[3]=-(n*(l*y-c*f)-a*(i*y-o*f)+p*(i*c-o*l)),e[4]=-(s*(f*w-y*b)-d*(l*w-c*b)+g*(l*y-c*f)),e[5]=r*(f*w-y*b)-d*(i*w-o*b)+g*(i*y-o*f),e[6]=-(r*(l*w-c*b)-s*(i*w-o*b)+g*(i*c-o*l)),e[7]=r*(l*y-c*f)-s*(i*y-o*f)+d*(i*c-o*l),e[8]=s*(p*w-y*v)-d*(a*w-c*v)+g*(a*y-c*p),e[9]=-(r*(p*w-y*v)-d*(n*w-o*v)+g*(n*y-o*p)),e[10]=r*(a*w-c*v)-s*(n*w-o*v)+g*(n*c-o*a),e[11]=-(r*(a*y-c*p)-s*(n*y-o*p)+d*(n*c-o*a)),e[12]=-(s*(p*b-f*v)-d*(a*b-l*v)+g*(a*f-l*p)),e[13]=r*(p*b-f*v)-d*(n*b-i*v)+g*(n*f-i*p),e[14]=-(r*(a*b-l*v)-s*(n*b-i*v)+g*(n*l-i*a)),e[15]=r*(a*f-l*p)-s*(n*f-i*p)+d*(n*l-i*a),e}function gwe(e){const t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],d=e[9],p=e[10],f=e[11],y=e[12],g=e[13],v=e[14],b=e[15];return(t*s-r*o)*(p*b-f*v)-(t*a-n*o)*(d*b-f*g)+(t*l-i*o)*(d*v-p*g)+(r*a-n*s)*(c*b-f*y)-(r*l-i*s)*(c*v-p*y)+(n*l-i*a)*(c*g-d*y)}function YY(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],d=t[7],p=t[8],f=t[9],y=t[10],g=t[11],v=t[12],b=t[13],w=t[14],x=t[15];let S=r[0],C=r[1],$=r[2],M=r[3];return e[0]=S*n+C*a+$*p+M*v,e[1]=S*i+C*l+$*f+M*b,e[2]=S*o+C*c+$*y+M*w,e[3]=S*s+C*d+$*g+M*x,S=r[4],C=r[5],$=r[6],M=r[7],e[4]=S*n+C*a+$*p+M*v,e[5]=S*i+C*l+$*f+M*b,e[6]=S*o+C*c+$*y+M*w,e[7]=S*s+C*d+$*g+M*x,S=r[8],C=r[9],$=r[10],M=r[11],e[8]=S*n+C*a+$*p+M*v,e[9]=S*i+C*l+$*f+M*b,e[10]=S*o+C*c+$*y+M*w,e[11]=S*s+C*d+$*g+M*x,S=r[12],C=r[13],$=r[14],M=r[15],e[12]=S*n+C*a+$*p+M*v,e[13]=S*i+C*l+$*f+M*b,e[14]=S*o+C*c+$*y+M*w,e[15]=S*s+C*d+$*g+M*x,e}function vwe(e,t,r){const n=r[0],i=r[1],o=r[2];if(t===e)e[12]=t[0]*n+t[4]*i+t[8]*o+t[12],e[13]=t[1]*n+t[5]*i+t[9]*o+t[13],e[14]=t[2]*n+t[6]*i+t[10]*o+t[14],e[15]=t[3]*n+t[7]*i+t[11]*o+t[15];else{const s=t[0],a=t[1],l=t[2],c=t[3],d=t[4],p=t[5],f=t[6],y=t[7],g=t[8],v=t[9],b=t[10],w=t[11];e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=d,e[5]=p,e[6]=f,e[7]=y,e[8]=g,e[9]=v,e[10]=b,e[11]=w,e[12]=s*n+d*i+g*o+t[12],e[13]=a*n+p*i+v*o+t[13],e[14]=l*n+f*i+b*o+t[14],e[15]=c*n+y*i+w*o+t[15]}return e}function bwe(e,t,r){const n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function wwe(e,t,r,n){let i,o,s,a,l,c,d,p,f,y,g,v,b,w,x,S,C,$,M,I,T,O,L,N,H=n[0],F=n[1],k=n[2],P=Math.sqrt(H*H+F*F+k*k);return P<pt?null:(P=1/P,H*=P,F*=P,k*=P,i=Math.sin(r),o=Math.cos(r),s=1-o,a=t[0],l=t[1],c=t[2],d=t[3],p=t[4],f=t[5],y=t[6],g=t[7],v=t[8],b=t[9],w=t[10],x=t[11],S=H*H*s+o,C=F*H*s+k*i,$=k*H*s-F*i,M=H*F*s-k*i,I=F*F*s+o,T=k*F*s+H*i,O=H*k*s+F*i,L=F*k*s-H*i,N=k*k*s+o,e[0]=a*S+p*C+v*$,e[1]=l*S+f*C+b*$,e[2]=c*S+y*C+w*$,e[3]=d*S+g*C+x*$,e[4]=a*M+p*I+v*T,e[5]=l*M+f*I+b*T,e[6]=c*M+y*I+w*T,e[7]=d*M+g*I+x*T,e[8]=a*O+p*L+v*N,e[9]=l*O+f*L+b*N,e[10]=c*O+y*L+w*N,e[11]=d*O+g*L+x*N,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function _we(e,t,r){const n=Math.sin(r),i=Math.cos(r),o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],d=t[9],p=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*n,e[5]=s*i+d*n,e[6]=a*i+p*n,e[7]=l*i+f*n,e[8]=c*i-o*n,e[9]=d*i-s*n,e[10]=p*i-a*n,e[11]=f*i-l*n,e}function xwe(e,t,r){const n=Math.sin(r),i=Math.cos(r),o=t[0],s=t[1],a=t[2],l=t[3],c=t[8],d=t[9],p=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*n,e[1]=s*i-d*n,e[2]=a*i-p*n,e[3]=l*i-f*n,e[8]=o*n+c*i,e[9]=s*n+d*i,e[10]=a*n+p*i,e[11]=l*n+f*i,e}function Swe(e,t,r){const n=Math.sin(r),i=Math.cos(r),o=t[0],s=t[1],a=t[2],l=t[3],c=t[4],d=t[5],p=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*n,e[1]=s*i+d*n,e[2]=a*i+p*n,e[3]=l*i+f*n,e[4]=c*i-o*n,e[5]=d*i-s*n,e[6]=p*i-a*n,e[7]=f*i-l*n,e}function QY(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Cwe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function $we(e,t,r){let n,i,o,s=r[0],a=r[1],l=r[2],c=Math.sqrt(s*s+a*a+l*l);return c<pt?null:(c=1/c,s*=c,a*=c,l*=c,n=Math.sin(t),i=Math.cos(t),o=1-i,e[0]=s*s*o+i,e[1]=a*s*o+l*n,e[2]=l*s*o-a*n,e[3]=0,e[4]=s*a*o-l*n,e[5]=a*a*o+i,e[6]=l*a*o+s*n,e[7]=0,e[8]=s*l*o+a*n,e[9]=a*l*o-s*n,e[10]=l*l*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function Ewe(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Iwe(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Mwe(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function XY(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=n+n,l=i+i,c=o+o,d=n*a,p=n*l,f=n*c,y=i*l,g=i*c,v=o*c,b=s*a,w=s*l,x=s*c;return e[0]=1-(y+v),e[1]=p+x,e[2]=f-w,e[3]=0,e[4]=p-x,e[5]=1-(d+v),e[6]=g+b,e[7]=0,e[8]=f+w,e[9]=g-b,e[10]=1-(d+y),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Twe(e,t){const r=kwe,n=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],d=t[7],p=n*n+i*i+o*o+s*s;return p>0?(r[0]=2*(a*s+d*n+l*o-c*i)/p,r[1]=2*(l*s+d*i+c*n-a*o)/p,r[2]=2*(c*s+d*o+a*i-l*n)/p):(r[0]=2*(a*s+d*n+l*o-c*i),r[1]=2*(l*s+d*i+c*n-a*o),r[2]=2*(c*s+d*o+a*i-l*n)),XY(e,t,r),e}const kwe=Qo();function Pwe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Owe(e,t){const r=t[0],n=t[1],i=t[2],o=t[4],s=t[5],a=t[6],l=t[8],c=t[9],d=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(o*o+s*s+a*a),e[2]=Math.sqrt(l*l+c*c+d*d),e}function Lwe(e,t){const r=t[0]+t[5]+t[10];let n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function Rwe(e,t,r,n){const i=t[0],o=t[1],s=t[2],a=t[3],l=i+i,c=o+o,d=s+s,p=i*l,f=i*c,y=i*d,g=o*c,v=o*d,b=s*d,w=a*l,x=a*c,S=a*d,C=n[0],$=n[1],M=n[2];return e[0]=(1-(g+b))*C,e[1]=(f+S)*C,e[2]=(y-x)*C,e[3]=0,e[4]=(f-S)*$,e[5]=(1-(p+b))*$,e[6]=(v+w)*$,e[7]=0,e[8]=(y+x)*M,e[9]=(v-w)*M,e[10]=(1-(p+g))*M,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Awe(e,t,r,n,i){const o=t[0],s=t[1],a=t[2],l=t[3],c=o+o,d=s+s,p=a+a,f=o*c,y=o*d,g=o*p,v=s*d,b=s*p,w=a*p,x=l*c,S=l*d,C=l*p,$=n[0],M=n[1],I=n[2],T=i[0],O=i[1],L=i[2],N=(1-(v+w))*$,H=(y+C)*$,F=(g-S)*$,k=(y-C)*M,P=(1-(f+w))*M,R=(b+x)*M,j=(g+S)*I,A=(b-x)*I,U=(1-(f+v))*I;return e[0]=N,e[1]=H,e[2]=F,e[3]=0,e[4]=k,e[5]=P,e[6]=R,e[7]=0,e[8]=j,e[9]=A,e[10]=U,e[11]=0,e[12]=r[0]+T-(N*T+k*O+j*L),e[13]=r[1]+O-(H*T+P*O+A*L),e[14]=r[2]+L-(F*T+R*O+U*L),e[15]=1,e}function Fwe(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=r+r,a=n+n,l=i+i,c=r*s,d=n*s,p=n*a,f=i*s,y=i*a,g=i*l,v=o*s,b=o*a,w=o*l;return e[0]=1-p-g,e[1]=d+w,e[2]=f-b,e[3]=0,e[4]=d-w,e[5]=1-c-g,e[6]=y+v,e[7]=0,e[8]=f+b,e[9]=y-v,e[10]=1-c-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Nwe(e,t,r,n,i,o,s){const a=1/(r-t),l=1/(i-n),c=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(i+n)*l,e[10]=(s+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*c,e[15]=0,e}function Dwe(e,t,r,n,i){const o=1/Math.tan(t/2);let s;return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(n-i),e[10]=(i+n)*s,e[14]=2*i*n*s):(e[10]=-1,e[14]=-2*n),e}function zwe(e,t,r,n){const i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+a),c=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(s-a)*l*.5,e[9]=(i-o)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function Vwe(e,t,r,n,i,o,s){const a=1/(t-r),l=1/(n-i),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*a,e[13]=(i+n)*l,e[14]=(s+o)*c,e[15]=1,e}function jwe(e,t,r,n){let i,o,s,a,l,c,d,p,f,y;const g=t[0],v=t[1],b=t[2],w=n[0],x=n[1],S=n[2],C=r[0],$=r[1],M=r[2];return Math.abs(g-C)<pt&&Math.abs(v-$)<pt&&Math.abs(b-M)<pt?e5(e):(d=g-C,p=v-$,f=b-M,y=1/Math.sqrt(d*d+p*p+f*f),d*=y,p*=y,f*=y,i=x*f-S*p,o=S*d-w*f,s=w*p-x*d,y=Math.sqrt(i*i+o*o+s*s),y?(y=1/y,i*=y,o*=y,s*=y):(i=0,o=0,s=0),a=p*s-f*o,l=f*i-d*s,c=d*o-p*i,y=Math.sqrt(a*a+l*l+c*c),y?(y=1/y,a*=y,l*=y,c*=y):(a=0,l=0,c=0),e[0]=i,e[1]=a,e[2]=d,e[3]=0,e[4]=o,e[5]=l,e[6]=p,e[7]=0,e[8]=s,e[9]=c,e[10]=f,e[11]=0,e[12]=-(i*g+o*v+s*b),e[13]=-(a*g+l*v+c*b),e[14]=-(d*g+p*v+f*b),e[15]=1,e)}function Bwe(e,t,r,n){const i=t[0],o=t[1],s=t[2],a=n[0],l=n[1],c=n[2];let d=i-r[0],p=o-r[1],f=s-r[2],y=d*d+p*p+f*f;y>0&&(y=1/Math.sqrt(y),d*=y,p*=y,f*=y);let g=l*f-c*p,v=c*d-a*f,b=a*p-l*d;return y=g*g+v*v+b*b,y>0&&(y=1/Math.sqrt(y),g*=y,v*=y,b*=y),e[0]=g,e[1]=v,e[2]=b,e[3]=0,e[4]=p*b-f*v,e[5]=f*g-d*b,e[6]=d*v-p*g,e[7]=0,e[8]=d,e[9]=p,e[10]=f,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e}function Uwe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Gwe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Hwe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function eQ(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function qwe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function Wwe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function Kwe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Jwe(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],d=e[8],p=e[9],f=e[10],y=e[11],g=e[12],v=e[13],b=e[14],w=e[15],x=t[0],S=t[1],C=t[2],$=t[3],M=t[4],I=t[5],T=t[6],O=t[7],L=t[8],N=t[9],H=t[10],F=t[11],k=t[12],P=t[13],R=t[14],j=t[15];return Math.abs(r-x)<=pt*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(n-S)<=pt*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(i-C)<=pt*Math.max(1,Math.abs(i),Math.abs(C))&&Math.abs(o-$)<=pt*Math.max(1,Math.abs(o),Math.abs($))&&Math.abs(s-M)<=pt*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(a-I)<=pt*Math.max(1,Math.abs(a),Math.abs(I))&&Math.abs(l-T)<=pt*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(c-O)<=pt*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(d-L)<=pt*Math.max(1,Math.abs(d),Math.abs(L))&&Math.abs(p-N)<=pt*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(f-H)<=pt*Math.max(1,Math.abs(f),Math.abs(H))&&Math.abs(y-F)<=pt*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(g-k)<=pt*Math.max(1,Math.abs(g),Math.abs(k))&&Math.abs(v-P)<=pt*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(b-R)<=pt*Math.max(1,Math.abs(b),Math.abs(R))&&Math.abs(w-j)<=pt*Math.max(1,Math.abs(w),Math.abs(j))}function Zwe(e){const t=pt,r=e[0],n=e[1],i=e[2],o=e[4],s=e[5],a=e[6],l=e[8],c=e[9],d=e[10];return Math.abs(1-(r*r+o*o+l*l))<=t&&Math.abs(1-(n*n+s*s+c*c))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t}const Ywe=YY,Qwe=eQ;Object.freeze(Object.defineProperty({__proto__:null,copy:fwe,set:Xp,identity:e5,transpose:Ju,invert:mwe,adjoint:ywe,determinant:gwe,multiply:YY,translate:vwe,scale:bwe,rotate:wwe,rotateX:_we,rotateY:xwe,rotateZ:Swe,fromTranslation:QY,fromScaling:Cwe,fromRotation:$we,fromXRotation:Ewe,fromYRotation:Iwe,fromZRotation:Mwe,fromRotationTranslation:XY,fromQuat2:Twe,getTranslation:Pwe,getScaling:Owe,getRotation:Lwe,fromRotationTranslationScale:Rwe,fromRotationTranslationScaleOrigin:Awe,fromQuat:Fwe,frustum:Nwe,perspective:Dwe,perspectiveFromFieldOfView:zwe,ortho:Vwe,lookAt:jwe,targetTo:Bwe,str:Uwe,frob:Gwe,add:Hwe,subtract:eQ,multiplyScalar:qwe,multiplyScalarAndAdd:Wwe,exactEquals:Kwe,equals:Jwe,isOrthoNormal:Zwe,mul:Ywe,sub:Qwe},Symbol.toStringTag,{value:"Module"}));const Xwe=(e,t)=>{const r=Xp(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Ju(r,r)},e1e=(e,t)=>{const r=Xp(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Ju(r,r)},t1e=(e,t)=>{const r=1-t,n=Xp(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return Ju(n,n)},r1e=(e,t)=>{const r=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),i=Xp(e,.213+.787*n-.213*r,.715-.715*n-.715*r,.072-.072*n+.928*r,0,.213-.213*n+.143*r,.715+.285*n+.14*r,.072-.072*n-.283*r,0,.213-.213*n-.787*r,.715-.715*n+.715*r,.072+.928*n+.072*r,0,0,0,0,1);return Ju(i,i)},n1e=(e,t)=>{const r=1-2*t,n=Xp(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return Ju(n,n)},i1e=(e,t)=>{const r=Xp(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Ju(r,r)},o1e=(e,t)=>{const r=1-t,n=Xp(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return Ju(n,n)};class OI{constructor(t,r,n){this.strength=t,this.radius=r,this.threshold=n,this.type="bloom"}interpolate(t,r,n){this.strength=Io(t.strength,r.strength,n),this.radius=Io(t.radius,r.radius,n),this.threshold=Io(t.threshold,r.threshold,n)}clone(){return new OI(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:Pw(this.radius),strength:this.strength,threshold:this.threshold}}}class LI{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,n){this.radius=Math.round(Io(t.radius,r.radius,n))}clone(){return new LI(this.radius)}toJSON(){return{type:"blur",radius:Pw(this.radius)}}}class O1{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.amount=Io(t.amount,r.amount,n),this._updateMatrix()}clone(){return new O1(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||PI();switch(this.type){case"brightness":this._colorMatrix=Xwe(t,this.amount);break;case"contrast":this._colorMatrix=e1e(t,this.amount);break;case"grayscale":this._colorMatrix=t1e(t,this.amount);break;case"invert":this._colorMatrix=n1e(t,this.amount);break;case"saturate":this._colorMatrix=i1e(t,this.amount);break;case"sepia":this._colorMatrix=o1e(t,this.amount)}}}class RI{constructor(t,r,n,i){this.offsetX=t,this.offsetY=r,this.blurRadius=n,this.color=i,this.type="drop-shadow"}interpolate(t,r,n){this.offsetX=Io(t.offsetX,r.offsetX,n),this.offsetY=Io(t.offsetY,r.offsetY,n),this.blurRadius=Io(t.blurRadius,r.blurRadius,n),this.color[0]=Math.round(Io(t.color[0],r.color[0],n)),this.color[1]=Math.round(Io(t.color[1],r.color[1],n)),this.color[2]=Math.round(Io(t.color[2],r.color[2],n)),this.color[3]=Io(t.color[3],r.color[3],n)}clone(){return new RI(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:Pw(this.offsetX),yoffset:Pw(this.offsetY),blurRadius:Pw(this.blurRadius),color:t}}}class AI{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.angle=Io(t.angle,r.angle,n),this._updateMatrix()}clone(){return new AI(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||PI();this._colorMatrix=r1e(t,this.angle)}}class FI{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,n){this.amount=Io(t.amount,r.amount,n)}clone(){return new FI(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function Io(e,t,r){return e+(t-e)*r}function Pw(e){return Math.round(1e3*xa(e))/1e3}function s1e(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new O1(e.type,0);case"saturate":case"brightness":case"contrast":return new O1(e.type,1);case"opacity":return new FI(1);case"hue-rotate":return new AI(0);case"blur":return new LI(0);case"drop-shadow":return new RI(0,0,0,[...mD("transparent")]);case"bloom":return new OI(0,0,1)}}function tQ(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,i)=>n.type===r[i].type)}function rQ(e,t){const r=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let i=n.length;i<r.length;i++)n.push(s1e(r[i]))}function a1e(e){const t=e[0];return!!t&&"type"in t}var Uj,Gj,nQ={exports:{}};function t5(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=Hj(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:Hj(r.value)}});t.sort((r,n)=>n.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!tQ(t[r].effects,t[r+1].effects))throw new Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});rQ(t[r].effects,t[r+1].effects)}return t.sort((r,n)=>n.scale-r.scale),t}function Hj(e){let t;if(!e)return[];try{t=nQ.exports.parse(e)}catch(r){throw new Z("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>l1e(r))}function l1e(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return c1e(e);case"opacity":return u1e(e);case"hue-rotate":return d1e(e);case"blur":return p1e(e);case"drop-shadow":return h1e(e);case"bloom":return f1e(e)}}catch(t){throw t.details.filter=e,t}throw new Z("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function c1e(e){let t=1;return q0(e.parameters,1),e.parameters.length===1&&(t=ll(e.parameters[0])),new O1(e.name,t)}function u1e(e){let t=1;return q0(e.parameters,1),e.parameters.length===1&&(t=ll(e.parameters[0])),new FI(t)}function d1e(e){let t=0;return q0(e.parameters,1),e.parameters.length===1&&(t=w1e(e.parameters[0])),new AI(t)}function p1e(e){let t=0;return q0(e.parameters,1),e.parameters.length===1&&(t=i5(e.parameters[0]),R_(t,e.parameters[0])),new LI(t)}function h1e(e){const t=[];let r=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),r)throw new Z("effect:type-error","Accepts only one color",{});r=_1e(n)}else{const i=i5(n);if(Object.isFrozen(t))throw new Z("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(i),t.length===3&&R_(i,n)}if(t.length<2||t.length>3)throw new Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new RI(t[0],t[1],t[2]||0,r||iQ("black"))}function f1e(e){let t=1,r=0,n=0;return q0(e.parameters,3),e.parameters[0]&&(t=ll(e.parameters[0])),e.parameters[1]&&(r=i5(e.parameters[1]),R_(r,e.parameters[1])),e.parameters[2]&&(n=ll(e.parameters[2])),new OI(t,r,n)}function q0(e,t){if(e.length>t)throw new Z("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function NI(e){if(e.type==="color")return"<color>";if(e.unit){if(n5[e.unit])return"<length>";if(r5[e.unit])return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function R_(e,t){if(e<0)throw new Z("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function m1e(e){if(e.type!=="quantity"||e.unit!==null)throw new Z("effect:type-error",`Expected <double>, Actual: ${NI(e)}`,{term:e})}function y1e(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${NI(e)}`,{term:e})}Gj=function(){function e(i,o){function s(){this.constructor=i}s.prototype=o.prototype,i.prototype=new s}function t(i,o,s,a){var l=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(l,t.prototype),l.expected=o,l.found=s,l.location=a,l.name="SyntaxError",l}function r(i,o,s){return s=s||" ",i.length>o?i:(o-=i.length,i+(s+=s.repeat(o)).slice(0,o))}function n(i,o){var s,a={},l=(o=o!==void 0?o:{}).grammarSource,c={start:qz},d=qz,p="none",f=")",y=",",g="(",v="%",b="px",w="cm",x="mm",S="in",C="pt",$="pc",M="deg",I="rad",T="grad",O="turn",L="#",N=".",H="e",F=/^[ \t\n\r]/,k=/^[a-z\-]/,P=/^[0-9a-fA-F]/,R=/^[+\-]/,j=/^[0-9]/,A=gr("none"),U=Xe("none",!1),q=Xe(")",!1),J=Xe(",",!1),Q=gr("whitespace"),se=or([" ","	",`
`,"\r"],!1,!1),ce=gr("function"),le=Xe("(",!1),Ie=gr("identifier"),Ue=or([["a","z"],"-"],!1,!1),pe=gr("percentage"),ye=Xe("%",!1),he=gr("length"),Me=Xe("px",!1),Ge=Xe("cm",!1),Ee=Xe("mm",!1),tt=Xe("in",!1),Ye=Xe("pt",!1),je=Xe("pc",!1),Ke=gr("angle"),Ct=Xe("deg",!1),Ft=Xe("rad",!1),yt=Xe("grad",!1),Lt=Xe("turn",!1),yr=gr("number"),Gr=gr("color"),Mr=Xe("#",!1),Cr=or([["0","9"],["a","f"],["A","F"]],!1,!1),Gt=or(["+","-"],!1,!1),Ne=or([["0","9"]],!1,!1),ke=Xe(".",!1),Rt=Xe("e",!1),Be=function(){return[]},Mt=function(W,ue){return{type:"function",name:W,parameters:ue||[]}},Tr=function(W,ue){return ue.length>0?ile(W,ue,3):[W]},In=function(W){return{type:"quantity",value:W.value,unit:W.unit}},go=function(W){return{type:"color",colorType:W.type,value:W.value}},rs=function(W){return W},Ta=function(){return it()},ti=function(W){return{value:W,unit:"%"}},vo=function(W){return{value:W,unit:"px"}},ns=function(W){return{value:W,unit:"cm"}},Yr=function(W){return{value:W,unit:"mm"}},Fr=function(W){return{value:W,unit:"in"}},Pr=function(W){return{value:W,unit:"pt"}},Ol=function(W){return{value:W,unit:"pc"}},oh=function(W){return{value:W,unit:"deg"}},ka=function(W){return{value:W,unit:"rad"}},Nc=function(W){return{value:W,unit:"grad"}},Dc=function(W){return{value:W,unit:"turn"}},Wt=function(W){return{value:W,unit:null}},jn=function(){return{type:"hex",value:it()}},is=function(W){return{type:"function",value:W}},Xu=function(){return{type:"named",value:it()}},yv=function(){return parseFloat(it())},ne=0,$r=0,gt=[{line:1,column:1}],dr=0,ge=[],ee=0;if("startRule"in o){if(!(o.startRule in c))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');d=c[o.startRule]}function it(){return i.substring($r,ne)}function Xe(W,ue){return{type:"literal",text:W,ignoreCase:ue}}function or(W,ue,we){return{type:"class",parts:W,inverted:ue,ignoreCase:we}}function Bn(){return{type:"end"}}function gr(W){return{type:"other",description:W}}function os(W){var ue,we=gt[W];if(we)return we;for(ue=W-1;!gt[ue];)ue--;for(we={line:(we=gt[ue]).line,column:we.column};ue<W;)i.charCodeAt(ue)===10?(we.line++,we.column=1):we.column++,ue++;return gt[W]=we,we}function gv(W,ue){var we=os(W),$t=os(ue);return{source:l,start:{offset:W,line:we.line,column:we.column},end:{offset:ue,line:$t.line,column:$t.column}}}function vt(W){ne<dr||(ne>dr&&(dr=ne,ge=[]),ge.push(W))}function Wae(W,ue,we){return new t(t.buildMessage(W,ue),W,ue,we)}function qz(){var W;return(W=Kae())===a&&(W=Jae()),W}function Kae(){var W,ue;return ee++,W=ne,ri(),i.substr(ne,4)===p?(ue=p,ne+=4):(ue=a,ee===0&&vt(U)),ue!==a?(ri(),$r=W,W=Be()):(ne=W,W=a),ee--,W===a&&ee===0&&vt(A),W}function Jae(){var W,ue;if(W=[],(ue=iT())!==a)for(;ue!==a;)W.push(ue),ue=iT();else W=a;return W}function iT(){var W,ue,we,$t;return W=ne,ri(),(ue=Yae())!==a?(ri(),(we=Zae())===a&&(we=null),ri(),i.charCodeAt(ne)===41?($t=f,ne++):($t=a,ee===0&&vt(q)),$t!==a?(ri(),$r=W,W=Mt(ue,we)):(ne=W,W=a)):(ne=W,W=a),W}function Zae(){var W,ue,we,$t,mi,Qr,Ns,gx;if(W=ne,(ue=oT())!==a){for(we=[],$t=ne,mi=ri(),i.charCodeAt(ne)===44?(Qr=y,ne++):(Qr=a,ee===0&&vt(J)),Qr===a&&(Qr=null),Ns=ri(),(gx=oT())!==a?$t=mi=[mi,Qr,Ns,gx]:(ne=$t,$t=a);$t!==a;)we.push($t),$t=ne,mi=ri(),i.charCodeAt(ne)===44?(Qr=y,ne++):(Qr=a,ee===0&&vt(J)),Qr===a&&(Qr=null),Ns=ri(),(gx=oT())!==a?$t=mi=[mi,Qr,Ns,gx]:(ne=$t,$t=a);$r=W,W=Tr(ue,we)}else ne=W,W=a;return W}function oT(){var W,ue;return W=ne,(ue=Qae())===a&&(ue=Xae())===a&&(ue=ele())===a&&(ue=tle()),ue!==a&&($r=W,ue=In(ue)),(W=ue)===a&&(W=ne,(ue=rle())!==a&&($r=W,ue=go(ue)),W=ue),W}function ri(){var W,ue;for(ee++,W=[],F.test(i.charAt(ne))?(ue=i.charAt(ne),ne++):(ue=a,ee===0&&vt(se));ue!==a;)W.push(ue),F.test(i.charAt(ne))?(ue=i.charAt(ne),ne++):(ue=a,ee===0&&vt(se));return ee--,ue=a,ee===0&&vt(Q),W}function Yae(){var W,ue,we;return ee++,W=ne,(ue=Wz())!==a?(i.charCodeAt(ne)===40?(we=g,ne++):(we=a,ee===0&&vt(le)),we!==a?($r=W,W=rs(ue)):(ne=W,W=a)):(ne=W,W=a),ee--,W===a&&(ue=a,ee===0&&vt(ce)),W}function Wz(){var W,ue,we;if(ee++,W=ne,ue=[],k.test(i.charAt(ne))?(we=i.charAt(ne),ne++):(we=a,ee===0&&vt(Ue)),we!==a)for(;we!==a;)ue.push(we),k.test(i.charAt(ne))?(we=i.charAt(ne),ne++):(we=a,ee===0&&vt(Ue));else ue=a;return ue!==a&&($r=W,ue=Ta()),ee--,(W=ue)===a&&(ue=a,ee===0&&vt(Ie)),W}function Qae(){var W,ue,we;return ee++,W=ne,ri(),(ue=Fs())!==a?(i.charCodeAt(ne)===37?(we=v,ne++):(we=a,ee===0&&vt(ye)),we!==a?($r=W,W=ti(ue)):(ne=W,W=a)):(ne=W,W=a),ee--,W===a&&ee===0&&vt(pe),W}function Xae(){var W,ue,we;return ee++,W=ne,ri(),(ue=Fs())!==a?(i.substr(ne,2)===b?(we=b,ne+=2):(we=a,ee===0&&vt(Me)),we!==a?($r=W,W=vo(ue)):(ne=W,W=a)):(ne=W,W=a),W===a&&(W=ne,ri(),(ue=Fs())!==a?(i.substr(ne,2)===w?(we=w,ne+=2):(we=a,ee===0&&vt(Ge)),we!==a?($r=W,W=ns(ue)):(ne=W,W=a)):(ne=W,W=a),W===a&&(W=ne,ri(),(ue=Fs())!==a?(i.substr(ne,2)===x?(we=x,ne+=2):(we=a,ee===0&&vt(Ee)),we!==a?($r=W,W=Yr(ue)):(ne=W,W=a)):(ne=W,W=a),W===a&&(W=ne,ri(),(ue=Fs())!==a?(i.substr(ne,2)===S?(we=S,ne+=2):(we=a,ee===0&&vt(tt)),we!==a?($r=W,W=Fr(ue)):(ne=W,W=a)):(ne=W,W=a),W===a&&(W=ne,ri(),(ue=Fs())!==a?(i.substr(ne,2)===C?(we=C,ne+=2):(we=a,ee===0&&vt(Ye)),we!==a?($r=W,W=Pr(ue)):(ne=W,W=a)):(ne=W,W=a),W===a&&(W=ne,ri(),(ue=Fs())!==a?(i.substr(ne,2)===$?(we=$,ne+=2):(we=a,ee===0&&vt(je)),we!==a?($r=W,W=Ol(ue)):(ne=W,W=a)):(ne=W,W=a)))))),ee--,W===a&&ee===0&&vt(he),W}function ele(){var W,ue,we;return ee++,W=ne,(ue=Fs())!==a?(i.substr(ne,3)===M?(we=M,ne+=3):(we=a,ee===0&&vt(Ct)),we!==a?($r=W,W=oh(ue)):(ne=W,W=a)):(ne=W,W=a),W===a&&(W=ne,(ue=Fs())!==a?(i.substr(ne,3)===I?(we=I,ne+=3):(we=a,ee===0&&vt(Ft)),we!==a?($r=W,W=ka(ue)):(ne=W,W=a)):(ne=W,W=a),W===a&&(W=ne,(ue=Fs())!==a?(i.substr(ne,4)===T?(we=T,ne+=4):(we=a,ee===0&&vt(yt)),we!==a?($r=W,W=Nc(ue)):(ne=W,W=a)):(ne=W,W=a),W===a&&(W=ne,(ue=Fs())!==a?(i.substr(ne,4)===O?(we=O,ne+=4):(we=a,ee===0&&vt(Lt)),we!==a?($r=W,W=Dc(ue)):(ne=W,W=a)):(ne=W,W=a)))),ee--,W===a&&(ue=a,ee===0&&vt(Ke)),W}function tle(){var W,ue;return ee++,W=ne,ri(),(ue=Fs())!==a?($r=W,W=Wt(ue)):(ne=W,W=a),ee--,W===a&&ee===0&&vt(yr),W}function rle(){var W,ue,we,$t;if(ee++,W=ne,i.charCodeAt(ne)===35?(ue=L,ne++):(ue=a,ee===0&&vt(Mr)),ue!==a){if(we=[],P.test(i.charAt(ne))?($t=i.charAt(ne),ne++):($t=a,ee===0&&vt(Cr)),$t!==a)for(;$t!==a;)we.push($t),P.test(i.charAt(ne))?($t=i.charAt(ne),ne++):($t=a,ee===0&&vt(Cr));else we=a;we!==a?($r=W,W=jn()):(ne=W,W=a)}else ne=W,W=a;return W===a&&(W=ne,(ue=iT())!==a&&($r=W,ue=is(ue)),(W=ue)===a&&(W=ne,(ue=Wz())!==a&&($r=W,ue=Xu()),W=ue)),ee--,W===a&&(ue=a,ee===0&&vt(Gr)),W}function Fs(){var W,ue,we,$t,mi,Qr,Ns;for(W=ne,R.test(i.charAt(ne))?(i.charAt(ne),ne++):ee===0&&vt(Gt),ue=ne,we=[],j.test(i.charAt(ne))?($t=i.charAt(ne),ne++):($t=a,ee===0&&vt(Ne));$t!==a;)we.push($t),j.test(i.charAt(ne))?($t=i.charAt(ne),ne++):($t=a,ee===0&&vt(Ne));if(i.charCodeAt(ne)===46?($t=N,ne++):($t=a,ee===0&&vt(ke)),$t!==a){if(mi=[],j.test(i.charAt(ne))?(Qr=i.charAt(ne),ne++):(Qr=a,ee===0&&vt(Ne)),Qr!==a)for(;Qr!==a;)mi.push(Qr),j.test(i.charAt(ne))?(Qr=i.charAt(ne),ne++):(Qr=a,ee===0&&vt(Ne));else mi=a;mi!==a?ue=we=[we,$t,mi]:(ne=ue,ue=a)}else ne=ue,ue=a;if(ue===a)if(ue=[],j.test(i.charAt(ne))?(we=i.charAt(ne),ne++):(we=a,ee===0&&vt(Ne)),we!==a)for(;we!==a;)ue.push(we),j.test(i.charAt(ne))?(we=i.charAt(ne),ne++):(we=a,ee===0&&vt(Ne));else ue=a;if(ue!==a){if(we=ne,i.charCodeAt(ne)===101?($t=H,ne++):($t=a,ee===0&&vt(Rt)),$t!==a){if(R.test(i.charAt(ne))?(mi=i.charAt(ne),ne++):(mi=a,ee===0&&vt(Gt)),mi===a&&(mi=null),Qr=[],j.test(i.charAt(ne))?(Ns=i.charAt(ne),ne++):(Ns=a,ee===0&&vt(Ne)),Ns!==a)for(;Ns!==a;)Qr.push(Ns),j.test(i.charAt(ne))?(Ns=i.charAt(ne),ne++):(Ns=a,ee===0&&vt(Ne));else Qr=a;Qr!==a?we=$t=[$t,mi,Qr]:(ne=we,we=a)}else ne=we,we=a;we===a&&(we=null),$r=W,W=yv()}else ne=W,W=a;return W}function nle(W,ue){return W.map(function(we){return we[ue]})}function ile(W,ue,we){return[W].concat(nle(ue,we))}if((s=d())!==a&&ne===i.length)return s;throw s!==a&&ne<i.length&&vt(Bn()),Wae(ge,dr<i.length?i.charAt(dr):null,dr<i.length?gv(dr,dr+1):gv(dr,dr))}return e(t,Error),t.prototype.format=function(i){var o="Error: "+this.message;if(this.location){var s,a=null;for(s=0;s<i.length;s++)if(i[s].source===this.location.source){a=i[s].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,c=this.location.source+":"+l.line+":"+l.column;if(a){var d=this.location.end,p=r("",l.line.toString().length),f=a[l.line-1],y=l.line===d.line?d.column:f.length+1;o+=`
 --> `+c+`
`+p+` |
`+l.line+" | "+f+`
`+p+" | "+r("",l.column-1)+r("",y-l.column,"^")}else o+=`
 at `+c}return o},t.buildMessage=function(i,o){var s={literal:function(y){return'"'+l(y.text)+'"'},class:function(y){var g=y.parts.map(function(v){return Array.isArray(v)?c(v[0])+"-"+c(v[1]):c(v)});return"["+(y.inverted?"^":"")+g+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function a(y){return y.charCodeAt(0).toString(16).toUpperCase()}function l(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+a(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+a(g)})}function c(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+a(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+a(g)})}function d(y){return s[y.type](y)}function p(y){var g,v,b=y.map(d);if(b.sort(),b.length>0){for(g=1,v=1;g<b.length;g++)b[g-1]!==b[g]&&(b[v]=b[g],v++);b.length=v}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}}function f(y){return y?'"'+l(y)+'"':"end of input"}return"Expected "+p(i)+" but "+f(o)+" found."},{SyntaxError:t,parse:n}},(Uj=nQ).exports&&(Uj.exports=Gj());const r5={deg:1,grad:.9,rad:180/Math.PI,turn:360};function g1e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&r5[e.unit]!=null))throw new Z("effect:type-error",`Expected <angle>, Actual: ${NI(e)}`,{term:e})}const n5={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function v1e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&n5[e.unit]!=null))throw new Z("effect:type-error",`Expected <length>, Actual: ${NI(e)}`,{term:e})}function ll(e){y1e(e);const t=e.value;return R_(t,e),e.unit==="%"?.01*t:t}function b1e(e){return m1e(e),R_(e.value,e),e.value}function w1e(e){return g1e(e),e.value*r5[e.unit]||0}function i5(e){return v1e(e),e.value*n5[e.unit]||0}function _1e(e){switch(e.colorType){case"hex":return Nfe(e.value);case"named":return iQ(e.value);case"function":return C1e(e.value)}}function iQ(e){if(!xJ(e))throw new Z("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return Ffe(e)}const x1e=/^rgba?/i,S1e=/^hsla?/i;function C1e(e){if(q0(e.parameters,4),x1e.test(e.name))return[ll(e.parameters[0]),ll(e.parameters[1]),ll(e.parameters[2]),e.parameters[3]?ll(e.parameters[3]):1];if(S1e.test(e.name))return SJ(b1e(e.parameters[0]),ll(e.parameters[1]),ll(e.parameters[2]),e.parameters[3]?ll(e.parameters[3]):1);throw new Z("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}const L1=-1;let ql=class extends Ve{constructor(e){super(e),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=oe("mapview-transitions-duration"),this.effects=[]}set effect(e){if(this._get("effect")!==(e=e||"")){this._set("effect",e);try{this._transitionTo(qj(e))}catch(t){this._transitionTo([]),Ce.getLogger(this.declaredClass).warn("Invalid Effect",{effect:e,error:t})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(e){this._updateForScale(e)}get transitioning(){return this._to!==null}canTransitionTo(e){try{return this.scale>0&&Wj(this._current,qj(e),this.scale)}catch{return!1}}transitionStep(e,t){this._applyTimeTransition(e),this._updateForScale(t)}end(){this._applyTimeTransition(this.duration)}_transitionTo(e){this.scale>0&&Wj(this._current,e,this.scale)?(this._final=e,this._to=X(e),$1e(this._current,this._to,this.scale),this._from=X(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=e),this._set("effects",this._current[0]?X(this._current[0].effects):[])}_applyTimeTransition(e){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=e;const t=Math.min(1,this._time/this.duration);for(let r=0;r<this._current.length;r++){const n=this._current[r],i=this._from[r],o=this._to[r];n.scale=E1e(i.scale,o.scale,t);for(let s=0;s<n.effects.length;s++){const a=n.effects[s],l=i.effects[s],c=o.effects[s];a.interpolate(l,c,t)}}t===1&&(this._current=this._final,this._set("effects",this._current[0]?X(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(e){if(this._set("scale",e),this._current.length===0)return;const t=this._current,r=this._current.length-1;let n,i,o=1;if(t.length===1||e>=t[0].scale)i=n=t[0].effects;else if(e<=t[r].scale)i=n=t[r].effects;else for(let s=0;s<r;s++){const a=t[s],l=t[s+1];if(a.scale>=e&&l.scale<=e){o=(e-a.scale)/(l.scale-a.scale),n=a.effects,i=l.effects;break}}for(let s=0;s<this.effects.length;s++)this.effects[s].interpolate(n[s],i[s],o)}};function qj(e){const t=t5(e)||[];return I1e(t)?[{scale:L1,effects:t}]:t}function Wj(e,t,r){var n,i,o,s;return!((n=e[0])!=null&&n.effects)||!((i=t[0])!=null&&i.effects)?!0:!((((o=e[0])==null?void 0:o.scale)===L1||((s=t[0])==null?void 0:s.scale)===L1)&&(e.length>1||t.length>1)&&r<=0)&&tQ(e[0].effects,t[0].effects)}function $1e(e,t,r){var l,c;const n=e.length>t.length?e:t,i=e.length>t.length?t:e,o=i[i.length-1],s=(l=o==null?void 0:o.scale)!=null?l:r,a=(c=o==null?void 0:o.effects)!=null?c:[];for(let d=i.length;d<n.length;d++)i.push({scale:s,effects:[...a]});for(let d=0;d<n.length;d++)i[d].scale=i[d].scale===L1?r:i[d].scale,n[d].scale=n[d].scale===L1?r:n[d].scale,rQ(i[d].effects,n[d].effects)}function E1e(e,t,r){return e+(t-e)*r}function I1e(e){const t=e[0];return!!t&&"type"in t}u([h()],ql.prototype,"_to",void 0),u([h()],ql.prototype,"duration",void 0),u([h({value:""})],ql.prototype,"effect",null),u([h({readOnly:!0})],ql.prototype,"effects",void 0),u([h({readOnly:!0})],ql.prototype,"hasEffects",null),u([h({value:0})],ql.prototype,"scale",null),u([h({readOnly:!0})],ql.prototype,"transitioning",null),ql=u([B("esri.layers.effects.EffectView")],ql);function o5(e,t,r){var n;try{return T1e(e)}catch(i){(n=r==null?void 0:r.messages)==null||n.push(i)}return null}function s5(e,t,r,n){try{const i=M1e(e);qo(r,i,t)}catch(i){n.messages&&n.messages.push(i)}}function M1e(e){const t=t5(e);return t?a1e(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:n})=>({scale:r,value:n.map(i=>i.toJSON())})):null}function T1e(e){if(!e||e.length===0)return null;if(k1e(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:j2(r.value)});return t}return j2(e)}function k1e(e){const t=e[0];return!!t&&"scale"in t}function j2(e){if(!e||!e.length)return"";const t=[];for(const r of e){let n=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[zc(r,"amount")];break;case"blur":n=[zc(r,"radius","pt")];break;case"hue-rotate":n=[zc(r,"angle","deg")];break;case"drop-shadow":n=[zc(r,"xoffset","pt"),zc(r,"yoffset","pt"),zc(r,"blurRadius","pt"),P1e(r,"color")];break;case"bloom":n=[zc(r,"strength"),zc(r,"radius","pt"),zc(r,"threshold")]}const i=`${r.type}(${n.filter(Boolean).join(" ")})`;t5(i),t.push(i)}return t.join(" ")}function zc(e,t,r){if(e[t]==null)throw new Z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function P1e(e,t){if(e[t]==null)throw new Z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}async function O1e(e,t){const{WhereClause:r}=await ae(()=>import("./WhereClause.61d98999.js"),[],import.meta.url);return r.create(e,t)}function oQ(e,t){return G(e)?G(t)?`(${e}) AND (${t})`:e:t}const Kj={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},L1e={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function R1e(e,t){const r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}function Vf(e,t,r){const n=new Date(e.getTime());if(t&&r){const i=L1e[r],{getter:o,setter:s,multiplier:a}=i;if(r==="months"){const l=R1e(n.getFullYear(),n.getMonth()+t);n.getDate()>l&&n.setDate(l)}n[s](n[o]()+t*a)}return n}function Jj(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function A1e(e,t,r){return e===0?0:e*Kj[t]/Kj[r]}var Ba;let vs=Ba=class extends ve{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return Zj}static get empty(){return F1e}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(Ba.allTime)}get isEmpty(){return this.equals(Ba.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new Ba({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=G(this.start)?this.start.getTime():this.start,r=G(this.end)?this.end.getTime():this.end,n=G(e.start)?e.start.getTime():e.start,i=G(e.end)?e.end.getTime():e.end;return t===n&&r===i}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=hc(this.start,n=>Jj(n,e)),r=hc(this.end,n=>Vf(Jj(n,e),1,e));return new Ba({start:t,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Ba.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=ub(this.start,-1/0,a=>a.getTime()),r=ub(this.end,1/0,a=>a.getTime()),n=ub(e.start,-1/0,a=>a.getTime()),i=ub(e.end,1/0,a=>a.getTime());let o,s;if(n>=t&&n<=r?o=n:t>=n&&t<=i&&(o=t),r>=n&&r<=i?s=r:i>=t&&i<=r&&(s=i),!isNaN(o)&&!isNaN(s)){const a=new Ba;return a.start=o===-1/0?null:new Date(o),a.end=s===1/0?null:new Date(s),a}return Ba.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new Ba,{start:n,end:i}=this;return G(n)&&(r.start=Vf(n,e,t)),G(i)&&(r.end=Vf(i,e,t)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return Zj.clone();const t=G(this.start)&&G(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=G(this.end)&&G(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Ba({start:t,end:r})}};u([h({type:Date,json:{write:{allowNull:!0}}})],vs.prototype,"end",void 0),u([Pe("end")],vs.prototype,"readEnd",null),u([Ae("end")],vs.prototype,"writeEnd",null),u([h({readOnly:!0,json:{read:!1}})],vs.prototype,"isAllTime",null),u([h({readOnly:!0,json:{read:!1}})],vs.prototype,"isEmpty",null),u([h({type:Date,json:{write:{allowNull:!0}}})],vs.prototype,"start",void 0),u([Pe("start")],vs.prototype,"readStart",null),u([Ae("start")],vs.prototype,"writeStart",null),vs=Ba=u([B("esri.TimeExtent")],vs);const Zj=new vs,F1e=new vs({start:void 0,end:void 0}),Rc=vs;function N1e(e){if(!e)return e;const{start:t,end:r}=e;return new Rc({start:G(t)?Vf(t,-t.getTimezoneOffset(),"minutes"):t,end:G(r)?Vf(r,-r.getTimezoneOffset(),"minutes"):r})}function D1e(e){if(!e)return e;const{start:t,end:r}=e;return new Rc({start:G(t)?Vf(t,t.getTimezoneOffset(),"minutes"):t,end:G(r)?Vf(r,r.getTimezoneOffset(),"minutes"):r})}var bR;let Tb=bR=class extends ve{async collectRequiredFields(e,t){return fo(e,t,this.expression)}clone(){return new bR({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};u([h({type:String,json:{write:!0}})],Tb.prototype,"expression",void 0),u([h({type:String,json:{write:!0}})],Tb.prototype,"title",void 0),Tb=bR=u([B("esri.layers.support.FeatureExpressionInfo")],Tb);const Yj=Tb;function a5(e){return new mt({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const sQ=a5(kr),B2=a5(ku),U2=a5(jp),z1e=new mt({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${kr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});function Aet(e){return e&&(N0(e)||e===B2)?B2:e&&(D0(e)||e===U2)?U2:sQ}function V1e(e){return e&&(N0(e)||e===B2)?ku:e&&(D0(e)||e===U2)?jp:kr}function Fet(e){return lD(e)?ku:cD(e)?jp:kr}const Net=39.37,j1e=kr.radius*Math.PI/200,aQ=/UNIT\[([^\]]+)\]\]$/i,jf=D,lQ=/UNIT\[([^\]]+)\]/i,B1e=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),U1e=Ii()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Al=e=>e*e,od=e=>e*e*e,R1={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Al(.001)},"square-centimeters":{inBaseUnits:Al(.01)},"square-decimeters":{inBaseUnits:Al(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Al(1e3)},"square-inches":{inBaseUnits:Al(.0254)},"square-feet":{inBaseUnits:Al(.3048)},"square-yards":{inBaseUnits:Al(.9144)},"square-miles":{inBaseUnits:Al(1609.344)},"square-us-feet":{inBaseUnits:Al(1200/3937)},acres:{inBaseUnits:.0015625*Al(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*od(.001)},"cubic-centimeters":{inBaseUnits:1e3*od(.01)},"cubic-decimeters":{inBaseUnits:1e3*od(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*od(1e3)},"cubic-inches":{inBaseUnits:1e3*od(.0254)},"cubic-feet":{inBaseUnits:1e3*od(.3048)},"cubic-yards":{inBaseUnits:1e3*od(.9144)},"cubic-miles":{inBaseUnits:1e3*od(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},G1e=(()=>{const e={};for(const t in R1)for(const r in R1[t].units)e[r]=t;return e})();function H1e(e,t,r){return e*R1[r].units[t].inBaseUnits}function q1e(e,t,r){return e/R1[r].units[t].inBaseUnits}function wR(e){const t=G1e[e];if(!t)throw new Error("unknown type");return t}function Qj(e,t=null){return t=t||wR(e),R1[t].baseUnit===e}function Ks(e,t,r){if(t===r)return e;const n=wR(t);if(n!==wR(r))throw new Error("incompatible units");const i=Qj(t,n)?e:H1e(e,t,n);return Qj(r,n)?i:q1e(i,r,n)}function W1e(e,t,r){return Ks(e,t,"meters")/(r*Math.PI/180)}function cQ(e){return U1e.fromJSON(e.toLowerCase())||null}function c0(e){if(e&&typeof e=="object"&&!vhe(e))return 1;const t=W0(e);return t>1e5?1:t}function K1e(e){return W0(e)>=(e instanceof mt?V1e(e).metersPerDegree:1e5)?"meters":Z1e(e)}function W0(e,t=kr.metersPerDegree){return nI(J1e(e,!0),t)}function J1e(e,t=!1){let r,n,i=null;if(e!=null&&(typeof e=="object"?(r=e.wkid,n=e.wkt):typeof e=="number"?r=e:typeof e=="string"&&(n=e)),r){if(lD(r))return ku.metersPerDegree;if(cD(r))return jp.metersPerDegree;i=jf.values[jf[r]],!i&&t&&B1e.has(r)&&(i=j1e)}else n&&(pQ(n)?i=Xj(aQ.exec(n),i):dQ(n)&&(i=Xj(lQ.exec(n),i)));return i}function Xj(e,t){return e&&e[1]?uQ(e[1]):t}function uQ(e){return parseFloat(e.split(",")[1])}function Z1e(e){let t,r,n=null;if(e!=null&&(typeof e=="object"?(t=e.wkid,r=e.wkt):typeof e=="number"?t=e:typeof e=="string"&&(r=e)),t)n=jf.units[jf[t]];else if(r){const i=pQ(r)?aQ:dQ(r)?lQ:null;if(i){const o=i.exec(r);o&&o[1]&&(n=Q1e(o[1]))}}return G(n)?cQ(n):null}function dQ(e){return/^GEOCCS/i.test(e)}function pQ(e){return/^PROJCS/i.test(e)}const Y1e=1e-7;function Q1e(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let r=t&&t[1];if(!r||!jf.units.includes(r)){const n=uQ(e);r=null;const i=jf.values;for(let o=0;o<i.length;++o)if(Math.abs(n-i[o])<Y1e){r=jf.units[o];break}}return r}const hQ={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},fQ={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},X1e=Ii()(hQ),e_e=Ii()(fQ);Ii()({...hQ,...fQ});const mQ={inches:Ks(1,"meters","inches"),feet:Ks(1,"meters","feet"),"us-feet":Ks(1,"meters","us-feet"),yards:Ks(1,"meters","yards"),miles:Ks(1,"meters","miles"),"nautical-miles":Ks(1,"meters","nautical-miles"),millimeters:Ks(1,"meters","millimeters"),centimeters:Ks(1,"meters","centimeters"),decimeters:Ks(1,"meters","decimeters"),meters:Ks(1,"meters","meters"),kilometers:Ks(1,"meters","kilometers"),"decimal-degrees":1/W1e(1,"meters",kr.radius)};function t_e(){const e=Object.keys(mQ);return e.sort(),e}const r_e=t_e();var _R;const Qx=Ii()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),e8=new Et({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Qc=_R=class extends ve{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return e!=null?e:t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,r,n){t[r]=e.write({},n),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):G(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new _R({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&kue(this.featureExpressionInfo,e.featureExpressionInfo)}};u([h({type:Yj,json:{write:!0}})],Qc.prototype,"featureExpressionInfo",void 0),u([Pe("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Qc.prototype,"readFeatureExpressionInfo",null),u([Ae("featureExpressionInfo",{featureExpressionInfo:{type:Yj},"featureExpression.value":{type:[0]}})],Qc.prototype,"writeFeatureExpressionInfo",null),u([h({type:Qx.apiValues,nonNullable:!0,json:{type:Qx.jsonValues,read:Qx.read,write:{writer:Qx.write,isRequired:!0}}})],Qc.prototype,"mode",null),u([h({type:Number,json:{write:!0}})],Qc.prototype,"offset",void 0),u([h({type:r_e,json:{type:String,read:e8.read,write:e8.write}})],Qc.prototype,"unit",null),Qc=_R=u([B("esri.layers.support.ElevationInfo")],Qc);const yQ=Qc,gQ={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},DI={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},zI={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},vQ={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:dm}}},bQ={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},wQ={value:null,type:yQ,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function Det(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const Ow={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},n_e={...Ow,json:{...Ow.json,origins:{"web-document":{...Ow.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?C1(t.layerDefinition.drawingInfo.transparency):void 0:C1(t.drawingInfo.transparency)}}},i_e={type:Rc,readOnly:!0,get(){var a,l;if(!((a=this.layer)!=null&&a.timeInfo))return null;const{datesInUnknownTimezone:e,timeOffset:t,useViewTime:r}=this.layer,n=(l=this.view)==null?void 0:l.timeExtent;let i=this.layer.timeExtent;e&&(i=D1e(i));let o=r?n&&i?n.intersection(i):n||i:i;if(!o||o.isEmpty||o.isAllTime)return o;t&&(o=o.offset(-t.value,t.unit)),e&&(o=N1e(o));const s=this._get("timeExtent");return o.equals(s)?s:o}},zet={type:er,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=er.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=mt.fromJSON(t.spatialReference)),r}}}},read:!1}},_Q={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},o_e={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},s_e={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},xQ={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}};function Vet(e){var r;const t=e.layer;return"floorInfo"in t&&((r=t.floorInfo)==null?void 0:r.floorField)&&"floors"in e.view?SQ(e.view.floors,t.floorInfo.floorField):null}function t8(e,t){var r;return"floorInfo"in t&&((r=t.floorInfo)==null?void 0:r.floorField)?SQ(e,t.floorInfo.floorField):null}function SQ(e,t){if(!(e!=null&&e.length))return null;const r=e.filter(n=>n!=="").map(n=>`'${n}'`);return r.push("''"),`${t} IN (${r.join(",")}) OR ${t} IS NULL`}function jet(e,t,r){return t.flatten(({sublayers:i})=>i).length!==e.length?!0:!!e.some(i=>i.originIdOf("minScale")>r||i.originIdOf("maxScale")>r||i.originIdOf("renderer")>r||i.originIdOf("labelingInfo")>r||i.originIdOf("opacity")>r||i.originIdOf("labelsVisible")>r||i.originIdOf("source")>r)||!CQ(e,t)}function a_e(e,t,r){return!!e.some(n=>{const i=n.source;return!(!i||i.type==="map-layer"&&i.mapLayerId===n.id&&(te(i.gdbVersion)||i.gdbVersion===r))||n.originIdOf("renderer")>ht.SERVICE||n.originIdOf("labelingInfo")>ht.SERVICE||n.originIdOf("opacity")>ht.SERVICE||n.originIdOf("labelsVisible")>ht.SERVICE})||!CQ(e,t)}function CQ(e,t){if(!e||!e.length||te(t))return!0;const r=t.slice().reverse().flatten(({sublayers:o})=>o&&o.toArray().reverse()).map(o=>o.id).toArray();if(e.length>r.length)return!1;let n=0;const i=r.length;for(const{id:o}of e){for(;n<i&&r[n]!==o;)n++;if(n>=i)return!1}return!0}function Bet(e){return!!e&&e.some(t=>t.minScale!=null||t.layerDefinition&&t.layerDefinition.minScale!=null)}const l_e={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let ds=class extends Pc(Ve){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map(t=>{const r=t8(this.floors,t);return t.toExportImageJSON(r)});return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&a_e(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),e.on("sublayer-update",t=>this.notifyChange(l_e[t.propertyName]))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map(t=>t.id).join(","):"show:-1":null}get layerDefs(){var r;const e=!!((r=this.floors)!=null&&r.length),t=this.visibleSublayers.filter(n=>n.definitionExpression!=null||e&&n.floorInfo!=null);return t.length?JSON.stringify(t.reduce((n,i)=>{const o=t8(this.floors,i),s=oQ(o,i.definitionExpression);return G(s)&&(n[i.id]=s),n},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const t=this.layer.sublayers,r=i=>{const o=this.scale,s=o===0,a=i.minScale===0||o<=i.minScale,l=i.maxScale===0||o>=i.maxScale;i.visible&&(s||a&&l)&&(i.sublayers?i.sublayers.forEach(r):e.unshift(i))};t&&t.forEach(r);const n=this._get("visibleSublayers");return!n||n.length!==e.length||n.some((i,o)=>e[o]!==i)?e:n}toJSON(){const e=this.layer;let t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t={...t,layers:this.layers,layerDefs:this.layerDefs},t}};u([h({readOnly:!0})],ds.prototype,"dynamicLayers",null),u([h()],ds.prototype,"floors",void 0),u([h({readOnly:!0})],ds.prototype,"hasDynamicLayers",null),u([h()],ds.prototype,"layer",null),u([h({readOnly:!0})],ds.prototype,"layers",null),u([h({readOnly:!0})],ds.prototype,"layerDefs",null),u([h({type:Number})],ds.prototype,"scale",void 0),u([h(i_e)],ds.prototype,"timeExtent",void 0),u([h({readOnly:!0})],ds.prototype,"version",null),u([h({readOnly:!0})],ds.prototype,"visibleSublayers",null),ds=u([B("esri.layers.mixins.ExportImageParameters")],ds);var xR;let kb=xR=class extends ve{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new xR({minValue:this.minValue,maxValue:this.maxValue})}};u([h({type:Number,json:{write:!0}})],kb.prototype,"minValue",void 0),u([h({type:Number,json:{write:!0}})],kb.prototype,"maxValue",void 0),kb=xR=u([B("esri.renderer.support.AuthoringInfoClassBreakInfo")],kb);var SR;let Qd=SR=class extends ve{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new SR({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:X(this.classBreakInfos)})}};u([h({type:String,json:{write:!0}})],Qd.prototype,"field",void 0),u([h({type:String,json:{write:!0}})],Qd.prototype,"normalizationField",void 0),u([h({type:String,json:{write:!0}})],Qd.prototype,"label",void 0),u([h({type:[kb],json:{write:!0}})],Qd.prototype,"classBreakInfos",void 0),Qd=SR=u([B("esri.renderers.support.AuthoringInfoFieldInfo")],Qd);var CR;const Xx=new Et({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),eS=new Et({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),r8={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},n8=["high-to-low","above-and-below","centered-on","extremes"],i8=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],o8=["seconds","minutes","hours","days","months","years"];let wo=CR=class extends ve{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new CR({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};u([h({types:r8,json:{write:!0}})],wo.prototype,"endTime",void 0),u([zt("endTime")],wo.prototype,"castEndTime",null),u([h({type:String,json:{write:!0}})],wo.prototype,"field",void 0),u([h({type:Number,json:{write:!0}})],wo.prototype,"maxSliderValue",void 0),u([h({type:Number,json:{write:!0}})],wo.prototype,"minSliderValue",void 0),u([h({types:r8,json:{write:!0}})],wo.prototype,"startTime",void 0),u([zt("startTime")],wo.prototype,"castStartTime",null),u([h({type:Xx.apiValues,value:null,json:{type:Xx.jsonValues,read:Xx.read,write:Xx.write}})],wo.prototype,"style",null),u([h({type:i8,value:null,json:{type:i8,origins:{"web-scene":{type:n8,write:{writer:(e,t)=>{n8.includes(e)&&(t.theme=e)}}}},write:!0}})],wo.prototype,"theme",null),u([h({type:eS.apiValues,json:{type:eS.jsonValues,read:eS.read,write:eS.write}})],wo.prototype,"type",void 0),u([h({type:o8,json:{type:o8,write:!0}})],wo.prototype,"units",void 0),wo=CR=u([B("esri.renderers.support.AuthoringInfoVisualVariable")],wo);const c_e=wo;let AC=class extends ve{constructor(e){super(e),this.type=null}};u([h({readOnly:!0,json:{read:!1,write:!0}})],AC.prototype,"type",void 0),AC=u([B("esri.rest.support.ColorRamp")],AC);const l5=AC;var $R;let Ih=$R=class extends l5{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new $R({fromColor:X(this.fromColor),toColor:X(this.toColor),algorithm:this.algorithm})}};u([nt({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Ih.prototype,"algorithm",void 0),u([h({type:ze,json:{type:[Ir],write:!0}})],Ih.prototype,"fromColor",void 0),u([h({type:ze,json:{type:[Ir],write:!0}})],Ih.prototype,"toColor",void 0),u([h({type:["algorithmic"]})],Ih.prototype,"type",void 0),Ih=$R=u([B("esri.rest.support.AlgorithmicColorRamp")],Ih);const c5=Ih;var ER;let Pb=ER=class extends l5{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new ER({colorRamps:X(this.colorRamps)})}};u([h({type:[c5],json:{write:!0}})],Pb.prototype,"colorRamps",void 0),u([h({type:["multipart"]})],Pb.prototype,"type",void 0),Pb=ER=u([B("esri.rest.support.MultipartColorRamp")],Pb);const $Q=Pb,u_e={key:"type",base:l5,typeMap:{algorithmic:c5,multipart:$Q}};function d_e(e){return e&&e.type?e.type==="algorithmic"?c5.fromJSON(e):e.type==="multipart"?$Q.fromJSON(e):null:null}var IR;const sh=new Et({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),tS=new Et({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),s8=new Et({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),a8=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],p_e=["high-to-low","above-and-below","above","below","90-10"],h_e=["flow-line","wave-front"],f_e=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let wn=IR=class extends ve{constructor(e){super(e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){if(e)return d_e(e)}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new IR({classificationMethod:this.classificationMethod,colorRamp:X(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:X(this.field1),field2:X(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};u([h({type:sh.apiValues,value:null,json:{type:sh.jsonValues,read:sh.read,write:sh.write,origins:{"web-document":{default:"manual",type:sh.jsonValues,read:sh.read,write:sh.write}}}})],wn.prototype,"classificationMethod",null),u([h({types:u_e,json:{write:!0}})],wn.prototype,"colorRamp",void 0),u([Pe("colorRamp")],wn.prototype,"readColorRamp",null),u([h({type:[String],value:null,json:{write:!0}})],wn.prototype,"fields",null),u([h({type:Qd,value:null,json:{write:!0}})],wn.prototype,"field1",null),u([h({type:Qd,value:null,json:{write:!0}})],wn.prototype,"field2",null),u([h({type:h_e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],wn.prototype,"flowTheme",null),u([h({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],wn.prototype,"focus",null),u([h({type:Number,value:null,json:{type:Ir,write:!0}})],wn.prototype,"numClasses",null),u([h({type:a8,json:{type:a8,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],wn.prototype,"lengthUnit",void 0),u([h({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],wn.prototype,"maxSliderValue",void 0),u([h({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],wn.prototype,"minSliderValue",void 0),u([h({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],wn.prototype,"statistics",null),u([h({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],wn.prototype,"standardDeviationInterval",null),u([h({type:tS.apiValues,value:null,json:{type:tS.jsonValues,read:tS.read,write:tS.write,origins:{"web-scene":{type:s8.jsonValues,write:{writer:s8.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],wn.prototype,"type",null),u([h({type:[c_e],json:{write:!0}})],wn.prototype,"visualVariables",void 0),u([h({type:f_e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],wn.prototype,"univariateSymbolStyle",null),u([h({type:p_e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],wn.prototype,"univariateTheme",null),wn=IR=u([B("esri.renderers.support.AuthoringInfo")],wn);const EQ=wn,rk=new Et({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Ob=class extends ve{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};u([h({type:EQ,json:{write:!0}})],Ob.prototype,"authoringInfo",void 0),u([h({type:rk.apiValues,readOnly:!0,json:{type:rk.jsonValues,read:!1,write:{writer:rk.write,ignoreOrigin:!0}}})],Ob.prototype,"type",void 0),Ob=u([B("esri.renderers.Renderer")],Ob);const Zu=Ob;var MR;let Rg=MR=class extends ve{constructor(){super(...arguments),this.title=null}clone(){return new MR({title:this.title})}};u([h({type:String,json:{write:!0}})],Rg.prototype,"title",void 0),Rg=MR=u([B("esri.renderers.support.LegendOptions")],Rg);var TR;let FC=TR=class extends Rg{constructor(){super(...arguments),this.showLegend=null}clone(){return new TR({title:this.title,showLegend:this.showLegend})}};u([h({type:Boolean,json:{write:!0}})],FC.prototype,"showLegend",void 0),FC=TR=u([B("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],FC);const IQ=FC,m_e=Ce.getLogger("esri.renderers.visualVariables.VisualVariable"),nk=new Et({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let Ua=class extends ve{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(m_e.error(".field: field must be a string value"),null):C_(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};u([h()],Ua.prototype,"index",void 0),u([h({type:nk.apiValues,readOnly:!0,json:{read:nk.read,write:nk.write}})],Ua.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],Ua.prototype,"field",void 0),u([zt("field")],Ua.prototype,"castField",null),u([h({type:String,json:{write:!0}})],Ua.prototype,"valueExpression",void 0),u([h({type:String,json:{write:!0}})],Ua.prototype,"valueExpressionTitle",void 0),u([h({readOnly:!0})],Ua.prototype,"arcadeRequired",null),u([h({type:IQ,json:{write:!0}})],Ua.prototype,"legendOptions",void 0),Ua=u([B("esri.renderers.visualVariables.VisualVariable")],Ua);const A_=Ua;var kR;let Mh=kR=class extends ve{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e==null?0:e}clone(){return new kR({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};u([h({type:ze,json:{type:[Ir],write:!0}})],Mh.prototype,"color",void 0),u([h({type:String,json:{write:!0}})],Mh.prototype,"label",void 0),u([h({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Mh.prototype,"value",void 0),u([Ae("value")],Mh.prototype,"writeValue",null),Mh=kR=u([B("esri.renderers.visualVariables.support.ColorStop")],Mh);const y_e=Mh;var PR;let Th=PR=class extends A_{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new PR({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([h({readOnly:!0})],Th.prototype,"cache",null),u([h({type:["color"],json:{type:["colorInfo"]}})],Th.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],Th.prototype,"normalizationField",void 0),u([h({type:[y_e],json:{write:!0}})],Th.prototype,"stops",null),Th=PR=u([B("esri.renderers.visualVariables.ColorVariable")],Th);const MQ=Th;var OR;let Td=OR=class extends ve{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return C1(t.transparency)}writeOpacity(e,t,r){t[r]=bI(e)}clone(){return new OR({label:this.label,opacity:this.opacity,value:this.value})}};u([h({type:String,json:{write:!0}})],Td.prototype,"label",void 0),u([h({type:Number,json:{type:Ir,write:{target:"transparency"}}})],Td.prototype,"opacity",void 0),u([Pe("opacity",["transparency"])],Td.prototype,"readOpacity",null),u([Ae("opacity")],Td.prototype,"writeOpacity",null),u([h({type:Number,json:{write:!0}})],Td.prototype,"value",void 0),Td=OR=u([B("esri.renderers.visualVariables.support.OpacityStop")],Td);const g_e=Td;var LR;let kh=LR=class extends A_{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new LR({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([h({readOnly:!0})],kh.prototype,"cache",null),u([h({type:["opacity"],json:{type:["transparencyInfo"]}})],kh.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],kh.prototype,"normalizationField",void 0),u([h({type:[g_e],json:{write:!0}})],kh.prototype,"stops",null),kh=LR=u([B("esri.renderers.visualVariables.OpacityVariable")],kh);const TQ=kh;var RR;let Xc=RR=class extends A_{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,n){if(n&&n.messages){const i=`visualVariables[${this.index}]`;n.messages.push(new Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:i+".valueExpressionTitle",context:n}))}}clone(){return new RR({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};u([h({readOnly:!0})],Xc.prototype,"cache",null),u([h({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Xc.prototype,"axis",void 0),u([h({type:["rotation"],json:{type:["rotationInfo"]}})],Xc.prototype,"type",void 0),u([h({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Xc.prototype,"rotationType",void 0),u([h({type:String,json:{write:!0}})],Xc.prototype,"valueExpressionTitle",void 0),u([Ae("web-scene","valueExpressionTitle")],Xc.prototype,"writeValueExpressionTitleWebScene",null),Xc=RR=u([B("esri.renderers.visualVariables.RotationVariable")],Xc);const kQ=Xc;var AR;let yy=AR=class extends ve{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new AR({label:this.label,size:this.size,value:this.value})}};u([h({type:String,json:{write:!0}})],yy.prototype,"label",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],yy.prototype,"size",void 0),u([h({type:Number,json:{write:!0}})],yy.prototype,"value",void 0),yy=AR=u([B("esri.renderers.visualVariables.support.SizeStop")],yy);const v_e=yy;var FR;let NC=FR=class extends IQ{constructor(){super(...arguments),this.customValues=null}clone(){return new FR({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};u([h({type:[Number],json:{write:!0}})],NC.prototype,"customValues",void 0),NC=FR=u([B("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],NC);const PQ=NC;var Pu,Qn;function dg(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function A1(e){return e!=null&&!isNaN(e)&&isFinite(e)}function OQ(e){return e.valueExpression?Pu.Expression:e.field&&typeof e.field=="string"?Pu.Field:Pu.Unknown}function b_e(e,t){const r=t||OQ(e),n=e.valueUnit||"unknown";return r===Pu.Unknown?Qn.Constant:e.stops?Qn.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Qn.ClampedLinear:n==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Qn.Proportional:Qn.Additive:Qn.Identity:Qn.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(Pu||(Pu={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Qn||(Qn={}));let DC=class extends ve{constructor(e){super(e),this.type=null}};u([h({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],DC.prototype,"type",void 0),DC=u([B("esri.popup.content.Content")],DC);const Em=DC;var NR;let Ph=NR=class extends Em{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new NR({description:this.description,displayType:this.displayType,title:this.title})}};u([h({type:String,json:{write:!0}})],Ph.prototype,"description",void 0),u([h({type:["auto","preview","list"],json:{write:!0}})],Ph.prototype,"displayType",void 0),u([h({type:String,json:{write:!0}})],Ph.prototype,"title",void 0),u([h({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Ph.prototype,"type",void 0),Ph=NR=u([B("esri.popup.content.AttachmentsContent")],Ph);const F1=Ph;var DR;let Oh=DR=class extends Em{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new DR({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?X(this.outFields):null})}};u([h()],Oh.prototype,"creator",void 0),u([h()],Oh.prototype,"destroyer",void 0),u([h()],Oh.prototype,"outFields",void 0),u([h({type:["custom"],readOnly:!0})],Oh.prototype,"type",void 0),Oh=DR=u([B("esri.popup.content.CustomContent")],Oh);const w_e=Oh;var zR;let gy=zR=class extends ve{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new zR({title:this.title,expression:this.expression})}};u([h({type:String,json:{write:!0}})],gy.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],gy.prototype,"expression",void 0),u([h({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],gy.prototype,"returnType",void 0),gy=zR=u([B("esri.popup.ElementExpressionInfo")],gy);const LQ=gy;var VR;let Lb=VR=class extends Em{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new VR({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};u([h({type:LQ,json:{write:!0}})],Lb.prototype,"expressionInfo",void 0),u([h({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Lb.prototype,"type",void 0),Lb=VR=u([B("esri.popup.content.ExpressionContent")],Lb);const u5=Lb,N1=Ii()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});N1.toJSON.bind(N1);N1.fromJSON.bind(N1);var jR;let Lh=jR=class extends ve{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new jR({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?Du(e,{...kD(this.dateFormat),...this.dateTimeFormatOptions}):Ec(e,mZ(this))}formatRasterPixelValue(e){let t,r;return e.trim().includes(",")?(t=",",r=t+" ",this._formatDelimitedString(e,t,r,this)):e.trim().includes(";")?(t=";",r=t+" ",this._formatDelimitedString(e,t,r,this)):e.trim().includes(" ")?(t=r=" ",this._formatDelimitedString(e,t,r,this)):this.format(Number(e))}_formatDelimitedString(e,t,r,n){return e&&t&&r&&n?e.trim().split(t).map(i=>this.format(Number(i))).join(r):e}};u([nt(N1)],Lh.prototype,"dateFormat",void 0),u([h({type:Object,json:{read:!1}})],Lh.prototype,"dateTimeFormatOptions",void 0),u([h({type:Boolean,json:{write:!0}})],Lh.prototype,"digitSeparator",void 0),u([h({type:Ir,json:{write:!0}})],Lh.prototype,"places",void 0),Lh=jR=u([B("esri.popup.support.FieldInfoFormat")],Lh);const pg=Lh;var BR;let Ga=BR=class extends ve{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new BR({fieldName:this.fieldName,format:this.format?X(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};u([h({type:String,json:{write:!0}})],Ga.prototype,"fieldName",void 0),u([h({type:pg,json:{write:!0}})],Ga.prototype,"format",void 0),u([h({type:Boolean,json:{write:!0,default:!1}})],Ga.prototype,"isEditable",void 0),u([h({type:String,json:{write:!0}})],Ga.prototype,"label",void 0),u([nt(new Et({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Ga.prototype,"stringFieldOption",void 0),u([h({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Ga.prototype,"statisticType",void 0),u([h({type:String,json:{write:!0}})],Ga.prototype,"tooltip",void 0),u([h({type:Boolean,json:{write:!0}})],Ga.prototype,"visible",void 0),Ga=BR=u([B("esri.popup.FieldInfo")],Ga);const F_=Ga;var UR;let eu=UR=class extends Em{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new UR(X({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([h({type:Object,json:{write:!0}})],eu.prototype,"attributes",void 0),u([h({type:String,json:{write:!0}})],eu.prototype,"description",void 0),u([h({type:[F_]})],eu.prototype,"fieldInfos",void 0),u([Ae("fieldInfos")],eu.prototype,"writeFieldInfos",null),u([h({type:String,json:{write:!0}})],eu.prototype,"title",void 0),u([h({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],eu.prototype,"type",void 0),eu=UR=u([B("esri.popup.content.FieldsContent")],eu);const u0=eu;let Rh=class extends ve{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};u([h({type:String,json:{write:!0}})],Rh.prototype,"altText",void 0),u([h({type:String,json:{write:!0}})],Rh.prototype,"caption",void 0),u([h({type:String,json:{write:!0}})],Rh.prototype,"title",void 0),u([h({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Rh.prototype,"type",void 0),Rh=u([B("esri.popup.content.mixins.MediaInfo")],Rh);const d5=Rh;var GR;let vy=GR=class extends Ve{constructor(e){super(e),this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new GR({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([h()],vy.prototype,"fieldName",void 0),u([h()],vy.prototype,"tooltip",void 0),u([h()],vy.prototype,"value",void 0),vy=GR=u([B("esri.popup.content.support.ChartMediaInfoValueSeries")],vy);const RQ=vy;var HR;let Ah=HR=class extends ve{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new HR({fields:X(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};u([h({type:[String],json:{write:!0}})],Ah.prototype,"fields",void 0),u([h({type:String,json:{write:!0}})],Ah.prototype,"normalizeField",void 0),u([h({type:[RQ],json:{read:!1}})],Ah.prototype,"series",void 0),u([h({type:String,json:{write:!0}})],Ah.prototype,"tooltipField",void 0),Ah=HR=u([B("esri.popup.content.support.ChartMediaInfoValue")],Ah);const __e=Ah;let Rb=class extends d5{constructor(e){super(e),this.type=null,this.value=null}};u([h({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Rb.prototype,"type",void 0),u([h({type:__e,json:{write:!0}})],Rb.prototype,"value",void 0),Rb=u([B("esri.popup.content.mixins.ChartMediaInfo")],Rb);const VI=Rb,jI=Ii()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var qR;let zC=qR=class extends VI{constructor(e){super(e),this.type="bar-chart"}clone(){return new qR({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:jI.write}})],zC.prototype,"type",void 0),zC=qR=u([B("esri.popup.content.BarChartMediaInfo")],zC);const AQ=zC;var WR;let VC=WR=class extends VI{constructor(e){super(e),this.type="column-chart"}clone(){return new WR({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:jI.write}})],VC.prototype,"type",void 0),VC=WR=u([B("esri.popup.content.ColumnChartMediaInfo")],VC);const FQ=VC;var KR;let Ab=KR=class extends ve{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new KR({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([h({type:String,json:{write:!0}})],Ab.prototype,"linkURL",void 0),u([h({type:String,json:{write:!0}})],Ab.prototype,"sourceURL",void 0),Ab=KR=u([B("esri.popup.content.support.ImageMediaInfoValue")],Ab);const x_e=Ab;var JR;let by=JR=class extends d5{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new JR({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};u([h({type:Number,json:{write:!0}})],by.prototype,"refreshInterval",void 0),u([h({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],by.prototype,"type",void 0),u([h({type:x_e,json:{write:!0}})],by.prototype,"value",void 0),by=JR=u([B("esri.popup.content.ImageMediaInfo")],by);const NQ=by;var ZR;let jC=ZR=class extends VI{constructor(e){super(e),this.type="line-chart"}clone(){return new ZR({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:jI.write}})],jC.prototype,"type",void 0),jC=ZR=u([B("esri.popup.content.LineChartMediaInfo")],jC);const DQ=jC;var YR;let BC=YR=class extends VI{constructor(e){super(e),this.type="pie-chart"}clone(){return new YR({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:jI.write}})],BC.prototype,"type",void 0),BC=YR=u([B("esri.popup.content.PieChartMediaInfo")],BC);const zQ=BC,VQ={base:d5,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":AQ,"column-chart":FQ,"line-chart":DQ,"pie-chart":zQ,image:NQ}};var QR;let Ha=QR=class extends Em{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?NQ.fromJSON(t):t.type==="barchart"?AQ.fromJSON(t):t.type==="columnchart"?FQ.fromJSON(t):t.type==="linechart"?DQ.fromJSON(t):t.type==="piechart"?zQ.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new QR(X({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([h()],Ha.prototype,"activeMediaInfoIndex",void 0),u([h({type:Object,json:{write:!0}})],Ha.prototype,"attributes",void 0),u([h({type:String,json:{write:!0}})],Ha.prototype,"description",void 0),u([h({types:[VQ]})],Ha.prototype,"mediaInfos",void 0),u([Pe("mediaInfos")],Ha.prototype,"readMediaInfos",null),u([Ae("mediaInfos")],Ha.prototype,"writeMediaInfos",null),u([h({type:String,json:{write:!0}})],Ha.prototype,"title",void 0),u([h({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Ha.prototype,"type",void 0),Ha=QR=u([B("esri.popup.content.MediaContent")],Ha);const D1=Ha;var XR;let Fb=XR=class extends Em{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new XR({text:this.text})}};u([h({type:String,json:{write:!0}})],Fb.prototype,"text",void 0),u([h({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Fb.prototype,"type",void 0),Fb=XR=u([B("esri.popup.content.TextContent")],Fb);const d0=Fb,S_e={base:null,key:"type",typeMap:{attachment:F1,media:D1,text:d0,expression:u5,field:u0}};var eA;let Fh=eA=class extends ve{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new eA({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([h({type:String,json:{write:!0}})],Fh.prototype,"name",void 0),u([h({type:String,json:{write:!0}})],Fh.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],Fh.prototype,"expression",void 0),u([h({type:["string","number"],json:{write:!0}})],Fh.prototype,"returnType",void 0),Fh=eA=u([B("esri.popup.ExpressionInfo")],Fh);const jQ=Fh;var tA;let Nb=tA=class extends ve{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new tA({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([h({type:Boolean,json:{write:!0}})],Nb.prototype,"returnTopmostRaster",void 0),u([h({type:Boolean,json:{write:!0}})],Nb.prototype,"showNoDataRecords",void 0),Nb=tA=u([B("esri.popup.LayerOptions")],Nb);const C_e=Nb;var rA;let Db=rA=class extends ve{constructor(e){super(e),this.field=null,this.order=null}clone(){return new rA({field:this.field,order:this.order})}};u([h({type:String,json:{write:!0}})],Db.prototype,"field",void 0),u([h({type:["asc","desc"],json:{write:!0}})],Db.prototype,"order",void 0),Db=rA=u([B("esri.popup.support.RelatedRecordsInfoFieldOrder")],Db);const BQ=Db;var nA;let zb=nA=class extends ve{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new nA({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?X(this.orderByFields):null})}};u([h({type:Boolean,json:{write:!0}})],zb.prototype,"showRelatedRecords",void 0),u([h({type:[BQ],json:{write:!0}})],zb.prototype,"orderByFields",void 0),zb=nA=u([B("esri.popup.RelatedRecordsInfo")],zb);const $_e=zb;var iA;let qa=iA=class extends MD(Ve){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new iA({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([h()],qa.prototype,"active",void 0),u([h()],qa.prototype,"className",void 0),u([h()],qa.prototype,"disabled",void 0),u([h()],qa.prototype,"id",void 0),u([h()],qa.prototype,"indicator",void 0),u([h()],qa.prototype,"title",void 0),u([h()],qa.prototype,"type",void 0),u([h()],qa.prototype,"visible",void 0),qa=iA=u([B("esri.support.actions.ActionBase")],qa);const BI=qa;var oA;let UC=oA=class extends BI{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new oA({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([h()],UC.prototype,"image",void 0),UC=oA=u([B("esri.support.Action.ActionButton")],UC);const K0=UC;var sA;let Vb=sA=class extends BI{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new sA({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([h()],Vb.prototype,"image",void 0),u([h()],Vb.prototype,"value",void 0),Vb=sA=u([B("esri.support.Action.ActionToggle")],Vb);const UQ=Vb;var aA;const E_e=We.ofType({key:"type",defaultKeyValue:"button",base:BI,typeMap:{button:K0,toggle:UQ}}),I_e={base:Em,key:"type",typeMap:{media:D1,custom:w_e,text:d0,attachments:F1,fields:u0,expression:u5}},GQ="esri.PopupTemplate",M_e=Ce.getLogger(GQ),T_e=["attachments","fields","media","text","expression"];let kn=aA=class extends ve{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(e){return Array.isArray(e)?e.map(t=>Cc(I_e,t)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||Wu(e)?e:(M_e.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:r}=t;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}writeContent(e,t,r,n){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter(i=>T_e.includes(i.type)).map(i=>i&&i.toJSON(n)),t.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(t):i.type==="media"?this._writeMediaContent(i,t):i.type==="text"&&this._writeTextContent(i,t)})):t.description=e}writeFieldInfos(e,t,r,n){const{content:i}=this,o=Array.isArray(i)?i:null;if(e){const s=o?o.filter(l=>l.type==="fields"):[],a=s.length&&s.every(l=>{var c;return(c=l.fieldInfos)==null?void 0:c.length});t.fieldInfos=e.filter(Boolean).map(l=>{const c=l.toJSON(n);return a&&(c.visible=!1),c})}if(o)for(const s of o)s.type==="fields"&&this._writeFieldsContent(s,t)}writeLayerOptions(e,t,r,n){t[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(n)}writeTitle(e,t){t.title=e||""}clone(){const{actions:e}=this,t=e?X(e.toArray()):[];return new aA({actions:t,content:Array.isArray(this.content)?X(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?X(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?X(this.fieldInfos):null,layerOptions:this.layerOptions?X(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?X(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?X(this.relatedRecordsInfo):null})}async collectRequiredFields(e,t){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...r,...this._getContentExpressionInfos(this.content,r)]),T1(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=X(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach(n=>{const i=t.fieldInfos.find(o=>o.fieldName.toLowerCase()===n.fieldName.toLowerCase());i?i.visible=!0:t.fieldInfos.push(n)}):t.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=X(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...r]:t.mediaInfos=r}_readPopupInfoElements({description:e,mediaInfos:t,popupElements:r}){const n={description:!1,mediaInfos:!1};return r.map(i=>i.type==="media"?(i.mediaInfos||!t||n.mediaInfos||(i.mediaInfos=t,n.mediaInfos=!0),D1.fromJSON(i)):i.type==="text"?(i.text||!e||n.description||(i.text=e,n.description=!0),d0.fromJSON(i)):i.type==="attachments"?F1.fromJSON(i):i.type==="fields"?u0.fromJSON(i):i.type==="expression"?u5.fromJSON(i):void 0).filter(Boolean)}_readPopupInfo({description:e,mediaInfos:t,showAttachments:r}){const n=[];return e?n.push(new d0({text:e})):n.push(new u0),Array.isArray(t)&&t.length&&n.push(D1.fromJSON({mediaInfos:t})),r&&n.push(F1.fromJSON({displayType:"auto"})),n.length?n:e}_getContentElementFields(e){const t=e==null?void 0:e.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos||this.fieldInfos)];if(t==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((n,i)=>[...n,...this._getMediaInfoFields(i)],[])]}return t==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:r,value:n}=e,i=n||{},{fields:o=[],normalizeField:s,tooltipField:a,sourceURL:l,linkURL:c}=i,d=[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(l),...this._extractFieldNames(c),...o];return s&&d.push(s),a&&d.push(a),d}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((r,n)=>[...r,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((t,r)=>[...t,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,t,r){r&&await Promise.all(r.map(n=>fo(e,t,n.expression)))}_getFieldInfoFields(e){return e?e.filter(t=>t.visible===void 0||!!t.visible).map(t=>t.fieldName).filter(t=>!t.includes("relationships/")&&!t.includes("expression/")):[]}_getActionsFields(e){return e?e.toArray().reduce((t,r)=>[...t,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:t,title:r,type:n}=e,i=n==="button"||n==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(i)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const t=/{[^}]*}/g,r=e.match(t);if(!r)return[];const n=/\{(\w+):.+\}/,i=r.filter(o=>!(o.indexOf("{relationships/")===0||o.indexOf("{expression/")===0)).map(o=>o.replace(n,"{$1}"));return i?i.map(o=>o.slice(1,-1)):[]}};u([h({type:E_e})],kn.prototype,"actions",void 0),u([h()],kn.prototype,"content",void 0),u([zt("content")],kn.prototype,"castContent",null),u([Pe("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],kn.prototype,"readContent",null),u([Ae("content",{popupElements:{type:We.ofType(S_e)},showAttachments:{type:Boolean},mediaInfos:{type:We.ofType(VQ)},description:{type:String}})],kn.prototype,"writeContent",null),u([h({type:[jQ],json:{write:!0}})],kn.prototype,"expressionInfos",void 0),u([h({type:[F_]})],kn.prototype,"fieldInfos",void 0),u([Ae("fieldInfos")],kn.prototype,"writeFieldInfos",null),u([h({type:C_e})],kn.prototype,"layerOptions",void 0),u([Ae("layerOptions")],kn.prototype,"writeLayerOptions",null),u([h({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],kn.prototype,"lastEditInfoEnabled",void 0),u([h()],kn.prototype,"outFields",void 0),u([h()],kn.prototype,"overwriteActions",void 0),u([h()],kn.prototype,"returnGeometry",void 0),u([h({json:{type:String}})],kn.prototype,"title",void 0),u([Ae("title")],kn.prototype,"writeTitle",null),u([h({type:$_e,json:{write:!0}})],kn.prototype,"relatedRecordsInfo",void 0),kn=aA=u([B(GQ)],kn);const J0=kn;function k_e(e){if(!e)return null;const t={};for(const r in e){const n=Bp(e[r]);n&&(t[r]=n)}return Object.keys(t).length!==0?t:null}function P_e(e){if(!G(e))return null;const t={};for(const r in e){const n=e[r];n&&(t[r]=n.toJSON())}return Object.keys(t).length!==0?t:null}let _o=class extends ts(ve){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:xw(),configurable:!0})}normalizeCtorArgs(e,t,r,n){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:n}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&G(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:P_e(this.aggregateGeometries),geometry:G(this.geometry)?this.geometry.toJSON():null,symbol:G(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){G(this.geometry)&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(e,t,r,n){if(!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:r};e==="attributes"&&(i.attributeName=n),this.layer.graphicChanged(i)}};u([h({value:null,json:{read:k_e}})],_o.prototype,"aggregateGeometries",null),u([h({value:null})],_o.prototype,"attributes",null),u([h({value:null,types:Sm,json:{read:Bp}})],_o.prototype,"geometry",null),u([h({type:Boolean})],_o.prototype,"isAggregate",void 0),u([h({clonable:"reference"})],_o.prototype,"layer",void 0),u([h({type:J0})],_o.prototype,"popupTemplate",void 0),u([h({clonable:"reference"})],_o.prototype,"sourceLayer",void 0),u([h({value:null,types:zf})],_o.prototype,"symbol",null),u([h({type:Boolean,value:!0})],_o.prototype,"visible",null),_o=u([B("esri.Graphic")],_o),function(e){e.generateUID=xw}(_o||(_o={}));const Jo=_o,Gp=Ce.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),l8=new Jo,GC=Math.PI,HQ=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function qQ(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="color"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void Gp.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const i=typeof t=="number",o=i?null:t,s=o&&o.attributes;let a=i?t:null;const l=n.field,{ipData:c,hasExpression:d}=n.cache;let p=n.cache.compiledFunc;if(!l&&!d){const g=n.stops;return g&&g[0]&&g[0].color}if(typeof a!="number")if(d){if(te(r)||te(r.arcade))return void Gp.error("Use of arcade expressions requires an arcade context");const g={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,b=v.getViewInfo(g),w=v.createExecContext(o,b);if(!p){const x=v.createSyntaxTree(n.valueExpression);p=v.createFunction(x),n.cache.compiledFunc=p}a=v.executeFunction(p,w)}else s&&(a=s[l]);const f=n.normalizationField,y=s?parseFloat(s[f]):void 0;if(a!=null&&(!f||i||!isNaN(y)&&y!==0)){isNaN(y)||i||(a/=y);const g=p5(a,c);if(g){const v=g[0],b=g[1],w=v===b?n.stops[v].color:ze.blendColors(n.stops[v].color,n.stops[b].color,g[2],G(r)?r.color:void 0);return new ze(w)}}}function WQ(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="opacity"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void Gp.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const i=typeof t=="number",o=i?null:t,s=o&&o.attributes;let a=i?t:null;const l=n.field,{ipData:c,hasExpression:d}=n.cache;let p=n.cache.compiledFunc;if(!l&&!d){const g=n.stops;return g&&g[0]&&g[0].opacity}if(typeof a!="number")if(d){if(te(r)||te(r.arcade))return void Gp.error("Use of arcade expressions requires an arcade context");const g={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,b=v.getViewInfo(g),w=v.createExecContext(o,b);if(!p){const x=v.createSyntaxTree(n.valueExpression);p=v.createFunction(x),n.cache.compiledFunc=p}a=v.executeFunction(p,w)}else s&&(a=s[l]);const f=n.normalizationField,y=s?parseFloat(s[f]):void 0;if(a!=null&&(!f||i||!isNaN(y)&&y!==0)){isNaN(y)||i||(a/=y);const g=p5(a,c);if(g){const v=g[0],b=g[1];if(v===b)return n.stops[v].opacity;{const w=n.stops[v].opacity;return w+(n.stops[b].opacity-w)*g[2]}}}}function KQ(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(y=>y.type==="rotation"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void Gp.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const i=n.axis||"heading",o=i==="heading"&&n.rotationType==="arithmetic"?90:0,s=i==="heading"&&n.rotationType==="arithmetic"?-1:1,a=typeof t=="number"?null:t,l=a&&a.attributes,c=n.field,{hasExpression:d}=n.cache;let p=n.cache.compiledFunc,f=0;if(!c&&!d)return f;if(d){if(te(r)||te(r.arcade))return void Gp.error("Use of arcade expressions requires an arcade context");const y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,v=g.getViewInfo(y),b=g.createExecContext(a,v);if(!p){const w=g.createSyntaxTree(n.valueExpression);p=g.createFunction(w),n.cache.compiledFunc=p}f=g.executeFunction(p,b)}else l&&(f=l[c]||0);return f=typeof f!="number"||isNaN(f)?null:o+s*f,f}function O_e(e,t,r){const n=typeof t=="number",i=n?null:t,o=i&&i.attributes;let s=n?t:null;const{isScaleDriven:a}=e.cache;let l=e.cache.compiledFunc;if(a){const d=G(r)?r.scale:void 0,p=G(r)?r.view:void 0;s=d==null||p==="3d"?L_e(e):d}else if(!n)switch(e.inputValueType){case Pu.Expression:{if(te(r)||te(r.arcade))return void Gp.error("Use of arcade expressions requires an arcade context");const d={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},p=r.arcade.arcadeUtils,f=p.getViewInfo(d),y=p.createExecContext(i,f);if(!l){const g=p.createSyntaxTree(e.valueExpression);l=p.createFunction(g),e.cache.compiledFunc=l}s=p.executeFunction(l,y);break}case Pu.Field:o&&(s=o[e.field]);break;case Pu.Unknown:s=null}if(!A1(s))return null;if(n||!e.normalizationField)return s;const c=o?parseFloat(o[e.normalizationField]):null;return A1(c)&&c!==0?s/c:null}function L_e(e){let t=null,r=null;const n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function UI(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(o=>o.type==="size"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void Gp.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const i=ZQ(O_e(n,t,r),n,t,r,n.cache.ipData);return i==null||isNaN(i)?0:i}function Bo(e,t,r){return e==null?null:dg(e)?UI(e,t,r):A1(e)?e:null}function JQ(e,t,r){return A1(r)&&e>r?r:A1(t)&&e<t?t:e}function R_e(e,t,r,n){return e+(Bo(t.minSize,r,n)||t.minDataValue)}function A_e(e,t,r){const n=e.stops;let i=n&&n.length&&n[0].size;return i==null&&(i=e.minSize),Bo(i,t,r)}function F_e(e,t,r,n){const i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=Bo(t.minSize,r,n),s=Bo(t.maxSize,r,n),a=G(n)?n.shape:void 0;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return s;if(t.scaleBy==="area"&&a){const l=a==="circle",c=l?GC*(o/2)**2:o*o,d=c+i*((l?GC*(s/2)**2:s*s)-c);return l?2*Math.sqrt(d/GC):Math.sqrt(d)}return o+i*(s-o)}function N_e(e,t,r,n){const i=G(n)?n.shape:void 0,o=e/t.minDataValue,s=Bo(t.minSize,r,n),a=Bo(t.maxSize,r,n);let l=null;return l=i==="circle"?2*Math.sqrt(o*(s/2)**2):i==="square"||i==="diamond"||i==="image"?Math.sqrt(o*s**2):o*s,JQ(l,s,a)}function D_e(e,t,r,n,i){const[o,s,a]=p5(e,i);if(o===s)return Bo(t.stops[o].size,r,n);{const l=Bo(t.stops[o].size,r,n);return l+(Bo(t.stops[s].size,r,n)-l)*a}}function z_e(e,t,r,n){const i=(G(n)&&n.resolution?n.resolution:1)*mQ[t.valueUnit],o=Bo(t.minSize,r,n),s=Bo(t.maxSize,r,n),{valueRepresentation:a}=t;let l=null;return l=a==="area"?2*Math.sqrt(e/GC)/i:a==="radius"||a==="distance"?2*e/i:e/i,JQ(l,o,s)}function ZQ(e,t,r,n,i){switch(t.transformationType){case Qn.Additive:return R_e(e,t,r,n);case Qn.Constant:return A_e(t,r,n);case Qn.ClampedLinear:return F_e(e,t,r,n);case Qn.Proportional:return N_e(e,t,r,n);case Qn.Stops:return D_e(e,t,r,n,i);case Qn.RealWorldSize:return z_e(e,t,r,n);case Qn.Identity:return e;case Qn.Unknown:return null}}function V_e(e,t,r){const{isScaleDriven:n}=e.cache;if(!(n&&r==="3d"||t))return null;const i={scale:t,view:r};let o=Bo(e.minSize,l8,i),s=Bo(e.maxSize,l8,i);if(o!=null||s!=null){if(o>s){const a=s;s=o,o=a}return{minSize:o,maxSize:s}}}function j_e(e,t,r){if(!e.visualVariables)return;const n=[],i=[],o=[],s=[],a=[];for(const l of e.visualVariables)switch(l.type){case"color":i.push(l);break;case"opacity":o.push(l);break;case"rotation":a.push(l);break;case"size":s.push(l)}return i.forEach(l=>{const c=qQ(l,t,r);n.push({variable:l,value:c})}),o.forEach(l=>{const c=WQ(l,t,r);n.push({variable:l,value:c})}),a.forEach(l=>{const c=KQ(l,t,r);n.push({variable:l,value:c})}),s.forEach(l=>{const c=UI(l,t,r);n.push({variable:l,value:c})}),n.filter(l=>l.value!=null)}function p5(e,t){if(!t)return;let r=0,n=t.length-1;return t.some((i,o)=>e<i?(n=o,!0):(r=o,!1)),[r,n,(e-t[r])/(t[n]-t[r])]}function B_e(e,t,r){const n=["proportional","proportional","proportional"];for(const i of e){const o=i.useSymbolValue?"symbol-value":UI(i,t,r);switch(i.axis){case"width":n[0]=o;break;case"depth":n[1]=o;break;case"height":n[2]=o;break;case"width-and-depth":n[0]=o,n[1]=o;break;case"all":case void 0:case null:n[0]=o,n[1]=o,n[2]=o;break;default:i.axis}}return n}const Im=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:B_e,getColor:qQ,getOpacity:WQ,getRotationAngle:KQ,getSize:UI,getSizeForValue:ZQ,getSizeFromNumberOrVariable:Bo,getSizeRangeAtScale:V_e,getVisualVariableValues:j_e,viewScaleRE:HQ},Symbol.toStringTag,{value:"Module"}));var lA;const Nm=Ce.getLogger("esri.renderers.visualVariables.SizeVariable"),rS=new Et({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),cA=new Et({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function c8(e){if(e!=null)return typeof e=="string"||typeof e=="number"?Jt(e):e.type==="size"?dg(e)?e:(delete(e={...e}).type,new Zt(e)):void 0}function u8(e,t,r){if(typeof e!="object")return e;const n=new Zt;return n.read(e,r),n}let Zt=lA=class extends A_{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:HQ.test(this.valueExpression)}}set expression(e){Nm.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){dg(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),dg(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return OQ(this)}set maxDataValue(e){e&&this.stops&&(Nm.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(Nm.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return c8(e)}readMaxSize(e,t,r){return u8(e,t,r)}set minDataValue(e){e&&this.stops&&(Nm.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(Nm.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return c8(e)}readMinSize(e,t,r){return u8(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(Nm.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return b_e(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,n){if(e==="$view.scale"){if(n&&n.messages){const i=this.index,o=typeof i=="string"?i:`visualVariables[${i}]`;n.messages.push(new Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:o+".valueExpression",context:n}))}}else t[r]=e}readValueUnit(e){return e?cA.read(e):null}clone(){return new lA({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:dg(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:dg(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===Qn.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Qn.Stops){const e=this.stops,t=e.map(n=>n.size).reverse(),r=e.length;for(let n=0;n<r;n++)e[n].size=t[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([h({readOnly:!0})],Zt.prototype,"cache",null),u([h({type:rS.apiValues,json:{type:rS.jsonValues,origins:{"web-map":{read:!1}},read:rS.read,write:rS.write}})],Zt.prototype,"axis",void 0),u([h({type:String,value:null,json:{read:!1}})],Zt.prototype,"expression",null),u([h()],Zt.prototype,"index",null),u([h({type:String,readOnly:!0})],Zt.prototype,"inputValueType",null),u([h({type:PQ,json:{write:!0}})],Zt.prototype,"legendOptions",void 0),u([h({type:Number,value:null,json:{write:!0}})],Zt.prototype,"maxDataValue",null),u([h({type:Number,value:null,json:{write:!0}})],Zt.prototype,"maxSize",null),u([zt("maxSize")],Zt.prototype,"castMaxSize",null),u([Pe("maxSize")],Zt.prototype,"readMaxSize",null),u([h({type:Number,value:null,json:{write:!0}})],Zt.prototype,"minDataValue",null),u([h({type:Number,value:null,json:{write:!0}})],Zt.prototype,"minSize",null),u([zt("minSize")],Zt.prototype,"castMinSize",null),u([Pe("minSize")],Zt.prototype,"readMinSize",null),u([h({type:String,json:{write:!0}})],Zt.prototype,"normalizationField",void 0),u([h({readOnly:!0})],Zt.prototype,"arcadeRequired",null),u([h({type:String})],Zt.prototype,"scaleBy",void 0),u([h({type:[v_e],value:null,json:{write:!0}})],Zt.prototype,"stops",null),u([h({type:["outline"],json:{write:!0}})],Zt.prototype,"target",void 0),u([h({type:String,readOnly:!0})],Zt.prototype,"transformationType",null),u([h({type:["size"],json:{type:["sizeInfo"]}})],Zt.prototype,"type",void 0),u([h({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Zt.prototype,"useSymbolValue",void 0),u([h({type:String,json:{write:!0}})],Zt.prototype,"valueExpression",void 0),u([Pe("valueExpression",["valueExpression","expression"])],Zt.prototype,"readValueExpression",null),u([Ae("web-scene","valueExpression")],Zt.prototype,"writeValueExpressionWebScene",null),u([h({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Zt.prototype,"valueRepresentation",void 0),u([h({type:cA.apiValues,json:{write:cA.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],Zt.prototype,"valueUnit",void 0),u([Pe("valueUnit")],Zt.prototype,"readValueUnit",null),Zt=lA=u([B("esri.renderers.visualVariables.SizeVariable")],Zt);const h5=Zt,U_e=Ce.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),G_e={color:MQ,size:h5,opacity:TQ,rotation:kQ},H_e=new Et({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),q_e=/^\[([^\]]+)\]$/i;let HC=class extends Ve{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter(t=>!!t))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(t=>!!t.target)&&e.sort((t,r)=>{let n=null;return n=t.target===r.target?0:t.target?1:-1,n});for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,r){const{rotationExpression:n,rotationType:i}=t,o=n&&n.match(q_e),s=o&&o[1];if(s&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:s})),e)return e.map(a=>{const l=H_e.read(a.type),c=G_e[l];c||(U_e.warn(`Unknown variable type: ${l}`),r&&r.messages&&r.messages.push(new ho("visual-variable:unsupported",`visualVariable of type '${l}' is not supported`,{definition:a,context:r})));const d=new c;return d.read(a,r),d})}writeVariables(e,t){const r=[];for(const n of e){const i=n.toJSON(t);i&&r.push(i)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};u([h()],HC.prototype,"visualVariables",null),HC=u([B("esri.renderers.visualVariables.VisualVariableFactory")],HC);const W_e=HC,K_e={base:A_,key:"type",typeMap:{opacity:TQ,color:MQ,rotation:kQ,size:h5}},Z0=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new W_e}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,n,i){return this._vvFactory.readVariables(r,n,i)}writeVisualVariables(r,n,i,o){n[i]=this._vvFactory.writeVariables(r,o)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const r of this.visualVariables)if(r.arcadeRequired)return!0;return!1}hasVisualVariables(r,n){return r?this.getVisualVariablesForType(r,n).length>0:this.getVisualVariablesForType("size",n).length>0||this.getVisualVariablesForType("color",n).length>0||this.getVisualVariablesForType("opacity",n).length>0||this.getVisualVariablesForType("rotation",n).length>0}getVisualVariablesForType(r,n){const i=this.visualVariables;return i?i.filter(o=>o.type===r&&(typeof n=="string"?o.target===n:n!==!1||!o.target)):[]}async collectVVRequiredFields(r,n){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const o of i)o&&(o.field&&fa(r,n,o.field),o.normalizationField&&fa(r,n,o.normalizationField),o.valueExpression&&await fo(r,n,o.valueExpression))}};return u([h({types:[K_e],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),u([Pe("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),u([Ae("visualVariables")],t.prototype,"writeVisualVariables",null),t=u([B("esri.renderers.mixins.VisualVariablesMixin")],t),t},Rv={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function J_e(e,t=Rv){var a,l;if(!e)return{symbol:null};const{retainId:r=Rv.retainId,ignoreDrivers:n=Rv.ignoreDrivers,hasLabelingContext:i=Rv.hasLabelingContext,retainCIM:o=Rv.retainCIM}=t;let s;if(Mc(e)||e instanceof $m)s=e.clone();else if(e.type==="cim"){const c=(l=(a=e.data)==null?void 0:a.symbol)==null?void 0:l.type;if(c!=="CIMPointSymbol")return{error:new Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${c||"unknown"}' is unsupported in 3D`,{symbol:e})};s=o?e.clone():bf.fromCIMSymbol(e)}else if(e instanceof es)s=MI.fromSimpleLineSymbol(e);else if(e instanceof jo)s=bf.fromSimpleMarkerSymbol(e);else if(e instanceof TI)s=bf.fromPictureMarkerSymbol(e);else if(e instanceof Lc)s=L_.fromSimpleFillSymbol(e);else{if(!(e instanceof H0))return{error:new Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};s=i?II.fromTextSymbol(e):bf.fromTextSymbol(e)}if(r&&s.type!=="cim"&&(s.id=e.id),n&&Mc(s))for(let c=0;c<s.symbolLayers.length;++c)s.symbolLayers.getItemAt(c)._ignoreDrivers=!0;return{symbol:s}}const Z_e=["building-scene","integrated-mesh","point-cloud","scene"];function G2(e,t,r,n){const i=YQ(e,{},{context:n,isLabelSymbol:!1});G(i)&&(t[r]=i)}function d8(e,t,r,n){const i=YQ(e,{},{context:n,isLabelSymbol:!0});G(i)&&(t[r]=i)}function p8(e){return e instanceof G0||e instanceof $m}function YQ(e,t,r){var a;if(te(e))return null;const{context:n,isLabelSymbol:i}=r,o=n==null?void 0:n.origin,s=n==null?void 0:n.messages;if(o==="web-scene"&&!p8(e)){const l=J_e(e,{retainCIM:!0,hasLabelingContext:i});return G(l.symbol)?l.symbol.write(t,n):(s==null||s.push(new Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:n,error:l.error})),null)}return(o==="web-map"||o==="portal-item"&&!Z_e.includes((a=n==null?void 0:n.layer)==null?void 0:a.type))&&p8(e)?(s==null||s.push(new Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:n})),null):e.write(t,n)}function QQ(e,t){return awe(e,null,t)}const N_={types:JY,json:{write:{writer:G2},origins:{"web-scene":{types:Bj,write:{writer:G2},read:{reader:A0({types:Bj})}}}}},XQ={types:{base:Xo,key:"type",typeMap:{"simple-fill":zf.typeMap["simple-fill"],"picture-fill":zf.typeMap["picture-fill"],"polygon-3d":zf.typeMap["polygon-3d"]}},json:{write:{writer:G2},origins:{"web-scene":{type:L_,write:{writer:G2}}}}};var uA;let kd=uA=class extends ve{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new uA({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};u([h({type:String,json:{write:!0}})],kd.prototype,"description",void 0),u([h({type:String,json:{write:!0}})],kd.prototype,"label",void 0),u([h({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],kd.prototype,"minValue",void 0),u([h({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],kd.prototype,"maxValue",void 0),u([h(N_)],kd.prototype,"symbol",void 0),kd=uA=u([B("esri.renderers.support.ClassBreakInfo")],kd);const H2=kd;var dA;const nS=Ce.getLogger("esri.renderers.ClassBreaksRenderer"),eX="log",qC="percent-of-total",WC="field",iS=new Et({esriNormalizeByLog:eX,esriNormalizeByPercentOfTotal:qC,esriNormalizeByField:WC}),Y_e=$n(H2);let Pn=dA=class extends Z0(Zu){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let n=t.minValue;return e.map(i=>{const o=new H2;return o.read(i,r),o.minValue==null&&(o.minValue=n),o.maxValue==null&&(o.maxValue=o.minValue),n=o.maxValue,o})}writeClassBreakInfos(e,t,r,n){const i=e.map(o=>o.write({},n));this._areClassBreaksConsecutive()&&i.forEach(o=>delete o.classMinValue),t[r]=i}castField(e){return e==null?e:typeof e=="function"?(nS.error(".field: field must be a string value"),null):C_(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&WC||r&&qC||null,t&&r&&nS.warn("warning: both normalizationField and normalizationTotal are set!")):e!==WC&&e!==qC||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let n=null;n=typeof e=="number"?new H2({minValue:e,maxValue:t,symbol:ZY(r)}):Y_e(X(e)),this.classBreakInfos.push(n),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let n=0;n<r;n++){const i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(te(t)||te(t.arcade))&&nS.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&(te(t)||te(t.arcade))&&(r={...r,arcade:await zu()});const n=this.getBreakIndex(e,r);return n!==-1?this.classBreakInfos[n]:null}getSymbol(e,t){if(this.valueExpression&&(te(t)||te(t.arcade)))return void nS.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(te(t)||te(t.arcade))){const i=await zu(),{arcadeUtils:o}=i;o.hasGeometryOperations(this.valueExpression)&&await o.enableGeometryOperations(),r={...r,arcade:i}}const n=this.getBreakIndex(e,r);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((n,i)=>n+i.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new dA({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:X(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:X(this.visualVariables),legendOptions:X(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),fo(e,t,this.valueExpression)];fa(e,t,this.field),fa(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:n,spatialReference:i,arcade:o}=nI(t,{});let s=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const a=o.arcadeUtils;if(!s){const c=a.createSyntaxTree(this.valueExpression);s=a.createFunction(c),this._compiledValueExpression.compiledFunction=s}this._compiledValueExpression.valueExpression=this.valueExpression;const l=a.executeFunction(s,a.createExecContext(e,a.getViewInfo({viewingMode:r,scale:n,spatialReference:i})));return this._getBreakIndexfromInfos(l)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,n=this.normalizationType;let i=parseFloat(r[t]);if(n){const o=this.normalizationTotal,s=parseFloat(r[this.normalizationField]);if(n===eX)i=Math.log(i)*Math.LOG10E;else if(n!==qC||isNaN(o)){if(n===WC&&!isNaN(s)){if(isNaN(i)||isNaN(s))return-1;i/=s}}else i=i/o*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};u([h(XQ)],Pn.prototype,"backgroundFillSymbol",void 0),u([h({type:[H2]})],Pn.prototype,"classBreakInfos",void 0),u([Pe("classBreakInfos")],Pn.prototype,"readClassBreakInfos",null),u([Ae("classBreakInfos")],Pn.prototype,"writeClassBreakInfos",null),u([h({type:String,json:{write:!0}})],Pn.prototype,"defaultLabel",void 0),u([h(N_)],Pn.prototype,"defaultSymbol",void 0),u([h({type:String,json:{write:!0}})],Pn.prototype,"field",void 0),u([zt("field")],Pn.prototype,"castField",null),u([h({type:Boolean})],Pn.prototype,"isMaxInclusive",void 0),u([h({type:Rg,json:{write:!0}})],Pn.prototype,"legendOptions",void 0),u([h({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Pn.prototype,"minValue",null),u([h({type:String,json:{write:!0}})],Pn.prototype,"normalizationField",void 0),u([h({type:Number,cast:e=>sa(e),json:{write:!0}})],Pn.prototype,"normalizationTotal",void 0),u([h({type:iS.apiValues,value:null,json:{type:iS.jsonValues,read:iS.read,write:iS.write}})],Pn.prototype,"normalizationType",null),u([nt({classBreaks:"class-breaks"})],Pn.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],Pn.prototype,"valueExpression",void 0),u([h({type:String,json:{write:!0}})],Pn.prototype,"valueExpressionTitle",void 0),Pn=dA=u([B("esri.renderers.ClassBreaksRenderer")],Pn);const tX=Pn,ik=-3;var Xd;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Xd||(Xd={}));class Uet{constructor(t,r,n){this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,r,n,i=0){this._storage.put(this._namespace+t,r,n,i)}get(t){const r=this._storage.get(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}pop(t){const r=this._storage.pop(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}updateSize(t,r,n){this._storage.updateSize(this._namespace+t,r,n)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class rX{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new Ff,this._users=new Ff}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,r,n,i){const o=this._db.get(t);if(o&&(this._size-=o.size,this._db.delete(t),o.entry!==r&&this._notifyRemove(t,o.entry,Xd.ALL)),n>this._maxSize)return void this._notifyRemove(t,r,Xd.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return void console.warn("Refusing to cache entry with invalid size "+n);const s=1+Math.max(i,ik)-ik;this._db.set(t,{entry:r,size:n,lifetime:s,lives:s}),this._size+=n,this._checkSizeLimit()}updateSize(t,r,n){const i=this._db.get(t);if(i&&i.entry===r){for(this._size-=i.size;n>this._maxSize;){const o=this._notifyRemove(t,r,Xd.SOME);if(!(G(o)&&o>0))return void this._db.delete(t);n=o}i.size=n,this._size+=n,this._checkSizeLimit()}}pop(t){const r=this._db.get(t);if(r)return this._size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}get(t){const r=this._db.get(t);if(r!==void 0)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},n=new Array;this._db.forEach((s,a)=>{const l=s.lifetime;n[l]=(n[l]||0)+s.size,this._users.forAll(c=>{const d=c.namespace;if(a.startsWith(d)){const p=r[d]||0;r[d]=p+s.size}})});const i={};this._users.forAll(s=>{const a=s.namespace;if(!isNaN(s.hitRate)&&s.hitRate>0){const l=r[a]||0;r[a]=l,i[a]=Math.round(100*s.hitRate)+"%"}else i[a]="0%"});const o=Object.keys(r);o.sort((s,a)=>r[a]-r[s]),o.forEach(s=>t[s]=Math.round(r[s]/2**20)+"MB / "+i[s]);for(let s=n.length-1;s>=0;--s){const a=n[s];a&&(t["Priority "+(s+ik-1)]=Math.round(a/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((r,n)=>{n.startsWith(t)&&(this._size-=r.size,this._db.delete(n),this._notifyRemove(n,r.entry,Xd.ALL))})}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,Xd.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,n){let i;return this._removeFuncs.some(o=>{if(t.startsWith(o[0])){const s=o[1](r,n);return typeof s=="number"&&(i=s),!0}return!1}),i}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,r]of this._db){if(this._db.delete(t),r.lives<=1){this._size-=r.size;const n=this._notifyRemove(t,r.entry,Xd.SOME);G(n)&&n>0&&(this._size+=n,r.lives=r.lifetime,r.size=n,this._db.set(t,r))}else--r.lives,this._db.set(t,r);if(this._size<=.9*this.maxSize)return}}}class Q_e{constructor(t,r){this._storage=new rX,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r,n){this._storage.put(t,r,n,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}const h8=Ce.getLogger("esri.renderers.support.DictionaryLoader"),X_e={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class f5{constructor(t,r,n){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new Q_e(100),this.url=t,this.config=r,this.fieldMap=n}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){let n;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{n=await this._dictionaryPromise}catch(y){if(Gi(y))return this._dictionaryPromise=null,null}const i={};if(this.fieldMap)for(const y of this._symbolFields){const g=this.fieldMap[y];if(g&&t.attributes[g]!=null){const v=""+t.attributes[g];i[y]=v}else i[y]=""}const o=n(i,r);if(!o||typeof o!="string")return null;const s=BN(o).toString(),a=this._symbolCache.get(s);if(a)return a.catch(()=>{this._symbolCache.pop(s)}),a;const l=o.split(";"),c=[],d=[];for(const y of l)if(y)if(y.includes("po:")){const g=y.substr(3).split("|");if(g.length===3){const v=g[0],b=g[1];let w=g[2];if(b==="DashTemplate")w=w.split(" ").map(x=>Number(x));else if(b==="Color"){const x=new ze(w).toRgba();w=[x[0],x[1],x[2],255*x[3]]}else w=Number(w);d.push({primitiveName:v,propertyName:b,value:w})}}else if(y.includes("|")){for(const g of y.split("|"))if(this._itemNames.has(g)){c.push(g);break}}else this._itemNames.has(y)&&c.push(y);const p=!G(t.geometry)||!t.geometry.hasZ&&t.geometry.type==="point",f=this._cimPartsToCIMSymbol(c,d,p,r);return this._symbolCache.put(s,f,1),f}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void h8.error("no valid URL!");const r=_r(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:G(t)?t.signal:null}),[{data:n}]=await Promise.all([r,zu()]);if(!n)throw this._dictionaryPromise=null,new Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const i=n.expression,o=n.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+n.cimRefTemplateUrl,this._itemNames=new Set(n.itemsNames),this._symbolFields=o.symbol;const s={};if(this.config){const l=this.config;for(const c in l)s[c]=l[c]}if(o.configuration)for(const l of o.configuration)s.hasOwnProperty(l.name)||(s[l.name]=l.value);const a=[];if(G(t)&&t.fields&&this.fieldMap)for(const l of this._symbolFields){const c=this.fieldMap[l],d=t.fields.filter(p=>p.name===c);d.length>0&&a.push({...d[0],name:l})}return this._dictionaryPromise=Ove(i,G(t)?t.spatialReference:null,a,s).then(l=>{const c={scale:0};return(d,p)=>{const f=l.repurposeFeature({geometry:null,attributes:d});return c.scale=G(p)?p.scale:void 0,l.evaluate({$feature:f,$view:c})}}).catch(l=>(h8.error("Creating dictinoary expression failed:",l),null)),this._dictionaryPromise}async _cimPartsToCIMSymbol(t,r,n,i){const o=new Array(t.length);for(let l=0;l<t.length;l++)o[l]=this._getSymbolPart(t[l],i);const s=await Promise.all(o),a=this.fieldMap;for(const l of s)nX(l,a);return new k_({data:this._combineSymbolParts(s,r,n)})}async _getSymbolPart(t,r){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(o=>o.data);const n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),i=_r(n,{responseType:"json",query:{f:"json"},...r});this._ongoingRequests.set(t,i);try{return(await i).data}catch(o){throw this._ongoingRequests.delete(t),o}}_combineSymbolParts(t,r,n){if(!t||t.length===0)return null;const i={...t[0]};if(t.length>1){i.symbolLayers=[];for(const o of t){const s=o;i.symbolLayers.unshift(...s.symbolLayers)}}return n&&(i.callout=X_e),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:r}}}function nX(e,t){if(!e)return;const r=e.symbolLayers;if(!r)return;let n=r.length;for(;n--;){const i=r[n];i&&i.enable!==!1&&i.type==="CIMVectorMarker"&&exe(i,t)}}function exe(e,t){const r=e.markerGraphics;if(r)for(const n of r){if(!n)continue;const i=n.symbol;if(i)switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":nX(i,t);break;case"CIMTextSymbol":i.fieldMap=t}}}const Get=Object.freeze(Object.defineProperty({__proto__:null,DictionaryLoader:f5},Symbol.toStringTag,{value:"Module"}));var pA;let Wa=pA=class extends Z0(Zu){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new f5(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,n){n!=null&&n.origin||super.writeVisualVariables(e,t,r,n)}clone(){return new pA({config:X(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:X(this.fieldMap),url:X(this.url),visualVariables:X(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await fo(e,t,this.scaleExpression);for(const r in this.fieldMap){const n=this.fieldMap[r];t.has(n)&&e.add(n)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};u([h({type:f5})],Wa.prototype,"_loader",null),u([h({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Wa.prototype,"config",void 0),u([h({type:Object,json:{write:!0}})],Wa.prototype,"fieldMap",void 0),u([h({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Wa.prototype,"scaleExpression",void 0),u([Ae("scaleExpression")],Wa.prototype,"writeData",null),u([h({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Wa.prototype,"scaleExpressionTitle",void 0),u([h({type:String,json:{write:!0}})],Wa.prototype,"url",void 0),u([Ae("visualVariables")],Wa.prototype,"writeVisualVariables",null),Wa=pA=u([B("esri.renderers.DictionaryRenderer")],Wa);const txe=Wa;var hA;const rxe=Ce.getLogger("esri.renderers.support.AttributeColorInfo");let tu=hA=class extends ve{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(rxe.error(".field: field must be a string value"),null):C_(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new hA({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([h({type:ze,json:{type:[Number],write:!0}})],tu.prototype,"color",void 0),u([h({type:String,json:{write:!0}})],tu.prototype,"field",void 0),u([zt("field")],tu.prototype,"castField",null),u([h({type:String,json:{write:!0}})],tu.prototype,"label",void 0),u([h({type:String,json:{write:!0}})],tu.prototype,"valueExpression",void 0),u([h({type:String,json:{write:!0}})],tu.prototype,"valueExpressionTitle",void 0),tu=hA=u([B("esri.renderers.support.AttributeColorInfo")],tu);const iX=tu;var fA;let KC=fA=class extends ve{constructor(){super(...arguments),this.unit=null}clone(){return new fA({unit:this.unit})}};u([h({type:String,json:{write:!0}})],KC.prototype,"unit",void 0),KC=fA=u([B("esri.renderers.support.DotDensityLegendOptions")],KC);const nxe=KC;var mA;let Oi=mA=class extends Z0(Zu){constructor(e){super(e),this.attributes=null,this.backgroundColor=new ze([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new es,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Lc({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new mA({attributes:X(this.attributes),backgroundColor:X(this.backgroundColor),dotBlendingEnabled:X(this.dotBlendingEnabled),dotShape:X(this.dotShape),dotSize:X(this.dotSize),dotValue:X(this.dotValue),legendOptions:X(this.legendOptions),outline:X(this.outline),referenceScale:X(this.referenceScale),visualVariables:X(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(e=>e.field||e.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await fo(e,t,r.valueExpression),r.field&&e.add(r.field)}};u([h({type:[iX],json:{write:!0}})],Oi.prototype,"attributes",void 0),u([h({type:ze,json:{write:!0}})],Oi.prototype,"backgroundColor",void 0),u([h({type:Boolean}),Oe("dotBlendingEnabled")],Oi.prototype,"blendDots",void 0),u([h({type:Boolean,json:{write:!0}})],Oi.prototype,"dotBlendingEnabled",void 0),u([h({type:String,json:{write:!1}})],Oi.prototype,"dotShape",void 0),u([h({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],Oi.prototype,"dotSize",void 0),u([h({type:nxe,json:{write:!0}})],Oi.prototype,"legendOptions",void 0),u([h({type:es,json:{default:null,write:!0}})],Oi.prototype,"outline",void 0),u([h({type:Number,json:{write:!0}})],Oi.prototype,"dotValue",void 0),u([h({type:Number}),Oe("dotValue")],Oi.prototype,"referenceDotValue",void 0),u([h({type:Number,json:{write:!0}})],Oi.prototype,"referenceScale",void 0),u([h({type:Number,json:{write:!0}})],Oi.prototype,"seed",void 0),u([nt({dotDensity:"dot-density"})],Oi.prototype,"type",void 0),Oi=mA=u([B("esri.renderers.DotDensityRenderer")],Oi);const ixe=Oi;var yA;let jb=yA=class extends ve{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new yA({color:this.color,ratio:this.ratio})}};u([h({type:ze,json:{type:[Ir],default:null,write:!0}})],jb.prototype,"color",void 0),u([h({type:Number,json:{write:!0}})],jb.prototype,"ratio",void 0),jb=yA=u([B("esri.renderers.support.HeatmapColorStop")],jb);const Lw=jb;let wy=class extends ts(ve){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};u([h({type:String,json:{write:!0}})],wy.prototype,"minLabel",void 0),u([h({type:String,json:{write:!0}})],wy.prototype,"maxLabel",void 0),u([h({type:String,json:{write:!0}})],wy.prototype,"title",void 0),wy=u([B("esri.renderers.support.HeatmapLegendOptions")],wy);function GI(){return[0,0,0,0]}function oxe(e){return[e[0],e[1],e[2],e[3]]}function Y0(e,t,r,n){return[e,t,r,n]}function sxe(e){const t=GI(),r=Math.min(4,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function axe(e,t){return new Float64Array(e,t,4)}function oX(){return GI()}function sX(){return Y0(1,1,1,1)}function aX(){return Y0(1,0,0,0)}function lX(){return Y0(0,1,0,0)}function cX(){return Y0(0,0,1,0)}function uX(){return Y0(0,0,0,1)}const lxe=oX(),cxe=sX(),uxe=aX(),dxe=lX(),pxe=cX(),hxe=uX();Object.freeze(Object.defineProperty({__proto__:null,create:GI,clone:oxe,fromValues:Y0,fromArray:sxe,createView:axe,zeros:oX,ones:sX,unitX:aX,unitY:lX,unitZ:cX,unitW:uX,ZEROS:lxe,ONES:cxe,UNIT_X:uxe,UNIT_Y:dxe,UNIT_Z:pxe,UNIT_W:hxe},Symbol.toStringTag,{value:"Module"}));const m5=2.4;function fxe(e){return xa(e*m5)}function mxe(e){return Ur(e)/m5}function yxe(e,t,r,n){let{color:i,ratio:o}=t,{color:s,ratio:a}=r;a===o&&(a===1?o-=1e-6:a+=1e-6);const l=Ko((n-o)/(a-o),0,1);GJ(e,i.toArray(),s.toArray(),l)}function Het(e){const r=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:a})=>a>=0&&a<=1).sort((a,l)=>a.ratio-l.ratio).map(({color:a,ratio:l})=>({color:a,ratio:Math.max(l,.001)})),e.length<1)return r;let n=e[0],i=e[0],o=1;const s=GI();for(let a=0;a<512;a++){const l=(a+.5)/512;for(;l>i.ratio&&o<e.length;)n=i,i=e[o++];yxe(s,n,i,l),r.set(s,4*a)}return r}function qet(e,t,r,n){const{radius:i,fieldOffset:o,field:s}=t,a=Math.round(Ur(i)),l=new Float64Array(r*n);let c,d=Number.NEGATIVE_INFINITY;const p=bxe(s,o),f=new Set;for(const y of e){const g=y.getCursor();for(;g.next();){const v=g.getObjectId();if(f.has(v))continue;f.add(v);const b=g.readLegacyPointGeometry(),w=128;if(b.x<-w||b.x>=r+w||b.y<-w||b.y>n+w)continue;const x=+p(g),S=Math.max(0,Math.round(b.x)-a),C=Math.max(0,Math.round(b.y)-a),$=Math.min(n,Math.round(b.y)+a),M=Math.min(r,Math.round(b.x)+a);for(let I=C;I<$;I++)for(let T=S;T<M;T++){const O=I*r+T,L=vxe(b.x-T,b.y-I,a);c=l[O]+=L*x,c>d&&(d=c)}}}return{matrix:l.buffer,max:d}}function Wet(e,t,r,n,i,o){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);const s=e.getImageData(0,0,t,t);r&&n&&s.data.set(new Uint8ClampedArray(gxe(t,r,n,i,o))),e.putImageData(s,0,0)}function gxe(e,t,r,n,i){const o=new Uint32Array(e*e),s="buffer"in t?t:new Float64Array(t),a="buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer),l=a.length/(i-n);for(let c=0;c<s.length;c++){const d=s[c],p=Math.floor((d-n)*l);o[c]=a[Ko(p,0,a.length-1)]}return o.buffer}function vxe(e,t,r){const n=Math.sqrt(e**2+t**2)/r;return n>1?0:3/(Math.PI*r**2)*(1-n**2)**2}function Ket(e,t){return typeof e=="function"?e:e?typeof t=="string"?r=>-1*+r[e]:r=>+r[e]+t:()=>1}function bxe(e,t){return e!=null?typeof t=="string"?r=>-1*+r.readAttribute(e):r=>+r.readAttribute(e)+t:r=>1}var gA;const wxe=Ce.getLogger("esri.renderers.HeatmapRenderer");function f8(e){if(e!=null){const{maxDensity:t,minDensity:r,radius:n}=e;if(t!=null||r!=null||n!=null){const{blurRadius:i,maxPixelIntensity:o,minPixelIntensity:s,...a}=e;return a}}return e}let qn=gA=class extends Zu{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new Lw({ratio:0,color:new ze("rgba(255, 140, 0, 0)")}),new Lw({ratio:.75,color:new ze("rgba(255, 140, 0, 1)")}),new Lw({ratio:.9,color:new ze("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return f8(e)}get blurRadius(){return mxe(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",fxe(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(m5**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){this._warnedProps[e]||Ui(this).getDefaultOrigin()==="user"&&(this._warnedProps[e]=!0,R0(()=>{bde(wxe,e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})}))}read(e,t){e=f8(e),super.read(e,t)}getSymbol(){const e=this.referenceScale!==0?5:1,t=Math.min(this.radius*e,xa(256));return new jo({size:t})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const r=this.field,n=this.valueExpression;r&&typeof r=="string"&&await fa(e,t,r),n&&typeof n=="string"&&await fo(e,t,n)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new gA({colorStops:X(this.colorStops),field:this.field,legendOptions:X(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([h({type:EQ,json:{write:!1}})],qn.prototype,"authoringInfo",void 0),u([h({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],qn.prototype,"blurRadius",null),u([h({type:[Lw],json:{write:!0}})],qn.prototype,"colorStops",void 0),u([h({type:String,json:{write:!0}})],qn.prototype,"field",void 0),u([h({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:r==null})},origins:{"web-scene":{write:!1}}}})],qn.prototype,"fieldOffset",void 0),u([h({type:wy,json:{write:!0}})],qn.prototype,"legendOptions",void 0),u([h({type:Number,json:{write:!0}})],qn.prototype,"maxDensity",void 0),u([h({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],qn.prototype,"maxPixelIntensity",null),u([h({type:Number,json:{write:!0}})],qn.prototype,"minDensity",void 0),u([h({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],qn.prototype,"minPixelIntensity",null),u([h({type:Number,cast:Jt,json:{write:!0}})],qn.prototype,"radius",void 0),u([h({type:Number,range:{min:0},json:{default:0,write:!0}})],qn.prototype,"referenceScale",void 0),u([nt({heatmap:"heatmap"})],qn.prototype,"type",void 0),u([h({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],qn.prototype,"valueExpression",void 0),u([h({type:String})],qn.prototype,"valueExpressionTitle",void 0),u([h({readOnly:!0})],qn.prototype,"_pixelIntensityToDensity",null),qn=gA=u([B("esri.renderers.HeatmapRenderer")],qn);const dX=qn;let af=class extends ts(ve){constructor(){super(...arguments),this.color=new ze([0,0,0,0]),this.label=null,this.threshold=0}};u([h({type:ze,json:{write:!0}})],af.prototype,"color",void 0),u([h({type:String,json:{write:!0}})],af.prototype,"label",void 0),u([h({type:Number,range:{min:0,max:1},json:{write:!0}})],af.prototype,"threshold",void 0),af=u([B("esri.renderers.support.OthersCategory")],af);let JC=class extends ts(ve){constructor(){super(...arguments),this.title=null}};u([h({type:String,json:{write:!0}})],JC.prototype,"title",void 0),JC=u([B("esri.renderers.support.PieChartLegendOptions")],JC);let ps=class extends Z0(ts(Zu)){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new ze([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new af,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var e;return new jo({size:this.size?this.size/2+(((e=this.outline)==null?void 0:e.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await fo(e,t,r.valueExpression),r.field&&e.add(r.field)}};u([h({type:[iX],json:{write:!0}})],ps.prototype,"attributes",void 0),u([h({type:Lc,json:{default:null,write:!0}})],ps.prototype,"backgroundFillSymbol",void 0),u([h({type:ze,json:{write:!0}})],ps.prototype,"defaultColor",void 0),u([h({type:String,json:{write:!0}})],ps.prototype,"defaultLabel",void 0),u([h({type:Number,range:{min:0,max:1},json:{write:!0}})],ps.prototype,"holePercentage",void 0),u([h({type:af,json:{write:!0}})],ps.prototype,"othersCategory",void 0),u([h({type:JC,json:{write:!0}})],ps.prototype,"legendOptions",void 0),u([h({type:es,json:{default:null,write:!0}})],ps.prototype,"outline",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],ps.prototype,"size",void 0),u([nt({pieChart:"pie-chart"})],ps.prototype,"type",void 0),ps=u([B("esri.renderers.PieChartRenderer")],ps);const _xe=ps;var vA;let Nh=vA=class extends Z0(Zu){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new vA({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:X(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};u([h({type:String,json:{write:!0}})],Nh.prototype,"description",void 0),u([h({type:String,json:{write:!0}})],Nh.prototype,"label",void 0),u([h(N_)],Nh.prototype,"symbol",void 0),u([nt({simple:"simple"})],Nh.prototype,"type",void 0),Nh=vA=u([B("esri.renderers.SimpleRenderer")],Nh);const y5=Nh,xxe=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function bA(e){return e instanceof Ve}function m8(e){return e instanceof We?Object.keys(e.items):bA(e)?Ui(e).keys():e?Object.keys(e):[]}function oS(e,t){return e instanceof We?e.items[t]:e[t]}function Sxe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Rw(e){return e?e.declaredClass:null}function pX(e,t){const r=e.diff;if(r&&typeof r=="function")return r(e,t);const n=m8(e),i=m8(t);if(n.length===0&&i.length===0)return;if(!n.length||!i.length||Sxe(e,t))return{type:"complete",oldValue:e,newValue:t};const o=i.filter(p=>!n.includes(p)),s=n.filter(p=>!i.includes(p)),a=n.filter(p=>i.includes(p)&&oS(e,p)!==oS(t,p)).concat(o,s).sort(),l=Rw(e);if(l&&xxe.includes(l)&&a.length)return{type:"complete",oldValue:e,newValue:t};let c;const d=bA(e)&&bA(t);for(const p of a){const f=oS(e,p),y=oS(t,p);let g;if((d||typeof f!="function"&&typeof y!="function")&&f!==y&&(f!=null||y!=null)){if(r&&r[p]&&typeof r[p]=="function")g=r[p](f,y);else if(f instanceof Date&&y instanceof Date){if(f.getTime()===y.getTime())continue;g={type:"complete",oldValue:f,newValue:y}}else g=typeof f=="object"&&typeof y=="object"&&Rw(f)===Rw(y)?pX(f,y):{type:"complete",oldValue:f,newValue:y};G(g)&&(G(c)?c.diff[p]=g:c={type:"partial",diff:{[p]:g}})}}return c}function Cxe(e,t){if(te(e))return!1;const r=t.split(".");let n=e;for(const i of r){if(n.type==="complete")return!0;if(n.type!=="partial")return!1;{const o=n.diff[i];if(!o)return!1;n=o}}return!0}function Jet(e,t){for(const r of t)if(Cxe(e,r))return!0;return!1}function $xe(e,t){if(!(typeof e=="function"||typeof t=="function"||te(e)&&te(t)))return te(e)||te(t)||typeof e=="object"&&typeof t=="object"&&Rw(e)!==Rw(t)?{type:"complete",oldValue:e,newValue:t}:pX(e,t)}var wA;let Pd=wA=class extends ve{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(e){return e==null||typeof e=="string"||typeof e=="number"?e:`${e}`}clone(){return new wA({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};u([h({type:String,json:{write:!0}})],Pd.prototype,"description",void 0),u([h({type:String,json:{write:!0}})],Pd.prototype,"label",void 0),u([h(N_)],Pd.prototype,"symbol",void 0),u([h({json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}})],Pd.prototype,"value",void 0),u([zt("value")],Pd.prototype,"castValue",null),Pd=wA=u([B("esri.renderers.support.UniqueValueInfo")],Pd);const q2=Pd,Exe=()=>!!oe("enable-feature:force-wosr"),ok={};async function Ixe(e,t){try{return{data:(await g5(e,t)).data,baseUrl:aD(e),styleUrl:e}}catch(r){return S_(r),null}}function Mxe(e,t,r){const n=G(t.portal)?t.portal:di.getDefault();let i;const o=`${n.url} - ${n.user&&n.user.username} - ${e}`;return ok[o]||(ok[o]=Txe(e,n,r).then(s=>(i=s,s.fetchData())).then(s=>({data:s,baseUrl:i.itemUrl,styleName:e}))),ok[o]}function Txe(e,t,r){return t.load(r).then(()=>{const n=new Su({disableExtraQuery:!0,query:`owner:${y8} AND type:${g8} AND typekeywords:"${e}"`});return t.queryItems(n,r)}).then(({results:n})=>{let i=null;const o=e.toLowerCase();if(n&&Array.isArray(n)){for(const s of n)if(s.typeKeywords.some(a=>a.toLowerCase()===o)&&s.type===g8&&s.owner===y8){i=s;break}}if(!i)throw new Z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return i.load(r)})}function hX(e,t,r){return e.styleUrl?Ixe(e.styleUrl,r):e.styleName?Mxe(e.styleName,t,r):Promise.reject(new Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function fX(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function kxe(e,t){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!Exe()){for(const r of e.formatInfos)if(r.type==="gltf")return r.href}return e.webRef}function g5(e,t){const r={responseType:"json",query:{f:"json"},...t};return _r(ha(e),r)}const y8="esri_en",g8="Style",Pxe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var Bb;const ah=Ce.getLogger("esri.renderers.UniqueValueRenderer"),Oxe=$n(q2);let en=Bb=class extends Z0(Zu){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let n=!1;const i={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let o=0;o<r.length;o++){const s=t.find(a=>a.value===r[o].value);s?$xe(s,r[o])?(i.changed.push({type:"complete",oldValue:s,newValue:r[o]}),n=!0):i.unchanged.push({oldValue:s,newValue:r[o]}):(i.added.push(r[o]),n=!0)}for(let o=0;o<t.length;o++)r.find(s=>s.value===t[o].value)||(i.removed.push(t[o]),n=!0);return n?i:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return e==null||typeof e=="function"?e:C_(e)}writeField(e,t,r,n){typeof e=="string"?t[r]=e:n&&n.messages?n.messages.push(new Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):ah.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,r){return r.portal||di.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const n=Up(t.styleUrl,r);return Object.freeze({styleUrl:n})}}writeStyleOrigin(e,t,r,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=P_(e.styleUrl,n))}set uniqueValueInfos(e){this.styleOrigin?ah.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void ah.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?Oxe(e):new q2({value:e,symbol:ZY(t)}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r}removeUniqueValueInfo(e){if(this.styleOrigin)ah.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&(te(t)||te(t.arcade))&&(r={...r,arcade:await zu()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&(te(t)||te(t.arcade)))return void ah.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(te(r)||te(r.arcade))){const i=await zu(),{arcadeUtils:o}=i;o.hasGeometryOperations(this.valueExpression)&&await o.enableGeometryOperations(),r={...r,arcade:i}}const n=this._getUniqueValueInfo(e,r);return n&&n.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((e,t)=>e+t.getMeshHash(),"")}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new Bb({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:X(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:X(this.visualVariables),legendOptions:X(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:X(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=X(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(X(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),fo(e,t,this.valueExpression)];fa(e,t,this.field),fa(e,t,this.field2),fa(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return hX(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const n=new $m({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=n,this._isDefaultSymbolDerived=!0);const i=new q2({value:r.name,symbol:n});t.push(i),this._valueInfoMap[r.name]=i}),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(e=>this._valueInfoMap[e.value+""]=e)}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:n,spatialReference:i,arcade:o}=nI(t,{});let s=this._cache.compiledFunc;const a=o.arcadeUtils;if(!s){const c=a.createSyntaxTree(this.valueExpression);s=a.createFunction(c),this._cache.compiledFunc=s}const l=a.executeFunction(s,a.createExecContext(e,a.getViewInfo({viewingMode:r,scale:n,spatialReference:i})));return this._valueInfoMap[l+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let n;if(typeof t!="function"&&this.field2){const i=this.field2,o=this.field3,s=[];t&&s.push(r[t]),i&&s.push(r[i]),o&&s.push(r[o]),n=s.join(this.fieldDelimiter||"")}else typeof t=="function"?n=t(e):t&&(n=r[t]);return this._valueInfoMap[n+""]}static fromPortalStyle(e,t){const r=new Bb(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||di.getDefault());const n=r.populateFromStyle();return n.catch(i=>{ah.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",i)}),n}static fromStyleUrl(e,t){const r=new Bb(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const n=r.populateFromStyle();return n.catch(i=>{ah.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",i)}),n}};u([h({readOnly:!0})],en.prototype,"_cache",null),u([nt({uniqueValue:"unique-value"})],en.prototype,"type",void 0),u([h(XQ)],en.prototype,"backgroundFillSymbol",void 0),u([h({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],en.prototype,"field",void 0),u([zt("field")],en.prototype,"castField",null),u([Ae("field")],en.prototype,"writeField",null),u([h({type:String,json:{write:!0}})],en.prototype,"field2",void 0),u([h({type:String,json:{write:!0}})],en.prototype,"field3",void 0),u([h({type:String,json:{write:!0}})],en.prototype,"valueExpression",void 0),u([h({type:String,json:{write:!0}})],en.prototype,"valueExpressionTitle",void 0),u([h({type:Rg,json:{write:!0}})],en.prototype,"legendOptions",void 0),u([h({type:String,json:{write:!0}})],en.prototype,"defaultLabel",void 0),u([h(eK({...N_},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],en.prototype,"defaultSymbol",null),u([h({type:String,json:{write:!0}})],en.prototype,"fieldDelimiter",void 0),u([h({type:di,readOnly:!0})],en.prototype,"portal",void 0),u([Pe("portal",["styleName"])],en.prototype,"readPortal",null),u([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],en.prototype,"styleOrigin",void 0),u([Pe("styleOrigin",["styleName","styleUrl"])],en.prototype,"readStyleOrigin",null),u([Ae("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],en.prototype,"writeStyleOrigin",null),u([h({type:[q2],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],en.prototype,"uniqueValueInfos",null),en=Bb=u([B("esri.renderers.UniqueValueRenderer")],en);const v5=en,D_={key:"type",base:Zu,typeMap:{heatmap:dX,simple:y5,"unique-value":v5,"class-breaks":tX,"dot-density":ixe,dictionary:txe,"pie-chart":_xe},errorContext:"renderer"},mX={key:"type",base:Zu,typeMap:{simple:y5,"unique-value":v5,"class-breaks":tX,heatmap:dX},errorContext:"renderer"};function Lxe(e,t){return yX(e,null,t)}const Rxe=A0({types:D_});function yX(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r&&r.messages&&r.messages.push(new ho("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):Rxe(e,t,r):null}function Axe(e){return te(e)||e.type==="simple"||e.type==="unique-value"||e.type==="class-breaks"||e.type==="dictionary"||e.type==="heatmap"}function Fxe(e){return typeof e=="function"}function Zet(e,t,r,n){return Fxe(e)?e(t,r,n):e}function Yet(e){return[e.r,e.g,e.b,e.a]}function Qet(e,t,r){const n=` /-,
`,i=l=>{let c=l.length;for(;c--;)if(!n.includes(l.charAt(c)))return!1;return!0},o=[];let s=0,a=-1;do if(a=t.indexOf("[",s),a>=s){if(a>s){const l=t.substr(s,a-s);o.push([l,null,i(l)])}if(s=a+1,a=t.indexOf("]",s),a>=s){if(a>s){const l=e[t.substr(s,a-s)];l&&o.push([null,l,!1])}s=a+1}}while(a!==-1);if(s<t.length-1){const l=t.substr(s);o.push([l,null,i(l)])}return l=>{let c="",d=null;for(const p of o){const[f,y,g]=p;if(f)g?d=f:(d&&(c+=d,d=null),c+=f);else{const v=l.attributes[y];v&&(d&&(c+=d,d=null),c+=v)}}return Nxe(c,r)}}function Nxe(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function Xet(e,t,r,n,i,o,s=!0){const a=t/i,l=r/o,c=Math.ceil(a/2),d=Math.ceil(l/2);for(let p=0;p<o;p++)for(let f=0;f<i;f++){const y=4*(f+(s?o-p-1:p)*i);let g=0,v=0,b=0,w=0,x=0,S=0,C=0;const $=(p+.5)*l;for(let M=Math.floor(p*l);M<(p+1)*l;M++){const I=Math.abs($-(M+.5))/d,T=(f+.5)*a,O=I*I;for(let L=Math.floor(f*a);L<(f+1)*a;L++){let N=Math.abs(T-(L+.5))/c;const H=Math.sqrt(O+N*N);H>=-1&&H<=1&&(g=2*H*H*H-3*H*H+1,g>0&&(N=4*(L+M*t),C+=g*e[N+3],b+=g,e[N+3]<255&&(g=g*e[N+3]/250),w+=g*e[N],x+=g*e[N+1],S+=g*e[N+2],v+=g))}}n[y]=w/v,n[y+1]=x/v,n[y+2]=S/v,n[y+3]=C/b}}function Dxe(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function HI(e){var t;return(t=e.data)==null?void 0:t.symbol}function W2(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function K2(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function gX(e){return e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill"}function J2(e){return e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices"}const ett=e=>isNaN(e)||!e?0:e,ttt=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":return!0}return!1};function rtt(){return ae(()=>import("./geometryEngineJSON.ba1441a3.js"),["geometryEngineJSON.ba1441a3.js","geometryEngineBase.0f0d7ecf.js","geometryEngineJSON.5a1f200e.js","json.8bd707cf.js"],import.meta.url)}function zxe(e){const t=HI(e);if(t.type==="CIMTextSymbol")return t.height;let r=0;if(t.symbolLayers)for(const n of t.symbolLayers)W2(n)&&n.size>r?r=n.size:K2(n)&&n.width>r?r=n.width:gX(n);return r}function ntt(e,t,r){const n=HI(e),i=zxe(e);if(i===0)return void Vxe(n,t);b5(n,t/i,!1,r)}function Vxe(e,t){if(e.type!=="CIMTextSymbol"){if(e.symbolLayers)for(const r of e.symbolLayers)switch(r.type){case"CIMPictureMarker":case"CIMVectorMarker":r.size=t;break;case"CIMPictureStroke":case"CIMSolidStroke":r.width=t}}else e.height=t}function b5(e,t,r,n){if(e.type!=="CIMTextSymbol"){if(r&&e.effects)for(const i of e.effects)Uxe(i,t);if(e.symbolLayers)for(const i of e.symbolLayers)switch(i.type){case"CIMPictureMarker":case"CIMVectorMarker":jxe(i,t,n);break;case"CIMPictureStroke":case"CIMSolidStroke":!(n!=null&&n.preserveOutlineWidth)&&i.width&&(i.width*=t);break;case"CIMPictureFill":i.height&&(i.height*=t),i.offsetX&&(i.offsetX*=t),i.offsetY&&(i.offsetY*=t);break;case"CIMHatchFill":b5(i.lineSymbol,t,!0,{...n,preserveOutlineWidth:!1}),i.offsetX&&(i.offsetX*=t),i.offsetY&&(i.offsetY*=t),i.separation&&(i.separation*=t)}}else e.height*=t}function jxe(e,t,r){if(e.markerPlacement&&Bxe(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&e.anchorPointUnits==="Absolute"&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size*=t,e.type==="CIMVectorMarker"&&e.markerGraphics)for(const n of e.markerGraphics)e.scaleSymbolsProportionally||b5(n.symbol,t,!0,r)}function Bxe(e,t){switch(J2(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const r=e.placementTemplate.map(n=>n*t);e.placementTemplate=r}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const r=e.placementTemplate.map(n=>n*t);e.placementTemplate=r}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}function Uxe(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const r=e.dashTemplate.map(n=>n*t);e.dashTemplate=r}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function Gxe(e){const t=[];return _A(HI(e),t),t.length?new ze(Dxe(t[0])):null}function _A(e,t){let r;r=e.type==="CIMTextSymbol"?e.symbol:e;const n=e.type==="CIMPolygonSymbol";if(r.symbolLayers){for(const i of r.symbolLayers)if(!(i.colorLocked||n&&(K2(i)||W2(i)&&i.markerPlacement&&J2(i.markerPlacement))))switch(i.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":i.tintColor&&v8(t,i.tintColor);break;case"CIMVectorMarker":i.markerGraphics.forEach(o=>{_A(o.symbol,t)});break;case"CIMSolidStroke":case"CIMSolidFill":v8(t,i.color);break;case"CIMHatchFill":_A(i.lineSymbol,t)}}}function v8(e,t){for(const r of e)if(r.join(".")===t.join("."))return;e.push(t)}function vX(e,t,r){t instanceof ze||(t=new ze(t));const n=HI(e);n&&xA(n,t,r)}function xA(e,t,r){let n;n=e.type==="CIMTextSymbol"?e.symbol:e;const i=n.type==="CIMPolygonSymbol";if(n.symbolLayers)for(const o of n.symbolLayers){if(o.colorLocked)continue;if(i){if(r){const{layersToColor:a}=r;if((K2(o)||W2(o)&&o.markerPlacement&&J2(o.markerPlacement))&&a==="fill"||gX(o)&&a==="outline")continue}else if(K2(o)||W2(o)&&o.markerPlacement&&J2(o.markerPlacement))continue}const s=t.toArray();switch(o.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":o.tintColor=s;break;case"CIMVectorMarker":o.markerGraphics.forEach(a=>{xA(a.symbol,t,r)});break;case"CIMSolidStroke":case"CIMSolidFill":o.color=s;break;case"CIMHatchFill":xA(o.lineSymbol,t,r)}}}var zn;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(zn||(zn={}));const SA={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function Hxe(e,t,r){const n=zn.size;let i=n,o=n;e<1?i*=.75:e>1&&(o*=1.25);const s=0,a=0;let l=n,c=n;return t&&r&&(i=o=l=c=0),[{type:"path",path:[{command:"M",values:[l,s]},{command:"L",values:[r?l:.875*l,s]},{command:"L",values:[r?i-.5*l:a,o-.5*c]},{command:"L",values:[i-.5*l,o-.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[l,s]},{command:"L",values:[l,t?s:.125*c]},{command:"L",values:[i-.5*l,t?o-.5*c:c]},{command:"L",values:[i-.5*l,o-.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[i-.5*l,o-.5*c]},{command:"L",values:[r?i-.5*l:a,o-.5*c]},{command:"L",values:[r?i-.5*l:a,t?o-.5*c:c]},{command:"L",values:[i-.5*l,t?o-.5*c:c]},{command:"Z",values:[]}]}]}function qxe(e){const t=zn.size,r=.5*e,n=0,i=0;return[{type:"path",path:[{command:"M",values:[i,.7*t*.5]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+r]},{command:"L",values:[i,.7*t+r-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+r]},{command:"L",values:[t,r]},{command:"L",values:[t,n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,n]},{command:"L",values:[t,n]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[i,.7*t*.5]},{command:"Z",values:[]}]}]}function Wxe(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function Kxe(e,t){let r=t?zn.tallSymbolWidth:e;const n=e,i=t?4:6;r<=zn.size?r-=.5*i:r-=i;const o=0,s=0,a=t?.35*r:.5*r;return[{type:"path",path:[{command:"M",values:[.5*r,o]},{command:"L",values:[r,.5*a]},{command:"L",values:[.5*r,a]},{command:"L",values:[s,.5*a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[o,.5*a]},{command:"L",values:[.5*r,a]},{command:"L",values:[.5*r,n]},{command:"L",values:[s,n-.5*a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*r,a]},{command:"L",values:[.5*r,n]},{command:"L",values:[r,n-.5*a]},{command:"L",values:[r,.5*a]},{command:"Z",values:[]}]}]}function Jxe(e,t){let r=t?zn.tallSymbolWidth:e;const n=e,i=t?4:6;r<=zn.size?r-=.5*i:r-=i;const o=.5*r,s=.15*r,a=0,l=n-s;return[{type:"ellipse",cx:.5*r,cy:l,rx:o,ry:s},{type:"path",path:[{command:"M",values:[a,s]},{command:"L",values:[a,l]},{command:"L",values:[r,l]},{command:"L",values:[r,s]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*r,cy:s,rx:o,ry:s}]}function Zxe(e,t){let r=t?zn.tallSymbolWidth:e;const n=e,i=t?4:6;r<=zn.size?r-=.5*i:r-=i;const o=.15*r,s=n-o;return[{type:"ellipse",cx:.5*r,cy:s,rx:.5*r,ry:o},{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,s]},{command:"L",values:[0,s]},{command:"Z",values:[]}]}]}function Yxe(e){let t=e;const r=e,n=6;t<zn.size?t-=.5*n:t-=n;const i=.15*t,o=0;return[{type:"path",path:[{command:"M",values:[0,o]},{command:"L",values:[t,o]},{command:"L",values:[.5*t,r-i]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:o,rx:.5*t,ry:i}]}function Qxe(e){let t=e;const r=e,n=4;t<zn.size?t-=.5*n:t-=n;const i=0,o=0,s=t,a=r,l=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*s,i]},{command:"L",values:[s,.5*a-l]},{command:"L",values:[.45*s-l,.5*a+l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*s,i]},{command:"L",values:[.45*s-l,.5*a+l]},{command:"L",values:[o,.5*a-l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[o,.5*a-l]},{command:"L",values:[.45*s-l,.5*a+l]},{command:"L",values:[.45*s,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*s,r]},{command:"L",values:[s,.5*a-l]},{command:"L",values:[.45*s-l,.5*a+l]},{command:"Z",values:[]}]}]}function Xxe(e){const t=e,r=2;let n=e;n<zn.size?n-=.5*r:n-=r;const i=0,o=0;return[{type:"path",path:[{command:"M",values:[.45*t,i]},{command:"L",values:[t,n]},{command:"L",values:[.45*t,.6*n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*t,i]},{command:"L",values:[.45*t,.6*n]},{command:"L",values:[o,n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[o,n]},{command:"L",values:[.45*t,.6*n]},{command:"L",values:[t,n]},{command:"Z",values:[]}]}]}function Pp(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function itt(e,t){if("type"in e&&(e.type==="linear"||e.type==="pattern"))return e;const r=new ze(e);return new ze([Pp(r.r,t),Pp(r.g,t),Pp(r.b,t),r.a])}function eSe(e){return"r"in e&&"g"in e&&"b"in e}function bX(e){return"h"in e&&"s"in e&&"v"in e}function wX(e){return"l"in e&&"a"in e&&"b"in e}function _X(e){return"l"in e&&"c"in e&&"h"in e}function tSe(e){return"x"in e&&"y"in e&&"z"in e}const rSe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],nSe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function xX(e,t){const r=[];let n,i;if(e[0].length!==t.length)throw"dimensions do not match";const o=e.length,s=e[0].length;let a=0;for(n=0;n<o;n++){for(a=0,i=0;i<s;i++)a+=e[n][i]*t[i];r.push(a)}return r}function SX(e){const t=[e.r/255,e.g/255,e.b/255].map(n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4),r=xX(rSe,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function w5(e){const t=xX(nSe,[e.x/100,e.y/100,e.z/100]).map(r=>{const n=r<=.0031308?12.92*r:1.055*r**.4166666666666667-.055;return Math.min(1,Math.max(n,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function CX(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(r=>r>.008856451679035631?r**.3333333333333333:7.787037037037035*r+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function $X(e){const t=e.l,r=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(n=>n>6/29?n**3:3*(6/29)**2*(n-4/29));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function iSe(e){const t=e.l,r=e.a,n=e.b,i=Math.sqrt(r*r+n*n);let o=Math.atan2(n,r);return o=o>0?o:o+2*Math.PI,{l:t,c:i,h:o}}function oSe(e){const t=e.l,r=e.c,n=e.h;return{l:t,a:r*Math.cos(n),b:r*Math.sin(n)}}function sSe(e){return CX(SX(e))}function aSe(e){return w5($X(e))}function lSe(e){return iSe(CX(SX(e)))}function cSe(e){return w5($X(oSe(e)))}function uSe(e){const t=e.r,r=e.g,n=e.b,i=Math.max(t,r,n),o=i-Math.min(t,r,n);let s=i,a=o===0?0:i===t?(r-n)/o%6:i===r?(n-t)/o+2:(t-r)/o+4,l=o===0?0:o/s;return a<0&&(a+=6),a*=60,l*=100,s*=100/255,{h:a,s:l,v:s}}function dSe(e){const t=(e.h+360)%360/60,r=e.s/100,n=e.v/100*255,i=n*r,o=i*(1-Math.abs(t%2-1));let s;switch(Math.floor(t)){case 0:s={r:i,g:o,b:0};break;case 1:s={r:o,g:i,b:0};break;case 2:s={r:0,g:i,b:o};break;case 3:s={r:0,g:o,b:i};break;case 4:s={r:o,g:0,b:i};break;case 5:case 6:s={r:i,g:0,b:o};break;default:s={r:0,g:0,b:0}}return s.r=Math.round(s.r+n-i),s.g=Math.round(s.g+n-i),s.b=Math.round(s.b+n-i),s}function z_(e){return eSe(e)?e:_X(e)?cSe(e):wX(e)?aSe(e):tSe(e)?w5(e):bX(e)?dSe(e):e}function _5(e){return bX(e)?e:uSe(z_(e))}function ott(e){return wX(e)?e:sSe(z_(e))}function stt(e){return _X(e)?e:lSe(z_(e))}function Z2(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function pSe(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function hSe(e,t,r,n,i,o){const s=new Float32Array(6);return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=i,s[5]=o,s}function fSe(e,t){return new Float32Array(e,t,6)}function EX(e,t,r,n){const i=t[n],o=t[n+1];e[n]=r[0]*i+r[2]*o+r[4],e[n+1]=r[1]*i+r[3]*o+r[5]}function mSe(e,t,r,n=0,i=0,o=2){const s=i||t.length/o;for(let a=n;a<s;a++)EX(e,t,r,a*o)}Object.freeze(Object.defineProperty({__proto__:null,create:Z2,clone:pSe,fromValues:hSe,createView:fSe,transform:EX,transformMany:mSe},Symbol.toStringTag,{value:"Module"}));function ySe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function qI(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function gSe(e,t,r,n,i,o,s){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=s,e}function x5(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5];let l=r*o-n*i;return l?(l=1/l,e[0]=o*l,e[1]=-n*l,e[2]=-i*l,e[3]=r*l,e[4]=(i*a-o*s)*l,e[5]=(n*s-r*a)*l,e):null}function vSe(e){return e[0]*e[3]-e[1]*e[2]}function lf(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=r[0],d=r[1],p=r[2],f=r[3],y=r[4],g=r[5];return e[0]=n*c+o*d,e[1]=i*c+s*d,e[2]=n*p+o*f,e[3]=i*p+s*f,e[4]=n*y+o*g+a,e[5]=i*y+s*g+l,e}function V_(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=Math.sin(r),d=Math.cos(r);return e[0]=n*d+o*c,e[1]=i*d+s*c,e[2]=n*-c+o*d,e[3]=i*-c+s*d,e[4]=a,e[5]=l,e}function WI(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=r[0],d=r[1];return e[0]=n*c,e[1]=i*c,e[2]=o*d,e[3]=s*d,e[4]=a,e[5]=l,e}function p0(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=s,e[4]=n*c+o*d+a,e[5]=i*c+s*d+l,e}function IX(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function MX(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function S5(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function bSe(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function wSe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function _Se(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function TX(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function xSe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function SSe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function CSe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function $Se(e,t){const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=t[0],c=t[1],d=t[2],p=t[3],f=t[4],y=t[5];return Math.abs(r-l)<=pt*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-c)<=pt*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-d)<=pt*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=pt*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-f)<=pt*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-y)<=pt*Math.max(1,Math.abs(a),Math.abs(y))}const ESe=lf,ISe=TX;Object.freeze(Object.defineProperty({__proto__:null,copy:ySe,identity:qI,set:gSe,invert:x5,determinant:vSe,multiply:lf,rotate:V_,scale:WI,translate:p0,fromRotation:IX,fromScaling:MX,fromTranslation:S5,str:bSe,frob:wSe,add:_Se,subtract:TX,multiplyScalar:xSe,multiplyScalarAndAdd:SSe,exactEquals:CSe,equals:$Se,mul:ESe,sub:ISe},Symbol.toStringTag,{value:"Module"}));var MSe=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},kX=function(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?kX(i,t):i!=null&&i!==!1&&(i.hasOwnProperty("vnodeSelector")||(i=MSe(i)),t.push(i))}},TSe=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return kX(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function V(e,t,...r){return typeof e!="function"||VD(e)?TSe(e,t,...r):e(t,...r)}const kSe="http://www.w3.org/2000/svg";let PSe=0,OSe=0;const b8=oe("android"),LSe=oe("chrome")||b8&&b8>=4?"auto":"optimizeLegibility",RSe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},ASe=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let Rn={},nr={};const w8={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},FSe=Math.PI;let NSe=1;function hg(e,t){const r=e*(FSe/180);return Math.abs(t*Math.sin(r))+Math.abs(t*Math.cos(r))}function PX(e){return e.map(t=>`${t.command} ${t.values.join(" ")}`).join(" ").trim()}function C5(e,t,r,n){if(e){if(e.type==="circle")return V("circle",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-dashoffset":r.dashOffset,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,r:e.r});if(e.type==="ellipse")return V("ellipse",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry});if(e.type==="rect")return V("rect",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",x:e.x,y:e.y,width:e.width,height:e.height});if(e.type==="image")return V("image",{href:e.src,x:e.x,y:e.y,width:e.width,height:e.height,preserveAspectRatio:"none"});if(e.type==="path"){const i=typeof e.path!="string"?PX(e.path):e.path;return V("path",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",d:i})}if(e.type==="text")return V("text",{"alignment-baseline":n.alignBaseline,fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4","text-anchor":n.align,"text-decoration":n.decoration,kerning:n.kerning,rotate:n.rotate,"text-rendering":LSe,"font-style":n.font.style,"font-variant":n.font.variant,"font-weight":n.font.weight,"font-size":n.font.size,"font-family":n.font.family,x:e.x,y:e.y},e.text)}return null}function $5(e){const t={fill:"none",pattern:null,linearGradient:null};if(e){if("type"in e&&e.type==="pattern"){const r="patternId-"+ ++PSe;t.fill=`url(#${r})`,t.pattern={id:r,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if("type"in e&&e.type==="linear"){const r="linearGradientId-"+ ++OSe;t.fill=`url(#${r})`,t.linearGradient={id:r,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map(n=>({offset:n.offset,color:n.color&&new ze(n.color).toString()}))}}else if(e){const r=new ze(e);t.fill=r.toString()}}return t}function E5(e){const t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};if(e&&(e.width!=null&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new ze(e.color).toString()),e.dashArray&&(t.dashArray=e.dashArray),e.dashArray&&(t.dashOffset=e.dashoffset),e.style)){let r=null;if(e.style in w8&&(r=w8[e.style]),Array.isArray(r)){r=r.slice(0);for(let n=0;n<r.length;++n)r[n]*=e.width;if(e.cap!=="butt"){for(let n=0;n<r.length;n+=2)r[n]-=e.width,r[n]<1&&(r[n]=1);for(let n=1;n<r.length;n+=2)r[n]+=e.width}r=r.join(",")}t.dashArray=r}return t}function OX(e,t){const r={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return e&&(r.align=e.align,r.alignBaseline=e.alignBaseline,r.decoration=e.decoration,r.kerning=e.kerning?"auto":"0",r.rotate=e.rotated?"90":"0",r.font.style=t.style||"normal",r.font.variant=t.variant||"normal",r.font.weight=t.weight||"normal",r.font.size=t.size&&t.size.toString()||"10pt",r.font.family=t.family||"serif"),r}function LX(e){const{pattern:t,linearGradient:r}=e;if(t)return V("pattern",{id:t.id,patternUnits:"userSpaceOnUse",x:t.x,y:t.y,width:t.width,height:t.height},V("image",{x:t.image.x,y:t.image.y,width:t.image.width,height:t.image.height,href:t.image.href}));if(r){const n=r.stops.map((i,o)=>V("stop",{key:`${o}-stop`,offset:i.offset,"stop-color":i.color}));return V("linearGradient",{id:r.id,gradientUnits:"userSpaceOnUse",x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n)}return null}function DSe(e,t){if(!e)return null;const r=[];for(const n of e){const{shape:i,fill:o,stroke:s,font:a}=n,l=$5(o),c=E5(s),d=i.type==="text"?OX(i,a):null;r.push(C5(i,l.fill,c,d))}return V("mask",{id:t,maskUnits:"userSpaceOnUse"},V("g",null,r))}function _8(e,t,r){return p0(e,qI(e),[t,r])}function x8(e,t,r,n,i){return WI(e,qI(e),[t,r]),e[4]=e[4]*t-n*t+n,e[5]=e[5]*r-i*r+i,e}function zSe(e,t,r,n){const i=t%360*Math.PI/180;V_(e,qI(e),i);const o=Math.cos(i),s=Math.sin(i),a=e[4],l=e[5];return e[4]=a*o-l*s+n*s-r*o+r,e[5]=l*o+a*s-r*s-n*o+n,e}function Ki(e,t){Rn&&"left"in Rn?(Rn.left>e&&(Rn.left=e),Rn.right<e&&(Rn.right=e),Rn.top>t&&(Rn.top=t),Rn.bottom<t&&(Rn.bottom=t)):Rn={left:e,bottom:t,right:e,top:t}}function S8(e){const t=e.args,r=t.length;let n;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(n=0;n<r;n+=2)Ki(t[n],t[n+1]);nr.x=t[r-2],nr.y=t[r-1];break;case"H":for(n=0;n<r;++n)Ki(t[n],nr.y);nr.x=t[r-1];break;case"V":for(n=0;n<r;++n)Ki(nr.x,t[n]);nr.y=t[r-1];break;case"m":{let i=0;for(("x"in nr)||(Ki(nr.x=t[0],nr.y=t[1]),i=2),n=i;n<r;n+=2)Ki(nr.x+=t[n],nr.y+=t[n+1]);break}case"l":case"t":for(n=0;n<r;n+=2)Ki(nr.x+=t[n],nr.y+=t[n+1]);break;case"h":for(n=0;n<r;++n)Ki(nr.x+=t[n],nr.y);break;case"v":for(n=0;n<r;++n)Ki(nr.x,nr.y+=t[n]);break;case"c":for(n=0;n<r;n+=6)Ki(nr.x+t[n],nr.y+t[n+1]),Ki(nr.x+t[n+2],nr.y+t[n+3]),Ki(nr.x+=t[n+4],nr.y+=t[n+5]);break;case"s":case"q":for(n=0;n<r;n+=4)Ki(nr.x+t[n],nr.y+t[n+1]),Ki(nr.x+=t[n+2],nr.y+=t[n+3]);break;case"A":for(n=0;n<r;n+=7)Ki(t[n+5],t[n+6]);nr.x=t[r-2],nr.y=t[r-1];break;case"a":for(n=0;n<r;n+=7)Ki(nr.x+=t[n+5],nr.y+=t[n+6])}}function C8(e,t,r){const n=RSe[e.toLowerCase()];let i;typeof n=="number"&&(n?t.length>=n&&(i={action:e,args:t.slice(0,t.length-t.length%n)},r.push(i),S8(i)):(i={action:e,args:[]},r.push(i),S8(i)))}function VSe(e){const t=(typeof e.path!="string"?PX(e.path):e.path).match(ASe),r=[];if(Rn={},nr={},!t)return null;let n="",i=[];const o=t.length;for(let a=0;a<o;++a){const l=t[a],c=parseFloat(l);isNaN(c)?(n&&C8(n,i,r),i=[],n=l):i.push(c)}C8(n,i,r);const s={x:0,y:0,width:0,height:0};return Rn&&"left"in Rn&&(s.x=Rn.left,s.y=Rn.top,s.width=Rn.right-Rn.left,s.height=Rn.bottom-Rn.top),s}function RX(e){const t={x:0,y:0,width:0,height:0};if(e.type==="circle")t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if(e.type==="ellipse")t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if(e.type==="image"||e.type==="rect")t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if(e.type==="path"){const r=VSe(e);t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height}return t}function AX(e){const t={x:0,y:0,width:0,height:0};let r=null,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY;for(const o of e)r?(r.x=Math.min(r.x,o.x),r.y=Math.min(r.y,o.y),n=Math.max(n,o.x+o.width),i=Math.max(i,o.y+o.height)):(r=t,r.x=o.x,r.y=o.y,n=o.x+o.width,i=o.y+o.height);return r&&(r.width=n-r.x,r.height=i-r.y),r}function CA(e,t,r,n,i,o,s,a,l){let c=(s&&o?hg(o,t):t)/2,d=(s&&o?hg(o,r):r)/2;if(l){const x=l[0],S=l[1];c=(s&&o?hg(o,x):x)/2,d=(s&&o?hg(o,S):S)/2}const p=e.width+n,f=e.height+n,y=Z2(),g=Z2();let v=!1;if(i&&p!==0&&f!==0){const x=t!==r?t/r:p/f,S=t>r?t:r;let C=1,$=1;isNaN(S)||(x>1?(C=S/p,$=S/x/f):($=S/f,C=S*x/p)),lf(g,g,x8(y,C,$,c,d)),v=!0}const b=e.x+(p-n)/2,w=e.y+(f-n)/2;if(lf(g,g,_8(y,c-b,d-w)),!v&&(p>t||f>r)){const x=p/t>f/r,S=(x?t:r)/(x?p:f);lf(g,g,x8(y,S,S,b,w))}return o&&lf(g,g,zSe(y,o,b,w)),a&&lf(g,g,_8(y,a[0],a[1])),`matrix(${g[0]},${g[1]},${g[2]},${g[3]},${g[4]},${g[5]})`}function jSe(e,t,r){const n=e==null?void 0:e.effects.find(c=>c.type==="bloom");if(!n)return null;const{strength:i,radius:o}=n,s=i>0?o:0,a=(i+s)*t,l=4*i+1;return V("filter",{id:`bloom${r}`,x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},V("feMorphology",{operator:"dilate",radius:(i+.5*s)*(5**(t/100)*(.4+t/100)),in:"SourceGraphic",result:"dilate"}),V("feGaussianBlur",{in:"dilate",stdDeviation:a/25,result:"blur"}),V("feGaussianBlur",{in:"blur",stdDeviation:a/50,result:"intensityBlur"}),V("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},V("feFuncR",{type:"linear",slope:l}),V("feFuncG",{type:"linear",slope:l}),V("feFuncB",{type:"linear",slope:l})),V("feMerge",null,V("feMergeNode",{in:"intensityBlur"}),V("feMergeNode",{in:"intensityBrightness"}),V("feGaussianBlur",{stdDeviation:i/10})))}function FX(e,t,r,n={}){var c;const i=[],o=[],s=++NSe,a=jSe(n.effectView,t,s);let l=null;if(a){const d=(c=n.effectView)==null?void 0:c.effects.find(g=>g.type==="bloom"),p=(d.strength?d.strength+d.radius/2:0)/3,f=t+t*p,y=r+r*p;l=[Math.max(f,10),Math.max(y,10)]}for(let d=0;d<e.length;d++){const p=e[d],f=[],y=[];let g=0,v=0,b=0;for(const S of p){const{shape:C,fill:$,stroke:M,font:I,offset:T}=S;n.ignoreStrokeWidth||(g+=M&&M.width||0);const O=$5($),L=E5(M),N=C.type==="text"?OX(C,I):null;i.push(LX(O)),f.push(C5(C,O.fill,L,N)),y.push(RX(C)),T&&(v+=T[0],b+=T[1])}const w=CA(AX(y),t,r,g,n.scale,n.rotation,n.useRotationSize,[v,b],l);let x=null;if(n.masking){const S=`mask-${d}`,C=n.masking[d];i.push(DSe(C,S)),x=`url(#${S})`}o.push(x?V("g",{mask:x},V("g",{transform:w},f)):V("g",{transform:w},f))}return n.useRotationSize&&n.rotation&&(t=hg(n.rotation,t),r=hg(n.rotation,r)),a&&(t=l[0],r=l[1]),V("svg",{xmlns:kSe,width:t,height:r,style:"display: block;"},a,V("defs",null,i),a?V("g",{filter:`url(#bloom${s})`},o):o)}class BSe{constructor(t,r){this._storage=new rX,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r){this._storage.put(t,r,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}const NX="picture-fill",DX="simple-fill",USe="simple-line",zX="simple-marker",GSe="text",HSe="cim",sk=new BSe(1e3);function qSe(e){const t=e.style;let r=null;if(e)switch(e.type){case zX:t!=="cross"&&t!=="x"&&(r=e.color);break;case DX:t==="solid"?r=e.color:t!=="none"&&(r={type:"pattern",x:0,y:0,src:Nt(`esri/symbols/patterns/${t}.png`),width:5,height:5});break;case NX:r={type:"pattern",src:e.url,width:Ur(e.width)*e.xscale,height:Ur(e.height)*e.yscale,x:Ur(e.xoffset),y:Ur(e.yoffset)};break;case GSe:r=e.color;break;case HSe:r=Gxe(e)}return r}function WSe(e,t){const r=e+"-"+t;return sk.get(r)!==void 0?Promise.resolve(sk.get(r)):_r(e,{responseType:"image"}).then(n=>{const i=n.data,o=i.naturalWidth,s=i.naturalHeight,a=document.createElement("canvas");a.width=o,a.height=s;const l=a.getContext("2d");l.fillStyle=t,l.fillRect(0,0,o,s),l.globalCompositeOperation="destination-in",l.drawImage(i,0,0);const c=a.toDataURL();return sk.put(r,c),c})}function z1(e){if(!e)return null;let t;switch(e.type){case DX:case NX:case zX:t=z1(e.outline);break;case USe:{const r=Ur(e.width);e.style!=="none"&&r!==0&&(t={color:e.color,style:I5(e.style),width:r,cap:e.cap,join:e.join==="miter"?Ur(e.miterLimit):e.join});break}default:t=null}return t}const I5=(()=>{const e={};return t=>{if(e[t])return e[t];const r=t.replace(/-/g,"");return e[t]=r,r}})(),KSe=new ze([128,128,128]),$8=/\/resource\/(.*?)\.svg$/,JSe=new ze("white");function ZSe(e){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const r=e.symbolLayers.getItemAt(t-1);return"outline"in r?DN(r,"outline","size"):void 0}function YSe(e){if(!e)return 0;if(Mc(e)){const r=ZSe(e);return G(r)?r:0}const t=z1(e);return t&&xa(t.width)||0}function KI(e){if(te(e)||!("symbolLayers"in e)||te(e.symbolLayers))return!1;switch(e.type){case"point-3d":return e.symbolLayers.some(t=>t.type==="object");case"line-3d":return e.symbolLayers.some(t=>t.type==="path");case"polygon-3d":return e.symbolLayers.some(t=>t.type==="object"||t.type==="extrude");default:return!1}}function QSe(e,t){const r=t.resource.href;return!oe("esri-canvas-svg-support")&&e.styleOrigin&&$8.test(r)?r.replace($8,"/resource/png/$1.png"):r}function Dm(e,t){if(!e)return null;let r=null;return Mc(e)?r=XSe(e):kI(e)&&(r=e.color?new ze(e.color):null),r?V1(r,t):null}function XSe(e){const t=e.symbolLayers;if(!t)return null;let r=null;return t.forEach(n=>{n.type==="object"&&n.resource.href!=null||(r=n.type==="water"?n.color:G(n.material)?n.material.color:null)}),r?new ze(r):null}function V1(e,t){if(t==null)return e;const r=e.toRgba();return r[3]=r[3]*t,new ze(r)}function eCe(e,t,r){const n=e.symbolLayers;if(!n)return;const i=o=>{const s=G(o)?o:null;return V1(t=t||s||r!=null&&JSe,r)};n.forEach(o=>{if(o.type!=="object"||o.resource.href==null||t)if(o.type==="water")o.color=i(o.color);else{const s=G(o.material)?o.material.color:null,a=i(s);te(o.material)?o.material=new Ms({color:a}):o.material.color=a,r!=null&&"outline"in o&&G(o.outline)&&G(o.outline.color)&&(o.outline.color=V1(o.outline.color,r))}})}function tCe(e,t,r){(t=t||e.color)&&(e.color=V1(t,r)),r!=null&&"outline"in e&&e.outline&&e.outline.color&&(e.outline.color=V1(e.outline.color,r))}function ak(e,t,r){e&&(t||r!=null)&&(t&&(t=new ze(t)),Mc(e)?eCe(e,t,r):kI(e)&&tCe(e,t,r))}async function rCe(e,t){const r=e.symbolLayers;r&&await zpe(r,async n=>nCe(n,t))}async function nCe(e,t){switch(e.type){case"extrude":oCe(e,t);break;case"icon":case"line":case"text":iCe(e,t);break;case"path":aCe(e,t);break;case"object":await sCe(e,t)}}function iCe(e,t){const r=VX(t);G(r)&&(e.size=r)}function VX(e){for(const t of e)if(typeof t=="number")return t;return null}function oCe(e,t){e.size=typeof t[2]=="number"?t[2]:0}async function sCe(e,t){const{resourceSize:r,symbolSize:n}=await lCe(e),i=jX(t,r,n);e.width=Aw(t[0],n[0],r[0],i),e.depth=Aw(t[1],n[1],r[1],i),e.height=Aw(t[2],n[2],r[2],i)}function aCe(e,t){const r=jX(t,TJ,[e.width,void 0,e.height]);e.width=Aw(t[0],e.width,1,r),e.height=Aw(t[2],e.height,1,r)}function jX(e,t,r){for(let n=0;n<3;n++){const i=e[n];switch(i){case"symbol-value":return r[n]!=null?r[n]/t[n]:1;case"proportional":break;default:if(i&&t[n])return i/t[n]}}return 1}async function lCe(e){const t=await ae(()=>import("./symbolLayerUtils.090ffe7b.js"),[],import.meta.url),r=await t.computeObjectLayerResourceSize(e,10),{width:n,height:i,depth:o}=e,s=[n,o,i];let a=1;for(let l=0;l<3;l++)if(s[l]!=null){a=s[l]/r[l];break}for(let l=0;l<3;l++)s[l]==null&&(s[l]=r[l]*a);return{resourceSize:r,symbolSize:s}}function Aw(e,t,r,n){switch(e){case"proportional":return r*n;case"symbol-value":return t!=null?t:r;default:return e}}function cCe(e,t){const r=VX(t);if(!te(r))switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":{const n=e.width/e.height;n>1?(e.width=r,e.height=r*n):(e.width=r*n,e.height=r);break}case"simple-line":e.width=r;break;case"text":e.font.size=r}}async function uCe(e,t){if(e&&t)return Mc(e)?rCe(e,t):void(kI(e)&&cCe(e,t))}function dCe(e,t,r){if(e&&t!=null)if(Mc(e)){const n=e.symbolLayers;n&&n.forEach(i=>{if(i&&i.type==="object")switch(r){case"tilt":i.tilt=t;break;case"roll":i.roll=t;break;default:i.heading=t}})}else kI(e)&&(e.type!=="simple-marker"&&e.type!=="picture-marker"&&e.type!=="text"||(e.angle=t))}function j1(e){if(!e)return null;const t=e.effects.filter(r=>r.type!=="bloom").map(r=>r.toJSON());return j2(t)}const pCe=P2();function j_(e,t,r){const n=Math.ceil(t[0]),i=Math.ceil(t[1]);if(!e.some(s=>!!s.length))return null;const o=r&&r.node||document.createElement("div");return r.opacity!=null&&(o.style.opacity=r.opacity.toString()),r.effectView!=null&&(o.style.filter=j1(r.effectView)),pCe.append(o,FX.bind(null,e,n,i,r)),o}function hCe(e,t){e=Math.ceil(e),t=Math.ceil(t);const r=document.createElement("canvas");r.width=e,r.height=t,r.style.width=e+"px",r.style.height=t+"px";const n=r.getContext("2d");return n.clearRect(0,0,e,t),n}function fCe(e,t,r){return e?_r(e,{responseType:"image"}).then(n=>{const i=n.data,o=i.width,s=i.height,a=o/s;let l=t;if(r){const c=Math.max(o,s);l=Math.min(l,c)}return{image:i,width:a<=1?Math.ceil(l*a):l,height:a<=1?l:Math.ceil(l/a)}}):Promise.reject(new Z("renderUtils: imageDataSize","href not provided."))}function mCe(e,t){return!(!e||t==="ignore")&&(t!=="multiply"||e.r!==255||e.g!==255||e.b!==255||e.a!==1)}function yCe(e,t,r,n,i){switch(i){case"multiply":e[t+0]*=r[0],e[t+1]*=r[1],e[t+2]*=r[2],e[t+3]*=r[3];break;default:{const o=_5({r:e[t+0],g:e[t+1],b:e[t+2]});o.h=n.h,o.s=n.s,o.v=o.v/100*n.v;const s=z_(o);e[t+0]=s.r,e[t+1]=s.g,e[t+2]=s.b,e[t+3]*=r[3];break}}}function gCe(e,t,r,n,i){return fCe(e,t,i).then(o=>{const s=o.width?o.width:t,a=o.height?o.height:t;if(o.image&&mCe(r,n)){let l=o.image.width,c=o.image.height;oe("edge")&&/\.svg$/i.test(e)&&(l-=1,c-=1);const d=hCe(s,a);d.drawImage(o.image,0,0,l,c,0,0,s,a);const p=d.getImageData(0,0,s,a),f=[r.r/255,r.g/255,r.b/255,r.a],y=_5(r);for(let g=0;g<p.data.length;g+=4)yCe(p.data,g,f,y,n);d.putImageData(p,0,0),e=d.canvas.toDataURL("image/png")}else{const l=Br&&Br.findCredential(e);if(l&&l.token){const c=e.includes("?")?"&":"?";e=`${e}${c}token=${l.token}`}}return{url:e,width:s,height:a}}).catch(()=>({url:e,width:t,height:t}))}let zm=null;const E8=[255,255,255];function I8(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function vCe(e,t,r){const{backgroundColor:n,outline:i,dotSize:o}=e,s=r&&r.swatchSize||zn.size,a=.8,l=Math.round(s*s/o**2*a),c=window.devicePixelRatio,d=document.createElement("canvas"),p=s*c;d.width=p,d.height=p,d.style.width=d.width/c+"px",d.style.height=d.height/c+"px";const f=d.getContext("2d");if(n&&(f.fillStyle=n.toCss(!0),f.fillRect(0,0,p,p),f.fill()),f.fillStyle=t.toCss(!0),zm&&zm.length/2===l)for(let g=0;g<2*l;g+=2){const v=zm[g],b=zm[g+1];f.fillRect(v,b,o*c,o*c),f.fill()}else{zm=[];for(let g=0;g<2*l;g+=2){const v=I8(0,p),b=I8(0,p);zm.push(v,b),f.fillRect(v,b,o*c,o*c),f.fill()}}i&&(i.color&&(f.strokeStyle=i.color.toCss(!0)),f.lineWidth=i.width,f.strokeRect(0,0,p,p));const y=new Image(s,s);return y.src=d.toDataURL(),y}function bCe(e,t={}){const r=t.radius||40,n=2*Math.PI*r,i=e.length,o=n/i,s=[],a=z1(t.outline);a&&(a.width*=2),(a||t.backgroundColor)&&s.push({shape:{type:"circle",cx:r,cy:r,r},fill:t.backgroundColor,stroke:a,offset:[0,0]});const l=t.values,c=l&&l.length===i&&l.reduce((g,v)=>g+v,0)===100,d=[0];for(let g=0;g<i;g++){const v=c?l[g]*n/100:null;c&&d.push(v+d[g]),s.push({shape:{type:"circle",cx:r,cy:r,r:r/2},fill:[0,0,0,0],stroke:{width:r,dashArray:`${v||o} ${n}`,dashoffset:"-"+(c?d[g]/2:g*(o/2)),color:e[g]},offset:[0,0]})}let p=null;const f=2*r+((a==null?void 0:a.width)||0),y=t.holePercentage;if(y){a&&s.push({shape:{type:"circle",cx:r,cy:r,r:r*y},fill:null,stroke:a,offset:[0,0]});const g=f/2;p=[[{shape:{type:"circle",cx:g,cy:g,r:g},fill:E8,stroke:a?{...a,color:E8}:null,offset:[0,0]},{shape:{type:"circle",cx:g,cy:g,r:r*y},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return j_([s],[f,f],{effectView:t.effectList,ignoreStrokeWidth:!0,masking:p,rotation:-90})}function Dh(e,t={}){const i=t.align==="horizontal",o=i?75:24,s=i?24:75,{width:a=o,height:l=s,gradient:c=!0}=t,d=window.devicePixelRatio,p=a*d,f=l*d,y=document.createElement("canvas");y.width=p,y.height=f,y.style.width=`${a}px`,y.style.height=`${l}px`;const g=y.getContext("2d"),v=i?p:0,b=i?0:f;if(c){const x=g.createLinearGradient(0,0,v,b),S=e.length,C=S===1?0:1/(S-1);e.forEach(($,M)=>x.addColorStop(M*C,$.toString())),g.fillStyle=x,g.fillRect(0,0,p,f)}else{const x=i?p/e.length:p,S=i?f:f/e.length;let C=0,$=0;for(const M of e)g.fillStyle=M.toString(),g.fillRect(C,$,x,S),C=i?C+x:0,$=i?0:$+S}const w=document.createElement("div");return w.style.width=`${a}px`,w.style.height=`${l}px`,wCe(w,t==null?void 0:t.effectList),w.appendChild(y),w}function wCe(e,t){if(!t)return;e.style.filter=j1(t);const r=t.effects;if(r){for(const n of r)if((n==null?void 0:n.type)==="drop-shadow"){n.offsetX<0?e.style.marginLeft=`${Math.abs(n.offsetX)}px`:e.style.marginRight=`${n.offsetX}px`;break}}}async function BX(e,t){switch(e.type){case"web-style":{const{previewWebStyleSymbol:r}=await ae(()=>import("./previewWebStyleSymbol.a696defa.js"),[],import.meta.url);return r(e,BX,t)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:r}=await ae(()=>Promise.resolve().then(()=>ZCe),void 0,import.meta.url);return r(e,t)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:r}=await ae(()=>import("./previewSymbol2D.7961e240.js"),[],import.meta.url);return r(e,t)}case"cim":{const{previewCIMSymbol:r}=await ae(()=>import("./previewCIMSymbol.875ad38c.js"),["previewCIMSymbol.875ad38c.js","cimAnalyzer.b547d5ab.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","definitions.cd8c5521.js","alignmentUtils.84250e5d.js","number.6e30c64a.js","GeometryUtils.f3664fe1.js","quantizationUtils.4ec6f0b3.js","Rasterizer.97157184.js"],import.meta.url);return r(e,t)}default:return}}function UX(e){return e&&"opacity"in e?e.opacity*UX(e.parent):1}async function _Ce(e,t){var b;if(!e)return;const r=e.sourceLayer,n=(b=G(t)&&t.useSourceLayer?r:e.layer)!=null?b:r,i=UX(n);if(G(e.symbol)&&(!G(t)||t.ignoreGraphicSymbol!==!0)){const w=e.symbol.type==="web-style"?await e.symbol.fetchSymbol({...t,cache:G(t)?t.webStyleCache:null}):e.symbol.clone();return ak(w,null,i),w}const o=G(t)&&t.renderer||n&&"renderer"in n&&n.renderer;let s=o&&"getSymbolAsync"in o?await o.getSymbolAsync(e,t):null;if(!s)return;if(s=s.type==="web-style"?await s.fetchSymbol({...t,cache:G(t)?t.webStyleCache:null}):s.clone(),!("visualVariables"in o)||!o.visualVariables||!o.visualVariables.length)return ak(s,null,i),s;if("arcadeRequiredForVisualVariables"in o&&o.arcadeRequiredForVisualVariables&&(te(t)||te(t.arcade))){const w={...t};w.arcade=await zu(),t=w}const a=await ae(()=>Promise.resolve().then(()=>Im),void 0,import.meta.url),l=[],c=[],d=[],p=[];for(const w of o.visualVariables)switch(w.type){case"color":l.push(w);break;case"opacity":c.push(w);break;case"rotation":p.push(w);break;case"size":w.target||d.push(w)}const f=!!l.length&&l[l.length-1],y=f?a.getColor(f,e,t):null,g=!!c.length&&c[c.length-1];let v=g?a.getOpacity(g,e,t):null;if(i!=null&&(v=v!=null?v*i:i),ak(s,y,v),d.length){const w=a.getAllSizes(d,e,t);await uCe(s,w)}for(const w of p)dCe(s,a.getRotationAngle(w,e,t),w.axis);return s}const xCe=(e,t)=>{const r=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return t!=null&&t.levels?t.levels[r]:null};function SCe(e,t){if(!e||!("visualVariables"in e)||!e.visualVariables)return null;const r=e.visualVariables.find(i=>i.type==="size"),n=xCe(t,r);return n?new h5({field:r.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}const CCe=/^-?(\d+)(\.(\d+))?$/i;function $Ce(e,t){return e-t}function ECe(e,t){let r,n;return r=Number(e.toFixed(t)),r<e?n=r+1/10**t:(n=r,r-=1/10**t),r=Number(r.toFixed(t)),n=Number(n.toFixed(t)),[r,n]}function ICe(e,t,r,n,i){const o=ZC(e,t,r,n),s=o.previous==null||o.previous<=i,a=o.next==null||o.next<=i;return s&&a||o.previous+o.next<=2*i}function Y2(e){const t=String(e),r=t.match(CCe);if(r&&r[1])return{integer:r[1].split("").length,fractional:r[3]?r[3].split("").length:0};if(t.toLowerCase().includes("e")){const n=t.split("e"),i=n[0],o=n[1];if(i&&o){const s=Number(i);let a=Number(o);const l=a>0;l||(a=Math.abs(a));const c=Y2(s);return l?(c.integer+=a,a>c.fractional?c.fractional=0:c.fractional-=a):(c.fractional+=a,a>c.integer?c.integer=1:c.integer-=a),c}}return{integer:0,fractional:0}}function ZC(e,t,r,n){const i={previous:null,next:null};if(r!=null){const o=e-r,s=t-r-o;i.previous=Math.floor(Math.abs(100*s/o))}if(n!=null){const o=n-e,s=n-t-o;i.next=Math.floor(Math.abs(100*s/o))}return i}function Q2(e,t={}){const r=e.slice(0),{tolerance:n=2,strictBounds:i=!1,indexes:o=r.map((s,a)=>a)}=t;o.sort($Ce);for(let s=0;s<o.length;s++){const a=o[s],l=r[a],c=a===0?null:r[a-1],d=a===r.length-1?null:r[a+1],p=Y2(l).fractional;if(p){let f,y=0,g=!1;for(;y<=p&&!g;){const v=ECe(l,y);f=i&&s===0?v[1]:v[0],g=ICe(l,f,c,d,n),y++}g&&(r[a]=f)}}return r}const MCe={maximumFractionDigits:20};function TCe(e){return Ec(e,MCe)}const GX="<",HX=">",kCe=kD("short-date");function qX(e,t,r,n){let i="";t===0?i=`${GX} `:t===r&&(i=`${HX} `);let o=null;return o=n?Du(e,kCe):TCe(e),i+o}const PCe=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];async function $A(e){if(!("visualVariables"in e)||!e.visualVariables)return null;const t=e.visualVariables.find(s=>s.type==="color");if(!t)return null;let r=null,n=null;if(t.stops){if(t.stops.length===1)return t.stops[0].color;r=t.stops[0].value,n=t.stops[t.stops.length-1].value}const i=r+(n-r)/2,{getColor:o}=await ae(()=>Promise.resolve().then(()=>Im),void 0,import.meta.url);return o(t,i)}async function WX(e,t){const r=e.trailCap,n=e.trailWidth||1,i=t||await $A(e)||e.color;return new es({cap:r,color:i,width:n})}const OCe=new ze([64,64,64]);function KX(e,t){const r=[],n=e.length-1;return e.length===5?r.push(0,2,4):r.push(0,n),e.map((i,o)=>r.includes(o)?qX(i,o,n,t):null)}async function EA(e,t,r){let n=!1,i=[],o=[];if(e.stops){const c=e.stops;i=c.map(d=>d.value),n=c.some(d=>!!d.label),n&&(o=c.map(d=>d.label))}const s=i[0],a=i[i.length-1];if(s==null&&a==null)return null;const l=n?null:KX(i,r);return(await Promise.all(i.map(async(c,d)=>({value:c,color:e.type==="opacity"?await LCe(c,e,t):(await ae(()=>Promise.resolve().then(()=>Im),void 0,import.meta.url)).getColor(e,c),label:n?o[d]:l[d]})))).reverse()}async function LCe(e,t,r=OCe){const n=new ze(r),i=(await ae(()=>Promise.resolve().then(()=>Im),void 0,import.meta.url)).getOpacity(t,e);return i!=null&&(n.a=i),n}function RCe(e){let t=!1,r=[],n=[];r=e.map(a=>a.value),t=e.some(a=>!!a.label),t&&(n=e.map(a=>a.label));const i=r[0],o=r[r.length-1];if(i==null&&o==null)return null;const s=t?null:KX(r,!1);return r.map((a,l)=>({value:a,color:JX(a,e),label:t?n[l]:s[l]})).reverse()}function JX(e,t){const{startIndex:r,endIndex:n,weight:i}=ACe(e,t);if(r===n)return t[r].color;const o=ze.blendColors(t[r].color,t[n].color,i);return new ze(o)}function ACe(e,t){let r=0,n=t.length-1;return t.some((i,o)=>e<i.value?(n=o,!0):(r=o,!1)),{startIndex:r,endIndex:n,weight:(e-t[r].value)/(t[n].value-t[r].value)}}function FCe(e,t){let r=[];if(e&&e.type==="multipart")e.colorRamps.reverse().forEach((n,i)=>{i===0?r.push({value:t.max,color:new ze(n.toColor),label:"high"}):r.push({value:null,color:new ze(n.toColor),label:""}),i===e.colorRamps.length-1?r.push({value:t.min,color:new ze(n.fromColor),label:"low"}):r.push({value:null,color:new ze(n.fromColor),label:""})});else{let n,i;e&&e.type==="algorithmic"?(n=e.fromColor,i=e.toColor):(n=[0,0,0,1],i=[255,255,255,1]),r=[{value:t.max,color:new ze(i),label:"high"},{value:t.min,color:new ze(n),label:"low"}]}return r}function ZX(e){if(!e.colorStops)return[];const t=[...e.colorStops].filter(n=>{var i;return((i=n.color)==null?void 0:i.a)>0});let r=t.length-1;if(t&&t[0]){const n=t[r];n&&n.ratio!==1&&(t.push(new Lw({ratio:1,color:n.color})),r++)}return t.map((n,i)=>{var s,a;let o="";return i===0?o=((s=e.legendOptions)==null?void 0:s.minLabel)||"low":i===r&&(o=((a=e.legendOptions)==null?void 0:a.maxLabel)||"high"),{color:n.color,label:o,ratio:n.ratio}}).reverse()}function NCe(e){return e=e||globalThis.location.hostname,DCe.some(t=>(e==null?void 0:e.match(t))!=null)}function M8(e,t){return e&&(t=t||globalThis.location.hostname)?t.match(YX)!=null||t.match(XX)!=null?e.replace("static.arcgis.com","staticdev.arcgis.com"):t.match(QX)!=null||t.match(eee)!=null?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}const YX=/^devext.arcgis.com$/,QX=/^qaext.arcgis.com$/,XX=/^[\w-]*\.mapsdevext.arcgis.com$/,eee=/^[\w-]*\.mapsqa.arcgis.com$/,DCe=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,YX,QX,/^jsapps.esri.com$/,XX,eee];function tee(e,t,r,n){return e.name?e.styleName&&e.styleName==="Esri2DPointSymbolsStyle"?zCe(e,t,n):hX(e,t,n).then(i=>ree(i,e.name,t,r,n)):Promise.reject(new Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function ree(e,t,r,n,i){const o=e.data,s=r&&G(r.portal)?r.portal:di.getDefault(),a={portal:s,url:vn(e.baseUrl),origin:"portal-item"},l=o.items.find(y=>y.name===t);if(!l){const y=`The symbol name '${t}' could not be found`;return Promise.reject(new Z("symbolstyleutils:symbol-name-not-found",y,{symbolName:t}))}let c=Up(kxe(l,n),a),d=l.thumbnail&&l.thumbnail.href;const p=l.thumbnail&&l.thumbnail.imageData;NCe()&&(c=M8(c),d=M8(d));const f={portal:s,url:vn(aD(c)),origin:"portal-item"};return g5(c,i).then(y=>{const g=n==="cimRef"?fX(y.data):y.data,v=QQ(g,f);if(v&&Mc(v)){if(d){const b=Up(d,a);v.thumbnail=new Df({url:b})}else p&&(v.thumbnail=new Df({url:`data:image/png;base64,${p}`}));e.styleUrl?v.styleOrigin=new P1({portal:r.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(v.styleOrigin=new P1({portal:r.portal,styleName:e.styleName,name:t}))}return v})}function zCe(e,t,r){const n=Pxe.replace(/\{SymbolName\}/gi,e.name),i=G(t.portal)?t.portal:di.getDefault();return g5(n,r).then(o=>{const s=fX(o.data);return QQ(s,{portal:i,url:vn(aD(n)),origin:"portal-item"})})}const VCe=Object.freeze(Object.defineProperty({__proto__:null,fetchSymbolFromStyle:ree,resolveWebStyleSymbol:tee},Symbol.toStringTag,{value:"Module"})),cf=zn.size,YC=zn.maxSize,M5=zn.maxOutlineSize,T8=zn.lineWidth,IA=zn.tallSymbolWidth,jCe=Ce.getLogger("esri.symbols.support.previewSymbol3D");function fg(e){const t=e.outline,r=G(e.material)?e.material.color:null,n=G(r)?r.toHex():null;if(te(t)||"pattern"in t&&G(t.pattern)&&t.pattern.type==="style"&&t.pattern.style==="none")return e.type==="fill"&&n==="#ffffff"?{color:"#bdc3c7",width:.75}:null;const i=Ur(t.size)||0;return{color:"rgba("+(G(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(i,M5),style:"pattern"in t&&G(t.pattern)&&t.pattern.type==="style"?I5(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}function BCe(e,t){const r=t&&t.resource,n=r&&r.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(n&&t.type!=="object")return Promise.resolve(QSe(e,t));const i=Nt("esri/images/Legend/legend3dsymboldefault.png");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?tee(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch(o=>o).then(o=>{var s;return((s=o==null?void 0:o.thumbnail)==null?void 0:s.url)||i}):Promise.resolve(i)}function lk(e,t=1){const r=e.a,n=_5(e),i=n.h,o=n.s/t,s=100-(100-n.v)/t,{r:a,g:l,b:c}=z_({h:i,s:o,v:s});return[a,l,c,r]}function X2(e){return e.type==="water"?te(e.color)?null:e.color:te(e.material)||te(e.material.color)?null:e.material.color}function fr(e,t=0){const r=X2(e);if(!r){if(e.type==="fill")return null;const i=KSe.r,o=Pp(i,t);return[o,o,o,100]}const n=r.toRgba();for(let i=0;i<3;i++)n[i]=Pp(n[i],t);return n}async function nee(e,t){const r=e.style;return r==="none"?null:{type:"pattern",x:0,y:0,src:await WSe(Nt(`esri/symbols/patterns/${r}.png`),t.toCss(!0)),width:5,height:5}}function k8(e){return e.outline?fg(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function iee(e,t){const r=X2(e);if(!r)return null;let n="rgba(";return n+=Pp(r.r,t)+",",n+=Pp(r.g,t)+",",n+=Pp(r.b,t)+",",n+r.a+");"}function MA(e,t){const r=iee(e,t);return r?"pattern"in e&&G(e.pattern)&&e.pattern.type==="style"&&e.pattern.style==="none"?null:{color:r,width:Math.min(e.size?Ur(e.size):.75,M5),style:"pattern"in e&&G(e.pattern)&&e.pattern.type==="style"?I5(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?e.join==="miter"?Ur(2):e.join:null}:{}}function sS(e,t,r){const n=.75*r;return{type:"linear",x1:n?.25*n:0,y1:n?.5*n:0,x2:n||4,y2:n?.5*n:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function UCe(e){const t=e.depth,r=e.height,n=e.width;return n&&t&&r&&n===t&&n<r}function GCe(e,t,r){const n=[];if(!e)return n;switch(e.type){case"icon":{const s=t,a=t;switch(e.resource&&e.resource.primitive||Gbe){case"circle":n.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:fr(e,0),stroke:fg(e)});break;case"square":n.push({shape:{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[0,0]},{command:"L",values:[s,0]},{command:"L",values:[s,a]},{command:"Z",values:[]}]},fill:fr(e,0),stroke:fg(e)});break;case"triangle":n.push({shape:{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[.5*s,0]},{command:"L",values:[s,a]},{command:"Z",values:[]}]},fill:fr(e,0),stroke:fg(e)});break;case"cross":n.push({shape:{type:"path",path:[{command:"M",values:[.5*s,0]},{command:"L",values:[.5*s,a]},{command:"M",values:[0,.5*a]},{command:"L",values:[s,.5*a]}]},stroke:k8(e)});break;case"x":n.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[s,a]},{command:"M",values:[s,0]},{command:"L",values:[0,a]}]},stroke:k8(e)});break;case"kite":n.push({shape:{type:"path",path:[{command:"M",values:[0,.5*a]},{command:"L",values:[.5*s,0]},{command:"L",values:[s,.5*a]},{command:"L",values:[.5*s,a]},{command:"Z",values:[]}]},fill:fr(e,0),stroke:fg(e)})}break}case"object":switch(e.resource&&e.resource.primitive||Jbe){case"cone":{const i=sS(fr(e,0),fr(e,-.6),r?IA:t),o=Zxe(t,r);n.push({shape:o[0],fill:i}),n.push({shape:o[1],fill:i});break}case"inverted-cone":{const i=fr(e,0),o=sS(i,fr(e,-.6),t),s=Yxe(t);n.push({shape:s[0],fill:o}),n.push({shape:s[1],fill:i});break}case"cube":{const i=Kxe(t,r);n.push({shape:i[0],fill:fr(e,0)}),n.push({shape:i[1],fill:fr(e,-.3)}),n.push({shape:i[2],fill:fr(e,-.5)});break}case"cylinder":{const i=sS(fr(e,0),fr(e,-.6),r?IA:t),o=Jxe(t,r);n.push({shape:o[0],fill:i}),n.push({shape:o[1],fill:i}),n.push({shape:o[2],fill:fr(e,0)});break}case"diamond":{const i=Qxe(t);n.push({shape:i[0],fill:fr(e,-.3)}),n.push({shape:i[1],fill:fr(e,0)}),n.push({shape:i[2],fill:fr(e,-.3)}),n.push({shape:i[3],fill:fr(e,-.7)});break}case"sphere":{const i=sS(fr(e,0),fr(e,-.6));i.x1=0,i.y1=0,i.x2=.25*t,i.y2=.25*t,n.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:i});break}case"tetrahedron":{const i=Xxe(t);n.push({shape:i[0],fill:fr(e,-.3)}),n.push({shape:i[1],fill:fr(e,0)}),n.push({shape:i[2],fill:fr(e,-.6)});break}}break}return n}function JI(e){const t=typeof(e==null?void 0:e.size)=="number"?e==null?void 0:e.size:null;return t?Ur(t):null}function HCe(e){return e.type==="icon"?"multiply":"tint"}function qCe(e,t){const r=JI(t),n=t&&t.maxSize?Ur(t.maxSize):null,i=t&&t.disableUpsampling,o=e.symbolLayers,s=[];let a=0,l=0;const c=o.getItemAt(o.length-1);let d;return c&&c.type==="icon"&&(d=c.size&&Ur(c.size)),o.forEach(p=>{var g;if(p.type!=="icon"&&p.type!=="object")return;const f=p.type==="icon"?p.size&&Ur(p.size):0,y=r||f?Math.ceil(Math.min(r||f,n||YC)):cf;if(p&&p.resource&&p.resource.href){const v=BCe(e,p).then(b=>{const w=p.get("material.color"),x=HCe(p);return gCe(b,y,w,x,i)}).then(b=>{const w=b.width,x=b.height;return a=Math.max(a,w),l=Math.max(l,x),[{shape:{type:"image",x:0,y:0,width:w,height:x,src:b.url},fill:null,stroke:null}]});s.push(v)}else{let v=y;p.type==="icon"&&d&&r&&(v=y*(f/d));const b=(t==null?void 0:t.symbolConfig)==="tall"||((g=t==null?void 0:t.symbolConfig)==null?void 0:g.isTall)||p.type==="object"&&UCe(p);a=Math.max(a,b?IA:v),l=Math.max(l,v),s.push(Promise.resolve(GCe(p,v,b)))}}),yn(s).then(p=>{const f=[];return p.forEach(y=>{y.value?f.push(y.value):y.error&&jCe.warn("error while building swatchInfo!",y.error)}),j_(f,[a,l],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})})}function WCe(e,t){const r=e.symbolLayers,n=[],i=KI(e),o=JI(t),s=(t&&t.maxSize?Ur(t.maxSize):null)||M5;let a,l=0,c=0;return r.forEach((d,p)=>{if(!d||d.type!=="line"&&d.type!=="path")return;const f=[];switch(d.type){case"line":{const y=MA(d,0);if(te(y))break;const g=y&&y.width||0;p===0&&(a=g);const v=Math.min(o||g,s),b=p===0?v:o?v*(g/a):v,w=b>T8/2?2*b:T8;c=Math.max(c,b),l=Math.max(l,w),y.width=b,f.push({shape:{type:"path",path:[{command:"M",values:[0,.5*c]},{command:"L",values:[l,.5*c]}]},stroke:y});break}case"path":{const y=Math.min(o||cf,s),g=fr(d,0),v=fr(d,-.2),b=iee(d,-.4),w=b?{color:b,width:1}:{};if(d.profile==="quad"){const x=d.width,S=d.height,C=Hxe(x&&S?x/S:1,S===0,x===0),$={...w,join:"bevel"};f.push({shape:C[0],fill:v,stroke:$}),f.push({shape:C[1],fill:v,stroke:$}),f.push({shape:C[2],fill:g,stroke:$})}else f.push({shape:SA.pathSymbol3DLayer[0],fill:v,stroke:w}),f.push({shape:SA.pathSymbol3DLayer[1],fill:g,stroke:w});c=Math.max(c,y),l=c}}n.push(f)}),Promise.resolve(j_(n,[l,c],{node:t&&t.node,scale:i,opacity:t&&t.opacity}))}async function KCe(e,t){const r=e.type==="mesh-3d",n=e.symbolLayers,i=JI(t),o=t&&t.maxSize?Ur(t.maxSize):null,s=i||cf,a=[];let l=0,c=0,d=!1;for(let p=0;p<n.length;p++){const f=n.getItemAt(p),y=[];if(r&&f.type!=="fill")continue;const g=SA.fill[0];switch(f.type){case"fill":{const v=fg(f),b=Math.min(s,o||YC);l=Math.max(l,b),c=Math.max(c,b),d=!0;let w=fr(f,0);const x="pattern"in f&&f.pattern,S=X2(f);!r&&G(x)&&x.type==="style"&&x.style!=="solid"&&S&&(w=await nee(x,S)),y.push({shape:g,fill:w,stroke:v});break}case"line":{const v=MA(f,0);if(te(v))break;const b={stroke:v,shape:g};l=Math.max(l,cf),c=Math.max(c,cf),y.push(b);break}case"extrude":{const v={join:"round",width:1,...MA(f,-.4)},b=fr(f,0),w=fr(f,-.2),x=Math.min(s,o||YC),S=qxe(x);v.width=1,y.push({shape:S[0],fill:w,stroke:v}),y.push({shape:S[1],fill:w,stroke:v}),y.push({shape:S[2],fill:b,stroke:v});const C=cf,$=.7*cf+.5*x;l=Math.max(l,C),c=Math.max(c,$);break}case"water":{const v=X2(f),b=lk(v),w=lk(v,2),x=lk(v,3),S=Wxe();d=!0,y.push({shape:S[0],fill:b}),y.push({shape:S[1],fill:w}),y.push({shape:S[2],fill:x});const C=Math.min(s,o||YC);l=Math.max(l,C),c=Math.max(c,C);break}}a.push(y)}return j_(a,[l,c],{node:t&&t.node,scale:d,opacity:t&&t.opacity})}function JCe(e,t){if(e.symbolLayers.length===0)return Promise.reject(new Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return qCe(e,t);case"line-3d":return WCe(e,t);case"polygon-3d":case"mesh-3d":return KCe(e,t)}return Promise.reject(new Z("symbolPreview: swatchInfo3D","symbol not supported."))}const ZCe=Object.freeze(Object.defineProperty({__proto__:null,getPatternDescriptor:nee,getSizeFromOptions:JI,getSymbolLayerFill:fr,previewSymbol3D:JCe},Symbol.toStringTag,{value:"Module"})),P8={HH:315,HL:45,LL:135,LH:225},YCe={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function QCe(e){if(!e)return;const{type:t}=e;if(t.includes("3d"))return fr(e.symbolLayers.getItemAt(0));if(t==="simple-line"){const r=z1(e);return r&&r.color}if(e.type==="simple-marker"&&(e.style==="x"||e.style==="cross")){const r=z1(e);return r&&r.color}return qSe(e)}function XCe(e,t){const r=t.HH.label,n=t.LL.label,i=t.HL.label,o=t.LH.label;switch(e){case"HH":default:return{top:r,bottom:n,left:i,right:o};case"HL":return{top:i,bottom:o,left:n,right:r};case"LL":return{top:n,bottom:r,left:o,right:i};case"LH":return{top:o,bottom:i,left:r,right:n}}}function e$e(e){const{focus:t,infos:r,numClasses:n}=e,i=YCe[n],o={};r.forEach(a=>{o[a.value]={label:a.label,fill:QCe(a.symbol)}});const s=[];for(let a=0;a<n;a++){const l=[];for(let c=0;c<n;c++){const d=o[i[a][c]];l.push(d.fill)}s.push(l)}return{type:"relationship-ramp",numClasses:n,focus:t,colors:s,labels:XCe(t,o),rotation:oee(t)}}function oee(e){let t=P8[e];return e&&t==null&&(t=P8.HH),t||0}const see="calcite-theme-";function t$e(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function T5(){return t$e().startsWith("dark")}function r$e(){return`${see}${T5()?"dark":"light"}`}function n$e(e){i$e(e),e.classList.add(r$e())}function i$e(e){Array.from(e.classList).forEach(t=>{t.startsWith(see)&&e.classList.remove(t)})}const TA=30,kA=12,aee=[255,255,255],lee=[200,200,200],mg=[128,128,128],o$e=20,s$e=5;function a$e(e){return e.declaredClass==="esri.symbols.SimpleMarkerSymbol"}function l$e(e){return e.declaredClass==="esri.symbols.PictureMarkerSymbol"}function c$e(e){return e.declaredClass==="esri.symbols.SimpleLineSymbol"}function u$e(e){return e.declaredClass==="esri.symbols.TextSymbol"}function d$e(e,t){const r=e.length-1;return e.map((n,i)=>qX(n,i,r,t))}async function p$e(e,t,r,n,i,o){const s=t.legendOptions,a=s&&s.customValues,l=await m$e(e,r),c=!!l,d=!!a,p=t.minSize!=null&&t.maxSize!=null,f=t.stops&&t.stops.length>1,y=!!t.target;if(!c||!d&&!(p||f&&!y))return;const g=KI(l);let v=null,b=null,w=null;b=g&&!f?Q2([t.minDataValue,t.maxDataValue]):a||await g$e(t,l,n,i);const x=e==null?void 0:e.authoringInfo,S=(x==null?void 0:x.type)==="univariate-color-size",C=S&&(x==null?void 0:x.univariateTheme)==="above-and-below";if(!b&&f&&(b=t.stops.map(T=>T.value),v=t.stops.some(T=>!!T.label),e.type==="flow"&&(b=Q2(b)),v&&(w=t.stops.map(T=>T.label))),g&&(b==null?void 0:b.length)>2&&!C&&(b=[b[0],b[b.length-1]]),!b)return null;S&&(b==null?void 0:b.length)!==5&&(b=dee({minSize:b[0],maxSize:b[b.length-1]}));const $=g?h$e(e,b):null,M=YSe(l),I=v?null:d$e(b,o);return(await Promise.all(b.map(async(T,O)=>{const L=g?$[O]:await _y(t,l,T,n,i);return{value:T,symbol:w$e(C&&e.type==="class-breaks"?f$e(e,O):l,L),label:v?w[O]:I[O],size:L,outlineSize:M}}))).reverse()}function h$e(e,t){const r=e==null?void 0:e.authoringInfo,n=(r==null?void 0:r.type)==="univariate-color-size";let i=[kA,TA];if(n){const o=t[0],s=t[t.length-1],a=kA,l=TA;i=t.map(c=>a+(c-o)/(s-o)*(l-a))}return n&&(r==null?void 0:r.univariateTheme)==="below"&&i.reverse(),i}function f$e(e,t){const r=e.classBreakInfos,n=r.length,i=n<2||!(t>=2)?r[0].symbol.clone():r[n-1].symbol.clone();return e.visualVariables.some(o=>o.type==="color")&&(i.type.includes("3d")?cee(i):uee(i)),i}async function m$e(e,t){var i;if(e.type==="flow")return WX(e,t);if(e.type==="pie-chart")return new jo({color:null,outline:(i=e.outline)!=null&&i.width?e.outline:new es});let r=null,n=null;if(e.type==="simple")r=e.symbol;else if(e.type==="class-breaks"){const o=e.classBreakInfos;r=o&&o[0]&&o[0].symbol,n=o.length>1}else if(e.type==="unique-value"){const o=e.uniqueValueInfos;r=o&&o[0]&&o[0].symbol,n=o.length>1}return!r||y$e(r)?null:(r=r.clone(),(t||n)&&(r.type.includes("3d")?cee(r):uee(r)),r)}function y$e(e){return e?Mc(e)?!!e.symbolLayers&&e.symbolLayers.some(t=>t&&t.type==="fill"):e.type.includes("fill"):!1}function cee(e){e.type==="line-3d"?e.symbolLayers.forEach(t=>{t.material={color:mg}}):e.symbolLayers.forEach(t=>{t.type!=="icon"||t.resource&&t.resource.href?t.material={color:lee}:(t.material={color:aee},t.outline={color:mg,size:1.5})})}function uee(e){var r,n;const t=T5();e.type==="cim"?vX(e,new ze(lee)):e.type.includes("line")?e.color=mg:(e.color=t?mg:aee,e.type==="simple-marker"&&(e.outline?((n=(r=e.outline)==null?void 0:r.color)==null?void 0:n.toHex())==="#ffffff"&&(e.outline.color=mg):e.outline={color:mg,width:1.5}))}async function g$e(e,t,r,n){const i=(await ae(()=>Promise.resolve().then(()=>Im),void 0,import.meta.url)).getSizeRangeAtScale(e,r,n),o=i&&dee(i);if(!i&&!o)return;let s=o.map(a=>v$e(a,e,i));s=Q2(s);for(let a=1;a<s.length-1;a++){const l=await b$e(e,t,s[a],s[a-1],r,n);l&&(s[a]=l[0],o[a]=l[1])}return s}function dee(e){const t=e.minSize,r=e.maxSize,n=s$e,i=(r-t)/(n-1),o=[];for(let s=0;s<n;s++)o.push(t+i*s);return o}function v$e(e,t,r){const n=r.minSize,i=r.maxSize,o=t.minDataValue,s=t.maxDataValue;let a=null;return e<=n?a=o:e>=i?a=s:a=(e-n)/(i-n)*(s-o)+o,a}async function b$e(e,t,r,n,i,o){const s=await _y(e,t,r,i,o),a=await _y(e,t,n,i,o),l=Y2(r),c=l.fractional,d=o$e;let p=l.integer,f=null,y=null;r>0&&r<1&&(f=10**c,p=Y2(r*=f).integer);for(let g=p-1;g>=0;g--){const v=10**g;let b=Math.floor(r/v)*v,w=Math.ceil(r/v)*v;f!=null&&(b/=f,w/=f);let x=(b+w)/2;[,x]=Q2([b,x,w],{indexes:[1]});const S=await _y(e,t,b,i,o),C=await _y(e,t,w,i,o),$=await _y(e,t,x,i,o),M=ZC(s,S,a,null),I=ZC(s,C,a,null),T=ZC(s,$,a,null);let O=M.previous<=d,L=I.previous<=d;if(O&&L&&(M.previous<=I.previous?(O=!0,L=!1):(L=!0,O=!1)),O?y=[b,S]:L?y=[w,C]:T.previous<=d&&(y=[x,$]),y)break}return y}async function _y(e,t,r,n,i){const{getSize:o}=await ae(()=>Promise.resolve().then(()=>Im),void 0,import.meta.url);return o(e,r,{scale:n,view:i,shape:t.type==="simple-marker"?t.style:null})}function w$e(e,t){const r=e.clone();if(Mc(r))KI(r)||r.symbolLayers.forEach(n=>{n.type!=="fill"&&(n.size=t)});else if(a$e(r))r.size=t;else if(l$e(r)){const n=r.width,i=r.height;r.height=t,r.width=t*(n/i)}else c$e(r)?r.width=t:u$e(r)&&r.font&&(r.font.size=t);return r}Ce.getLogger("esri.renderers.support.utils");function ss(e,t,r){xK(e,t,()=>[]).push(...r)}async function _$e(e){var r,n;const t=new Map;if("visualVariables"in e&&e.visualVariables){const i=e.visualVariables.filter(o=>o.type==="color");for(const o of i){const s=o.field||o.valueExpression,a=(await EA(o)).map(l=>l.color);ss(t,s,a)}}if(e.type==="heatmap"){const i=ZX(e).map(o=>o.color);ss(t,e.field,i)}else if(e.type==="pie-chart"){for(const i of e.attributes)ss(t,i.field,[i.color]);ss(t,null,[(r=e==null?void 0:e.othersCategory)==null?void 0:r.color,Dm(e.backgroundFillSymbol,null)])}else if(e.type==="dot-density"){for(const i of e.attributes)ss(t,i.field,[i.color]);ss(t,null,[e.backgroundColor])}else if(e.type==="unique-value")if(((n=e.authoringInfo)==null?void 0:n.type)==="predominance")for(const i of e.uniqueValueInfos)ss(t,i.value.toString(),[Dm(i.symbol,null)]);else{const i=e.uniqueValueInfos.map(c=>Dm(c.symbol,null)),{field:o,field2:s,field3:a,valueExpression:l}=e;(o||l)&&ss(t,o||l,i),s&&ss(t,s,i),a&&ss(t,a,i)}else if(e.type==="class-breaks"){const i=e.classBreakInfos.map(o=>Dm(o.symbol,null));ss(t,e.field||e.valueExpression,i)}else e.type==="simple"&&ss(t,null,[Dm(e.symbol,null)]);return"defaultSymbol"in e&&e.defaultSymbol&&ss(t,null,[Dm(e.defaultSymbol,null)]),t.forEach((i,o)=>{const s=Oue(i.filter(Boolean),(a,l)=>JSON.stringify(a)===JSON.stringify(l));t.set(o,s)}),t}function x$e(e){const r=Math.floor(Math.log10(Math.abs(e)))+1,n=r<4||r>6?4:r,i=1e6,o=Math.abs(e)>=i?"compact":"standard";return Ec(e,{notation:o,minimumSignificantDigits:2,maximumSignificantDigits:n})}const sd=Ce.getLogger("esri.widgets.Legend.support.ActiveLayerInfo"),S$e="https://utility.arcgis.com/sharing/tools/legend",C$e="esri.layers.ImageryLayer",$$e="esri.layers.ImageryTileLayer",E$e="esri.layers.WCSLayer",aS=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,I$e=new Et({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),O8={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},lS=new jo({size:6,outline:{color:[128,128,128,.5],width:.5}}),M$e=new Lc({style:"solid"});function PA(e){return e.type==="flow"}function pee(e){return e.type==="vector-field"}function hee(e){return e.type==="raster-colormap"}function fee(e){return e.type==="raster-stretch"}function mee(e){return e.type==="raster-shaded-relief"}function xy(e){return e.declaredClass==="esri.renderers.SimpleRenderer"}function Sy(e){return e.declaredClass==="esri.renderers.ClassBreaksRenderer"}function OA(e){return e.declaredClass==="esri.renderers.UniqueValueRenderer"}function yee(e){return e.declaredClass==="esri.renderers.HeatmapRenderer"}function T$e(e){return k5(e)||P5(e)||O5(e)||k$e(e)}function k$e(e){return e.declaredClass==="esri.renderers.PointCloudRGBRenderer"}function k5(e){return e.declaredClass==="esri.renderers.PointCloudClassBreaksRenderer"}function P5(e){return e.declaredClass==="esri.renderers.PointCloudStretchRenderer"}function O5(e){return e.declaredClass==="esri.renderers.PointCloudUniqueValueRenderer"}function gee(e){return e.declaredClass==="esri.renderers.DotDensityRenderer"}function vee(e){return e.declaredClass==="esri.renderers.PieChartRenderer"}function P$e(e,t){return xy(e)||Sy(e)||OA(e)||yee(e)||gee(e)||vee(e)?t.type==="2d"||Axe(e):fee(e)||hee(e)||mee(e)||k5(e)||P5(e)||O5(e)||pee(e)||PA(e)}function L8(e){return e.declaredClass==="esri.layers.BuildingSceneLayer"}function O$e(e){return e.declaredClass==="esri.layers.VoxelLayer"}function L$e(e){return e.declaredClass==="esri.layers.WMSLayer"}function R$e(e){return e.declaredClass==="esri.layers.WMTSLayer"}function R8(e){return e.declaredClass==="esri.layers.MapImageLayer"}function A$e(e){return e.declaredClass==="esri.layers.TileLayer"}function F$e(e){return e.declaredClass==="esri.layers.FeatureLayer"}function Av(e){return e.declaredClass===C$e}function ck(e){return e.declaredClass===$$e}function N$e(e){return e.declaredClass===E$e}function D$e(e){return e.type==="stretch-ramp"}function z$e(e){var t;return((t="authoringInfo"in e&&(e==null?void 0:e.authoringInfo))==null?void 0:t.type)==="univariate-color-size"}function V$e(e){const t="authoringInfo"in e&&(e==null?void 0:e.authoringInfo);return(t==null?void 0:t.type)==="univariate-color-size"&&(t==null?void 0:t.univariateTheme)==="above-and-below"}const j$e=new jo({style:"path",path:"M10,5 L5,0 0,5 M5,0 L5,15",size:15,outline:{width:1,color:[85,85,85,1]}});let Vm={},On=class extends Ve{constructor(e){super(e),this._handles=new bn,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new We,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange("ready");this._handles.add([Vo(()=>this.children,"change",t=>{const{added:r,removed:n}=t,i=this._handles;r.forEach(o=>{const s=`activeLayerInfo-ready-watcher-${o.layer.uid}`;i.add(fe(()=>o.ready,e,At),s)}),n.forEach(o=>i.remove(o.layer.uid)),e()})]),this.keepCacheOnDestroy||(Vm={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Vm=null)}get effectList(){const e=this.layer;let t=null;return"effect"in e&&e.effect&&(t=new ql,t.effect=e.effect,t.end(),t.scale=this.scale),t}get opacity(){var i;const e=this.layer.opacity,t=(i=this.parent)==null?void 0:i.opacity,r=this.layer.parent,n=r&&"uid"in r?this._getParentLayerOpacity(r):null;return t!=null?t*e:n!=null?n*e:e}get ready(){return this.layer===null||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(e===null)return!1;if("effect"in e&&e.effect&&Array.isArray(e.effect))return!0;if("featureReduction"in e&&e.featureReduction){if(e.featureReduction.type==="cluster")return!0;if(e.featureReduction.type==="binning"&&"renderer"in e.featureReduction&&e.featureReduction.renderer)return this._isRendererScaleDriven(e.featureReduction.renderer)}return"renderer"in e&&e.renderer?this._isRendererScaleDriven(e.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get("version")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange("ready");const t=Array.from(e,r=>{if(F$e(r))return this._getRendererLegendElements(r.renderer,{title:r.title});if(r.featureSet&&r.featureSet.features.length){const n=r.layerDefinition,i=n&&n.drawingInfo,o=i&&Lxe(i.renderer),s=I$e.read(n.geometryType);return o?this._getRendererLegendElements(o,{title:r.name,geometryType:s}):(sd.warn("drawingInfo not available!"),null)}return null});try{const r=[];await yn(t).then(n=>{n.forEach(({value:i})=>i&&r.push(...i))}),this.legendElements=r,this.notifyChange("ready")}catch(r){sd.warn("error while building legend for layer!",r)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange("ready")}catch(t){sd.warn("error while building legend for layer!",t)}}async buildLegendElementsForTools(){var t,r;const e=this.layer;if(O$e(e))this._constructLegendElementsForVoxellayer();else if(R$e(e))this._constructLegendElementsForWMTSlayer();else if(L$e(e))await this._constructLegendElementsForWMSSublayers();else if(L8(e))await this._constructLegendElementsForBuildingSceneLayer();else if(R8(e)||A$e(e)||L8(e))await this._constructLegendElementsForSublayers();else{this._handles.remove("imageryLayers-watcher");let n="default";Av(e)&&(n=(((t=e==null?void 0:e.renderingRule)==null?void 0:t.functionName)||"default")+"_"+((r=e.bandIds)!=null&&r.length?e.bandIds.join(""):"###")),await this._getLegendLayers(`${e.uid}-${n}`).then(async i=>{this.legendElements=[],this.notifyChange("ready");const o=i.map(async s=>{if(Av(e)||ck(e)){const l=fe(()=>["renderingRule"in e&&e.renderingRule,e.bandIds],()=>uI(async()=>{Vm.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()})());this._handles.add(l,"imageryLayers-watcher")}const a=this._generateSymbolTableElementForLegendLayer(s);a&&a.infos.length&&(Av(e)&&(a.title=e.title),this.legendElements.push(a)),this.notifyChange("ready")});await yn(o)}).catch(i=>{sd.warn("Request to server for legend has failed!",i)})}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,r=t&&"createQuery"in t&&"queryFeatureCount"in t;if(!r&&!(t&&"createQuery"in e&&"queryFeatureCount"in e))return!0;await I_(()=>!t.updating);const n=r?"createQuery"in t&&t.createQuery():"createQuery"in e&&e.createQuery();return n.geometry=this.view.extent,(r?"queryFeatureCount"in t&&await t.queryFeatureCount(n):"queryFeatureCount"in e&&await e.queryFeatureCount(n))!==0}_getParentLayerOpacity(e){let t=1;const r=e.parent;return r&&"uid"in r&&(t=this._getParentLayerOpacity(r)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some(t=>t.ready)}_isRendererScaleDriven(e){if(e.type==="dot-density")return!0;const t="valueExpression"in e&&e.valueExpression;if(aS.test(t))return!0;const r="visualVariables"in e&&e.visualVariables;return!!r&&r.some(n=>this._isScaleDrivenSizeVariable(n))}_isScaleDrivenSizeVariable(e){if(e&&e.type!=="size")return!1;const t=e,r=t.minSize,n=t.maxSize;return typeof r=="object"&&r?this._isScaleDrivenSizeVariable(r):typeof n=="object"&&n?this._isScaleDrivenSizeVariable(n):!!t.expression||aS.test(t.valueExpression)}_isLayerScaleDriven(e){if("minScale"in e&&e.minScale>0||"maxScale"in e&&e.maxScale>0)return!0;if("sublayers"in e&&e.sublayers)return e.sublayers.some(r=>this._isLayerScaleDriven(r));const t=e.parent;if(e.loaded===!1&&t&&R8(t)&&"source"in e&&e.source&&e.source.type==="map-layer"){for(const r of t.sourceJSON.layers)if(r.id===e.source.mapLayerId&&(r.minScale>0||r.maxScale>0))return!0}return!1}async _constructLegendElementsForVoxellayer(){var o;this.legendElements=[],this._handles.remove("voxel-style-watcher");const e=this.layer;this._handles.add(fe(()=>e.currentVariableId,()=>this._constructLegendElementsForVoxellayer()),"voxel-style-watcher");const t=e.getVariableStyle(null),r=[];if(t){if((o=t.uniqueValues)!=null&&o.length){const s=[];t.uniqueValues.forEach(a=>{a.enabled&&s.push({label:a.label||`${a.value}`,value:a.value,symbol:new Lc({color:a.color,outline:null})})}),s.length&&r.push({type:"symbol-table",title:t.label,infos:s})}else if(t.transferFunction){const{colorStops:s,stretchRange:a}=t.transferFunction,l=s.toArray().reverse(),c=a.map((p,f)=>`${f===0?GX:HX} ${x$e(p)}`).reverse(),d=l.map(p=>({color:p.color,value:null,label:null}));d[0].label=c[0],d[d.length-1].label=c[1],r.push({type:"color-ramp",title:t.label,infos:d,preview:Dh(l.map(p=>p.color))})}}const n=e.opacity,i=r.reduce((s,a)=>s.concat(this._getAllInfos(a)),[]).filter(s=>!!(s!=null&&s.symbol)).map(s=>this._getSymbolPreview(s,n));await yn(i),this.legendElements=r,this.notifyChange("ready")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove("wmts-activeLayer-watcher");const e=this.layer.activeLayer;if(this._handles.add(fe(()=>{const{layer:t}=this;return t&&"activeLayer"in t&&t.activeLayer},()=>this._constructLegendElementsForWMTSlayer()),"wmts-activeLayer-watcher"),e.styleId&&e.styles){let t=null;e.styles.some(r=>e.styleId===r.id&&(t=r.legendUrl,!0)),t&&(this.legendElements=[{type:"symbol-table",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange("ready")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove("wms-sublayers-watcher");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(fe(()=>{const{layer:r}=this;return r&&"sublayers"in r&&r.sublayers},()=>this._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange("ready")}async _generateLegendElementsForWMSSublayers(e,t){const r=[];this._handles.add(e.on("change",()=>this._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher");const n=e.toArray();for(const i of n){const o=fe(()=>[i.title,i.visible,i.legendEnabled],()=>this._constructLegendElementsForWMSSublayers());if(this._handles.add(o,"wms-sublayers-watcher"),!this.respectLayerVisibility||i.visible&&i.legendEnabled){const s=await this._generateSymbolTableElementForWMSSublayer(i,t);s&&s.infos.length&&r.unshift(s)}}return r}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const r=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter(n=>n);return{type:"symbol-table",title:e.title,infos:r}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){var s;let r=e.legendUrl;if(!r)return;const n={type:"symbol-table",title:e.title||e.name||e.id&&e.id+"",infos:[]};t&&(r=mC(r,t));let i=null;const o=(s=e.layer)==null?void 0:s.opacity;try{i=(await _r(r,{responseType:"image"})).data,i&&(i.style.opacity=o)}catch{}return n.infos.push({src:r,preview:i,opacity:o}),n}_getLegendLayers(e,t){const r=Vm&&Vm[e];return r?Promise.resolve(r):this._legendRequest(t).then(n=>{const i=n.layers;return Vm[e]=i,i})}_legendRequest(e){const t=this.layer;let r={f:"json",dynamicLayers:e};if(Av(t)){const i=t.exportImageServiceParameters.renderingRule;if(i&&(r.renderingRule=JSON.stringify(i.rasterFunctionDefinition||i.toJSON())),t.bandIds&&(r.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:o,viewId:s,customParameters:a}=t;r={raster:o,viewId:s,...r,...a}}}let n=t.url.replace(/(\/)+$/,"");if("version"in t&&t.version>=10.01){const i=n.indexOf("?");i>-1?n=n.substring(0,i)+"/legend"+n.substring(i):n+="/legend"}else{const i=n.toLowerCase().indexOf("/rest/"),o=n.substring(0,i)+n.substring(i+5,n.length);n=S$e+"?soapUrl="+encodeURI(o)+"&returnbytes=true"}return _r(n,{query:r}).then(i=>i.data)}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove("sublayers-watcher");const e=this.layer;this._handles.add(fe(()=>e.sublayers,()=>this._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange("ready")}catch(t){sd.warn("Request to server for legend has failed!",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let r=[];this._handles.add(e.on("change",()=>this._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");const n=e.toArray();for(const i of n){const o=fe(()=>["renderer"in i&&i.renderer,i.opacity,i.title,i.visible],()=>this._constructLegendElementsForBuildingSceneLayer());if(this._handles.add(o,"sublayers-watcher"),!this.respectLayerVisibility||i.visible){const s=i&&i.opacity!=null?i.opacity:null,a=s!=null?s*t:t;if(i.type==="building-group"){const l={type:"symbol-table",title:i.title,infos:[]},c=await this._generateLegendElementsForBuildingSublayers(i.sublayers,a);l.infos.push(...c),r=[l,...r]}else i.renderer&&(r=[...await this._getRendererLegendElements(i.renderer,{title:i.title,opacity:a,sublayer:i}),...r])}}return r.filter(i=>!!i&&(!("infos"in i)||i.infos.length>0))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove("sublayers-watcher");const e=this.layer;this._handles.add(fe(()=>e.sublayers,()=>this._constructLegendElementsForSublayers),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange("ready")}catch(t){sd.warn("Request to server for legend has failed!",t)}}async _generateLegendElementsForSublayers(e,t,r){const n=this.layer;let i=[];this._handles.add(e.on("change",()=>this._constructLegendElementsForSublayers()),"sublayers-watcher");let o=e.toArray();!r&&this.sublayerIds&&this.sublayerIds.length&&(o=this.sublayerIds.map(s=>n.findSublayerById(s)).filter(Boolean));for(const s of o){const a=fe(()=>[s.renderer,s.opacity,s.title,s.visible,s.legendEnabled],()=>this._constructLegendElementsForSublayers());if(this._handles.add(a,"sublayers-watcher"),!this.respectLayerVisibility||s.visible&&s.legendEnabled&&this._isSublayerInScale(s)){const l=s&&s.opacity!=null?s.opacity:null,c=l!=null?l*t:t;if(s.renderer&&!s.sublayers&&s.originIdOf("renderer")>ht.SERVICE)await s.load(),i=[...await this._getRendererLegendElements(s.renderer,{title:s.title,opacity:c,sublayer:s}),...i];else{const d=await this._generateSymbolTableElementForSublayer(s,c,r);d&&i.unshift(d)}}}return i.filter(s=>!!s&&(!("infos"in s)||s.infos.length>0))}async _generateSymbolTableElementForSublayer(e,t,r){if(!r){r=new Map;const i=this.layer,o=e.source;let s=null;if(!(!o||o.type==="map-layer"&&o.mapLayerId===e.id&&(!o.gdbVersion||o.gdbVersion===("gdbVersion"in i&&i.gdbVersion)))||e.originIdOf("renderer")>ht.SERVICE||e.originIdOf("labelingInfo")>ht.SERVICE||e.originIdOf("labelsVisible")>ht.SERVICE){const l=new ds({layer:this.layer});s=l.hasDynamicLayers?l.dynamicLayers:null,l.destroy()}const a=s||`${i.uid}-default`;(await this._getLegendLayers(a,s)).forEach(l=>r.set(l.layerId,l))}const n=r.get(e.id);if((!n||(n==null?void 0:n.subLayerIds)&&n.defaultVisibility)&&e.sublayers){const i=await this._generateLegendElementsForSublayers(e.sublayers,t,r);return{type:"symbol-table",title:e.title,infos:i}}return this._generateSymbolTableElementForLegendLayer(n,e,t)}_generateSymbolTableElementForLegendLayer(e,t,r){var a;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const n=t==null?void 0:t.renderer;let i=(t==null?void 0:t.title)||e.layerName;if(n&&(!t||(t==null?void 0:t.originIdOf("renderer"))>ht.SERVICE)){const l=(t==null?void 0:t.title)||this._getRendererTitle(n,t);l&&(i&&typeof l!="string"&&"title"in l&&(l.title=i),i=l)}const o={type:"symbol-table",title:i,legendType:e.legendType?e.legendType:null,infos:[]},s=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return((a=e.legendGroups)==null?void 0:a.length)>0?e.legendGroups.forEach(l=>{var d;const c={type:"symbol-table",title:l.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(s.filter(p=>p.groupId===l.id),e.layerId,r)};((d=c.infos)==null?void 0:d.length)>0&&o.infos.push(c)}):o.infos=this._generateSymbolTableElementInfosForLegendLayer(s,e.layerId,r),o.infos.length>0?o:null}_generateSymbolTableElementInfosForLegendLayer(e,t,r){return e.map(n=>{let i=n.url;if(n.imageData&&n.imageData.length>0)i=`data:image/png;base64,${n.imageData}`;else{if(i.indexOf("http")===0)return null;i=$he(`${this.layer.url}/${t}/images/${i}`)}return{label:n.label,src:i,opacity:r==null?this.opacity:r,width:n.width,height:n.height}}).filter(n=>!!n)}_isSublayerInScale(e){const t=e.minScale||0,r=e.maxScale||0;return!(t>0&&t<this.scale||r>this.scale)}_isLegendLayerInScale(e,t){const r=t||this.layer;let n=null,i=null,o=!0;return!r.minScale&&r.minScale!==0||!r.maxScale&&r.maxScale!==0?(e.minScale===0&&r.tileInfo&&(n=r.tileInfo.lods[0].scale),e.maxScale===0&&r.tileInfo&&(i=r.tileInfo.lods[r.tileInfo.lods.length-1].scale)):(n=Math.min(r.minScale,e.minScale)||r.minScale||e.minScale,i=Math.max(r.maxScale,e.maxScale)),(n>0&&n<this.scale||i>this.scale)&&(o=!1),o}_sanitizeLegendForSublayer(e,t){if("version"in this.layer&&this.layer.version<10.1||e.length===0)return e;const r=t.renderer,n=e.some(s=>s.values);let i=null,o=null;return n&&e.some((s,a)=>(s.values||(i=a,o=s,o.label||(o.label="others")),o!=null)),r?r.type==="unique-value"?o&&(e.splice(i,1),e.push(o)):r.type==="class-breaks"&&(o&&e.splice(i,1),e.reverse(),o&&e.push(o)):o&&(e.splice(i,1),e.push(o)),e}async _getRendererLegendElements(e,t={}){return P$e(e,this.view)?T$e(e)?this._constructPointCloudRendererLegendElements(e,t):gee(e)?this._constructDotDensityRendererLegendElements(e):vee(e)?this._constructPieChartRendererLegendElements(e):this._constructRendererLegendElements(e,t):(sd.warn(`Renderer of type '${e.type}' not supported!`),[])}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const r=t.title,n=[];let i=null,o=null;if(k5(e))i={type:"symbol-table",title:r||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach(a=>{i.infos.unshift({label:a.label||a.minValue+" - "+a.maxValue,value:[a.minValue,a.maxValue],symbol:this._getAppliedCloneSymbol(lS,a.color)})});else if(P5(e)){const a=e.stops;let l=null;if(a.length&&(a.length===1&&(l=a[0].color),!l)){const d=a[0].value,p=a[a.length-1].value;d!=null&&p!=null&&(l=JX(d+(p-d)/2,a))}i={type:"symbol-table",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(lS,l||lS.color)}]};const c=RCe(e.stops);o={type:"color-ramp",title:r||this._getPointCloudRendererTitle(e),infos:c,preview:Dh(c.map(d=>d.color))}}else O5(e)&&(i={type:"symbol-table",title:r||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach(a=>{i.infos.push({label:a.label||a.values.join(", "),value:a.values.join(", "),symbol:this._getAppliedCloneSymbol(lS,a.color)})}));i&&i.infos.length&&n.push(i),o&&o.infos.length&&n.push(o);const s=n.reduce((a,l)=>a.concat(l.infos),[]).filter(a=>!!a.symbol).map(a=>this._getSymbolPreview(a,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}}));return yn(s).then(()=>n)}_getElementInfoForDotDensity(e,t){var f;const{backgroundColor:r,outline:n,dotSize:i}=e,o=(f=this.effectList)==null?void 0:f.effects.map(y=>y.toJSON()),s=j2(o),a=i+"-"+t+"-"+r+"-"+(n&&JSON.stringify(n.toJSON()))+"-"+s,l=this._dotDensityUrlCache,c=l.has(a)?l.get(a):vCe(e,t);l.set(a,c);const d={shape:{type:"image",x:0,y:0,width:c.width,height:c.height,src:c.src},fill:null,stroke:null,offset:[0,0]},p=j_([[d]],[c.width,c.height],{effectView:this.effectList});return{opacity:1,src:c.src,preview:p,width:c.width,height:c.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),r=e.legendOptions&&e.legendOptions.unit,n={type:"symbol-table",title:{value:t&&Math.round(t),unit:r||""},infos:[]};return e.attributes.forEach(i=>{const o=this._getElementInfoForDotDensity(e,i.color);o.label=i.label||i.valueExpressionTitle||i.field,n.infos.push(o)}),Promise.resolve([n])}async _constructPieChartRendererLegendElements(e){var l,c,d,p;const t=this.layer.opacity,r=[],n="Others",i=e.outline;e.attributes.forEach(f=>{const y=new jo({color:f.color,outline:i}),g=f.label||f.valueExpressionTitle||f.field;r.push({label:g,symbol:y})});const o=r.length?[...r]:[];if(((l=e.othersCategory)==null?void 0:l.color)&&((c=e.othersCategory)==null?void 0:c.threshold)!==0){const f=new jo({color:e.othersCategory.color,outline:i});r.push({label:e.othersCategory.label||n,symbol:f})}if((d=e.defaultColor)!=null&&d.a){const f=new jo({color:e.defaultColor,outline:i});r.push({label:e.defaultLabel,symbol:f})}const s=await this._getVisualVariableLegendElements(e,this.layer)||[];if(r.length){s.unshift({type:"symbol-table",title:null,infos:r});const f=o.filter(g=>g.label!==n).map(g=>g.symbol.color).filter(Boolean),y=bCe(f,{holePercentage:e.holePercentage,backgroundColor:(p=e.backgroundFillSymbol)==null?void 0:p.color,effectList:this.effectList,outline:i});s.unshift({type:"pie-chart-ramp",title:this._getRendererTitle(e,this.layer),infos:r,preview:y})}const a=s.reduce((f,y)=>f.concat(this._getAllInfos(y)),[]).filter(f=>!!(f!=null&&f.symbol)&&!(f!=null&&f.preview)).map(f=>this._getSymbolPreview(f,t,{effectList:this.effectList}));return await yn(a),s}async _constructRendererLegendElements(e,t={}){var b;const{title:r,sublayer:n}=t,i=n||this.layer;let o=await this._loadRenderer(e);this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const s=await this._getVisualVariableLegendElements(o,i)||[],a={type:"symbol-table",title:r||this._getRendererTitle(o,i),infos:[]};let l=null,c=!1;const d=new Set;if(PA(o)&&!this._hasSizeRamp){const w=await WX(o);a.infos.push({label:null,symbol:w})}else if(z$e(o)){let w=r;const x=V$e(o)?"univariate-above-and-below-ramp":"univariate-color-size-ramp",S=s.findIndex(T=>T.type==="color-ramp"),C=S!==-1?s.splice(S,1)[0]:null,$=s.findIndex(T=>T.type==="size-ramp"),M=$!==-1?s.splice($,1)[0]:null,I=[];C&&(w=C.title,I.push(C)),M&&(w=M.title,I.push(M)),I.length>0&&s.push({type:x,title:w,infos:I})}else if(yee(o)){const w=ZX(o);s.push({type:"heatmap-ramp",title:r||((b=o.legendOptions)==null?void 0:b.title),infos:w,preview:Dh(w.map(x=>x.color),{effectList:this.effectList})})}else if(OA(o)){const w=o&&o.authoringInfo;if(w&&w.type==="relationship"){const{focus:x,numClasses:S,field1:C,field2:$}=w;if(S&&C&&$){const M=[C,$];let I=oee(x)||0;for(const O of M){const{field:L,normalizationField:N,label:H}=O,F=H||{field:this._getFieldAlias(L,i),normField:N&&this._getFieldAlias(N,i)},k=j$e.clone();k.angle=I,a.infos.push({label:F,symbol:k}),d.add(k),I+=90}const T=e$e({focus:x,numClasses:S,infos:o.uniqueValueInfos});s.unshift(T)}}else{const x=o.field;o.uniqueValueInfos.forEach(S=>{S.symbol&&a.infos.push({label:S.label||this._getDomainName(x,S.value,i)||S.value,value:S.value,symbol:S.symbol})})}o.defaultSymbol&&(a.infos.push({label:o.defaultLabel||"others",symbol:o.defaultSymbol}),c=!0)}else if(Sy(o))l=this._isUnclassedRenderer(o),(!l||!this._hasSizeRamp)&&(o.classBreakInfos.forEach(w=>{w.symbol&&a.infos.unshift({label:w.label||(l?null:w.minValue+" - "+w.maxValue),value:[w.minValue,w.maxValue],symbol:w.symbol})}),l&&(a.title=null),this._updateInfosforClassedSizeRenderer(o,a.infos)),o.defaultSymbol&&!l&&(a.infos.push({label:o.defaultLabel||"others",symbol:o.defaultSymbol}),c=!0);else if(fee(o))if(ck(this.layer)||N$e(this.layer)){const w=this._constructTileImageryStretchRendererElements(o);D$e(w)?s.push(w):a.infos=w}else{const w=this.layer;let x,S;o.statistics&&o.statistics.length&&(x=o.statistics[0].min!=null?o.statistics[0].min:o.statistics[0][0],S=o.statistics[0].max!=null?o.statistics[0].max:o.statistics[0][1]);let C=[];const $=w.renderingRule?await w.generateRasterInfo(w.renderingRule):w.serviceRasterInfo,M=$.keyProperties.BandProperties,I=O8[w.rasterInfo.pixelType.toLowerCase()];$.bandCount===1||w.bandIds&&w.bandIds.length===1?(x=x!=null?x:$.statistics?$.statistics[w.bandIds[0]].min:I[0],S=S!=null?S:$.statistics?$.statistics[w.bandIds[0]].max:I[1],x||S?s.push(this._getStretchLegendElements(o,{min:x,max:S})):this._getServerSideLegend()):$.bandCount>=3?M&&M.length>=$.bandCount?w.bandIds&&w.bandIds.length===3?(C=w.bandIds.map(T=>M[T].BandName),a.infos=this._createSymbolTableElementMultiBand(C)):w.format==="lerc"?(C=[0,1,2].map(T=>M[T].BandName),a.infos=this._createSymbolTableElementMultiBand(C)):this._getServerSideLegend():w.format==="lerc"?(C=["band1","band2","band3"],a.infos=this._createSymbolTableElementMultiBand(C)):this._getServerSideLegend():this._getServerSideLegend()}else if(hee(o))o.colormapInfos.forEach(w=>{a.infos.push({label:w.label,value:w.value,symbol:this._getAppliedCloneSymbol(M$e,w.color)})});else if(xy(o)){let w=o.symbol;switch(t.geometryType){case"point":w="pointSymbol"in i&&i.pointSymbol;break;case"polyline":w="lineSymbol"in i&&i.lineSymbol;break;case"polygon":w="polygonSymbol"in i&&i.polygonSymbol}o.symbol&&!this._hasSizeRamp&&a.infos.push({label:o.label,symbol:w})}else if(pee(o)){o.outputUnit&&(this.title="("+o.toJSON().outputUnit+")"),a.title=o.attributeField;const w=o.getClassBreakInfos();w!=null&&w.length?w.forEach(x=>{a.infos.push({label:x.minValue+" - "+x.maxValue,symbol:x.symbol})}):a.infos.push({label:o.attributeField,symbol:o.getDefaultSymbol()})}else mee(o)&&s.push(this._getStretchLegendElements(o,{min:0,max:255}));const p=o.defaultSymbol;!p||c||xy(o)||l&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||s.push({type:"symbol-table",infos:[{label:o.defaultLabel||"others",symbol:p}]}),a.infos.length&&s.unshift(a);const f=t.opacity==null?this.opacity:t.opacity,y=this._isTallSymbol("visualVariables"in o&&o.visualVariables),g=Av(this.layer)||ck(this.layer),v=s.reduce((w,x)=>w.concat(this._getAllInfos(x)),[]).filter(w=>!!(w!=null&&w.symbol)).map(w=>this._getSymbolPreview(w,f,{isDefault:w.symbol===p,applyScaleDrivenSize:!d.has(w.symbol),symbolConfig:{isTall:y,isSquareFill:g},effectList:d.has(w.symbol)?null:this.effectList}));return o=null,await yn(v),s}_getServerSideLegend(){setTimeout(()=>this.buildLegendElementsForTools(),0)}_getAllInfos(e){const t=e==null?void 0:e.infos;return t?t.reduce((r,n)=>r.concat(this._getAllInfos(n)),[]):[e]}_constructTileImageryStretchRendererElements(e){var d,p;const t=this.layer,r=t.rasterInfo,n=r.bandCount||e.statistics.length;let i,o,s=[];const a=r.keyProperties&&r.keyProperties.BandProperties,l=(d=e==null?void 0:e.statistics)!=null&&d.length?e.statistics:r==null?void 0:r.statistics;if(l)i=l[0].min!==void 0?l[0].min:l[0][0],o=l[0].max||l[0][1];else{const f=O8[t.rasterInfo.pixelType.toLowerCase()];i=f[0],o=f[1]}if(t.hasStandardTime()&&(i=t.getStandardTimeValue(i),o=t.getStandardTimeValue(o)),r.bandCount===1||((p=t.bandIds)==null?void 0:p.length)===1)return this._getStretchLegendElements(e,{min:i,max:o});function c(f){var g;const y=((g=t==null?void 0:t.bandIds)!=null&&g.length?t.bandIds:Array.from(Array(Math.min(r.bandCount,3)).keys())).map(v=>f&&f[v]&&f[v].BandName||"band"+(v+1));return y.length<3?y.push(y[1]):y.length>3&&y.splice(3),y}return s=a&&a.length>=n?c(a):c(),this._createSymbolTableElementMultiBand(s)}_getStretchLegendElements(e,t){const r=e.colorRamp,n=FCe(r,t);return{type:"stretch-ramp",title:"",infos:n,preview:Dh(n.map(i=>i.color))}}async _getSizeLegendElement(e,t,r,n){return{type:"size-ramp",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await p$e(r,t,await $A(r),this.scale,this.view.type,n)}}_createSymbolTableElementMultiBand(e){const t=[],r=["red","green","blue"];return e.forEach((n,i)=>{var o;t.push({label:{colorName:r[i],bandName:n},src:PCe[i],opacity:(o=this.opacity)!=null?o:1})}),t}_updateInfosforClassedSizeRenderer(e,t){const r=e.authoringInfo&&e.authoringInfo.type==="class-breaks-size",n=e.classBreakInfos.some(i=>KI(i.symbol));if(r&&n){const i=TA,o=kA,s=e.classBreakInfos.length,a=(i-o)/(s>1?s-1:s);t.forEach((l,c)=>{l.size=i-a*c})}}_isTallSymbol(e){let t=!1,r=!1;if(e)for(let n=0;n<e.length&&(!t||!r);n++){const i=e[n];i.type==="size"&&(i.axis==="height"&&(t=!0),i.axis==="width-and-depth"&&(r=!0))}return t&&r}async _getSymbolPreview(e,t,r){let n=!(r!=null&&r.isDefault)&&e.size==null&&this._hasSizeRamp?xa(zn.size):e.size;if(this._scaleDrivenSizeVariable&&(r==null?void 0:r.applyScaleDrivenSize)){const{getSize:i}=await ae(()=>Promise.resolve().then(()=>Im),void 0,import.meta.url);n=i(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:e.symbol.type==="simple-marker"?e.symbol.style:null})}return BX(e.symbol,{size:n,opacity:t,scale:!1,symbolConfig:r==null?void 0:r.symbolConfig,effectView:r==null?void 0:r.effectList}).then(i=>(e.preview=i,e)).catch(()=>(e.preview=null,e))}async _loadRenderer(e){var o,s;const t=[],r=this.layer;e=e.clone(),this._hasClusterSizeVariable=!1;const n="visualVariables"in e&&((o=e.visualVariables)==null?void 0:o.some(a=>a.type==="size"&&a.target!=="outline"&&!aS.test(a.valueExpression)));if(e&&"visualVariables"in e&&!n&&"featureReduction"in r&&((s=r.featureReduction)==null?void 0:s.type)==="cluster"){const a=this.layerView._effectiveRenderer,l=SCe(a,this.view);if(l){const c=r.featureReduction;if("clusterMinSize"in c&&"clusterMaxSize"in c){const{clusterMinSize:p,clusterMaxSize:f}=c;l.legendOptions=new PQ({showLegend:p!==f})}const d=e.visualVariables||[];e.visualVariables=d.concat([l]),this._hasClusterSizeVariable=!0}}const i=await $A(e);if(Sy(e)||OA(e)){const a=(e.classBreakInfos||e.uniqueValueInfos).map(l=>this._fetchSymbol(l.symbol,i).then(c=>{l.symbol=c}).catch(()=>{l.symbol=null}));Array.prototype.push.apply(t,a)}return t.push(this._fetchSymbol(e.symbol||e.defaultSymbol,e.defaultSymbol?null:i).then(a=>{this._applySymbolToRenderer(e,a,xy(e))}).catch(()=>{this._applySymbolToRenderer(e,null,xy(e))})),yn(t).then(()=>e)}_applySymbolToRenderer(e,t,r){r?e.symbol=t:e.defaultSymbol=t}async _fetchSymbol(e,t){if(!e)throw new Error;if(e.type==="web-style"){const r=this._webStyleSymbolCache;try{const n=await(this.view.type==="2d"?e.fetchCIMSymbol({cache:r}):e.fetchSymbol({cache:r}));return this._getAppliedCloneSymbol(n,t)}catch{throw sd.warn("Fetching web-style failed!"),new Error}}return this._getAppliedCloneSymbol(e,t)}_getAppliedCloneSymbol(e,t){if(!e||!t)return e;const r=e.clone(),n=t&&t.toRgba();return r.type.includes("3d")?this._applyColorTo3dSymbol(r,n):r.type==="cim"?vX(r,t):r.color&&(r.color=new ze(n||r.color)),r}_applyColorTo3dSymbol(e,t){t&&e.symbolLayers.forEach(r=>{r&&(r.material||(r.material={}),r.material.color=new ze(t))})}async _getVisualVariableLegendElements(e,t){if(!("visualVariables"in e)||!e.visualVariables||e.type==="vector-field")return null;const r=e.visualVariables,n=[],i=[],o=[];for(const d of r)d.type==="color"?n.push(d):d.type==="size"?i.push(d):d.type==="opacity"&&o.push(d);const s=[...n,...i,...o];let a,l;if(n.length===0&&Sy(e)&&e.classBreakInfos&&e.classBreakInfos.length===1){const d=e.classBreakInfos[0];a=d&&d.symbol}if(n.length===0&&xy(e)&&(a=e.symbol),a)if(a.type.includes("3d")){const d=a.symbolLayers.getItemAt(0);d.type==="water"?G(d.color)&&(l=d.color):G(d.material)&&G(d.material.color)&&(l=d.material.color)}else a.url||(l=a.color);const c=this.effectList;return(await Promise.all(s.map(async d=>{if(!d.legendOptions||d.legendOptions.showLegend!==!1){const p=PA(e)?d.field:this._getRampTitle(d,t);let f=null;const y="getField"in t&&t.getField&&t.getField(d.field),g=y&&Wve(y);if(d.type==="color"){const v=await EA(d,null,g);f={type:"color-ramp",title:p,infos:v,preview:Dh(v.map(b=>b.color),{effectList:c})},this._hasColorRamp||(this._hasColorRamp=!(f.infos==null||!f.infos.length))}else if(d.type==="size"&&d.target!=="outline")aS.test(d.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=d):(f=await this._getSizeLegendElement(p,d,e,g),this._hasSizeRamp||(this._hasSizeRamp=!(f.infos==null||!f.infos.length)));else if(d.type==="opacity"){const v=await EA(d,l,g);f={type:"opacity-ramp",title:p,infos:v,preview:Dh(v.map(b=>b.color),{effectList:c})},this._hasOpacityRamp||(this._hasOpacityRamp=!(f.infos==null||!f.infos.length))}return f&&f.infos?f:null}}))).filter(d=>!!d)}_getDomainName(e,t,r){if(e&&typeof e!="function"){const n="getField"in r&&r.getField&&r.getField(e),i=n&&"getFieldDomain"in r&&r.getFieldDomain?r.getFieldDomain(n.name):null;return i&&i.type==="coded-value"?i.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,r=e.field;if("featureReduction"in t&&t.featureReduction&&t.featureReduction.type==="cluster"){const n=t.featureReduction,i="popupTemplate"in n&&n.popupTemplate,o=i&&i.fieldInfos;if(o){for(const s of o)if(s.fieldName===r)return r==="cluster_count"?s.label||{showCount:!0}:s.label}}return{showCount:!0}}_getRampTitle(e,t){let r=e.field,n=e.normalizationField,i=!1,o=!1,s=!1,a=null;r=typeof r=="function"?null:r,n=typeof n=="function"?null:n;const l=e.legendOptions&&e.legendOptions.title;if(l!=null)a=l;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if("renderer"in t&&t.renderer&&"authoringInfo"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const c=t.renderer.authoringInfo.visualVariables;for(let d=0;d<c.length;d++){const p=c[d];if(p.type==="color"){if(p.style==="ratio"){i=!0;break}if(p.style==="percent"){o=!0;break}if(p.style==="percent-of-total"){s=!0;break}}}}a={field:r&&this._getFieldAlias(r,t),normField:n&&this._getFieldAlias(n,t),ratio:i,ratioPercent:o,ratioPercentTotal:s}}return a}_getRendererTitle(e,t){const r=e;if(r.legendOptions&&r.legendOptions.title)return r.legendOptions.title;if(r.valueExpressionTitle)return r.valueExpressionTitle;let n=r.field,i=null,o=null;Sy(r)&&(i=r.normalizationField,o=r.normalizationType==="percent-of-total"),n=typeof n=="function"?null:n,i=typeof i=="function"?null:i;let s=null;return(n||i)&&(s={field:n&&this._getFieldAlias(n,t),normField:i&&this._getFieldAlias(i,t),normByPct:o}),s}_getFieldAlias(e,t){const r="popupTemplate"in t&&t.popupTemplate,n=r&&r.fieldInfos;let i=null;n&&n.some(l=>e===l.fieldName&&(i=l,!0));let o=null;"getField"in t&&t.getField?o=t.getField(e):"fieldsIndex"in t&&t.fieldsIndex&&(o=t.fieldsIndex.get(e));const s=i||o;let a=null;return s&&(a=i&&i.label||o&&o.alias||"name"in s&&s.name||"fieldName"in s&&s.fieldName),a}_isUnclassedRenderer(e){const t=e.visualVariables;let r=!1;return Sy(e)&&e.classBreakInfos&&e.classBreakInfos.length===1&&t&&(r=e.field?t.some(n=>!(!n||e.field!==n.field||(e.normalizationField||n.normalizationField)&&e.normalizationField!==n.normalizationField)):!!t.length),r}};u([h()],On.prototype,"children",void 0),u([h({readOnly:!0})],On.prototype,"effectList",null),u([h()],On.prototype,"layerView",void 0),u([h()],On.prototype,"layer",void 0),u([h()],On.prototype,"legendElements",void 0),u([h({readOnly:!0})],On.prototype,"opacity",null),u([h()],On.prototype,"parent",void 0),u([h({readOnly:!0,dependsOn:[]})],On.prototype,"ready",null),u([h()],On.prototype,"hideLayersNotInCurrentView",void 0),u([h()],On.prototype,"keepCacheOnDestroy",void 0),u([h()],On.prototype,"respectLayerVisibility",void 0),u([h({readOnly:!0})],On.prototype,"scale",null),u([h()],On.prototype,"sublayerIds",void 0),u([h({readOnly:!0})],On.prototype,"isScaleDriven",null),u([h()],On.prototype,"title",void 0),u([h({readOnly:!0,dependsOn:["ready"],value:0})],On.prototype,"version",null),u([h()],On.prototype,"view",void 0),On=u([B("esri.widgets.Legend.support.ActiveLayerInfo")],On);const bee=On,lh={state:"state",view:"view",allLayerViews:"all-layer-views",legendProperties:"legend-properties"},wee=We.ofType(bee),B$e=["esri.layers.BuildingSceneLayer","esri.layers.CSVLayer","esri.layers.FeatureLayer","esri.layers.GeoJSONLayer","esri.layers.GeoRSSLayer","esri.layers.GroupLayer","esri.layers.HeatmapLayer","esri.layers.ImageryLayer","esri.layers.ImageryTileLayer","esri.layers.MapImageLayer","esri.layers.OGCFeatureLayer","esri.layers.PointCloudLayer","esri.layers.StreamLayer","esri.layers.SceneLayer","esri.layers.TileLayer","esri.layers.VoxelLayer","esri.layers.WFSLayer","esri.layers.WMSLayer","esri.layers.WMTSLayer","esri.layers.WCSLayer"],_ee="view.basemapView.baseLayerViews",xee="view.groundView.layerViews",See="view.basemapView.referenceLayerViews",U$e=[_ee,xee,"view.layerViews",See];let Js=class extends Ve{constructor(e){super(e),this._handles=new bn,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new We,this.activeLayerInfos=new wee,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(fe(()=>this.view,()=>this._viewHandles(),At),lh.view),this._handles.add(vJ(()=>this._refresh()))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}_viewHandles(){this._handles.remove(lh.state),this.view&&this._handles.add(fe(()=>this.state,()=>this._stateHandles(),At),lh.state)}_stateHandles(){this._resetAll(),this.state==="ready"&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([lh.allLayerViews,lh.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const t=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],t&&t.parent&&t.parent.children.remove(t)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on("change",t=>this._allLayerViewsChangeHandle(t)),lh.allLayerViews),this._handles.add(fe(()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible],()=>this._propertiesChangeHandle()),lh.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach(t=>this._destroyViewActiveLayerInfo(t.uid)),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const t=[];e.forEach(n=>{if(!n.parent){const i=n.layer.parent,o=i&&"uid"in i&&this._layerViewByLayerId[i.uid],s=o&&this._activeLayerInfosByLayerViewId[o.uid];s&&e.includes(s)&&(t.push(n),n.parent=s,s.children.add(n),this._sortActiveLayerInfos(s.children))}}),e.removeMany(t);const r={};this.view.allLayerViews.forEach((n,i)=>r[n.layer.uid]=i),e.sort((n,i)=>{const o=r[n.layer.uid]||0;return(r[i.layer.uid]||0)-o})}_generateLayerViews(){const e=[];return U$e.filter(this._filterLayerViews,this).map(this.get,this).filter(t=>t!=null).forEach(this._collectLayerViews("layerViews",e)),e}_filterLayerViews(e){const t=!this.basemapLegendVisible&&(e===_ee||e===See),r=!this.groundLegendVisible&&e===xee;return!t&&!r}_collectLayerViews(e,t){const r=n=>(n&&n.forEach(i=>{t.push(i),r(i[e])}),t);return r}_filterLayerViewsByLayerInfos(e){const t=this.layerInfos;return!t||!t.length||t.some(r=>this._hasLayerInfo(r,e))}_hasLayerInfo(e,t){const r=this._isLayerUIDMatching(e.layer,t.layer.uid);return r&&(this._layerInfosByLayerViewId[t.uid]=e),r}_isLayerUIDMatching(e,t){return e&&(e.uid===t||this._hasLayerUID(e.layers,t))}_hasLayerUID(e,t){return e&&e.some(r=>this._isLayerUIDMatching(r,t))}_isLayerViewSupported(e){return!!B$e.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(fe(()=>{var t;return[e.legendEnabled,(t=e.layer)==null?void 0:t.legendEnabled]},()=>this._layerActiveHandle(e)),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get("layer.legendEnabled")}_buildActiveLayerInfo(e){var s;const t=e.layer,r=e.uid,n=this._layerInfosByLayerViewId[r];let i=this._activeLayerInfosByLayerViewId[r];if(!i){const a=n&&n.title!==void 0&&n.layer.uid===t.uid;i=new bee({layer:t,layerView:e,title:a?n.title:t.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:n&&n.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[r]=i}const o=t.parent&&"uid"in t.parent&&this._layerViewByLayerId[(s=t.parent)==null?void 0:s.uid];if(i.parent=this._activeLayerInfosByLayerViewId[o==null?void 0:o.uid],!this._handles.has(r)){const a=[fe(()=>t.title,l=>this._titleHandle(l,i)),fe(()=>[t.opacity,"renderer"in t&&t.renderer,"pointSymbol"in t&&t.pointSymbol,"lineSymbol"in t&&t.lineSymbol,"polygonSymbol"in t&&t.polygonSymbol],()=>this._constructLegendElements(i)),qi(()=>{var l;return((l=this.view)==null?void 0:l.stationary)===!0},()=>this._scaleHandle(i),At),fe(()=>e._effectiveRenderer,()=>this._constructLegendElements(i)),fe(()=>"effect"in t&&t.effect,()=>this._constructLegendElements(i))];if(this.respectLayerVisibility){const l=fe(()=>e.legendEnabled,d=>this._legendEnabledHandle(d,i)),c=fe(()=>t.legendEnabled,d=>this._legendEnabledHandle(d,i));a.push(l,c)}this._handles.add(a,r)}i.isScaleDriven||this._constructLegendElements(i),this._addActiveLayerInfo(i)}_titleHandle(e,t){t.title=e,this._constructLegendElements(t)}_legendEnabledHandle(e,t){e?this._addActiveLayerInfo(t):this._removeActiveLayerInfo(t)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){var n;const{layerView:t,layer:r}=e;if(this._isLayerActive(t)&&!this.activeLayerInfos.includes(e)){const i=e.parent;if(i)i.children.includes(e)||i.children.push(e),this._sortActiveLayerInfos(i.children);else{const o=(n=this.layerInfos)==null?void 0:n.some(s=>s.layer.uid===r.uid);r.parent&&"uid"in r.parent&&!o?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const o=[];this._activeLayerInfosWithNoParent.forEach(s=>{const a=s.layer.parent,l=a&&"uid"in a&&this._layerViewByLayerId[a==null?void 0:a.uid],c=this._activeLayerInfosByLayerViewId[l==null?void 0:l.uid];c&&(o.push(s),s.parent=c)}),o.length&&(this._activeLayerInfosWithNoParent.removeMany(o),o.forEach(s=>this._addActiveLayerInfo(s)))}}}_removeActiveLayerInfo(e){const t=e.parent;t?t.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){var r;const t=e.layer;"featureCollections"in t&&t.featureCollections?e.buildLegendElementsForFeatureCollections(t.featureCollections):"featureReduction"in t&&((r=t.featureReduction)==null?void 0:r.type)==="binning"&&"renderer"in t.featureReduction?e.buildLegendElementsForRenderer(t.featureReduction.renderer):"renderer"in t&&t.renderer?e.buildLegendElementsForRenderer(t.renderer):"url"in t&&t.url?e.buildLegendElementsForTools():e.children.forEach(n=>this._constructLegendElements(n))}};u([h({type:wee})],Js.prototype,"activeLayerInfos",void 0),u([h()],Js.prototype,"basemapLegendVisible",void 0),u([h()],Js.prototype,"groundLegendVisible",void 0),u([h()],Js.prototype,"hideLayersNotInCurrentView",void 0),u([h()],Js.prototype,"keepCacheOnDestroy",void 0),u([h()],Js.prototype,"respectLayerVisibility",void 0),u([h()],Js.prototype,"layerInfos",void 0),u([h({readOnly:!0})],Js.prototype,"state",null),u([h()],Js.prototype,"view",void 0),Js=u([B("esri.widgets.Legend.LegendViewModel")],Js);const G$e=Js,H$e="http://www.w3.org/2000/svg",Er={diamondContainer:"esri-relationship-ramp--diamond__container",diamondLeftCol:"esri-relationship-ramp--diamond__left-column",diamondRightCol:"esri-relationship-ramp--diamond__right-column",diamondMidCol:"esri-relationship-ramp--diamond__middle-column",diamondMidColLabel:"esri-relationship-ramp--diamond__middle-column--label",diamondMidColRamp:"esri-relationship-ramp--diamond__middle-column--ramp",squareTable:"esri-relationship-ramp--square__table",squareTableRow:"esri-relationship-ramp--square__table-row",squareTableCell:"esri-relationship-ramp--square__table-cell",squareTableLabel:"esri-relationship-ramp--square__table-label",squareTableLabelLeftBottom:"esri-relationship-ramp--square__table-label--left-bottom",squareTableLabelRightBottom:"esri-relationship-ramp--square__table-label--right-bottom",squareTableLabelLeftTop:"esri-relationship-ramp--square__table-label--left-top",squareTableLabelRightTop:"esri-relationship-ramp--square__table-label--right-top"};function Cee(e,t,r,n){const{focus:i,labels:o}=e,s=!!i,a=q$e(e,t,r,n),l={justifyContent:"center"},c=gl();return s?V("div",{class:Er.diamondContainer,styles:l},V("div",{class:Er.diamondLeftCol},c?o.right:o.left),V("div",{class:Er.diamondMidCol},V("div",{class:Er.diamondMidColLabel},o.top),a,V("div",{class:Er.diamondMidColLabel},o.bottom)),V("div",{class:Er.diamondRightCol},c?o.left:o.right)):V("div",{class:Er.squareTable},V("div",{class:Er.squareTableRow},V("div",{class:ag(Er.squareTableCell,Er.squareTableLabel,Er.squareTableLabelRightBottom)},c?o.top:o.left),V("div",{class:Er.squareTableCell}),V("div",{class:ag(Er.squareTableCell,Er.squareTableLabel,Er.squareTableLabelLeftBottom)},c?o.left:o.top)),V("div",{class:Er.squareTableRow},V("div",{class:Er.squareTableCell}),a,V("div",{class:Er.squareTableCell})),V("div",{class:Er.squareTableRow},V("div",{class:ag(Er.squareTableCell,Er.squareTableLabel,Er.squareTableLabelRightTop)},c?o.right:o.bottom),V("div",{class:Er.squareTableCell}),V("div",{class:ag(Er.squareTableCell,Er.squareTableLabel,Er.squareTableLabelLeftTop)},c?o.bottom:o.right)))}function A8(e,t,r){const n=`${r}_arrowStart`,i=`${r}_arrowEnd`,o=e==="left",s={markerStart:null,markerEnd:null};switch(t){case"HL":o?s.markerStart=`url(#${i})`:s.markerEnd=`url(#${n})`;break;case"LL":s.markerStart=`url(#${i})`;break;case"LH":o?s.markerEnd=`url(#${n})`:s.markerStart=`url(#${i})`;break;default:s.markerEnd=`url(#${n})`}return s}function q$e(e,t,r,n,i=60){const{focus:o,numClasses:s,colors:a,rotation:l}=e,c=!!o,d=Math.sqrt(i**2+i**2)+(c?0:5),p=[],f=[],y=[],g=(i||75)/s;for(let L=0;L<s;L++){const N=L*g;for(let H=0;H<s;H++){const F=H*g,k=$5(a[L][H]),P=E5(null),R={type:"rect",x:F,y:N,width:g,height:g};p.push(LX(k)),f.push(C5(R,k.fill,P,null)),y.push(RX(R))}}const v=10,b=15,w=15,x=10;let S=null;c||(S="margin: -15px -15px -18px -15px");const C=A8("left",o,t),$=A8("right",o,t),M=AX(y),I=CA(M,d,d,0,!1,l,!1),T=CA(M,d,d,0,!1,c?-45:null,!1),O={filter:j1(n),opacity:r==null?null:`${r}`};return V("div",{styles:O,class:c?Er.diamondMidColRamp:Er.squareTableCell},V("svg",{xmlns:H$e,width:d,height:d,style:S},V("defs",null,V("marker",{id:`${t}_arrowStart`,markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},V("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),V("marker",{id:`${t}_arrowEnd`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},V("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),p),V("g",{transform:I},f),V("g",{transform:T},V("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":C.markerStart,"marker-end":C.markerEnd,x1:-v,y1:i-b,x2:-v,y2:b}),V("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":$.markerStart,"marker-end":$.markerEnd,x1:w,y1:i+x,x2:i-w,y2:i+x}))))}const W$e=P2(),$ee=10,L5=20,ZI=10,R5=20,A5={univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",colorRamp:"esri-legend__color-ramp"};function K$e(e="vertical"){const t="stroke:rgb(200, 200, 200);stroke-width:1";return e==="vertical"?V("svg",{height:"4",width:"10"},V("line",{x1:"0",y1:"2",x2:"10",y2:"2",style:t})):V("svg",{height:"10",width:"10"},V("line",{x1:"5",y1:"0",x2:"5",y2:"10",style:t}))}function J$e(e,t="vertical"){const r=document.createElement("div");return r.style.height=`${L5}px`,r.className=A5.univariateAboveAndBelowSymbol,e!=null&&(r.style.opacity=e.toString()),W$e.append(r,K$e.bind(null,t)),r}function Eee(e,t,r="vertical",n){e.infos.forEach((i,o)=>{if(n&&o===2)i.preview=J$e(t,r);else{const s=Ur(i.size)+(r==="horizontal"?R5:ZI),a=i.preview.tagName.toLowerCase()==="div",l=a?i.preview:document.createElement("div");l.className=A5.univariateAboveAndBelowSymbol,r==="horizontal"?l.style.width=`${s}px`:l.style.height=`${s}px`,a||l.appendChild(i.preview),i.preview=l}})}function eE(e,t="classic"){const r=e.infos;return t==="classic"?(Ur(r[0].size)+ZI)/2:(Ur(r[0].size)-Ur(r[r.length-1].size))/2}function Ag(e,t){if(!e)return null;const r=e.infos.map(i=>i.color),n=Dh(t.type==="full"?r:t.type==="above"?r.slice(0,3):r.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList});return n.className=A5.colorRamp,t.opacity!=null&&(n.style.opacity=t.opacity.toString()),n}function LA(e,t,r,n="vertical"){let i=0;const o=e.infos,s=Math.floor(o.length/2),a=t==="full"||t==="above"?0:s,l=t==="full"||t==="below"?o.length-1:s;for(let c=a;c<=l;c++)r&&c===s?i+=n==="horizontal"?$ee:L5:i+=Ur(o[c].size)+(n==="horizontal"?R5:ZI);return Math.round(i)}function Fg(e,t,r,n="vertical"){const i=LA(e,t,r,n),o=e.infos,s=Math.floor(o.length/2),a=t==="full"||t==="above"?0:s,l=t==="full"||t==="below"?o.length-1:s,c=t==="full"?o[a].size+o[l].size:t==="above"?o[a].size:o[l].size,d=r?n==="vertical"?L5:$ee:0,p=n==="vertical"?ZI*(t==="full"?2:1):R5*(t==="full"?2:1);return Math.round(i-(Ur(c)/2+d/2+p/2))}function Iee(e,t,r="vertical"){const n=e.infos;let i=n.find(({type:s})=>s==="size-ramp"),o=n.find(({type:s})=>s==="color-ramp");return i&&(i={...i},i.infos=[...i.infos],Eee(i,t,r,!0)),o&&(o={...o},o.infos=[...o.infos]),r==="horizontal"&&(i==null||i.infos.reverse(),o==null||o.infos.reverse()),{sizeRampElement:i,colorRampElement:o}}function Mee(e,t="vertical"){const r=e.infos;let n=r.find(({type:o})=>o==="size-ramp"),i=r.find(({type:o})=>o==="color-ramp");return n&&(n={...n},n.infos=[...n.infos],Eee(n,null,t,!1)),i&&(i={...i},i.infos=[...i.infos]),t==="horizontal"&&(n==null||n.infos.reverse(),i==null||i.infos.reverse()),{sizeRampElement:n,colorRampElement:i}}function Z$e(e,t){return t}function Jn(e){const t=this;e.appendChild(t)}function Ng(e,t,r){if(!t)return;if(typeof t=="string"||typeof t=="number")return t;if("value"in t||"unit"in t)return ea(e.dotValue,t);if("colorName"in t||"bandName"in t)return e[t.colorName]+": "+(e[t.bandName]||t.bandName);if("showCount"in t)return t.showCount?e.clusterCountTitle:null;let n=null;return Z$e(t,r)?n=t.ratioPercentTotal?"showRatioPercentTotal":t.ratioPercent?"showRatioPercent":t.ratio?"showRatio":t.normField?"showNormField":t.field?"showField":null:Tee(t,r)&&(n=t.normField?"showNormField":t.normByPct?"showNormPct":t.field?"showField":null),n?ea(n==="showField"?"{field}":e[n],{field:t.field,normField:t.normField}):null}function Tee(e,t){return!t}function kee(e,t){return!!(t&&t==="Stretched"&&e.version>=10.3&&e.declaredClass==="esri.layers.ImageryLayer")}const Y$e={heading:"esri-widget__heading"};function Op(e,t){const r=Pee(e.level),n=`h${r}`;return delete e.level,V(n,{...e,class:ag(Y$e.heading,e.class),role:"heading","aria-level":String(r)},t)}function Pee(e){return Ko(Math.ceil(e),1,6)}function Q$e(e,t=1){return Pee(e+t)}function Ni(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:e2e(e[t])}}}function X$e(e){const{type:t}=e;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function e2e(e){return function(t,...r){X$e(t)?m0e(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function sn(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}const Qe={activated:"esri-legend--card__carousel-indicator--activated",base:"esri-legend--card",stacked:"esri-legend--stacked",carouselTitle:"esri-legend--card__carousel-title",indicator:"esri-legend--card__carousel-indicator",intervalSeparator:"esri-legend--card__interval-separator",imageryLayerStretchedImage:"esri-legend--card__imagery-layer-image--stretched",imageLabel:"esri-legend--card__image-label",layerCaption:"esri-legend--card__layer-caption",labelElement:"esri-legend--card__label-element",layerRow:"esri-legend--card__layer-row",labelCell:"esri-legend--card__label-cell",message:"esri-legend--card__message",rampLabel:"esri-legend--card__ramp-label",section:"esri-legend--card__section",relationshipSection:"esri-legend--card__relationship-section",serviceCaptionText:"esri-legend--card__service-caption-text",serviceContent:"esri-legend--card__service-content",service:"esri-legend--card__service",groupLayer:"esri-legend--card__group-layer",groupLayerChild:"esri-legend--card__group-layer-child",symbol:"esri-legend--card__symbol",sizeRampRow:"esri-legend--card__size-ramp-row",symbolRow:"esri-legend--card__symbol-row",symbolCell:"esri-legend--card__symbol-cell",indicatorContainer:"esri-legend--card__carousel-indicator-container",intervalSeparatorsContainer:"esri-legend--card__interval-separators-container",relationshipLabelContainer:"esri-legend--card__relationship-label-container",labelContainer:"esri-legend--card__label-container",serviceCaptionContainer:"esri-legend--card__service-caption-container",symbolContainer:"esri-legend--card__symbol-container",sizeRampContainer:"esri-legend--card__size-ramp-container",sizeRampPreview:"esri-legend--card__size-ramp-preview",pieChartRampPreview:"esri-legend--card__pie-chart-ramp-preview",rampContainer:"esri-legend__ramps",sizeRampHorizontal:"esri-legend__size-ramp--horizontal",rampLabelsContainer:"esri-legend__ramp-labels",layerInfo:"esri-legend__layer-cell esri-legend__layer-cell--info",univariateAboveAndBelowColorRamp:"esri-univariate-above-and-below-ramp__color--card",hidden:"esri-hidden"},t2e=25,r2e=25,n2e=768,i2e=100;var Fw;(function(e){e.Auto="auto",e.Stack="stack",e.SideBySide="side-by-side"})(Fw||(Fw={}));const o2e="#ddd",jm=window.devicePixelRatio;function s2e(e){if(e){if(e.type.includes("3d")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const r=e.symbolLayers.getItemAt(t-1),n=r.resource&&r.resource.primitive;return n==="circle"||n==="cross"||n==="kite"||n==="sphere"||n==="cube"||n==="diamond"}{const t=e.style;return t==="circle"||t==="diamond"||t==="cross"}}}function a2e(e){if(e){if(e.type.includes("3d")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const r=e.symbolLayers.getItemAt(t-1).get("resource.primitive");return r==="triangle"||r==="cone"||r==="tetrahedron"}return e.style==="triangle"}}let Ka=class extends En{constructor(e,t){super(e,t),this._handles=new bn,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=Fw.Stack,this.messages=null,this.messagesCommon=null,this.type="card",this.view=null}initialize(){this.own(fe(()=>this.activeLayerInfos,e=>{this._handles.removeAll(),this._watchForSectionChanges(e)}))}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=this.layout===Fw.Auto&&this.view.container.clientWidth<=n2e||this.layout===Fw.Stack;const e=this.activeLayerInfos,t=e&&e.toArray().map(a=>this._renderLegendForLayer(a)).filter(a=>!!a);this._hasIndicators?this._selectedSectionName&&this._sectionNames.includes(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const r=this._sectionNames.length,n=this._sectionNames.map((a,l)=>{const c=ea(this.messagesCommon.pagination.pageText,{index:l+1,total:r});return V("div",{key:a,role:"tab",id:a,"aria-label":c,"aria-controls":`${a}-panel`,"aria-selected":(this._selectedSectionName===a).toString(),tabIndex:this._selectedSectionName===a?0:-1,title:c,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(Qe.indicator,{[Qe.activated]:this._selectedSectionName===a}),"data-section-name":a})}),i=this._hasIndicators&&r>1?V("div",{class:Qe.indicatorContainer,key:"carousel-navigation",role:"tablist"},n):null,o=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,s={[Qe.stacked]:this._hasIndicators};return V("div",{class:this.classes(Qe.base,s)},o||V("div",{class:Qe.message},this.messages.noLegend),i)}_selectSection(e){const t=e.target.getAttribute("data-section-name");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case"ArrowLeft":case"ArrowRight":this._switchSectionOnArrowPress(e);break;case"Enter":case" ":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,r=t==="ArrowLeft"?-1:1,n=e.target.getAttribute("data-section-name"),i=this._sectionNames.indexOf(n),o=this._sectionNames;let s=null;i!==-1&&(o[i+r]?s=document.getElementById(o[i+r]):t==="ArrowLeft"?s=document.getElementById(o[o.length-1]):t==="ArrowRight"&&(s=document.getElementById(o[0])),s&&s.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach(r=>{const n=`activeLayerInfo-${r.layer.uid}-version-change`;this._handles.remove(n),this._watchForSectionChanges(r.children),this._handles.add(fe(()=>r.version,()=>this._generateSectionNames()),n)});const t="activeLayerInfos-collection-change";this._handles.remove(t),this._handles.add(e.on("change",()=>this._watchForSectionChanges(e)),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,r){return`${this.id}${e.uid}-type-${t.type}-${r}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach((t,r)=>{this._sectionNames.push(this._getSectionName(e.layer,t,r))})}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map(r=>this._renderLegendForLayer(r)).toArray();return V("div",{key:e.layer.uid,class:this.classes(Qe.service,Qe.groupLayer)},V("div",{class:Qe.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const r=t.some(o=>o.type==="relationship-ramp"),n=t.map((o,s)=>this._renderLegendForElement(o,e,s,r)).filter(o=>!!o);if(!n.length)return null;const i={[Qe.groupLayerChild]:!!e.parent};return V("div",{key:e.layer.uid,class:this.classes(Qe.service,i)},V("div",{class:Qe.serviceCaptionContainer},V("div",{class:Qe.serviceCaptionText},e.title)),V("div",{class:Qe.serviceContent},n))}}_renderLegendForElement(e,t,r,n=!1){const i=e.type==="color-ramp",o=e.type==="opacity-ramp",s=e.type==="size-ramp",a=t.layer;let l=null;if(typeof e.title=="string")l=e.title;else if(e.title){const g=e.title,v=Ng(this.messages,g,i||o);l=g.title?`${g.title} (${v})`:v}const c=this._getSectionName(a,e,r),d=this._hasIndicators?V("div",null,V(Op,{level:this.headingLevel,class:Qe.carouselTitle},t.title),V(Op,{level:Q$e(this.headingLevel),class:Qe.layerCaption},l)):l?V(Op,{level:this.headingLevel,class:Qe.layerCaption},l):null,p=t.effectList;let f=null;if(e.type==="symbol-table"){const g=e.infos.map((v,b)=>this._renderLegendForElementInfo(v,t,e.legendType,b)).filter(v=>!!v);if(g.length){const v=g[0].properties.classes&&g[0].properties.classes[Qe.symbolRow],b={[Qe.labelContainer]:!v&&!n,[Qe.relationshipLabelContainer]:n};f=V("div",{class:this.classes(b)},g)}}else e.type==="color-ramp"||e.type==="opacity-ramp"||e.type==="heatmap-ramp"?f=this._renderLegendForRamp(e,a.opacity,p):s?f=this._renderSizeRamp(e,a.opacity):e.type==="pie-chart-ramp"?f=this._renderPieChartRamp(e):e.type==="relationship-ramp"?f=Cee(e,this.id,a.opacity,p):e.type==="univariate-above-and-below-ramp"?f=this._renderUnivariateAboveAndBelowRamp(e,a.opacity,p):e.type==="univariate-color-size-ramp"&&(f=this._renderUnivariateColorSizeRamp(e,a.opacity,p));if(!f)return null;const y=V("div",{key:c,class:Qe.section,id:`${c}-panel`,role:"tabpanel","aria-labelledby":c,tabIndex:0},[d,f]);return this._sectionMap.set(c,y),y}_renderPieChartRamp(e){return V("div",{class:Qe.pieChartRampPreview,bind:e.preview,afterCreate:Jn})}_renderUnivariateAboveAndBelowRamp(e,t,r){const{sizeRampElement:n,colorRampElement:i}=Iee(e,t,"horizontal");if(!n)return null;const o=LA(n,"full",!0,"horizontal"),s=Fg(n,"above",!0,"horizontal"),a=Fg(n,"below",!0,"horizontal"),l=12,c=Ag(i,{width:s,height:l,rampAlignment:"horizontal",opacity:t,type:"above",effectList:r}),d=Ag(i,{width:a,height:l,rampAlignment:"horizontal",opacity:t,type:"below",effectList:r}),p=eE(n,"card"),f=n.infos.map(S=>S.label),y=f.length-1,g=f.map((S,C)=>C===0||C===y?V("div",{key:C},S):null),v={display:"flex",flexDirection:"column"},b={display:"flex",flexDirection:"row"},w={marginTop:"3px",display:"flex"};gl(this.container)?w.marginRight=`${p}px`:w.marginLeft=`${p}px`;const x={width:`${o}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return V("div",{class:Qe.layerRow,key:"size-ramp-preview",styles:v},V("div",{class:this.classes(Qe.symbolContainer,Qe.sizeRampHorizontal),styles:b},n.infos.map((S,C)=>V("div",{key:C,class:Qe.symbol,bind:S.preview,afterCreate:Jn}))),c?V("div",{class:Qe.univariateAboveAndBelowColorRamp,styles:w,key:"color-ramp-preview"},V("div",{bind:c,afterCreate:Jn}),V("div",{bind:d,afterCreate:Jn})):null,V("div",{class:Qe.layerInfo},V("div",{class:Qe.rampLabelsContainer,styles:x},g)))}_renderUnivariateColorSizeRamp(e,t,r){const{sizeRampElement:n,colorRampElement:i}=Mee(e,"horizontal");if(!n)return null;const o=LA(n,"full",!1,"horizontal"),s=Fg(n,"full",!1,"horizontal"),a=Ag(i,{width:s,height:12,rampAlignment:"horizontal",opacity:t,type:"full",effectList:r}),l=eE(n,"card"),c=n.infos.length-1,d=n.infos.map((v,b)=>b===0||b===c?V("div",{key:b},v.label):null),p={display:"flex",flexDirection:"column"},f={display:"flex",flexDirection:"row"},y={marginTop:"3px",display:"flex"};gl(this.container)?y.marginRight=`${l}px`:y.marginLeft=`${l}px`;const g={width:`${o}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return V("div",{class:Qe.layerRow,key:"size-ramp-preview",styles:p},V("div",{class:this.classes(Qe.symbolContainer,Qe.sizeRampHorizontal),styles:f},n.infos.map((v,b)=>V("div",{key:b,class:Qe.symbol,bind:v.preview,afterCreate:Jn}))),V("div",{class:Qe.univariateAboveAndBelowColorRamp,styles:y,key:"color-ramp-preview"},V("div",{bind:a,afterCreate:Jn})),V("div",{class:Qe.layerInfo},V("div",{class:Qe.rampLabelsContainer,styles:g},d)))}_renderLegendForElementInfo(e,t,r,n){var s,a;const i=t.layer;if(e.type)return this._renderLegendForElement(e,t,n);const o=kee(i,r);if(e.preview){if(!e.symbol||!e.symbol.type.includes("simple-fill")){if(!e.label)return V("div",{key:n,bind:e.preview,afterCreate:Jn});const $={[Qe.symbolCell]:this._hasIndicators};return V("div",{key:n,class:this.classes(Qe.layerRow,{[Qe.symbolRow]:this._hasIndicators})},V("div",{class:this.classes($),bind:e.preview,afterCreate:Jn}),V("div",{class:this.classes(Qe.imageLabel,{[Qe.labelCell]:this._hasIndicators})},Ng(this.messages,e.label,!1)||""))}let l=255,c=255,d=255,p=0,f=255,y=255,g=255,v=0;const b=e.symbol.color&&e.symbol.color.a,w=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;b&&(l=e.symbol.color.r,c=e.symbol.color.g,d=e.symbol.color.b,p=e.symbol.color.a*i.opacity),w&&(f=e.symbol.outline.color.r,y=e.symbol.outline.color.g,g=e.symbol.outline.color.b,v=e.symbol.outline.color.a*i.opacity);const x=(a=(s=e.symbol.color)==null?void 0:s.isBright)!=null?a:!0,S=x?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)",C={background:b?`rgba(${l}, ${c}, ${d}, ${p})`:"none",color:x?"black":"white",textShadow:`-1px -1px 0 ${S},
                                              1px -1px 0 ${S},
                                              -1px 1px 0 ${S},
                                              1px 1px 0 ${S}`,border:w?`1px solid rgba(${f}, ${y}, ${g}, ${v})`:"none",filter:j1(t.effectList)};return V("div",{key:n,class:Qe.layerRow},V("div",{class:Qe.labelElement,styles:C}," ",e.label," "))}if(e.src){const l=this._renderImage(e,i,o);return V("div",{key:n,class:Qe.layerRow},l,V("div",{class:Qe.imageLabel},e.label||""))}}_renderImage(e,t,r){const{label:n,src:i,opacity:o}=e,s={[Qe.imageryLayerStretchedImage]:r,[Qe.symbol]:!r},a={opacity:`${o!=null?o:t.opacity}`};return V("img",{alt:Ng(this.messages,n,!1),src:i,border:0,width:e.width,height:e.height,class:this.classes(s),styles:a})}_renderSizeRampLines(e){const t=e.infos,r=t[0],n=t[t.length-1],i=r.symbol,o=this._hasIndicators,s=Ur(r.size+r.outlineSize)*jm,a=Ur(n.size+n.outlineSize)*jm,l=o?s:s+50*jm,c=o?s/2+50*jm:s,d=a2e(i),p=s2e(i),f=document.createElement("canvas");f.width=l,f.height=c,f.style.width=f.width/jm+"px",f.style.height=f.height/jm+"px";const y=f.getContext("2d");if(o){y.beginPath();const g=0,v=0,b=l/2-a/2,w=c;y.moveTo(g,v),y.lineTo(b,w);const x=l,S=0,C=l/2+a/2,$=c;y.moveTo(x,S),y.lineTo(C,$)}else{y.beginPath();const g=0,v=c/2-a/2,b=l,w=0;y.moveTo(g,v),y.lineTo(b,w);const x=0,S=c/2+a/2,C=l,$=c;y.moveTo(x,S),y.lineTo(C,$)}return y.strokeStyle=o2e,y.stroke(),V("div",{bind:f,afterCreate:Jn,styles:o?{display:"flex",marginTop:`-${d?0:p?s/2:0}px`,marginBottom:`-${d?a:p?a/2:0}px`}:{display:"flex",marginRight:`-${d?0:p?s/2:0}px`,marginLeft:`-${d?0:p?a/2:0}px`}})}_renderSizeRamp(e,t){const r=e.infos,n=r[0].label,i=r[r.length-1].label;let o=r[0].preview,s=r[r.length-1].preview;const a=this._hasIndicators,l={"flex-direction":a?"column":"row-reverse"};o&&(o=o.cloneNode(!0),o.style.display="flex"),s&&(s=s.cloneNode(!0),s.style.display="flex");const c={opacity:t!=null?`${t}`:""};return V("div",{class:this.classes(Qe.layerRow,{[Qe.sizeRampRow]:a})},V("div",{class:Qe.rampLabel},a?n:i),V("div",{class:Qe.sizeRampContainer,styles:l},V("div",{bind:o,afterCreate:Jn,class:Qe.sizeRampPreview,styles:c}),this._renderSizeRampLines(e),V("div",{bind:s,afterCreate:Jn,class:Qe.sizeRampContainer,styles:c})),V("div",{class:Qe.rampLabel},a?i:n))}_renderLegendForRamp(e,t,r){const n=e.infos,i=e.type==="heatmap-ramp",o=n.length-1,s=r2e,a=o>2&&!i?t2e*o:i2e,l=a+20,c=10,d=n.slice(0).reverse();d.forEach(($,M)=>{$.offset=i?$.ratio:M/o});const p=d.length-1,f=d.length%2!=0&&d[d.length/2|0],y=f&&V("div",{class:Qe.intervalSeparatorsContainer},V("div",{class:Qe.intervalSeparator},"|"),V("div",{class:Qe.rampLabel},f.label)),g=n[n.length-1].label,v=n[0].label,b=[[{shape:{type:"path",path:`M0 ${s/2} L${c} 0 L${c} ${s} Z`},fill:d[0].color,stroke:{width:0}},{shape:{type:"rect",x:c,y:0,width:a,height:s},fill:{type:"linear",x1:c,y1:0,x2:a+c,y2:0,colors:d},stroke:{width:0}},{shape:{type:"path",path:`M${a+c} 0 L${l} ${s/2} L${a+c} ${s} Z`},fill:d[p].color,stroke:{width:0}}]],w=FX(b,l,s),{messages:x}=this,S={filter:j1(r),opacity:t==null?null:`${t}`},C={justifyContent:"center"};return V("div",{class:Qe.layerRow,styles:C},V("div",{class:Qe.rampLabel},i?x[g]:g),V("div",{class:Qe.symbolContainer},V("div",{styles:S},w),y),V("div",{class:Qe.rampLabel},i?x[v]:v))}};u([h()],Ka.prototype,"activeLayerInfos",void 0),u([h()],Ka.prototype,"headingLevel",void 0),u([h()],Ka.prototype,"layout",void 0),u([h(),sn("esri/widgets/Legend/t9n/Legend")],Ka.prototype,"messages",void 0),u([h(),sn("esri/t9n/common")],Ka.prototype,"messagesCommon",void 0),u([h({readOnly:!0})],Ka.prototype,"type",void 0),u([h()],Ka.prototype,"view",void 0),u([Ni()],Ka.prototype,"_selectSection",null),Ka=u([B("esri.widgets.Legend.styles.Card")],Ka);const uk=Ka,ct={service:"esri-legend__service",label:"esri-legend__service-label",layer:"esri-legend__layer",groupLayer:"esri-legend__group-layer",groupLayerChild:"esri-legend__group-layer-child",layerTable:"esri-legend__layer-table",layerTableSizeRamp:"esri-legend__layer-table--size-ramp",layerChildTable:"esri-legend__layer-child-table",layerCaption:"esri-legend__layer-caption",layerBody:"esri-legend__layer-body",layerRow:"esri-legend__layer-row",layerCell:"esri-legend__layer-cell",layerInfo:"esri-legend__layer-cell esri-legend__layer-cell--info",imageryLayerStretchedImage:"esri-legend__imagery-layer-image--stretched",imageryLayerCellStretched:"esri-legend__imagery-layer-cell--stretched",imageryLayerInfoStretched:"esri-legend__imagery-layer-info--stretched",symbolContainer:"esri-legend__layer-cell esri-legend__layer-cell--symbols",symbol:"esri-legend__symbol",rampContainer:"esri-legend__ramps",sizeRamp:"esri-legend__size-ramp",colorRamp:"esri-legend__color-ramp",opacityRamp:"esri-legend__opacity-ramp",borderlessRamp:"esri-legend__borderless-ramp",rampTick:"esri-legend__ramp-tick",rampFirstTick:"esri-legend__ramp-tick-first",rampLastTick:"esri-legend__ramp-tick-last",rampLabelsContainer:"esri-legend__ramp-labels",rampLabel:"esri-legend__ramp-label",univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",univariateAboveAndBelowLabel:"esri-univariate-above-and-below-ramp__label",message:"esri-legend__message",header:"esri-widget__heading",hidden:"esri-hidden"},l2e="esri-legend__",c2e=24,F8={display:"flex",alignItems:"flex-start"},dk={marginLeft:"3px"},Bm={display:"table-cell",verticalAlign:"middle"};let zh=class extends En{constructor(e,t){super(e,t),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type="classic"}render(){const e=this.activeLayerInfos,t=e&&e.toArray().map(r=>this._renderLegendForLayer(r)).filter(r=>!!r);return V("div",null,t&&t.length?t:V("div",{class:ct.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const t=!!e.children.length,r=`${l2e}${e.layer.uid}-version-${e.version}`,n=e.title?Op({level:this.headingLevel,class:this.classes(ct.header,ct.label)},e.title):null;if(t){const i=e.children.map(o=>this._renderLegendForLayer(o)).toArray();return V("div",{key:r,class:this.classes(ct.service,ct.groupLayer)},n,i)}{const i=e.legendElements;if(i&&!i.length)return null;const o=i.map(a=>this._renderLegendForElement(a,e.layer,e.effectList)).filter(a=>!!a);if(!o.length)return null;const s={[ct.groupLayerChild]:!!e.parent};return V("div",{key:r,class:this.classes(ct.service,s),tabIndex:0},n,V("div",{class:ct.layer},o))}}_renderLegendForElement(e,t,r,n){const i=e.type==="color-ramp",o=e.type==="opacity-ramp",s=e.type==="size-ramp";let a=null;if(e.type==="symbol-table"||s){const y=e.infos.map(g=>this._renderLegendForElementInfo(g,t,r,s,e.legendType)).filter(g=>!!g);y.length&&(a=V("div",{class:ct.layerBody},y))}else e.type==="color-ramp"||e.type==="opacity-ramp"||e.type==="heatmap-ramp"||e.type==="stretch-ramp"?a=this._renderLegendForRamp(e,t.opacity):e.type==="relationship-ramp"?a=Cee(e,this.id,t.opacity,r):e.type==="pie-chart-ramp"?a=this._renderPieChartRamp(e):e.type==="univariate-above-and-below-ramp"?a=this._renderUnivariateAboveAndBelowRamp(e,t.opacity,r):e.type==="univariate-color-size-ramp"&&(a=this._renderUnivariateColorSizeRamp(e,t.opacity,r));if(!a)return null;const l=e.title;let c=null;if(typeof l=="string")c=l;else if(l){const y=Ng(this.messages,l,i||o);c=Tee(l,i||o)&&l.title?`${l.title} (${y})`:y}const d=n?ct.layerChildTable:ct.layerTable,p=c?V("div",{class:ct.layerCaption},c):null,f={[ct.layerTableSizeRamp]:s||!n};return V("div",{class:this.classes(d,f)},p,a)}_renderPieChartRamp(e){return V("div",{bind:e.preview,afterCreate:Jn})}_renderUnivariateAboveAndBelowRamp(e,t,r){const{sizeRampElement:n,colorRampElement:i}=Iee(e,t);if(!n)return null;const o=Fg(n,"above",!0),s=Fg(n,"below",!0),a=12,l=Ag(i,{width:a,height:o,rampAlignment:"vertical",opacity:t,type:"above",effectList:r}),c=Ag(i,{width:a,height:s,rampAlignment:"vertical",opacity:t,type:"below",effectList:r}),d=eE(n),p=n.infos.map(C=>C.label),f=p.map((C,$)=>$===0?V("div",{key:$,class:C?l?ct.univariateAboveAndBelowLabel:ct.rampLabel:null},C):$===2?V("div",null):null),y=p.length-1,g=Math.floor(p.length/2),v=p.map((C,$)=>$===g||$===y?V("div",{key:$,class:C?l?ct.univariateAboveAndBelowLabel:ct.rampLabel:null},C):null),b={display:"table-cell",verticalAlign:"middle"},w={marginTop:`${d}px`},x={height:`${o}px`},S={height:`${s}px`};return V("div",{key:"univariate-above-and-below-ramp-preview",styles:F8},V("div",{class:ct.layerBody},n.infos.map((C,$)=>V("div",{class:this.classes(ct.layerRow,ct.sizeRamp)},V("div",{class:ct.symbol,styles:b,bind:C.preview,afterCreate:Jn}),l||$%2!=0?null:V("div",{class:ct.layerInfo},p[$])))),l?V("div",{styles:w,key:"color-ramp-preview"},V("div",{styles:dk},V("div",{styles:Bm},V("div",{class:ct.rampContainer,bind:l,afterCreate:Jn})),V("div",{styles:Bm},V("div",{class:ct.rampLabelsContainer,styles:x},f))),V("div",{styles:dk},V("div",{styles:Bm},V("div",{class:ct.rampContainer,bind:c,afterCreate:Jn})),V("div",{styles:Bm},V("div",{class:ct.rampLabelsContainer,styles:S},v)))):null)}_renderUnivariateColorSizeRamp(e,t,r){const{sizeRampElement:n,colorRampElement:i}=Mee(e);if(!n)return null;const o=eE(n),s=12,a=Fg(n,"full",!1),l=Ag(i,{width:s,height:a,rampAlignment:"vertical",opacity:t,type:"full",effectList:r}),c=n.infos.length-1,d=n.infos.map((g,v)=>v===0||v===c?V("div",{key:v,class:g.label?i?ct.univariateAboveAndBelowLabel:ct.rampLabel:null},g.label):null),p={display:"table-cell",verticalAlign:"middle"},f={marginTop:`${o}px`},y={height:`${a}px`};return V("div",{key:"univariate-above-and-below-ramp-preview",styles:F8},V("div",{class:ct.layerBody},n.infos.map(g=>V("div",{class:this.classes(ct.layerRow,ct.sizeRamp)},V("div",{class:ct.symbol,styles:p,bind:g.preview,afterCreate:Jn})))),V("div",{styles:f,key:"color-ramp-preview"},V("div",{styles:dk},V("div",{styles:Bm},V("div",{class:ct.rampContainer,bind:l,afterCreate:Jn})),V("div",{styles:Bm},V("div",{class:ct.rampLabelsContainer,styles:y},d)))))}_renderLegendForRamp(e,t){const r=e.infos,n=e.type==="opacity-ramp",i=e.type==="heatmap-ramp",o=e.type==="stretch-ramp",s=e.preview,a=n?ct.opacityRamp:"";s.className=`${ct.colorRamp} ${a}`,t!=null&&(s.style.opacity=t.toString());const l=r.map(p=>V("div",{class:p.label?ct.rampLabel:null},i?this.messages[p.label]||p.label:o?this._getStretchStopLabel(p):p.label)),c={width:`${c2e}px`},d={height:s.style.height};return V("div",{class:ct.layerRow},V("div",{class:ct.symbolContainer,styles:c},V("div",{class:ct.rampContainer,bind:s,afterCreate:Jn})),V("div",{class:ct.layerInfo},V("div",{class:ct.rampLabelsContainer,styles:d},l)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+": "+(typeof e.value=="string"?e.value:Ec(e.value,{style:"decimal",notation:e.value.toString().includes("e")?"scientific":"standard"})):""}_renderLegendForElementInfo(e,t,r,n,i){if(e.type)return this._renderLegendForElement(e,t,r,!0);let o=null;const s=kee(t,i);if(e.preview?o=V("div",{class:ct.symbol,bind:e.preview,afterCreate:Jn}):e.src&&(o=this._renderImage(e,t,s)),!o)return null;const a={[ct.imageryLayerInfoStretched]:s},l={[ct.imageryLayerInfoStretched]:s,[ct.sizeRamp]:!s&&n};return V("div",{class:ct.layerRow},V("div",{class:this.classes(ct.symbolContainer,l)},o),V("div",{class:this.classes(ct.layerInfo,a)},Ng(this.messages,e.label,!1)||""))}_renderImage(e,t,r){const{label:n,src:i,opacity:o}=e,s={[ct.imageryLayerStretchedImage]:r,[ct.symbol]:!r},a={opacity:`${o!=null?o:t.opacity}`};return V("img",{alt:Ng(this.messages,n,!1),src:i,border:0,width:e.width,height:e.height,class:this.classes(s),styles:a})}};u([h()],zh.prototype,"activeLayerInfos",void 0),u([h()],zh.prototype,"headingLevel",void 0),u([h(),sn("esri/widgets/Legend/t9n/Legend")],zh.prototype,"messages",void 0),u([h({readOnly:!0})],zh.prototype,"type",void 0),zh=u([B("esri.widgets.Legend.styles.Classic")],zh);const Um=zh,cS={base:"esri-legend",widget:"esri-widget",panel:"esri-widget--panel",widgetIcon:"esri-icon-layer-list"};let ii=class extends En{constructor(e,t){super(e,t),this._handles=new bn,this.activeLayerInfos=null,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.headingLevel=3,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.iconClass=cS.widgetIcon,this.label=void 0,this.layerInfos=null,this.messages=null,this.style=new Um,this.view=null,this.viewModel=new G$e}initialize(){this.own([Vo(()=>this.view,"resize",()=>this.scheduleRender()),Vo(()=>this.activeLayerInfos,"change",()=>this._refreshActiveLayerInfos(this.activeLayerInfos)),fe(()=>this.headingLevel,e=>{const{style:t}=this;t&&(t.headingLevel=e)}),fe(()=>this.style,(e,t)=>{t&&e!==t&&t.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,e.type==="card"&&(e.view=this.view),e.headingLevel=this.headingLevel)},At)])}destroy(){this._handles=ko(this._handles)}castStyle(e){if(e instanceof uk||e instanceof Um)return e;if(typeof e=="string")return e==="card"?new uk:new Um;if(e&&typeof e.type=="string"){const t={...e};return delete t.type,new(e.type==="card"?uk:Um)(t)}return new Um}render(){return V("div",{class:this.classes(cS.base,cS.widget,this.style instanceof Um?cS.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach(t=>this._renderOnActiveLayerInfoChange(t)),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const t=fe(()=>e.version,()=>this.scheduleRender());this._handles.add(t,`version_${e.layer.uid}`);const r=Vo(()=>e.children,"change",()=>e.children.forEach(n=>this._renderOnActiveLayerInfoChange(n)),At);this._handles.add(r,`children_${e.layer.uid}`),e.children.forEach(n=>this._renderOnActiveLayerInfoChange(n))}};u([Oe("viewModel.activeLayerInfos")],ii.prototype,"activeLayerInfos",void 0),u([Oe("viewModel.basemapLegendVisible")],ii.prototype,"basemapLegendVisible",void 0),u([Oe("viewModel.groundLegendVisible")],ii.prototype,"groundLegendVisible",void 0),u([h()],ii.prototype,"headingLevel",void 0),u([Oe("viewModel.hideLayersNotInCurrentView")],ii.prototype,"hideLayersNotInCurrentView",void 0),u([Oe("viewModel.keepCacheOnDestroy")],ii.prototype,"keepCacheOnDestroy",void 0),u([Oe("viewModel.respectLayerVisibility")],ii.prototype,"respectLayerVisibility",void 0),u([h()],ii.prototype,"iconClass",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ii.prototype,"label",void 0),u([Oe("viewModel.layerInfos")],ii.prototype,"layerInfos",void 0),u([h(),sn("esri/widgets/Legend/t9n/Legend")],ii.prototype,"messages",void 0),u([h()],ii.prototype,"style",void 0),u([zt("style")],ii.prototype,"castStyle",null),u([Oe("viewModel.view")],ii.prototype,"view",void 0),u([h()],ii.prototype,"viewModel",void 0),ii=u([B("esri.widgets.Legend")],ii);const u2e=ii;class F5{constructor(t,r){this.min=t,this.max=r,this.range=r-t}ndiff(t,r=0){return Math.ceil((t-r)/this.range)*this.range+r}_normalize(t,r,n,i=0,o=!1){return(n-=i)<t?n+=this.ndiff(t-n):n>r&&(n-=this.ndiff(n-r)),o&&n===r&&(n=t),n+i}normalize(t,r=0,n=!1){return this._normalize(this.min,this.max,t,r,n)}clamp(t,r=0){return Ko(t-r,this.min,this.max)+r}monotonic(t,r,n){return t<r?r:r+this.ndiff(t-r,n)}minimalMonotonic(t,r,n){return this._normalize(t,t+this.range,r,n)}center(t,r,n){return r=this.monotonic(t,r,n),this.normalize((t+r)/2,n)}diff(t,r,n){return this.monotonic(t,r,n)-t}shortestSignedDiff(t,r){t=this.normalize(t);const n=(r=this.normalize(r))-t,i=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(n)<Math.abs(i)?n:i}contains(t,r,n){return r=this.minimalMonotonic(t,r),(n=this.minimalMonotonic(t,n))>t&&n<r}}function N5(e){for(const t in e){const r=e[t];r instanceof Function&&(e[t]=r.bind(e))}return e}N5(new F5(0,2*Math.PI));N5(new F5(-Math.PI,Math.PI));const d2e=N5(new F5(0,360));let ru=class extends ts(ve){constructor(...e){super(...e),this.position=new at([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,t,r,n){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const i={position:e};return t!=null&&(i.heading=t),r!=null&&(i.tilt=r),n!=null&&(i.fov=n),i}return e}writePosition(e,t,r,n){const i=e.clone();i.x=sa(e.x||0),i.y=sa(e.y||0),i.z=e.hasZ?sa(e.z||0):e.z,t[r]=i.write({},n)}readPosition(e,t){const r=new at;return r.read(e,t),r.x=sa(r.x||0),r.y=sa(r.y||0),r.z=r.hasZ?sa(r.z||0):r.z,r}equals(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}};u([h({type:at,json:{write:{isRequired:!0}}})],ru.prototype,"position",void 0),u([Ae("position")],ru.prototype,"writePosition",null),u([Pe("position")],ru.prototype,"readPosition",null),u([h({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),zt(e=>d2e.normalize(sa(e)))],ru.prototype,"heading",void 0),u([h({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),zt(e=>Ko(sa(e),-180,180))],ru.prototype,"tilt",void 0),u([h({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],ru.prototype,"fov",void 0),ru=u([B("esri.Camera")],ru);const p2e=ru;var RA;let Od=RA=class extends ve{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new RA({rotation:this.rotation,scale:this.scale,targetGeometry:G(this.targetGeometry)?this.targetGeometry.clone():null,camera:G(this.camera)?this.camera.clone():null})}};function pk(){return{enabled:!this.camera}}u([h({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:pk}}}}})],Od.prototype,"rotation",void 0),u([zt("rotation")],Od.prototype,"castRotation",null),u([h({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:pk}}}}})],Od.prototype,"scale",void 0),u([h({types:Sm,json:{read:Bp,write:!0,origins:{"web-scene":{read:Bp,write:{overridePolicy:pk}}}}})],Od.prototype,"targetGeometry",void 0),u([h({type:p2e,json:{write:!0}})],Od.prototype,"camera",void 0),Od=RA=u([B("esri.Viewpoint")],Od);const Cl=Od;class tE{constructor(t=r=>r.values().next().value){this._peeker=t,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(this._items.size===0)return;let t;for(t of this._items);return t}peek(){if(this._items.size!==0)return this._peeker(this._items)}push(t){this.contains(t)||this._items.add(t)}contains(t){return this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),t}remove(t){this._items.delete(t)}filter(t){return this._items.forEach(r=>{t(r)||this._items.delete(r)}),this}}var uo;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(uo||(uo={}));let h2e=0;function Oee(){return h2e++}function f2e(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function rE(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function Lee(e,t,r,n){if(t.type===uo.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==uo.INVOKE&&t.type!==uo.RESPONSE)return void e.postMessage(t);let i;f2e(r)?(i=N8(r.transferList),t.data=r.result):(i=N8(n),t.data=r),i?e.postMessage(t,i):e.postMessage(t)}function B1(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function N8(e){if(!e||!e.length)return null;if(oe("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!m2e(r));return t.length?t:null}function m2e(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}const y2e={statsWorker:()=>ae(()=>import("./statsWorker.54789d78.js"),["statsWorker.54789d78.js","quantizationUtils.4ec6f0b3.js","utils.19969816.js","ClassBreaksDefinition.04a03883.js"],import.meta.url),geometryEngineWorker:()=>ae(()=>import("./geometryEngineWorker.06591522.js"),["geometryEngineWorker.06591522.js","geometryEngineJSON.5a1f200e.js","geometryEngineBase.0f0d7ecf.js","json.8bd707cf.js"],import.meta.url),CSVSourceWorker:()=>ae(()=>import("./CSVSourceWorker.f77f317c.js"),["CSVSourceWorker.f77f317c.js","json.8bd707cf.js","FeatureStore.d3c3c209.js","PooledRBush.35272c16.js","centroid.ca7c664b.js","projectionSupport.4aed025e.js","QueryEngine.c5ec5167.js","QueryEngineResult.fbcbe2cb.js","quantizationUtils.4ec6f0b3.js","WhereClause.61d98999.js","utils.19969816.js","ClassBreaksDefinition.04a03883.js","utils.7bfe8cc2.js","timeSupport.874012b6.js"],import.meta.url),EdgeProcessingWorker:()=>ae(()=>import("./EdgeProcessingWorker.808f4ca0.js"),["EdgeProcessingWorker.808f4ca0.js","deduplicate.a8d7598b.js","InterleavedLayout.f872aede.js","BufferView.c19ea6ba.js","types.0d3a31d6.js","VertexAttribute.c697ed2b.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js"],import.meta.url),ElevationSamplerWorker:()=>ae(()=>import("./ElevationSamplerWorker.3fd1fe23.js"),["ElevationSamplerWorker.3fd1fe23.js","PooledRBush.35272c16.js","georeference.3a23ce27.js","quatf64.2f917dd7.js","mat4f64.0958f530.js","quat.58dd459d.js","BufferView.c19ea6ba.js","vec33.85e93fda.js"],import.meta.url),FeatureServiceSnappingSourceWorker:()=>ae(()=>import("./FeatureServiceSnappingSourceWorker.07e73040.js"),["FeatureServiceSnappingSourceWorker.07e73040.js","FeatureStore.d3c3c209.js","PooledRBush.35272c16.js","centroid.ca7c664b.js","QueryEngine.c5ec5167.js","QueryEngineResult.fbcbe2cb.js","quantizationUtils.4ec6f0b3.js","WhereClause.61d98999.js","utils.19969816.js","ClassBreaksDefinition.04a03883.js","projectionSupport.4aed025e.js","json.8bd707cf.js","utils.7bfe8cc2.js","timeSupport.874012b6.js"],import.meta.url),GeoJSONSourceWorker:()=>ae(()=>import("./GeoJSONSourceWorker.06a5e137.js"),["GeoJSONSourceWorker.06a5e137.js","FeatureStore.d3c3c209.js","PooledRBush.35272c16.js","centroid.ca7c664b.js","projectionSupport.4aed025e.js","json.8bd707cf.js","QueryEngine.c5ec5167.js","QueryEngineResult.fbcbe2cb.js","quantizationUtils.4ec6f0b3.js","WhereClause.61d98999.js","utils.19969816.js","ClassBreaksDefinition.04a03883.js","utils.7bfe8cc2.js","timeSupport.874012b6.js","geojson.f083dfc2.js","sourceUtils.e3edc480.js"],import.meta.url),LercWorker:()=>ae(()=>import("./LercWorker.a2ad60f3.js"),[],import.meta.url),MemorySourceWorker:()=>ae(()=>import("./MemorySourceWorker.0124138c.js"),["MemorySourceWorker.0124138c.js","objectIdUtils.5d771dff.js","FeatureStore.d3c3c209.js","PooledRBush.35272c16.js","centroid.ca7c664b.js","projectionSupport.4aed025e.js","json.8bd707cf.js","QueryEngine.c5ec5167.js","QueryEngineResult.fbcbe2cb.js","quantizationUtils.4ec6f0b3.js","WhereClause.61d98999.js","utils.19969816.js","ClassBreaksDefinition.04a03883.js","utils.7bfe8cc2.js","timeSupport.874012b6.js","sourceUtils.e3edc480.js"],import.meta.url),PBFDecoderWorker:()=>ae(()=>import("./PBFDecoderWorker.c5d6b098.js"),[],import.meta.url),Pipeline:()=>ae(()=>import("./Pipeline.5aa24a3e.js"),["Pipeline.5aa24a3e.js","QueryEngine.c5ec5167.js","QueryEngineResult.fbcbe2cb.js","quantizationUtils.4ec6f0b3.js","WhereClause.61d98999.js","utils.19969816.js","ClassBreaksDefinition.04a03883.js","projectionSupport.4aed025e.js","json.8bd707cf.js","utils.7bfe8cc2.js","timeSupport.874012b6.js","FeatureStore2D.5c37de12.js","CircularArray.55b20eb7.js","ComputedAttributeStorage.e1077482.js","centroid.ca7c664b.js","definitions.cd8c5521.js","visualVariablesUtils.884d3bde.js","Utils.1f5b6bd7.js","number.6e30c64a.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","visualVariablesUtils.10b31a9d.js","ogcFeatureUtils.c1ec372d.js","geojson.f083dfc2.js"],import.meta.url),PointCloudWorker:()=>ae(()=>import("./PointCloudWorker.1806f13b.js"),["PointCloudWorker.1806f13b.js","quat.58dd459d.js","quatf64.2f917dd7.js","vec3f32.ca7a14c1.js","PointCloudUniqueValueRenderer.09fc6049.js","VertexAttribute.c697ed2b.js"],import.meta.url),RasterWorker:()=>ae(()=>import("./RasterWorker.12558f2b.js"),["RasterWorker.12558f2b.js","pixelUtils.784e90c3.js","RasterSymbolizer.e0164cbb.js","rasterProjectionHelper.02e1d9b8.js","dataUtils.09f96080.js","utils.249ed27c.js"],import.meta.url),SceneLayerSnappingSourceWorker:()=>ae(()=>import("./SceneLayerSnappingSourceWorker.556db0cb.js"),["SceneLayerSnappingSourceWorker.556db0cb.js","lineSegment.5d2d711f.js","vectorStacks.de99ccc8.js","quatf64.2f917dd7.js","mat4f64.0958f530.js","sphere.a8638ebe.js","QueryEngineResult.fbcbe2cb.js","quantizationUtils.4ec6f0b3.js","WhereClause.61d98999.js","utils.19969816.js","ClassBreaksDefinition.04a03883.js","projectionSupport.4aed025e.js","json.8bd707cf.js","utils.7bfe8cc2.js","EdgeProcessingWorker.808f4ca0.js","deduplicate.a8d7598b.js","InterleavedLayout.f872aede.js","BufferView.c19ea6ba.js","types.0d3a31d6.js","VertexAttribute.c697ed2b.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js"],import.meta.url),SceneLayerWorker:()=>ae(()=>import("./SceneLayerWorker.16bcaf9d.js"),["SceneLayerWorker.16bcaf9d.js","sphere.a8638ebe.js","vectorStacks.de99ccc8.js","quatf64.2f917dd7.js","mat4f64.0958f530.js"],import.meta.url),WFSSourceWorker:()=>ae(()=>import("./WFSSourceWorker.e6934256.js"),["WFSSourceWorker.e6934256.js","FeatureStore.d3c3c209.js","PooledRBush.35272c16.js","centroid.ca7c664b.js","projectionSupport.4aed025e.js","json.8bd707cf.js","QueryEngine.c5ec5167.js","QueryEngineResult.fbcbe2cb.js","quantizationUtils.4ec6f0b3.js","WhereClause.61d98999.js","utils.19969816.js","ClassBreaksDefinition.04a03883.js","utils.7bfe8cc2.js","timeSupport.874012b6.js","geojson.f083dfc2.js","sourceUtils.e3edc480.js","wfsUtils.30bdfd69.js","xmlUtils.fe1322c5.js"],import.meta.url),WorkerTileHandler:()=>ae(()=>import("./WorkerTileHandler.ac48dbc2.js"),["WorkerTileHandler.ac48dbc2.js","enums.58eeda20.js","GeometryUtils.f3664fe1.js","Rect.a122c453.js","config.ded6d251.js","StyleDefinition.51d53a2e.js","definitions.cd8c5521.js","Geometry.f2d62961.js","TileClipper.5bd7dcb4.js","GeometryUtils.b4d0dc88.js","StyleRepository.51f1cbef.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js","earcut.f65e2fcc.js"],import.meta.url)},{CLOSE:D8,ABORT:z8,INVOKE:V8,RESPONSE:Fv,OPEN_PORT:j8,ON:g2e}=uo,v2e=2;class b2e{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===uo.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class Oo{constructor(t,r,n){this._port=t,this._getNextJob=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new b2e(i=>this._onInvokeMessage(i)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(t){const r=new MessageChannel;let n;n=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const i=new Oo(r.port1,{channel:r,client:n},()=>null);return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=i),Oo.clients.set(i,n),r.port2}static loadWorker(t){const r=y2e[t];return r?r():Promise.resolve(null)}close(){this._post({type:D8}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,n){const i=n&&n.signal,o=n&&n.transferList;if(!this._port)return Promise.reject(new Z("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const s=Oee();return new Promise((a,l)=>{if(Il(i))return this._processWork(),void l(Zr());const c=wa(i,()=>{const p=this._outJobs.get(s);p&&(this._outJobs.delete(s),this._processWork(),zo(p.abortHandle),this._post({type:z8,jobId:s}),l(Zr()))}),d={resolve:a,reject:l,abortHandle:c,debugInfo:t};this._outJobs.set(s,d),this._post({type:V8,jobId:s,methodName:t,abortable:i!=null},r,o)})}on(t,r){const n=new MessageChannel;function i(o){r(o.data)}return this._port.postMessage({type:uo.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",i),n.port1.start(),{remove(){n.port1.postMessage({type:uo.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",i)}}}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:j8,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=v2e)return;const t=this._getNextJob();if(!t)return;const{methodName:r,data:n,invokeOptions:i,deferred:o}=t;this.invoke(r,n,i).then(s=>o.resolve(s)).catch(s=>o.reject(s))}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{zo(t.abortHandle),t.reject(Zr(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){G(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const r=B1(t);if(r)switch(r.type){case Fv:this._onResponseMessage(r);break;case V8:this._invokeQueue.push(r);break;case z8:this._onAbortMessage(r);break;case D8:this._onCloseMessage();break;case j8:this._onOpenPortMessage(r);break;case g2e:this._onOnMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Oo.clients.get(this)===t&&t.destroy(),Oo.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:o}=t,s=o?new AbortController:null,a=this._inJobs;let l,c=this._client,d=c[r];try{if(!d&&r&&r.includes(".")){const p=r.split(".");for(let f=0;f<p.length-1;f++)c=c[p[f]],d=c[p[f+1]]}if(typeof d!="function")throw new TypeError(`${r} is not a function`);l=d.call(c,i,{client:this,signal:s?s.signal:null})}catch(p){return void this._post({type:Fv,jobId:n,error:rE(p)})}Wu(l)?(a.set(n,{controller:s,promise:l}),l.then(p=>{a.has(n)&&(a.delete(n),this._post({type:Fv,jobId:n},p))},p=>{a.has(n)&&(a.delete(n),Gi(p)||this._post({type:Fv,jobId:n,error:rE(p||{message:`Error encountered at method ${r}`})}))})):this._post({type:Fv,jobId:n},l)}_onOpenPortMessage(t){new Oo(t.port,{client:this._client},()=>null)}_onOnMessage(t){const{port:r}=t,n=this._client.on(t.eventType,o=>{r.postMessage(o)}),i=lI(t.port,"message",o=>{B1(o).type===uo.CLOSE&&(i.remove(),n.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,o=this._outJobs;if(!o.has(r))return;const s=o.get(r);this._processWork(),o.delete(r),zo(s.abortHandle),n?s.reject(Z.fromJSON(JSON.parse(n))):s.resolve(i)}_post(t,r,n){return Lee(this._port,t,r,n)}}Oo.kernelInfo={revision:lJ,version:cJ,buildDate:aJ},Oo.clients=new Map;const w2e=Ce.getLogger("esri.core.workers.Connection");class _2e{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new tE}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,r){return new Promise((n,i)=>{let o=!0;const s=a=>{Ar(r.signal),o&&(o=!1,a())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let a=0;a<t.length;++a){const l=t[a];Wu(l)?this._clientPromises[a]=l.then(c=>(this._clients[a]=new Oo(c,r,()=>this._ongoingJobsQueue.pop()),s(n),this._clients[a]),()=>(s(i),null)):(this._clients[a]=new Oo(l,r,()=>this._ongoingJobsQueue.pop()),this._clientPromises[a]=Promise.resolve(this._clients[a]),s(n))}})}broadcast(t,r,n){const i=new Array(this._clientPromises.length);for(let o=0;o<this._clientPromises.length;++o){const s=this._clientPromises[o];i[o]=s.then(a=>a.invoke(t,r,n))}return i}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.deferred.reject(Zr(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(n=>n.close());this._clients.length=0,this._clientPromises.length=0}invoke(t,r,n){let i=null;Array.isArray(n)?(w2e.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),i={transferList:n}):i=n;const o=Nu();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:i,deferred:o});for(let s=0;s<this._clientPromises.length;s++){const a=this._clients[s];a?a.jobAdded():this._clientPromises[s].then(l=>l.jobAdded())}return o.promise}on(t,r){return Promise.all(this._clientPromises).then(()=>iI(this._clients.map(n=>n.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let n=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(o=>{r[i]=o.openPort(),--n==0&&t(r)})})}get test(){return{numClients:this._clients.length}}}const B8={};function x2e(e,t){for(const r of e)if(r.name===t.name)return;e.push(t)}function S2e(e){var r;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages&&e.packages.concat()||[],paths:{...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=B8.baseUrl),(r=B8.packages)==null||r.forEach(n=>{x2e(t.packages,n)}),t}class C2e{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...n)=>t[r](...n)})}}class QC{constructor(){this._dispatcher=new C2e,this._workerPostMessage({type:uo.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){u2(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,n){this._dispatcher.addEventListener(t,r,n)}removeEventListener(t,r,n){this._dispatcher.removeEventListener(t,r,n)}_workerPostMessage(t){u2(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=B1(t);if(r&&r.type===uo.OPEN){const{modulePath:n,jobId:i}=r;let o=await Oo.loadWorker(n);o||(o=await ae(()=>import(n),[],import.meta.url));const s=Oo.connect(o);this._workerPostMessage({type:uo.OPENED,jobId:i,data:s})}}}const AA=Ce.getLogger("esri.core.workers"),{HANDSHAKE:$2e}=uo,E2e='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let uS,dS;const U8="Failed to create Worker. Fallback to execute module in main thread";async function I2e(){if(!oe("esri-workers")||(oe("mozilla"),0))return G8(new QC);if(!uS&&!dS)try{const t=E2e.replace('"{CONFIGURATION}"',`'${M2e()}'`);uS=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){dS=t||{}}let e;if(uS)try{e=new Worker(uS,{name:"esri-worker-"+T2e++})}catch{AA.warn(U8,dS),e=new QC}else AA.warn(U8,dS),e=new QC;return G8(e)}async function G8(e){return new Promise(t=>{function r(i){const o=B1(i);o&&o.type===$2e&&(e.removeEventListener("message",r),e.removeEventListener("error",n),t(e))}function n(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",n),AA.warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new QC).addEventListener("message",r),e.addEventListener("error",n)}e.addEventListener("message",r),e.addEventListener("error",n)})}function M2e(){let e;if(qt.default!=null){const i={...qt};delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(qt));e.assetsPath=ml(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=Is(),e.has={"esri-csp-restrictions":oe("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":oe("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":oe("esri-2d-query-centroid-enabled"),"featurelayer-pbf":oe("featurelayer-pbf"),"featurelayer-simplify-thresholds":oe("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":oe("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":oe("featurelayer-simplify-mobile-factor"),"esri-atomics":oe("esri-atomics"),"esri-shared-array-buffer":oe("esri-shared-array-buffer"),"esri-tiles-debug":oe("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":oe("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":oe("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=ml(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=ml(e.workers.workerPath):e.workers.workerPath=ml(Nt("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=qt.workers.loaderConfig,r=S2e({baseUrl:t==null?void 0:t.baseUrl,locale:Is(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]}),n={version:cJ,buildDate:aJ,revision:lJ};return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:n})}let T2e=0;const k2e=Ce.getLogger("esri.core.workers"),{ABORT:H8,INVOKE:P2e,OPEN:O2e,OPENED:L2e,RESPONSE:Nv}=uo;class D5{constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),k2e.error(n)})}static async create(t){const r=await I2e();return new D5(r,t)}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:n}=r,i=Oee();return new Promise((o,s)=>{const a={resolve:o,reject:s,abortHandle:HN(n,()=>{this._outJobs.delete(i),this._post({type:H8,jobId:i})})};this._outJobs.set(i,a),this._post({type:O2e,jobId:i,modulePath:t})})}_onMessage(t){const r=B1(t);if(r)switch(r.type){case L2e:this._onOpenedMessage(r);break;case Nv:this._onResponseMessage(r);break;case H8:this._onAbortMessage(r);break;case P2e:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);i&&(i.controller&&i.controller.abort(),r.delete(n))}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:o}=t,s=o?new AbortController:null,a=this._inJobs,l=Che[r];let c;try{if(typeof l!="function")throw new TypeError(`${r} is not a function`);c=l.call(null,i,{signal:s?s.signal:null})}catch(d){return void this._post({type:Nv,jobId:n,error:rE(d)})}Wu(c)?(a.set(n,{controller:s,promise:c}),c.then(d=>{a.has(n)&&(a.delete(n),this._post({type:Nv,jobId:n},d))},d=>{a.has(n)&&(a.delete(n),d||(d={message:"Error encountered at method"+r}),Gi(d)||this._post({type:Nv,jobId:n,error:rE(d||{message:`Error encountered at method ${r}`})}))})):this._post({type:Nv,jobId:n},c)}_onOpenedMessage(t){const{jobId:r,data:n}=t,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),zo(i.abortHandle),i.resolve(n))}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,o=this._outJobs.get(r);o&&(this._outJobs.delete(r),zo(o.abortHandle),n?o.reject(Z.fromJSON(JSON.parse(n))):o.resolve(i))}_post(t,r,n){return Lee(this.worker,t,r,n)}}let wf=oe("esri-workers-debug")?1:oe("host-browser")?navigator.hardwareConcurrency-1:0;wf||(wf=oe("safari")&&oe("mac")||oe("trident")?7:2);let q8=0;const XC=[];function R2e(){Aee()}async function pS(e,t){const r=new _2e;return await r.open(e,t),r}async function Ree(e,t={}){if(typeof e!="string")throw new Z("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(oe("host-webworker")&&!oe("esri-workers")&&(r="local"),r==="local"){let n=await Oo.loadWorker(e);n||(n=await ae(()=>import(e),[],import.meta.url)),Ar(t.signal);const i=t.client||n;return pS([Oo.connect(n)],{...t,client:i})}if(await Aee(),Ar(t.signal),r==="dedicated"){const n=q8++%wf;return pS([await XC[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,wf);if(n<wf){const i=new Array(n);for(let o=0;o<n;++o){const s=q8++%wf;i[o]=XC[s].open(e,t)}return pS(i,t)}}return pS(XC.map(n=>n.open(e,t)),t)}let hS=null;async function Aee(){if(hS)return hS;new AbortController;const e=[];for(let t=0;t<wf;t++){const r=D5.create(t).then(n=>(XC[t]=n,n));e.push(r)}return hS=Promise.all(e),hS}let hk,Y=null;function Fee(){return!!Y}function A2e(){return!!oe("esri-wasm")}function Nee(){return hk||(hk=ae(()=>import("./pe-wasm.9649c26b.js"),[],import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>Nt(`esri/geometry/support/${t}`)})).then(e=>{zee(e)}),hk)}var FA,Vr,NA;(function(e){function t(o,s,a){Y.ensureCache.prepare();const l=uf(a),c=a===l,d=Y.ensureFloat64(l),p=Y._pe_geog_to_proj(Y.getPointer(o),s,d);return p&&lp(a,s,d,c),p}function r(o,s,a,l){switch(l){case Vr.PE_TRANSFORM_P_TO_G:return n(o,s,a);case Vr.PE_TRANSFORM_G_TO_P:return t(o,s,a)}return 0}function n(o,s,a){return i(o,s,a,0)}function i(o,s,a,l){Y.ensureCache.prepare();const c=uf(a),d=a===c,p=Y.ensureFloat64(c),f=Y._pe_proj_to_geog_center(Y.getPointer(o),s,p,l);return f&&lp(a,s,p,d),f}e.geogToProj=t,e.projGeog=r,e.projToGeog=n,e.projToGeogCenter=i})(FA||(FA={})),function(e){function t(){e.PE_BUFFER_MAX=Y.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=Y.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=Y.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=Y.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=Y.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=Y.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=Y.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=Y.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=Y.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=Y.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=Y.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=Y.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=Y.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=Y.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=Y.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=Y.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=Y.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=Y.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=Y.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=Y.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=Y.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=Y.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=Y.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=Y.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=Y.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=Y.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=Y.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=Y.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=Y.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=Y.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Vr||(Vr={})),function(e){const t={},r={},n=y=>{if(y){const g=y.getType();switch(g){case Vr.PE_TYPE_GEOGCS:y=Y.castObject(y,Y.PeGeogcs);break;case Vr.PE_TYPE_PROJCS:y=Y.castObject(y,Y.PeProjcs);break;case Vr.PE_TYPE_GEOGTRAN:y=Y.castObject(y,Y.PeGeogtran);break;default:g&Vr.PE_TYPE_UNIT&&(y=Y.castObject(y,Y.PeUnit))}}return y};function i(){Y.PeFactory.prototype.initialize(null)}function o(y){return s(Vr.PE_TYPE_COORDSYS,y)}function s(y,g){let v=null,b=t[y];if(b||(b={},t[y]=b),b.hasOwnProperty(String(g)))v=b[g];else{const w=Y.PeFactory.prototype.factoryByType(y,g);Y.compare(w,Y.NULL)||(v=w,b[g]=v)}return v=n(v),v}function a(y,g){let v=null,b=r[y];if(b||(b={},r[y]=b),b.hasOwnProperty(g))v=b[g];else{const w=Y.PeFactory.prototype.fromString(y,g);Y.compare(w,Y.NULL)||(v=w,b[g]=v)}return v=n(v),v}function l(y){return s(Vr.PE_TYPE_GEOGCS,y)}function c(y){return s(Vr.PE_TYPE_GEOGTRAN,y)}function d(y){return Y.PeFactory.prototype.getCode(y)}function p(y){return s(Vr.PE_TYPE_PROJCS,y)}function f(y){return s(Vr.PE_TYPE_UNIT,y)}e.initialize=i,e.coordsys=o,e.factoryByType=s,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=d,e.projcs=p,e.unit=f}(NA||(NA={}));let Dee=null;var nE,DA,zA,VA,iE,jA,oE,sE,BA;function zee(e){function t(o,s,a){o[s]=a(o[s])}Y=e,Vr.init(),nE.init(),iE.init(),oE.init(),sE.init(),Dee=class extends Y.PeGCSExtent{destroy(){Y.destroy(this)}};const r=[Y.PeDatum,Y.PeGeogcs,Y.PeGeogtran,Y.PeObject,Y.PeParameter,Y.PePrimem,Y.PeProjcs,Y.PeSpheroid,Y.PeUnit];for(const o of r)t(o.prototype,"getName",s=>function(){return s.call(this,new Array(Vr.PE_NAME_MAX))});for(const o of[Y.PeGeogtran,Y.PeProjcs])t(o.prototype,"getParameters",s=>function(){const a=new Array(Vr.PE_PARM_MAX);let l=s.call(this);for(let c=0;c<a.length;c++){const d=Y.getValue(l,"*");a[c]=d?Y.wrapPointer(d,Y.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(Y.PeHorizon.prototype,"getCoord",o=>function(){const s=this.getSize();if(!s)return null;const a=[];return lp(a,s,o.call(this)),a}),t(Y.PeGTlistExtendedEntry.prototype,"getEntries",o=>{const s=Y._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=o.call(this);if(!Y.compare(l,Y.NULL)){a=[l];const c=this.getSteps();if(c>1){const d=Y.getPointer(l);for(let p=1;p<c;p++)a.push(Y.wrapPointer(d+s*p,Y.PeGTlistExtendedGTs))}}return a}});const n=Y._pe_getPeHorizonSize(),i=o=>function(){let s=this._cache;if(s||(s=new Map,this._cache=s),s.has(o))return s.get(o);let a=null;const l=o.call(this);if(!Y.compare(l,Y.NULL)){a=[l];const c=l.getNump();if(c>1){const d=Y.getPointer(l);for(let p=1;p<c;p++)a.push(Y.wrapPointer(d+n*p,Y.PeHorizon))}}return s.set(o,a),a};t(Y.PeProjcs.prototype,"horizonGcsGenerate",i),t(Y.PeProjcs.prototype,"horizonPcsGenerate",i),Y.PeObject.prototype.toString=function(o=Vr.PE_STR_OPTS_NONE){Y.ensureCache.prepare();const s=Y.getPointer(this),a=Y.ensureInt8(new Array(Vr.PE_BUFFER_MAX));return Y.UTF8ToString(Y._pe_object_to_string_ext(s,o,a))}}function Vc(e){if(!e)return;const t=Y.getClass(e);if(!t)return;const r=Y.getCache(t);if(!r)return;const n=Y.getPointer(e);n&&delete r[n]}function fS(e,t){const r=[],n=new Array(t);for(let i=0;i<e;i++)r.push(Y.ensureInt8(n));return r}function uf(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(r=>{t.push(r[0],r[1])})):t=e,t}function lp(e,t,r,n=!1){if(n)for(let i=0;i<2*t;i++)e[i]=Y.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let o=0;o<t;o++)i&&(e[o]=new Array(2)),e[o][0]=Y.getValue(r,"double"),e[o][1]=Y.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=Y.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=Y._pe_getPeGTlistExtendedEntrySize()}function n(i,o,s,a,l,c){let d=null;const p=new Y.PeInteger(c);try{const f=Y.PeGTlistExtended.prototype.getGTlist(i,o,s,a,l,p);if((c=p.val)&&(d=[f],c>1)){const y=Y.getPointer(f);for(let g=1;g<c;g++)d.push(Y.wrapPointer(y+t*g,Y.PeGTlistExtendedEntry))}}finally{Y.destroy(p)}return d}e.init=r,e.getGTlist=n})(nE||(nE={})),function(e){function t(r){if(r&&r.length){for(const n of r)Vc(n),n.getEntries().forEach(i=>{Vc(i);const o=i.getGeogtran();Vc(o),o.getParameters().forEach(Vc),[o.getGeogcs1(),o.getGeogcs2()].forEach(s=>{Vc(s);const a=s.getDatum();Vc(a),Vc(a.getSpheroid()),Vc(s.getPrimem()),Vc(s.getUnit())})});Y.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(DA||(DA={})),function(e){function t(r,n,i,o,s){Y.ensureCache.prepare();const a=uf(i),l=i===a,c=Y.ensureFloat64(a);let d=0;o&&(d=Y.ensureFloat64(o));const p=Y._pe_geog_to_geog(Y.getPointer(r),n,c,d,s);return p&&lp(i,n,c,l),p}e.geogToGeog=t}(zA||(zA={})),function(e){const t=(c,d,p,f,y,g)=>{let v,b;switch(Y.ensureCache.prepare(),c){case"dd":v=Y._pe_geog_to_dd,b=Vr.PE_DD_MAX;break;case"ddm":v=Y._pe_geog_to_ddm,b=Vr.PE_DDM_MAX;break;case"dms":v=Y._pe_geog_to_dms,b=Vr.PE_DMS_MAX}let w=0;d&&(w=Y.getPointer(d));const x=uf(f),S=Y.ensureFloat64(x),C=fS(p,b),$=v(w,p,S,y,Y.ensureInt32(C));if($)for(let M=0;M<p;M++)g[M]=Y.UTF8ToString(C[M]);return $},r=(c,d,p,f,y)=>{let g;switch(Y.ensureCache.prepare(),c){case"dd":g=Y._pe_dd_to_geog;break;case"ddm":g=Y._pe_ddm_to_geog;break;case"dms":g=Y._pe_dms_to_geog}let v=0;d&&(v=Y.getPointer(d));const b=f.map(C=>Y.ensureString(C)),w=Y.ensureInt32(b),x=Y.ensureFloat64(new Array(2*p)),S=g(v,p,w,x);return S&&lp(y,p,x),S};function n(c,d,p,f,y){return t("dms",c,d,p,f,y)}function i(c,d,p,f){return r("dms",c,d,p,f)}function o(c,d,p,f,y){return t("ddm",c,d,p,f,y)}function s(c,d,p,f){return r("ddm",c,d,p,f)}function a(c,d,p,f,y){return t("dd",c,d,p,f,y)}function l(c,d,p,f){return r("dd",c,d,p,f)}e.geogToDms=n,e.dmsToGeog=i,e.geogToDdm=o,e.ddmToGeog=s,e.geogToDd=a,e.ddToGeog=l}(VA||(VA={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=Y.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=Y.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=Y.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=Y.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=Y.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(i,o,s,a,l,c,d){Y.ensureCache.prepare();let p=0;i&&(p=Y.getPointer(i));const f=uf(s),y=Y.ensureFloat64(f),g=fS(o,Vr.PE_MGRS_MAX),v=Y.ensureInt32(g),b=Y._pe_geog_to_mgrs_extended(p,o,y,a,l,c,v);if(b)for(let w=0;w<o;w++)d[w]=Y.UTF8ToString(g[w]);return b}function n(i,o,s,a,l){Y.ensureCache.prepare();let c=0;i&&(c=Y.getPointer(i));const d=s.map(g=>Y.ensureString(g)),p=Y.ensureInt32(d),f=Y.ensureFloat64(new Array(2*o)),y=Y._pe_mgrs_to_geog_extended(c,o,p,a,f);return y&&lp(l,o,f),y}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=n}(iE||(iE={})),function(e){function t(n,i,o,s,a,l,c){Y.ensureCache.prepare();let d=0;n&&(d=Y.getPointer(n));const p=uf(o),f=Y.ensureFloat64(p),y=fS(i,Vr.PE_MGRS_MAX),g=Y.ensureInt32(y),v=Y._pe_geog_to_usng(d,i,f,s,a,l,g);if(v)for(let b=0;b<i;b++)c[b]=Y.UTF8ToString(y[b]);return v}function r(n,i,o,s){Y.ensureCache.prepare();let a=0;n&&(a=Y.getPointer(n));const l=o.map(f=>Y.ensureString(f)),c=Y.ensureInt32(l),d=Y.ensureFloat64(new Array(2*i)),p=Y._pe_usng_to_geog(a,i,c,d);return p&&lp(s,i,d),p}e.geogToUsng=t,e.usngToGeog=r}(jA||(jA={})),function(e){function t(){e.PE_UTM_OPTS_NONE=Y.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=Y.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=Y.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(i,o,s,a,l){Y.ensureCache.prepare();let c=0;i&&(c=Y.getPointer(i));const d=uf(s),p=Y.ensureFloat64(d),f=fS(o,Vr.PE_UTM_MAX),y=Y.ensureInt32(f),g=Y._pe_geog_to_utm(c,o,p,a,y);if(g)for(let v=0;v<o;v++)l[v]=Y.UTF8ToString(f[v]);return g}function n(i,o,s,a,l){Y.ensureCache.prepare();let c=0;i&&(c=Y.getPointer(i));const d=s.map(g=>Y.ensureString(g)),p=Y.ensureInt32(d),f=Y.ensureFloat64(new Array(2*o)),y=Y._pe_utm_to_geog(c,o,p,a,f);return y&&lp(l,o,f),y}e.init=t,e.geogToUtm=r,e.utmToGeog=n}(oE||(oE={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=Y.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=Y.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=Y.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=Y.PePCSInfo.prototype.PE_POLE_POINT}function n(i,o=e.PE_PCSINFO_OPTION_DOMAIN){let s,a;return t.has(i)&&(a=t.get(i),a[o]&&(s=a[o])),s||(s=Y.PePCSInfo.prototype.generate(i,o),a||(a=[],t.set(i,a)),a[o]=s),s}e.init=r,e.generate=n}(sE||(sE={})),function(e){function t(){return Y.PeVersion.prototype.version_string()}e.versionString=t}(BA||(BA={}));const F2e=Object.freeze(Object.defineProperty({__proto__:null,get _pe(){return Y},isLoaded:Fee,isSupported:A2e,load:Nee,get PeCSTransformations(){return FA},get PeDefs(){return Vr},get PeFactory(){return NA},get PeGCSExtent(){return Dee},get PeGTlistExtended(){return nE},get PeGTlistExtendedEntry(){return DA},get PeGTTransformations(){return zA},get PeNotationDms(){return VA},get PeNotationMgrs(){return iE},get PeNotationUsng(){return jA},get PeNotationUtm(){return oE},get PePCSInfo(){return sE},get PeVersion(){return BA},_init:zee},Symbol.toStringTag,{value:"Module"})),ad=kr.radius,Ra=kr.eccentricitySquared,N2e={a1:ad*Ra,a2:ad*Ra*ad*Ra,a3:ad*Ra*Ra/2,a4:ad*Ra*ad*Ra*2.5,a5:ad*Ra+ad*Ra*Ra/2,a6:1-Ra};1/294.9786982,1/298.257222101,kr.radius,kr.flattening,jp.radius,jp.flattening,1/192.0430107526882,ku.radius,ku.flattening,1/10.2079945799458,1/43.61604095563141,ku.radius;let mS=0;class Dg{constructor(t=null){this.uid=mS++,t?(this._wkt=t.wkt!==void 0?t.wkt:null,this._wkid=t.wkid!==void 0?t.wkid:-1,this._isInverse=t.isInverse!==void 0&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(t){const r=new Dg;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=mS++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=mS++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=mS++}getInverse(){const t=new Dg;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}class vp{constructor(t){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const r of t.steps)r instanceof Dg?this.steps.push(r):this.steps.push(new Dg({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}static cacheKey(t,r){return[t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():"",r.wkid!==void 0&&r.wkid!==null?r.wkid.toString():"-1",r.wkt!==void 0&&r.wkt!==null?r.wkt.toString():""].join(",")}static fromGE(t){const r=new vp;let n="";for(const i of t.steps){const o=Dg.fromGE(i);r.steps.push(o),n+=o.uid.toString()+","}return r._cached_projection={},r._gtlistentry=null,r._chain=n,r}getInverse(){const t=new vp;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const n=this.steps[r];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,n){this._cached_projection[vp.cacheKey(t,r)]=n}getCachedGeTransformation(t,r){let n="";for(const o of this.steps)n+=o.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=n);const i=this._cached_projection[vp.cacheKey(t,r)];return i===void 0?null:i}}function Vee(e,t,r){if(te(t)||te(r)||r.vcsWkid||Ci(t,r))return null;const n=c0(t)/c0(r);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>D2e(i,n);case"polyline":case"esriGeometryPolyline":return i=>V2e(i,n);case"polygon":case"esriGeometryPolygon":return i=>z2e(i,n);case"multipoint":case"esriGeometryMultipoint":return i=>j2e(i,n);case"extent":case"esriGeometryExtent":return i=>B2e(i,n);default:return null}}function D2e(e,t){e&&e.z!=null&&(e.z*=t)}function z2e(e,t){if(e)for(const r of e.rings)for(const n of r)n.length>2&&(n[2]*=t)}function V2e(e,t){if(e)for(const r of e.paths)for(const n of r)n.length>2&&(n[2]*=t)}function j2e(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function B2e(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Lp=null,aE=null,fk=null,mk={};const jee=new DK;function Hp(){return!!Lp&&Fee()}function qp(e){return te(fk)&&(fk=Promise.all([Nee(),ae(()=>import("./geometryEngineBase.0f0d7ecf.js"),[],import.meta.url).then(t=>t.g),ae(()=>import("./hydrated.3f64c5f9.js"),[],import.meta.url)])),fk.then(([,t,{hydratedAdapter:r}])=>{Ar(e),aE=r,Lp=t.default,Lp._enableProjection(F2e),jee.notify()})}function Q0(e,t,r=null,n=null){return Array.isArray(e)?e.length===0?[]:W8(aE,e,e[0].spatialReference,t,r,n):W8(aE,[e],e.spatialReference,t,r,n)[0]}function W8(e,t,r,n,i=null,o=null){if(te(r)||te(n))return t;if(Vu(r,n,i))return t.map(s=>H2e(s,r,n));if(te(i)){const s=vp.cacheKey(r,n);mk[s]!==void 0?i=mk[s]:(i=U2e(r,n,null),te(i)&&(i=new vp),mk[s]=i)}if(te(Lp))throw new z5;return G(o)?Lp._project(e,t,r,n,i,o):Lp._project(e,t,r,n,i)}function att(e,t){return te(e)?{pending:null,geometry:null}:Ci(e.spatialReference,t)?{pending:null,geometry:e}:Hi(e.spatialReference)&&Hi(t)?Vu(e.spatialReference,t)||Hp()?{pending:null,geometry:G2e(e,t)}:(bt(jee),{pending:qp(),geometry:null}):{pending:null,geometry:null}}function U2e(e,t,r=null){if(te(Lp))throw new z5;if(te(e)||te(t))return null;const n=Lp._getTransformation(aE,e,t,r,r==null?void 0:r.spatialReference);return n!==null?vp.fromGE(n):null}class z5 extends Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var K;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(K||(K={}));function G2e(e,t){try{const r=Q0(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const n=Vee(r.type,e.spatialReference,t);return G(n)&&n(r),r}catch(r){if(!(r instanceof z5))throw r;return null}}function Vu(e,t,r){return!r&&(!!Ci(e,t)||Hi(e)&&Hi(t)&&!!Hee(e,t,Wee))}async function ltt(e,t,r,n){if(Hp())return y6(n);if(Array.isArray(e)){for(const{source:i,dest:o,geographicTransformation:s}of e)if(!Vu(i,o,s))return qp(n)}else if(!Vu(e,t,r))return qp(n);return y6(n)}function H2e(e,t,r){return e?"x"in e?q2e(e,t,new at,r,0):"xmin"in e?J2e(e,t,new er,r,0):"rings"in e?Bee(e,t,new _a,r,0):"paths"in e?K2e(e,t,new Ss,r,0):"points"in e?W2e(e,t,new V0,r,0):null:null}function q2e(e,t,r,n,i){Fn[0]=e.x,Fn[1]=e.y;const o=e.z;return Fn[2]=o!==void 0?o:i,B_(Fn,t,0,Fn,n,0,1)?(r.x=Fn[0],r.y=Fn[1],r.spatialReference=n,o===void 0?(r.z=void 0,r.hasZ=!1):(r.z=Fn[2],r.hasZ=!0),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function W2e(e,t,r,n,i){const{points:o,hasZ:s,hasM:a}=e,l=[],c=o.length,d=[];for(const p of o)d.push(p[0],p[1],s?p[2]:i);if(!B_(d,t,0,d,n,0,c))return null;for(let p=0;p<c;++p){const f=3*p,y=d[f],g=d[f+1];s&&a?l.push([y,g,d[f+2],o[p][3]]):s?l.push([y,g,d[f+2]]):a?l.push([y,g,o[p][2]]):l.push([y,g])}return r.points=l,r.spatialReference=n,r.hasZ=s,r.hasM=a,r}function K2e(e,t,r,n,i){const{paths:o,hasZ:s,hasM:a}=e,l=[];return Uee(o,s,a,t,l,n,i)?(r.paths=l,r.spatialReference=n,r.hasZ=s,r.hasM=a,r):null}function ctt(e,t,r=t.spatialReference,n=0){return G(r)&&G(Bee(e,e.spatialReference,t,r,n))}function Bee(e,t,r,n,i){const{rings:o,hasZ:s,hasM:a}=e,l=[];return Uee(o,s,a,t,l,n,i)?(r.rings=l,r.spatialReference=n,r.hasZ=s,r.hasM=a,r):null}function J2e(e,t,r,n,i){const{xmin:o,ymin:s,xmax:a,ymax:l,hasZ:c,hasM:d}=e;return K8(o,s,c?e.zmin:i,t,Fn,n)?(r.xmin=Fn[0],r.ymin=Fn[1],c&&(r.zmin=Fn[2]),K8(a,l,c?e.zmax:i,t,Fn,n)?(r.xmax=Fn[0],r.ymax=Fn[1],c&&(r.zmax=Fn[2]),d&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null):null}function utt(e,t,r,n=0){Fn[0]=e.x,Fn[1]=e.y;const i=e.z;return Fn[2]=i!==void 0?i:n,B_(Fn,e.spatialReference,0,t,r,0,1)}function K8(e,t,r,n,i,o){return yS[0]=e,yS[1]=t,yS[2]=r,B_(yS,n,0,i,o,0,1)}function B_(e,t,r,n,i,o,s=1){const a=Hee(t,i,Wee);if(te(a))return!1;if(a===br){if(e===n&&r===o)return!0;const c=r+3*s;for(let d=r,p=o;d<c;d++,p++)n[p]=e[d];return!0}const l=r+3*s;for(let c=r,d=o;c<l;c+=3,d+=3)a(e,c,n,d);return!0}function Uee(e,t,r,n,i,o,s=0){const a=new Array;for(const c of e)for(const d of c)a.push(d[0],d[1],t?d[2]:s);if(!B_(a,n,0,a,o,0,a.length/3))return!1;let l=0;i.length=0;for(const c of e){const d=new Array;for(const p of c)t&&r?d.push([a[l++],a[l++],a[l++],p[3]]):t?d.push([a[l++],a[l++],a[l++]]):r?(d.push([a[l++],a[l++],p[2]]),l++):(d.push([a[l++],a[l++]]),l++);i.push(d)}return!0}function dtt(e,t,r,n){if(te(e)||te(n))return!1;const i=U1(e,qee),o=U1(n,pEe);if(i===o&&!J8(o)&&(i!==K.UNKNOWN||Ci(e,n)))return QY(r,t),!0;if(J8(o)){const s=yg[i][K.LON_LAT],a=yg[K.LON_LAT][o];return!te(s)&&!te(a)&&(s(t,0,ld,0),a(ld,0,cd,0),Gee(mc*ld[0],mc*ld[1],r),r[12]=cd[0],r[13]=cd[1],r[14]=cd[2],!0)}if((o===K.WEB_MERCATOR||o===K.PLATE_CARREE)&&(i===K.WGS84||i===K.CGCS2000&&o===K.PLATE_CARREE||i===K.SPHERICAL_ECEF||i===K.WEB_MERCATOR)){const s=yg[i][K.LON_LAT],a=yg[K.LON_LAT][o];return!te(s)&&!te(a)&&(s(t,0,ld,0),a(ld,0,cd,0),i===K.SPHERICAL_ECEF?Z2e(mc*ld[0],mc*ld[1],r):e5(r),r[12]=cd[0],r[13]=cd[1],r[14]=cd[2],!0)}return!1}function J8(e){return e===K.SPHERICAL_ECEF||e===K.SPHERICAL_MARS_PCPF||e===K.SPHERICAL_MOON_PCPF}function Gee(e,t,r){const n=Math.sin(e),i=Math.cos(e),o=Math.sin(t),s=Math.cos(t),a=r;return a[0]=-n,a[4]=-o*i,a[8]=s*i,a[12]=0,a[1]=i,a[5]=-o*n,a[9]=s*n,a[13]=0,a[2]=0,a[6]=s,a[10]=o,a[14]=0,a[3]=0,a[7]=0,a[11]=0,a[15]=1,a}function Z2e(e,t,r){return Gee(e,t,r),Ju(r,r),r}function U1(e,t){return t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=W0(e,1)),e.wkt===sQ.wkt?t.spatialReferenceId=K.SPHERICAL_ECEF:S1(e)?t.spatialReferenceId=K.WGS84:im(e)?t.spatialReferenceId=K.WEB_MERCATOR:bhe(e)?t.spatialReferenceId=K.PLATE_CARREE:e.wkt===z1e.wkt?t.spatialReferenceId=K.WGS84_ECEF:e.wkid===la.CGCS2000?t.spatialReferenceId=K.CGCS2000:e.wkt===B2.wkt?t.spatialReferenceId=K.SPHERICAL_MARS_PCPF:e.wkt===U2.wkt?t.spatialReferenceId=K.SPHERICAL_MOON_PCPF:N0(e)?t.spatialReferenceId=K.GCSMARS2000:D0(e)?t.spatialReferenceId=K.GCSMOON2000:t.spatialReferenceId=K.UNKNOWN)}function br(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function zg(e,t,r,n){r[n++]=h0*(e[t++]/kr.radius),r[n++]=h0*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/kr.radius))),r[n]=e[t]}function Y2e(e,t,r,n){zg(e,t,r,n),Sf(r,n,r,n)}function Q2e(e,t,r,n){zg(e,t,r,n),$f(r,n,r,n)}function X2e(e,t,r,n,i){const o=.4999999*Math.PI,s=Ko(mc*e[t+1],-o,o),a=Math.sin(s);r[n++]=mc*e[t]*i.radius,r[n++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),r[n]=e[t+2]}function G1(e,t,r,n){X2e(e,t,r,n,kr)}const Z8=kr.radius*Math.PI/180,Y8=180/(kr.radius*Math.PI);function _f(e,t,r,n){r[n]=e[t]*Z8,r[n+1]=e[t+1]*Z8,r[n+2]=e[t+2]}function xf(e,t,r,n){r[n]=e[t]*Y8,r[n+1]=e[t+1]*Y8,r[n+2]=e[t+2]}function eEe(e,t,r,n){zg(e,t,r,n),_f(r,n,r,n)}function tEe(e,t,r,n){Ef(e,t,r,n),_f(r,n,r,n)}function rEe(e,t,r,n){Cf(e,t,r,n),_f(r,n,r,n)}function nEe(e,t,r,n){xf(e,t,r,n),Sf(r,n,r,n)}function iEe(e,t,r,n){xf(e,t,r,n),G1(r,n,r,n)}function oEe(e,t,r,n){xf(e,t,r,n),$f(r,n,r,n)}function V5(e){if(te(e))return!1;const t=U1(e,qee);return!!yg[t][K.WGS84_COMPARABLE_LON_LAT]}function j5(e,t,r,n,i){const o=i+e[t+2],s=mc*e[t+1],a=mc*e[t],l=Math.cos(s);r[n++]=Math.cos(a)*l*o,r[n++]=Math.sin(a)*l*o,r[n]=Math.sin(s)*o}function Q8(e,t,r,n){j5(e,t,r,n,jp.radius)}function X8(e,t,r,n){j5(e,t,r,n,ku.radius)}function Sf(e,t,r,n){j5(e,t,r,n,kr.radius)}function B5(e,t,r,n,i){const o=e[t],s=e[t+1],a=e[t+2],l=Math.sqrt(o*o+s*s+a*a),c=qJ(a/(l===0?1:l)),d=Math.atan2(s,o);r[n++]=h0*d,r[n++]=h0*c,r[n]=l-i}function e9(e,t,r,n){B5(e,t,r,n,jp.radius)}function t9(e,t,r,n){B5(e,t,r,n,ku.radius)}function Cf(e,t,r,n){B5(e,t,r,n,kr.radius)}function sEe(e,t,r,n){Cf(e,t,r,n),G1(r,n,r,n)}function aEe(e,t,r,n){Cf(e,t,r,n),$f(r,n,r,n)}function lEe(e,t,r,n,i){const o=mc*e[t],s=mc*e[t+1],a=e[t+2],l=Math.sin(s),c=Math.cos(s),d=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);r[n++]=(d+a)*c*Math.cos(o),r[n++]=(d+a)*c*Math.sin(o),r[n++]=(d*(1-i.eccentricitySquared)+a)*l}function $f(e,t,r,n){lEe(e,t,r,n,kr)}function Ef(e,t,r,n){const i=N2e,o=e[t],s=e[t+1],a=e[t+2];let l,c,d,p,f,y,g,v,b,w,x,S,C,$,M,I,T,O,L,N,H;l=Math.abs(a),c=o*o+s*s,d=Math.sqrt(c),p=c+a*a,f=Math.sqrt(p),N=Math.atan2(s,o),y=a*a/p,g=c/p,$=i.a2/f,M=i.a3-i.a4/f,g>.3?(v=l/f*(1+g*(i.a1+$+y*M)/f),L=Math.asin(v),w=v*v,b=Math.sqrt(1-w)):(b=d/f*(1-y*(i.a5-$-g*M)/f),L=Math.acos(b),w=1-b*b,v=Math.sqrt(w)),x=1-kr.eccentricitySquared*w,S=kr.radius/Math.sqrt(x),C=i.a6*S,$=d-S*b,M=l-C*v,T=b*$+v*M,I=b*M-v*$,O=I/(C/x+T),L+=O,H=T+I*O/2,a<0&&(L=-L),r[n++]=h0*N,r[n++]=h0*L,r[n]=H}function cEe(e,t,r,n){Ef(e,t,r,n),Sf(r,n,r,n)}function uEe(e,t,r,n){Ef(e,t,r,n),G1(r,n,r,n)}const yg={[K.WGS84]:{[K.CGCS2000]:null,[K.GCSMARS2000]:null,[K.GCSMOON2000]:null,[K.LON_LAT]:br,[K.WGS84_COMPARABLE_LON_LAT]:br,[K.SPHERICAL_ECEF]:Sf,[K.SPHERICAL_MARS_PCPF]:null,[K.SPHERICAL_MOON_PCPF]:null,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:G1,[K.PLATE_CARREE]:_f,[K.WGS84]:br,[K.WGS84_ECEF]:$f},[K.CGCS2000]:{[K.CGCS2000]:br,[K.GCSMARS2000]:null,[K.GCSMOON2000]:null,[K.LON_LAT]:br,[K.WGS84_COMPARABLE_LON_LAT]:br,[K.SPHERICAL_ECEF]:Sf,[K.SPHERICAL_MARS_PCPF]:null,[K.SPHERICAL_MOON_PCPF]:null,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:null,[K.PLATE_CARREE]:_f,[K.WGS84]:null,[K.WGS84_ECEF]:$f},[K.GCSMARS2000]:{[K.CGCS2000]:null,[K.GCSMARS2000]:br,[K.GCSMOON2000]:null,[K.LON_LAT]:br,[K.WGS84_COMPARABLE_LON_LAT]:null,[K.SPHERICAL_ECEF]:null,[K.SPHERICAL_MARS_PCPF]:X8,[K.SPHERICAL_MOON_PCPF]:null,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:null,[K.PLATE_CARREE]:null,[K.WGS84]:null,[K.WGS84_ECEF]:null},[K.GCSMOON2000]:{[K.CGCS2000]:null,[K.GCSMARS2000]:null,[K.GCSMOON2000]:br,[K.LON_LAT]:br,[K.WGS84_COMPARABLE_LON_LAT]:null,[K.SPHERICAL_ECEF]:null,[K.SPHERICAL_MARS_PCPF]:null,[K.SPHERICAL_MOON_PCPF]:Q8,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:null,[K.PLATE_CARREE]:null,[K.WGS84]:null,[K.WGS84_ECEF]:null},[K.WEB_MERCATOR]:{[K.CGCS2000]:null,[K.GCSMARS2000]:null,[K.GCSMOON2000]:null,[K.LON_LAT]:zg,[K.WGS84_COMPARABLE_LON_LAT]:zg,[K.SPHERICAL_ECEF]:Y2e,[K.SPHERICAL_MARS_PCPF]:null,[K.SPHERICAL_MOON_PCPF]:null,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:br,[K.PLATE_CARREE]:eEe,[K.WGS84]:zg,[K.WGS84_ECEF]:Q2e},[K.WGS84_ECEF]:{[K.CGCS2000]:Ef,[K.GCSMARS2000]:null,[K.GCSMOON2000]:null,[K.LON_LAT]:Ef,[K.WGS84_COMPARABLE_LON_LAT]:Ef,[K.SPHERICAL_ECEF]:cEe,[K.SPHERICAL_MARS_PCPF]:null,[K.SPHERICAL_MOON_PCPF]:null,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:uEe,[K.PLATE_CARREE]:tEe,[K.WGS84]:Ef,[K.WGS84_ECEF]:br},[K.SPHERICAL_ECEF]:{[K.CGCS2000]:Cf,[K.GCSMARS2000]:null,[K.GCSMOON2000]:null,[K.LON_LAT]:Cf,[K.WGS84_COMPARABLE_LON_LAT]:Cf,[K.SPHERICAL_ECEF]:br,[K.SPHERICAL_MARS_PCPF]:null,[K.SPHERICAL_MOON_PCPF]:null,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:sEe,[K.PLATE_CARREE]:rEe,[K.WGS84]:Cf,[K.WGS84_ECEF]:aEe},[K.SPHERICAL_MARS_PCPF]:{[K.CGCS2000]:null,[K.GCSMARS2000]:t9,[K.GCSMOON2000]:null,[K.LON_LAT]:t9,[K.WGS84_COMPARABLE_LON_LAT]:null,[K.SPHERICAL_ECEF]:null,[K.SPHERICAL_MARS_PCPF]:br,[K.SPHERICAL_MOON_PCPF]:null,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:null,[K.PLATE_CARREE]:null,[K.WGS84]:null,[K.WGS84_ECEF]:null},[K.SPHERICAL_MOON_PCPF]:{[K.CGCS2000]:null,[K.GCSMARS2000]:null,[K.GCSMOON2000]:e9,[K.LON_LAT]:e9,[K.WGS84_COMPARABLE_LON_LAT]:null,[K.SPHERICAL_ECEF]:null,[K.SPHERICAL_MARS_PCPF]:null,[K.SPHERICAL_MOON_PCPF]:br,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:null,[K.PLATE_CARREE]:null,[K.WGS84]:null,[K.WGS84_ECEF]:null},[K.UNKNOWN]:{[K.CGCS2000]:null,[K.GCSMARS2000]:null,[K.GCSMOON2000]:null,[K.LON_LAT]:null,[K.WGS84_COMPARABLE_LON_LAT]:null,[K.SPHERICAL_ECEF]:null,[K.SPHERICAL_MARS_PCPF]:null,[K.SPHERICAL_MOON_PCPF]:null,[K.UNKNOWN]:br,[K.WEB_MERCATOR]:null,[K.PLATE_CARREE]:null,[K.WGS84]:null,[K.WGS84_ECEF]:null},[K.LON_LAT]:{[K.CGCS2000]:br,[K.GCSMARS2000]:br,[K.GCSMOON2000]:br,[K.LON_LAT]:br,[K.WGS84_COMPARABLE_LON_LAT]:br,[K.SPHERICAL_ECEF]:Sf,[K.SPHERICAL_MARS_PCPF]:X8,[K.SPHERICAL_MOON_PCPF]:Q8,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:G1,[K.PLATE_CARREE]:_f,[K.WGS84]:br,[K.WGS84_ECEF]:$f},[K.WGS84_COMPARABLE_LON_LAT]:{[K.CGCS2000]:null,[K.GCSMARS2000]:null,[K.GCSMOON2000]:null,[K.LON_LAT]:br,[K.WGS84_COMPARABLE_LON_LAT]:br,[K.SPHERICAL_ECEF]:Sf,[K.SPHERICAL_MARS_PCPF]:null,[K.SPHERICAL_MOON_PCPF]:null,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:null,[K.PLATE_CARREE]:_f,[K.WGS84]:br,[K.WGS84_ECEF]:$f},[K.PLATE_CARREE]:{[K.CGCS2000]:xf,[K.GCSMARS2000]:null,[K.GCSMOON2000]:null,[K.LON_LAT]:xf,[K.WGS84_COMPARABLE_LON_LAT]:xf,[K.SPHERICAL_ECEF]:nEe,[K.SPHERICAL_MARS_PCPF]:null,[K.SPHERICAL_MOON_PCPF]:null,[K.UNKNOWN]:null,[K.WEB_MERCATOR]:iEe,[K.PLATE_CARREE]:br,[K.WGS84]:xf,[K.WGS84_ECEF]:oEe}};function Hee(e,t,r=U5()){return te(e)||te(t)?null:dEe(e,t,r).projector}function dEe(e,t,r){if(te(e)||te(t)||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const n=U1(e,r.source),i=U1(t,r.dest);return n===K.UNKNOWN&&i===K.UNKNOWN?Ci(e,t)?r.projector=br:r.projector=null:r.projector=yg[n][i],r}function U5(){return{source:{spatialReference:null,spatialReferenceId:K.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:K.UNKNOWN,metersPerUnit:1},projector:br}}const qee={spatialReference:null,spatialReferenceId:K.UNKNOWN},pEe={spatialReference:null,spatialReferenceId:K.UNKNOWN},Wee=U5();U5();const mc=gb(1),h0=HJ(1),yS=Qo(),ld=Qo(),cd=Qo(),Fn=Qo();var UA;let Wl=UA=class extends ve{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new UA({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};u([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Wl.prototype,"cols",void 0),u([h({type:Ir,json:{write:!0}})],Wl.prototype,"level",void 0),u([h({type:String,json:{write:!0}})],Wl.prototype,"levelValue",void 0),u([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Wl.prototype,"origin",void 0),u([h({type:Number,json:{write:!0}})],Wl.prototype,"resolution",void 0),u([h({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Wl.prototype,"rows",void 0),u([h({type:Number,json:{write:!0}})],Wl.prototype,"scale",void 0),Wl=UA=u([B("esri.layers.support.LOD")],Wl);const G5=Wl;var Ld;const r9=new Et({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Wn=Ld=class extends ve{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(e={}){const{resolutionFactor:t=1,scales:r,size:n=256,spatialReference:i=mt.WebMercator,numLODs:o=24}=e;if(!Hi(i)){const p=[];if(r)for(let f=0;f<r.length;f++){const y=r[f];p.push({level:f,scale:y,resolution:y})}else{let f=5e-4;for(let y=o-1;y>=0;y--)p.unshift({level:y,scale:f,resolution:f}),f*=2}return new Ld({dpi:96,lods:p,origin:new at(0,0,i),size:[n,n],spatialReference:i})}const s=xl(i),a=e.origin?new at({x:e.origin.x,y:e.origin.y,spatialReference:i}):new at(s?{x:s.origin[0],y:s.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),l=96,c=1/(W0(i)*39.37*l),d=[];if(r)for(let p=0;p<r.length;p++){const f=r[p],y=f*c;d.push({level:p,scale:f,resolution:y})}else{let p=sJ(i)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const f=Math.ceil(o/t);d.push({level:0,scale:p,resolution:p*c});for(let y=1;y<f;y++){const g=p/2**t,v=g*c;d.push({level:y,scale:g,resolution:v}),p=g}}return new Ld({dpi:l,lods:d,origin:a,size:[n,n],spatialReference:i})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=xl(e);return e.isWrappable&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return at.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const n=[];this._levelToLOD={},e&&(t=-1/0,r=1/0,e.forEach(i=>{n.push(i.scale),t=i.scale>t?i.scale:t,r=i.scale<r?i.scale:r,this._levelToLOD[i.level]=i})),this._set("scales",n),this._set("minScale",t),this._set("maxScale",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];{const r=Math.floor(e),n=r+1;return t[r]/(t[r]/t[n])**(e-r)}}scaleToZoom(e){const t=this.scales,r=t.length-1;let n=0;for(;n<r;n++){const i=t[n],o=t[n+1];if(i<=e)return n;if(o===e)return n+1;if(i>e&&o<e)return n+Math.log(i/e)/Math.log(i/o)}return n}snapScale(e,t=.95){const r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}tileAt(e,t,r,n){const i=this.lodAt(e);if(!i)return null;let o,s;if(typeof t=="number")o=t,s=r;else if(Ci(t.spatialReference,this.spatialReference))o=t.x,s=t.y,n=r;else{const c=gI(t,this.spatialReference);if(te(c))return null;o=c.x,s=c.y,n=r}const a=i.resolution*this.size[0],l=i.resolution*this.size[1];return n||(n={id:null,level:0,row:0,col:0,extent:Sa()}),n.level=e,n.row=Math.floor((this.origin.y-s)/l+.001),n.col=Math.floor((o-this.origin.x)/a+.001),this.updateTileInfo(n),n}updateTileInfo(e,t=Ld.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&t===Ld.ExtrapolateOptions.POWER_OF_TWO){const s=this.lods[this.lods.length-1];s.level<e.level&&(r=s)}if(!r)return;const n=e.level-r.level,i=r.resolution*this.size[0]/2**n,o=r.resolution*this.size[1]/2**n;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Sa()),e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+o}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const{resolution:r}=this.lodAt(t.level),n=r*this.size[0],i=r*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+n,e[3]=e[1]+i,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return Ld.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(this.size[0]===256&&this.size[1]===256)return e===256?this:null;const r=[],n=this.lods.length;for(let i=0;i<n;i++){const o=this.lods[i],s=o.resolution*t;r.push(new G5({level:o.level,scale:o.scale,resolution:s}))}return new Ld({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};u([h({type:Number,json:{write:!0}})],Wn.prototype,"compressionQuality",void 0),u([h({type:Number,json:{write:!0}})],Wn.prototype,"dpi",void 0),u([h({type:String,json:{read:r9.read,write:r9.write,origins:{"web-scene":{read:!1,write:!1}}}})],Wn.prototype,"format",void 0),u([h({readOnly:!0})],Wn.prototype,"isWrappable",null),u([h({type:at,json:{write:!0}})],Wn.prototype,"origin",void 0),u([Pe("origin")],Wn.prototype,"readOrigin",null),u([h({type:[G5],value:null,json:{write:!0}})],Wn.prototype,"lods",null),u([h({readOnly:!0})],Wn.prototype,"minScale",void 0),u([h({readOnly:!0})],Wn.prototype,"maxScale",void 0),u([h({readOnly:!0})],Wn.prototype,"scales",void 0),u([h({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Wn.prototype,"size",void 0),u([Pe("size",["rows","cols"])],Wn.prototype,"readSize",null),u([Ae("size",{cols:{type:Ir},rows:{type:Ir}})],Wn.prototype,"writeSize",null),u([h({type:mt,json:{write:!0}})],Wn.prototype,"spatialReference",void 0),Wn=Ld=u([B("esri.layers.support.TileInfo")],Wn),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(Wn||(Wn={}));const Nw=Wn,e$={widthBreakpoint:{getValue(e){const t=e.viewSize[0],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,r=t[0],n=t[1],i=this.values;return n>=r?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},yk={xsmall:544,small:768,medium:992,large:1200};function hEe(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function gk(e,t){return t?e$[e].valueToClassName[t].split(" "):[]}const fEe=e=>{let t=class extends e{constructor(...r){super(...r),this._breakpointsHandles=new bn,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=yk}initialize(){this._breakpointsHandles.add(fe(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),At))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=ko(this._breakpointsHandles))}set breakpoints(r){if(r===this._get("breakpoints"))return;const n=hEe(r);if(!n){const i=JSON.stringify(yk,null,2);console.warn("provided breakpoints are not valid, using defaults:"+i)}r=n?r:yk,this._set("breakpoints",{...r})}_updateClassNames(){if(!this.container)return;const r=oo.acquire(),n=oo.acquire();let i,o=!1;for(i in e$){const s=this[i],a=e$[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});s!==a&&(o=!0,this[i]=a,gk(i,s).forEach(l=>n.push(l)),gk(i,a).forEach(l=>r.push(l)))}o&&(this._applyClassNameChanges(r,n),oo.release(r),oo.release(n))}_applyClassNameChanges(r,n){const i=this.container;i&&(n.forEach(o=>i.classList.remove(o)),r.forEach(o=>i.classList.add(o)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let n;for(n in e$)gk(n,this[n]).forEach(i=>r.classList.remove(i))}};return u([h()],t.prototype,"breakpoints",null),u([h()],t.prototype,"orientation",void 0),u([h()],t.prototype,"widthBreakpoint",void 0),u([h()],t.prototype,"heightBreakpoint",void 0),t=u([B("esri.views.BreakpointsOwner")],t),t};let Rd=class extends Ve{constructor(){super(...arguments),this.items=new We,this._watchUpdatingTracking=new Og,this._callbacks=new Map,this._projector=P2(),this._hiddenProjector=P2()}get needsRender(){return this.items.length>0}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,t=>{for(const r of t.added){const n=()=>r.render();this._callbacks.set(r,n),this._projector.append(this.surface,n)}for(const r of t.removed){const n=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(n.domNode),this._callbacks.delete(r)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const t=this._hiddenSurface,r=this._hiddenProjector;let n=null;const i=()=>(n=e.render(),n);r.append(t,i),r.renderNow();const o={left:0,top:0,right:0,bottom:0};if(n&&n.domNode){const s=n.domNode.getBoundingClientRect();o.left=s.left,o.top=s.top,o.right=s.right,o.bottom=s.bottom}for(r.detach(i);t.firstChild;)t.removeChild(t.firstChild);return o}overlaps(e,t){const r=this.computeBoundingRect(e),n=this.computeBoundingRect(t);return Math.max(r.left,n.left)<=Math.min(r.right,n.right)&&Math.max(r.top,n.top)<=Math.min(r.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}renderCanvas(e){if(!this.items.some(r=>r.visible))return;const t=e.getContext("2d");t.save(),t.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach(r=>{t.save(),r.renderCanvas(t),t.restore()}),t.restore()}};u([h({readOnly:!0})],Rd.prototype,"surface",void 0),u([h({readOnly:!0})],Rd.prototype,"items",void 0),u([h({readOnly:!0})],Rd.prototype,"needsRender",null),u([h({readOnly:!0})],Rd.prototype,"_watchUpdatingTracking",void 0),u([h({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],Rd.prototype,"updating",void 0),Rd=u([B("esri.views.overlay.ViewOverlay")],Rd);const n9=Rd;function H5(e,t,r,n){let i=null,o=1e3;typeof t=="number"?(o=t,n=r):(i=t!=null?t:null,o=r);let s,a=0;const l=()=>{a=0,e.apply(n,s)},c=(...d)=>{i&&i.apply(n,d),s=d,o?a||(a=setTimeout(l,o)):l()};return c.remove=()=>{a&&(clearTimeout(a),a=0)},c.forceUpdate=()=>{a&&(clearTimeout(a),l())},c.hasPendingUpdates=()=>!!a,c}function mEe(e){return 32+e.length}function yEe(){return 16}function ptt(e){if(!e)return 0;let t=32;for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];switch(typeof n){case"string":t+=mEe(n);break;case"number":t+=yEe();break;case"boolean":t+=4}}return t}function htt(e,t){return 32+e.length*t}var lE;(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(lE||(lE={}));const i9=["B","kB","MB","GB","TB"];function gEe(e,t){let r=t===0?0:Math.floor(Math.log(t)/Math.log(lE.KILOBYTES));r=Ko(r,0,i9.length-1);const n=Ec(t/lE.KILOBYTES**r,{maximumFractionDigits:2});return Sc(e.units.bytes[i9[r]],{fileSize:n})}function vEe(e){const{exifInfo:t,exifName:r,tagName:n}=e;if(!t||!r||!n)return null;const i=t.find(o=>o.name===r);return i?bEe({tagName:n,tags:i.tags}):null}function bEe(e){const{tagName:t,tags:r}=e;if(!r||!t)return null;const n=r.find(i=>i.name===t);return n&&n.value||null}var GA;const wEe={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let xo=GA=class extends ve{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=vEe({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return wEe[t]||null}clone(){return new GA({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};u([h({type:String})],xo.prototype,"contentType",void 0),u([h()],xo.prototype,"exifInfo",void 0),u([h({readOnly:!0})],xo.prototype,"orientationInfo",null),u([h({type:Ir})],xo.prototype,"id",void 0),u([h({type:String})],xo.prototype,"globalId",void 0),u([h({type:String})],xo.prototype,"keywords",void 0),u([h({type:String})],xo.prototype,"name",void 0),u([h({json:{read:!1}})],xo.prototype,"parentGlobalId",void 0),u([h({json:{read:!1}})],xo.prototype,"parentObjectId",void 0),u([h({type:Ir})],xo.prototype,"size",void 0),u([h({json:{read:!1}})],xo.prototype,"url",void 0),xo=GA=u([B("esri.layers.support.AttachmentInfo")],xo);const _Ee=xo;var HA;let oi=HA=class extends ve{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new HA(X({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};u([h({type:[String],json:{write:!0}})],oi.prototype,"attachmentTypes",void 0),u([h({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],oi.prototype,"attachmentsWhere",void 0),u([h({type:Boolean,json:{write:!0}})],oi.prototype,"cacheHint",void 0),u([h({type:[String],json:{write:!0}})],oi.prototype,"keywords",void 0),u([h({type:[Number],json:{write:!0}})],oi.prototype,"globalIds",void 0),u([h({json:{write:!0}})],oi.prototype,"name",void 0),u([h({type:Number,json:{read:{source:"resultRecordCount"}}})],oi.prototype,"num",void 0),u([h({type:[Number],json:{write:!0}})],oi.prototype,"objectIds",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],oi.prototype,"returnMetadata",void 0),u([h({type:[Number],json:{write:!0}})],oi.prototype,"size",void 0),u([h({type:Number,json:{read:{source:"resultOffset"}}})],oi.prototype,"start",void 0),u([Ae("start"),Ae("num")],oi.prototype,"writeStart",null),u([h({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],oi.prototype,"where",void 0),oi=HA=u([B("esri.rest.support.AttachmentQuery")],oi),oi.from=$n(oi);const qA=oi,xEe="esri.widgets.Feature.support.featureUtils",o9=Ce.getLogger(xEe),SEe=/href=(""|'')/gi,CEe=/(\{([^\{\r\n]+)\})/g,$Ee=/\'/g,Kee=/^\s*expression\//i,EEe=/(\n)/gi,IEe=/[\u00A0-\u9999<>\&]/gim,MEe=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,TEe=/^(?:mailto:|tel:)/,Jee="relationships/",WA=kD("short-date-short-time");function Zee(e){if(!te(e))return e.get("sourceLayer")||e.get("layer")}async function cE(e,t){return typeof e=="function"?e.call(null,t):e}function Yee(e=""){if(e)return!TEe.test(e.trim().toLowerCase())}function Qee(e){return!!e&&Kee.test(e)}function kEe(e,t){if(!Qee(t)||!e)return null;const r=t.replace(Kee,"").toLowerCase();let n;return e.some(i=>i.name.toLowerCase()===r&&(n=i,!0)),n}function Xee(e,t){const r=kEe(t,e==null?void 0:e.fieldName);return r?r.title||null:e?e.label||e.fieldName:null}function PEe(e,t){const r=t.get(e.toLowerCase());return`{${r&&r.fieldName||e}}`}function OEe(e){return e.replace(SEe,"")}function uE(e,t){const r=q5(t,e);return r?r.name:e}function LEe(e,t){return e&&e.map(r=>uE(r,t))}function q5(e,t){return e&&typeof e.getField=="function"?e.getField(t):null}function ete(e){return`${e}`.trim()}function If({attributes:e,globalAttributes:t,layer:r,text:n,expressionAttributes:i,fieldInfoMap:o}){return n?KA({formattedAttributes:t,template:NEe(n,{...t,...i,...e},r),fieldInfoMap:o}):""}function KA({formattedAttributes:e,template:t,fieldInfoMap:r}){return ete(OEe(Sc(Sc(t,n=>PEe(n,r)),e)))}function REe(e,t,r=!1){const n=t[e];if(typeof n=="string"){const i="%27",o=(r?encodeURIComponent(n):n).replace($Ee,i);t[e]=o}}function AEe(e,t=!1){const r={...e};return Object.keys(r).forEach(n=>REe(n,r,t)),r}function FEe(e,t,r){const n=(t=ete(t))&&t[0]!=="{";return Sc(e,AEe(r,n))}function JA(e,t){return e.replace(CEe,(r,n,i)=>{const o=q5(t,i);return o?`{${o.name}}`:n})}function NEe(e,t,r){const n=JA(e,r);return n&&n.replace(MEe,(i,o,s)=>FEe(i,o||s,t))}function DEe(e,t){if(typeof e=="string"&&t&&t.dateFormat==null&&(t.places!=null||t.digitSeparator!=null)){const r=Number(e);if(!isNaN(r))return r}return e}function zEe(e){return(e==null?void 0:e.type)==="feature"}function s9(e){return!!(e!=null&&e.layer)}function VEe(e){return(e==null?void 0:e.type)==="map-image"}function jEe(e,t){var c;const r=t.fieldInfos,n=t.fieldName,i=(c=tte(r,n))==null?void 0:c.clone(),o=t.preventPlacesFormatting,s=t.layer,a=q5(s,n);if(i&&(a==null?void 0:a.type)==="date"){const d=i.format||new pg;d.dateFormat=d.dateFormat||"short-date-short-time",d.dateTimeFormatOptions=!s9(s)&&zEe(s)&&s.datesInUnknownTimezone||s9(s)&&VEe(s.layer)&&s.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,i.format=d}const l=i&&i.format;return typeof e=="string"&&vY(n)&&l?l.formatRasterPixelValue(e):typeof(e=DEe(e,l))=="string"||e==null||l==null?U_(e):o?Ec(e,{...mZ(l),minimumFractionDigits:0,maximumFractionDigits:20}):l.format(e)}function tte(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let n;return e.some(i=>!(!i.fieldName||i.fieldName.toLowerCase()!==r)&&(n=i,!0)),n}function BEe({fieldName:e,graphic:t,layer:r}){if(Eu(e)||!r||typeof r.getFeatureType!="function")return null;const{typeIdField:n}=r;if(!n||e!==n)return null;const i=r.getFeatureType(t);return i?i.name:null}function UEe({fieldName:e,value:t,graphic:r,layer:n}){if(Eu(e)||!n||typeof n.getFieldDomain!="function")return null;const i=n.getFieldDomain(e,{feature:r});return i&&i.type==="coded-value"?i.getName(t):null}function GEe(e,t){const{creatorField:r,creationDateField:n,editorField:i,editDateField:o}=e;if(!t)return;const s=t[o];if(typeof s=="number"){const l=t[i];return{type:"edit",date:Du(s,WA),user:l}}const a=t[n];if(typeof a=="number"){const l=t[r];return{type:"create",date:Du(a,WA),user:l}}return null}function HEe(e,t){const r=new Map;return e&&e.forEach(n=>{const i=uE(n.fieldName,t);n.fieldName=i,r.set(i.toLowerCase(),n)}),r}function a9(e){const t=[];if(!e)return t;const{fieldInfos:r,content:n}=e;return r&&t.push(...r),n&&Array.isArray(n)&&n.forEach(i=>{if(i.type==="fields"){const o=i&&i.fieldInfos;o&&t.push(...o)}}),t}function W5(e){return e.replace(IEe,t=>`&#${t.charCodeAt(0)};`)}function U_(e){return typeof e=="string"?e.replace(EEe,'<br class="esri-text-new-line" />'):e}function rte(e){const{value:t,fieldName:r,fieldInfos:n,fieldInfoMap:i,layer:o,graphic:s}=e;if(t==null)return"";const a=UEe({fieldName:r,value:t,graphic:s,layer:o});if(a)return a;const l=BEe({fieldName:r,graphic:s,layer:o});if(l)return l;if(i.get(r.toLowerCase()))return jEe(t,{fieldInfos:n||Array.from(i.values()),fieldName:r,layer:o});const c=o&&o.fieldsIndex;return c&&c.isDateField(r)?Du(t,WA):U_(t)}function vk({fieldInfos:e,attributes:t,layer:r,graphic:n,fieldInfoMap:i,relatedInfos:o}){const s={};return o==null||o.forEach(a=>ZEe({attributes:s,relatedInfo:a,fieldInfoMap:i,fieldInfos:e,layer:r})),Object.keys(t).forEach(a=>{const l=t[a];s[a]=rte({fieldName:a,fieldInfos:e,fieldInfoMap:i,layer:r,value:l,graphic:n})}),s}async function qEe(e,t){var d,p;const{layer:r,graphic:n,outFields:i,objectIds:o,returnGeometry:s,spatialReference:a}=e,l=o[0];if(typeof l!="number"&&typeof l!="string"){const f="Could not query required fields for the specified feature. The feature's ID is invalid.",y={layer:r,graphic:n,objectId:l,requiredFields:i};return o9.warn(f,y),null}if(!((p=(d=r.capabilities)==null?void 0:d.operations)!=null&&p.supportsQuery)){const f="The specified layer cannot be queried. The following fields will not be available.",y={layer:r,graphic:n,requiredFields:i,returnGeometry:s};return o9.warn(f,y),null}const c=r.createQuery();return c.objectIds=o,c.outFields=i!=null&&i.length?i:[r.objectIdField],c.returnGeometry=!!s,c.returnZ=!!s,c.returnM=!!s,c.outSpatialReference=a,(await r.queryFeatures(c,t)).features[0]}async function WEe(e){var n;if(!((n=e.expressionInfos)!=null&&n.length))return!1;const t=await zu(),{arcadeUtils:{hasGeometryFunctions:r}}=t;return r(e)}async function KEe({graphic:e,popupTemplate:t,layer:r,spatialReference:n},i){if(!r||!t||(typeof r.load=="function"&&await r.load(i),!e.attributes))return;const o=e.attributes[r.objectIdField];if(o==null)return;const s=[o],a=await t.getRequiredFields(r.fieldsIndex),l=Xve(a,e),c=l?[]:a,d=t.returnGeometry||await WEe(t);if(l&&!d)return;const p=await qEe({layer:r,graphic:e,outFields:c,objectIds:s,returnGeometry:d,spatialReference:n},i);p&&(p.geometry&&(e.geometry=p.geometry),p.attributes&&(e.attributes={...e.attributes,...p.attributes}))}function Eu(e=""){return!!e&&e.includes(Jee)}function JEe(e){return e?`${Jee}${e.layerId}/${e.fieldName}`:""}function l9({attributes:e,graphic:t,relatedInfo:r,fieldInfos:n,fieldInfoMap:i,layer:o}){e&&t&&r&&Object.keys(t.attributes).forEach(s=>{const a=JEe({layerId:r.relation.id.toString(),fieldName:s}),l=t.attributes[s];e[a]=rte({fieldName:a,fieldInfos:n,fieldInfoMap:i,layer:o,value:l,graphic:t})})}function ZEe({attributes:e,relatedInfo:t,fieldInfoMap:r,fieldInfos:n,layer:i}){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach(o=>l9({attributes:e,graphic:o,relatedInfo:t,fieldInfoMap:r,fieldInfos:n,layer:i})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach(o=>l9({attributes:e,graphic:o,relatedInfo:t,fieldInfoMap:r,fieldInfos:n,layer:i})))}const c9=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},nte=({layer:e,method:t,query:r,definitionExpression:n})=>{var s,a;if(!((a=(s=e.capabilities)==null?void 0:s.query)!=null&&a.supportsCacheHint)||t==="attachments")return;const i=G(r.where)&&r.where,o=G(r.geometry)&&r.geometry;c9(n)||c9(i)||(o==null?void 0:o.type)==="extent"||r.resultType==="tile"||(r.cacheHint=!0)},YEe=({query:e,layer:t,method:r})=>{nte({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},QEe=({queryPayload:e,layer:t,method:r})=>{nte({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},u9={editing:!1,operations:{add:!0,update:!0,delete:!0}},ite=We.ofType(_Ee),XEe="graphic.layer.capabilities.operations.supportsResizeAttachments";let Ja=class extends Ve{constructor(e){super(e),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities={...u9},this.activeAttachmentInfo=null,this.attachmentInfos=new ite,this.graphic=null,this.mode="view",this.own(fe(()=>this.graphic,()=>this._graphicChanged(),At))}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(e){return{...u9,...e}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get(XEe)||!1}async getAttachments(){const{_attachmentLayer:e,attachmentInfos:t}=this;if(!e||typeof e.queryAttachments!="function")throw new Z("invalid-layer","getAttachments(): A valid layer is required.");const r=this._getFeatureId(),n=new qA({objectIds:[r],returnMetadata:!0}),i=[],o=e.queryAttachments(n).then(a=>a[r]||i).catch(()=>i);this._getAttachmentsPromise=o,this.notifyChange("state");const s=await o;return t.removeAll(),s.length&&t.addMany(s),this._getAttachmentsPromise=null,this.notifyChange("state"),s}async addAttachment(e){const{_attachmentLayer:t,attachmentInfos:r,graphic:n,abilities:i}=this;if(!e)throw new Z("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});if(!i.operations.add)throw new Z("invalid-abilities","addAttachment(): add abilities are required.");if(!t||typeof t.addAttachment!="function")throw new Z("invalid-layer","addAttachment(): A valid layer is required.");const o=t.addAttachment(n,e).then(a=>this._queryAttachment(a.objectId)),s=await o;return r.add(s),s}async deleteAttachment(e){const{_attachmentLayer:t,attachmentInfos:r,graphic:n,abilities:i}=this;if(!e)throw new Z("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(!i.operations.delete)throw new Z("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!t||typeof t.deleteAttachments!="function")throw new Z("invalid-layer","deleteAttachment(): A valid layer is required.");const o=t.deleteAttachments(n,[e.id]).then(()=>e),s=await o;return r.remove(s),s}async updateAttachment(e,t=this.activeAttachmentInfo){const{_attachmentLayer:r,attachmentInfos:n,graphic:i,abilities:o}=this;if(!e)throw new Z("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});if(!t)throw new Z("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!o.operations.update)throw new Z("invalid-abilities","updateAttachment(): Update abilities are required.");const s=n.findIndex(c=>c===t);if(!r||typeof r.updateAttachment!="function")throw new Z("invalid-layer","updateAttachment(): A valid layer is required.");const a=r.updateAttachment(i,t.id,e).then(c=>this._queryAttachment(c.objectId)),l=await a;return n.splice(s,1,l),l}async _queryAttachment(e){if(!e)throw new Z("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:t}=this,r=this._getFeatureId(),n=new qA({objectIds:[r],attachmentsWhere:`AttachmentId=${e}`,returnMetadata:!0});return t.queryAttachments(n).then(i=>i[r][0])}_getFeatureId(){const{_attachmentLayer:e,graphic:t}=this;if(!e||!t)return null;const{objectIdField:r}=e,{attributes:n}=t;return n&&n[r]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:e}=this,t=Zee(e);this._attachmentLayer=t?t.type==="scene"&&G(t.associatedLayer)?t.associatedLayer:t:null}};u([h()],Ja.prototype,"abilities",void 0),u([zt("abilities")],Ja.prototype,"castAbilities",null),u([h()],Ja.prototype,"activeAttachmentInfo",void 0),u([h({readOnly:!0,type:ite})],Ja.prototype,"attachmentInfos",void 0),u([h({type:Jo})],Ja.prototype,"graphic",void 0),u([h()],Ja.prototype,"mode",void 0),u([h({readOnly:!0})],Ja.prototype,"state",null),u([h({readOnly:!0})],Ja.prototype,"supportsResizeAttachments",null),Ja=u([B("esri.widgets.Attachments.AttachmentsViewModel")],Ja);const K5=Ja;function eIe(e){const t=e.toLowerCase();return t==="image/bmp"||t==="image/emf"||t==="image/exif"||t==="image/gif"||t==="image/x-icon"||t==="image/jpeg"||t==="image/png"||t==="image/tiff"||t==="image/x-wmf"}function tIe(e){const t=Nt("esri/themes/base/images/files/");return e?e==="text/plain"?`${t}text-32.svg`:e==="application/pdf"?`${t}pdf-32.svg`:e==="text/csv"?`${t}csv-32.svg`:e==="application/gpx+xml"?`${t}gpx-32.svg`:e==="application/x-dwf"?`${t}cad-32.svg`:e==="application/postscript"||e==="application/json"||e==="text/xml"||e==="model/vrml"?`${t}code-32.svg`:e==="application/x-zip-compressed"||e==="application/x-7z-compressed"||e==="application/x-gzip"||e==="application/x-tar"||e==="application/x-gtar"||e==="application/x-bzip2"||e==="application/gzip"||e==="application/x-compress"||e==="application/x-apple-diskimage"||e==="application/x-rar-compressed"||e==="application/zip"?`${t}zip-32.svg`:e.includes("image/")?`${t}image-32.svg`:e.includes("audio/")?`${t}sound-32.svg`:e.includes("video/")?`${t}video-32.svg`:e.includes("msexcel")||e.includes("ms-excel")||e.includes("spreadsheetml")?`${t}excel-32.svg`:e.includes("msword")||e.includes("ms-word")||e.includes("wordprocessingml")?`${t}word-32.svg`:e.includes("powerpoint")||e.includes("presentationml")?`${t}report-32.svg`:`${t}generic-32.svg`:`${t}generic-32.svg`}const d9={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},De={base:"esri-attachments",loaderContainer:"esri-attachments__loader-container",loader:"esri-attachments__loader",fadeIn:"esri-attachments--fade-in",container:"esri-attachments__container",containerList:"esri-attachments__container--list",containerPreview:"esri-attachments__container--preview",actions:"esri-attachments__actions",deleteButton:"esri-attachments__delete-button",addAttachmentButton:"esri-attachments__add-attachment-button",errorMessage:"esri-attachments__error-message",items:"esri-attachments__items",item:"esri-attachments__item",itemButton:"esri-attachments__item-button",itemMask:"esri-attachments__item-mask",itemMaskIcon:"esri-attachments__item-mask--icon",itemImage:"esri-attachments__image",itemImageResizable:"esri-attachments__image--resizable",itemLabel:"esri-attachments__label",itemFilename:"esri-attachments__filename",itemChevronIcon:"esri-attachments__item-chevron-icon",itemLink:"esri-attachments__item-link",itemLinkOverlay:"esri-attachments__item-link-overlay",itemLinkOverlayIcon:"esri-attachments__item-link-overlay-icon",itemEditIcon:"esri-attachments__item-edit-icon",itemAddIcon:"esri-attachments__item-add-icon",itemAddButton:"esri-attachments__item-add-button",formNode:"esri-attachments__form-node",fileFieldset:"esri-attachments__file-fieldset",fileLabel:"esri-attachments__file-label",fileName:"esri-attachments__file-name",fileInput:"esri-attachments__file-input",metadata:"esri-attachments__metadata",metadataFieldset:"esri-attachments__metadata-fieldset",progressBar:"esri-attachments__progress-bar",esriWidget:"esri-widget",esriButton:"esri-button",buttonDisabled:"esri-button--disabled",esriButtonSecondary:"esri-button--secondary",esriButtonTertiary:"esri-button--tertiary",esriButtonThird:"esri-button--third",esriButtonSmall:"esri-button--small",esriButtonHalf:"esri-button--half",empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},bk=window.CSS;let Li=class extends En{constructor(e,t){super(e,t),this.abilities=null,this.displayType="auto",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new K5,this.visibleElements={...d9},this._supportsImageOrientation=bk&&bk.supports&&bk.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own([Vo(()=>{var e;return(e=this.viewModel)==null?void 0:e.attachmentInfos},"change",()=>this.scheduleRender()),fe(()=>{var e;return(e=this.viewModel)==null?void 0:e.mode},()=>this._modeChanged(),At)])}get effectiveDisplayType(){const{displayType:e}=this;return e&&e!=="auto"?e:this.viewModel.supportsResizeAttachments?"preview":"list"}castVisibleElements(e){return{...d9,...e}}addAttachment(){const{_addAttachmentForm:e,viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.addAttachment(e).then(r=>(this._set("submitting",!1),this._set("error",null),t.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new Z("attachments:add-attachment",this.messages.addErrorMessage,r)),r})}deleteAttachment(e){const{viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.deleteAttachment(e).then(r=>(this._set("submitting",!1),this._set("error",null),t.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new Z("attachments:delete-attachment",this.messages.deleteErrorMessage,r)),r})}updateAttachment(){const{viewModel:e}=this,{_updateAttachmentForm:t}=this;return this._set("submitting",!0),this._set("error",null),e.updateAttachment(t).then(r=>(this._set("submitting",!1),this._set("error",null),e.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new Z("attachments:update-attachment",this.messages.updateErrorMessage,r)),r})}render(){const{submitting:e,viewModel:t}=this,{state:r}=t;return V("div",{class:this.classes(De.base,De.esriWidget)},e?this.renderProgressBar():null,r==="loading"?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:e,visibleElements:t}=this;return e&&t.errorMessage?V("div",{key:"error-message",class:De.errorMessage},e.message):null}renderAttachments(){const{mode:e,activeAttachmentInfo:t}=this.viewModel;return e==="add"?this.renderAddForm():e==="edit"?this.renderDetailsForm(t):this.renderAttachmentContainer()}renderLoading(){return V("div",{class:De.loaderContainer,key:"loader"},V("div",{class:De.loader}))}renderProgressBar(){return this.visibleElements.progressBar?V("div",{class:De.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:e,selectedFile:t}=this,r=e||!t,n=this.visibleElements.cancelAddButton?V("button",{type:"button",bind:this,disabled:e,onclick:this._cancelForm,class:this.classes(De.esriButton,De.esriButtonTertiary,De.esriButtonSmall,De.esriButtonHalf,e&&De.buttonDisabled)},this.messages.cancel):null,i=this.visibleElements.addSubmitButton?V("button",{type:"submit",disabled:r,class:this.classes(De.esriButton,De.esriButtonSecondary,De.esriButtonSmall,De.esriButtonHalf,{[De.buttonDisabled]:r})},this.messages.add):null,o=t?V("span",{key:"file-name",class:De.fileName},t.name):null,s=V("form",{bind:this,afterCreate:PL,afterRemoved:mj,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},V("fieldset",{class:De.fileFieldset},o,V("label",{class:this.classes(De.fileLabel,De.esriButton,De.esriButtonSecondary)},t?this.messages.changeFile:this.messages.selectFile,V("input",{class:De.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),i,n);return V("div",{key:"add-form-container",class:De.formNode},s)}renderDetailsForm(e){const{visibleElements:t,viewModel:r,selectedFile:n,submitting:i}=this,{contentType:o,size:s,url:a}=e,{abilities:l}=r,c=i||!n,d=l.editing&&l.operations.delete&&t.deleteButton?V("button",{key:"delete-button",type:"button",disabled:i,bind:this,onclick:x=>this._submitDeleteAttachment(x,e),class:this.classes(De.esriButton,De.esriButtonSmall,De.esriButtonTertiary,De.deleteButton,{[De.buttonDisabled]:i})},this.messages.delete):null,p=l.editing&&l.operations.update&&t.updateButton?V("button",{disabled:c,key:"update-button",type:"submit",class:this.classes(De.esriButton,De.esriButtonSmall,De.esriButtonThird,{[De.buttonDisabled]:c})},this.messages.update):null,f=this.visibleElements.cancelUpdateButton?V("button",{disabled:i,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(De.esriButton,De.esriButtonSmall,De.esriButtonTertiary,De.esriButtonThird,{[De.buttonDisabled]:i})},this.messages.cancel):null,y=n?V("span",{key:"file-name",class:De.fileName},n.name):null,g=l.editing&&l.operations.update?V("fieldset",{key:"file",class:De.fileFieldset},y,V("label",{class:this.classes(De.fileLabel,De.esriButton,De.esriButtonSecondary)},this.messages.changeFile,V("input",{class:De.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,v=V("fieldset",{key:"size",class:De.metadataFieldset},V("label",null,gEe(this.messagesUnits,s))),b=V("fieldset",{key:"content-type",class:De.metadataFieldset},V("label",null,o)),w=V("form",{bind:this,afterCreate:PL,afterRemoved:mj,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},V("div",{class:De.metadata},v,b),g,V("div",{class:De.actions},d,f,p));return V("div",{key:"edit-form-container",class:De.formNode},V("a",{class:De.itemLink,href:a,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:e,size:400}),V("div",{class:De.itemLinkOverlay},V("span",{class:De.itemLinkOverlayIcon},V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},V("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),V("path",{fill:"none",d:"M0 0h32v32H0z"}))))),w)}renderImageMask({attachmentInfo:e,size:t}){const{supportsResizeAttachments:r}=this.viewModel,{contentType:n,name:i,url:o}=e,s=r&&eIe(n),a=this._getCSSTransform(e,s),l=a?{transform:a,"image-orientation":"none"}:{},c=o.includes("?")?"&":"?",d=s?`${o}${c}w=${t}`:tIe(n),p={[De.itemMaskIcon]:!s},f={[De.itemImageResizable]:r};return V("div",{class:this.classes(p,De.itemMask)},V("img",{styles:l,alt:i,src:d,class:this.classes(f,De.itemImage)}))}renderAttachmentInfo({attachmentInfo:e,displayType:t}){const{viewModel:r}=this,{abilities:n}=r,{name:i,url:o}=e,s=this.renderImageMask({attachmentInfo:e,size:t==="list"?48:400}),a=n.editing?V("span",{"aria-hidden":"true",class:this.classes(De.itemChevronIcon,gl(this.container)?De.iconLeft:De.iconRight)}):null,l=[s,V("label",{class:De.itemLabel},V("span",{class:De.itemFilename},i||this.messages.noTitle),a)],c=n.editing?V("button",{key:"details-button",bind:this,class:De.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":e.id,onclick:()=>this._startEditAttachment(e),type:"button"},l):V("a",{key:"details-link",class:De.itemButton,href:o,target:"_blank"},l);return V("li",{class:De.item,key:e},c)}renderAttachmentContainer(){const{effectiveDisplayType:e,viewModel:t,visibleElements:r}=this,{attachmentInfos:n,abilities:i}=t,o=n&&n.length,s={[De.containerList]:e!=="preview",[De.containerPreview]:e==="preview"},a=i.editing&&i.operations.add&&r.addButton?V("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(De.esriButton,De.esriButtonTertiary,De.addAttachmentButton),type:"button"},V("span",{"aria-hidden":"true",class:this.classes(De.itemAddIcon,De.iconPlus)}),this.messages.add):null,l=o?V("ul",{class:De.items},n.toArray().map(c=>this.renderAttachmentInfo({attachmentInfo:c,displayType:e}))):V("div",{class:De.empty},this.messages.noAttachments);return V("div",{key:"attachments-container",class:this.classes(De.container,s)},l,a)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(e){const t=e.target,r=t&&t.files&&t.files.item(0);this._set("selectedFile",r)}_submitDeleteAttachment(e,t){e.preventDefault(),this.deleteAttachment(t)}_submitAddAttachment(e){e.preventDefault(),this.addAttachment()}_submitUpdateAttachment(e){e.preventDefault(),this.updateAttachment()}_startEditAttachment(e){const{viewModel:t}=this;t.activeAttachmentInfo=e,t.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(e){e.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(e,t){const{orientationInfo:r}=e;return!this._supportsImageOrientation&&t&&r?[r.rotation?`rotate(${r.rotation}deg)`:"",r.mirrored?"scaleX(-1)":""].join(" "):""}};u([Oe("viewModel.abilities")],Li.prototype,"abilities",void 0),u([h()],Li.prototype,"displayType",void 0),u([h({readOnly:!0})],Li.prototype,"effectiveDisplayType",null),u([Oe("viewModel.graphic")],Li.prototype,"graphic",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Li.prototype,"label",void 0),u([h(),sn("esri/widgets/Attachments/t9n/Attachments")],Li.prototype,"messages",void 0),u([h(),sn("esri/core/t9n/Units")],Li.prototype,"messagesUnits",void 0),u([h({readOnly:!0})],Li.prototype,"selectedFile",void 0),u([h({readOnly:!0})],Li.prototype,"submitting",void 0),u([h({readOnly:!0})],Li.prototype,"error",void 0),u([h({type:K5})],Li.prototype,"viewModel",void 0),u([h()],Li.prototype,"visibleElements",void 0),u([zt("visibleElements")],Li.prototype,"castVisibleElements",null),Li=u([B("esri.widgets.Attachments")],Li);const rIe=Li;let Ub=class extends K5{constructor(e){super(e),this.description=null,this.title=null}};u([h()],Ub.prototype,"description",void 0),u([h()],Ub.prototype,"title",void 0),Ub=u([B("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],Ub);const J5=Ub,wk={base:"esri-feature-element-info",title:"esri-feature-element-info__title",description:"esri-feature-element-info__description"};let Cy=class extends En{constructor(e,t){super(e,t),this.description=null,this.headingLevel=2,this.title=null}render(){return V("div",{class:wk.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:e}=this;return e?V(Op,{level:this.headingLevel,class:wk.title},e):null}renderDescription(){const{description:e}=this;return e?V("div",{key:"description",class:wk.description},e):null}};u([h()],Cy.prototype,"description",void 0),u([h()],Cy.prototype,"headingLevel",void 0),u([h()],Cy.prototype,"title",void 0),Cy=u([B("esri.widgets.Feature.support.FeatureElementInfo")],Cy);const Z5=Cy,nIe={base:"esri-feature-attachments"};let Kl=class extends En{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attachmentsWidget=new rIe,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new J5}initialize(){this._featureElementInfo=new Z5,this.own([fe(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.description,(t=this.viewModel)==null?void 0:t.title,this.headingLevel]},()=>this._setupFeatureElementInfo(),At),fe(()=>{var e;return(e=this.viewModel)==null?void 0:e.graphic},e=>this.attachmentsWidget.graphic=e,At)])}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var t;const{attachmentsWidget:e}=this;return V("div",{class:nIe.base},(t=this._featureElementInfo)==null?void 0:t.render(),e==null?void 0:e.render())}_setupFeatureElementInfo(){const{description:e,title:t,headingLevel:r}=this;this._featureElementInfo.set({description:e,title:t,headingLevel:r})}};u([h({readOnly:!0})],Kl.prototype,"attachmentsWidget",void 0),u([Oe("viewModel.description")],Kl.prototype,"description",void 0),u([Oe("attachmentsWidget.displayType")],Kl.prototype,"displayType",void 0),u([Oe("viewModel.graphic")],Kl.prototype,"graphic",void 0),u([h()],Kl.prototype,"headingLevel",void 0),u([Oe("viewModel.title")],Kl.prototype,"title",void 0),u([h({type:J5})],Kl.prototype,"viewModel",void 0),Kl=u([B("esri.widgets.Feature.FeatureAttachments")],Kl);const iIe=Kl;let Ad=class extends Pc(Ve){constructor(e){super(e),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(fe(()=>this.creator,t=>{this._destroyContent(),this._createContent(t)},At))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:e,graphic:t,destroyer:r}=this;e&&(cE(r,{graphic:t}).catch(()=>null),this._set("created",null))}async _createContent(e){const{graphic:t}=this,r=cE(e,{graphic:t}).catch(()=>null);this._loadingPromise=r,this.notifyChange("state");const n=await r;r===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",n))}};u([h({readOnly:!0})],Ad.prototype,"created",void 0),u([h()],Ad.prototype,"creator",void 0),u([h()],Ad.prototype,"destroyer",void 0),u([h({type:Jo})],Ad.prototype,"graphic",void 0),u([h({readOnly:!0})],Ad.prototype,"state",null),Ad=u([B("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],Ad);const dE=Ad;function oIe(e){return e.split(",").map(t=>t.trim())}function ote(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,n=Array.isArray(e)?e:oIe(e);r.push(...n)}}function pE(e){return e&&typeof e.render=="function"}function ste(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const _k={base:"esri-feature-content",loaderContainer:"esri-feature-content__loader-container",loader:"esri-feature-content__loader"};let $y=class extends En{constructor(e,t){super(e,t),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=r=>{Array.from(r.querySelectorAll("a")).forEach(n=>{Yee(n.href)&&!n.hasAttribute("target")&&n.setAttribute("target","_blank")})}}renderLoading(){return V("div",{class:_k.loaderContainer,key:"loader"},V("div",{class:_k.loader}))}renderCreated(){var t;const e=(t=this.viewModel)==null?void 0:t.created;return e?e instanceof HTMLElement?V("div",{key:e,bind:e,afterCreate:this._attachToNode}):pE(e)?V("div",{key:e},!e.destroyed&&e.render()):V("div",{key:e,innerHTML:e,afterCreate:this._addTargetToAnchors}):null}render(){var t;const e=(t=this.viewModel)==null?void 0:t.state;return V("div",{class:_k.base},e==="loading"?this.renderLoading():this.renderCreated())}_attachToNode(e){const t=this;e.appendChild(t)}};u([Oe("viewModel.creator")],$y.prototype,"creator",void 0),u([Oe("viewModel.graphic")],$y.prototype,"graphic",void 0),u([h({type:dE})],$y.prototype,"viewModel",void 0),$y=u([B("esri.widgets.Feature.FeatureContent")],$y);const t$=$y;let nu=class extends Ve{constructor(e){super(e),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:e,fieldInfos:t}=this,r=[];return t==null||t.forEach(n=>{if(!(!n.hasOwnProperty("visible")||n.visible))return;const i=n.clone();i.label=Xee(i,e),r.push(i)}),r}};u([h()],nu.prototype,"attributes",void 0),u([h({type:[jQ]})],nu.prototype,"expressionInfos",void 0),u([h()],nu.prototype,"description",void 0),u([h({type:[F_]})],nu.prototype,"fieldInfos",void 0),u([h({readOnly:!0})],nu.prototype,"formattedFieldInfos",null),u([h()],nu.prototype,"title",void 0),nu=u([B("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],nu);const YI=nu,sIe=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function aIe(e){let t=null;return sIe.some(r=>(r.pattern.test(e)&&(t=r),!!t)),t}function lIe(e,t){if(typeof t!="string"||!t)return t;const r=aIe(t);if(!r)return t;const n=t.match(r.pattern),i=n&&n[2],o=Sc(Sc(r.label,{messages:e,hierPart:i}),{appName:r.appName}),s=r.target?` target="${r.target}"`:"",a=r.target==="_blank"?' rel="noreferrer"':"";return t.replace(r.pattern,`<a${s} href="$1"${a}>${o}</a>`)}const Dv={base:"esri-feature-fields",fieldHeader:"esri-feature-fields__field-header",fieldData:"esri-feature-fields__field-data",fieldDataDate:"esri-feature-fields__field-data--date",esriTable:"esri-widget__table"};let Za=class extends En{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new YI,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new Z5,this.own(fe(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.description,(t=this.viewModel)==null?void 0:t.title]},()=>this._setupFeatureElementInfo(),At))}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(e,t){const{attributes:r}=this.viewModel,n=e.fieldName,i=e.label||n,o=r?r[n]==null?"":r[n]:"",s=!(!e.format||!e.format.dateFormat),a=typeof o=="number"&&!s?this._forceLTR(o):lIe(this.messagesURIUtils,o),l={[Dv.fieldDataDate]:s};return V("tr",{key:`fields-element-info-row-${n}-${t}`},V("th",{key:`fields-element-info-row-header-${n}-${t}`,class:Dv.fieldHeader,innerHTML:i}),V("td",{key:`fields-element-info-row-data-${n}-${t}`,class:this.classes(Dv.fieldData,l),innerHTML:a}))}renderFields(){const{formattedFieldInfos:e}=this.viewModel;return e!=null&&e.length?V("table",{class:Dv.esriTable,summary:this.messages.fieldsSummary},V("tbody",null,e.map((t,r)=>this.renderFieldInfo(t,r)))):null}render(){var e;return V("div",{class:Dv.base},(e=this._featureElementInfo)==null?void 0:e.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_forceLTR(e){return`&lrm;${e}`}};u([Oe("viewModel.attributes")],Za.prototype,"attributes",void 0),u([Oe("viewModel.description")],Za.prototype,"description",void 0),u([Oe("viewModel.expressionInfos")],Za.prototype,"expressionInfos",void 0),u([Oe("viewModel.fieldInfos")],Za.prototype,"fieldInfos",void 0),u([Oe("viewModel.title")],Za.prototype,"title",void 0),u([h({type:YI})],Za.prototype,"viewModel",void 0),u([h(),sn("esri/widgets/Feature/t9n/Feature")],Za.prototype,"messages",void 0),u([h(),sn("esri/widgets/support/t9n/uriUtils")],Za.prototype,"messagesURIUtils",void 0),Za=u([B("esri.widgets.Feature.FeatureFields")],Za);const ate=Za;var ZA;let Gb=ZA=class extends ve{constructor(e){super(e),this.name=null,this.code=null}clone(){return new ZA({name:this.name,code:this.code})}};u([h({type:String,json:{write:!0}})],Gb.prototype,"name",void 0),u([h({type:[String,Number],json:{write:!0}})],Gb.prototype,"code",void 0),Gb=ZA=u([B("esri.layers.support.CodedValue")],Gb);const cIe=new Et({inherited:"inherited",codedValue:"coded-value",range:"range"});let Hb=class extends ve{constructor(e){super(e),this.name=null,this.type=null}};u([h({type:String,json:{write:!0}})],Hb.prototype,"name",void 0),u([nt(cIe)],Hb.prototype,"type",void 0),Hb=u([B("esri.layers.support.Domain")],Hb);const QI=Hb;var YA;let qb=YA=class extends QI{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(n=>(String(n.code)===r&&(t=n.name),!!t))}return t}clone(){return new YA({codedValues:X(this.codedValues),name:this.name})}};u([h({type:[Gb],json:{write:!0}})],qb.prototype,"codedValues",void 0),u([nt({codedValue:"coded-value"})],qb.prototype,"type",void 0),qb=YA=u([B("esri.layers.support.CodedValueDomain")],qb);const lte=qb;var QA;let r$=QA=class extends QI{constructor(e){super(e),this.type="inherited"}clone(){return new QA}};u([nt({inherited:"inherited"})],r$.prototype,"type",void 0),r$=QA=u([B("esri.layers.support.InheritedDomain")],r$);const cte=r$;var XA;let Ey=XA=class extends QI{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new XA({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};u([h({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],Ey.prototype,"maxValue",void 0),u([h({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],Ey.prototype,"minValue",void 0),u([nt({range:"range"})],Ey.prototype,"type",void 0),Ey=XA=u([B("esri.layers.support.RangeDomain")],Ey);const ute=Ey,dte={key:"type",base:QI,typeMap:{range:ute,"coded-value":lte,inherited:cte}};function Y5(e){if(!e||!e.type)return null;switch(e.type){case"range":return ute.fromJSON(e);case"codedValue":return lte.fromJSON(e);case"inherited":return cte.fromJSON(e)}return null}const uIe=new Et({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});var e3;const dIe=new Et({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Qi=e3=class extends ve{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?dIe.fromJSON(r.fieldValueType):null}clone(){return new e3({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};u([h({type:String,json:{write:!0}})],Qi.prototype,"alias",void 0),u([h({type:[String,Number],json:{write:{allowNull:!0}}})],Qi.prototype,"defaultValue",void 0),u([h()],Qi.prototype,"description",void 0),u([Pe("description")],Qi.prototype,"readDescription",null),u([h({types:dte,json:{read:{reader:Y5},write:!0}})],Qi.prototype,"domain",void 0),u([h({type:Boolean,json:{write:!0}})],Qi.prototype,"editable",void 0),u([h({type:Ir,json:{write:!0}})],Qi.prototype,"length",void 0),u([h({type:String,json:{write:!0}})],Qi.prototype,"name",void 0),u([h({type:Boolean,json:{write:!0}})],Qi.prototype,"nullable",void 0),u([nt(uIe)],Qi.prototype,"type",void 0),u([h()],Qi.prototype,"valueType",void 0),u([Pe("valueType",["description"])],Qi.prototype,"readValueType",null),Qi=e3=u([B("esri.layers.support.Field")],Qi);const G_=Qi;var t3;let Iy=t3=class extends ve{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new t3({mapLayerId:e,gdbVersion:t})}};u([nt({mapLayer:"map-layer"})],Iy.prototype,"type",void 0),u([h({type:Ir,json:{write:!0}})],Iy.prototype,"mapLayerId",void 0),u([h({type:String,json:{write:!0}})],Iy.prototype,"gdbVersion",void 0),Iy=t3=u([B("esri.layers.support.source.MapLayerSource")],Iy);var r3;let iu=r3=class extends ve{constructor(e){super(e),this.type="query-table"}clone(){var s;const{workspaceId:e,query:t,oidFields:r,spatialReference:n,geometryType:i}=this,o={workspaceId:e,query:t,oidFields:r,spatialReference:(s=n==null?void 0:n.clone())!=null?s:void 0,geometryType:i};return new r3(o)}};u([nt({queryTable:"query-table"})],iu.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],iu.prototype,"workspaceId",void 0),u([h({type:String,json:{write:!0}})],iu.prototype,"query",void 0),u([h({type:String,json:{write:!0}})],iu.prototype,"oidFields",void 0),u([h({type:mt,json:{write:!0}})],iu.prototype,"spatialReference",void 0),u([nt(CD)],iu.prototype,"geometryType",void 0),iu=r3=u([B("esri.layers.support.source.QueryTableDataSource")],iu);var n3;let My=n3=class extends ve{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new n3({workspaceId:e,dataSourceName:t})}};u([nt({raster:"raster"})],My.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],My.prototype,"dataSourceName",void 0),u([h({type:String,json:{write:!0}})],My.prototype,"workspaceId",void 0),My=n3=u([B("esri.layers.support.source.RasterDataSource")],My);var i3;let Vh=i3=class extends ve{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new i3({workspaceId:e,gdbVersion:t,dataSourceName:r})}};u([nt({table:"table"})],Vh.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],Vh.prototype,"workspaceId",void 0),u([h({type:String,json:{write:!0}})],Vh.prototype,"gdbVersion",void 0),u([h({type:String,json:{write:!0}})],Vh.prototype,"dataSourceName",void 0),Vh=i3=u([B("esri.layers.support.source.TableDataSource")],Vh);var o3,s3;const pIe=Ii()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let hs=o3=class extends ve{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return p9()(e,t,r)}castLeftTableSource(e){return Cc(a3(),e)}readRightTableSource(e,t,r){return p9()(e,t,r)}castRightTableSource(e){return Cc(a3(),e)}clone(){var s,a;const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:n,joinType:i}=this,o={leftTableKey:e,rightTableKey:t,leftTableSource:(s=r==null?void 0:r.clone())!=null?s:void 0,rightTableSource:(a=n==null?void 0:n.clone())!=null?a:void 0,joinType:i};return new o3(o)}};u([nt({joinTable:"join-table"})],hs.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],hs.prototype,"leftTableKey",void 0),u([h({type:String,json:{write:!0}})],hs.prototype,"rightTableKey",void 0),u([h({json:{write:!0}})],hs.prototype,"leftTableSource",void 0),u([Pe("leftTableSource")],hs.prototype,"readLeftTableSource",null),u([zt("leftTableSource")],hs.prototype,"castLeftTableSource",null),u([h({json:{write:!0}})],hs.prototype,"rightTableSource",void 0),u([Pe("rightTableSource")],hs.prototype,"readRightTableSource",null),u([zt("rightTableSource")],hs.prototype,"castRightTableSource",null),u([nt(pIe)],hs.prototype,"joinType",void 0),hs=o3=u([B("esri.layers.support.source.JoinTableDataSource")],hs);let xk=null;function p9(){return xk||(xk=A0({types:a3()})),xk}let Sk=null;function a3(){return Sk||(Sk={key:"type",base:null,typeMap:{"data-layer":cl,"map-layer":Iy}}),Sk}const hIe={key:"type",base:null,typeMap:{"join-table":hs,"query-table":iu,raster:My,table:Vh}};let cl=s3=class extends ve{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new s3({fields:e,dataSource:t})}};u([nt({dataLayer:"data-layer"})],cl.prototype,"type",void 0),u([h({type:[G_],json:{write:!0}})],cl.prototype,"fields",void 0),u([h({types:hIe,json:{write:!0}})],cl.prototype,"dataSource",void 0),cl=s3=u([B("esri.layers.support.source.DataLayerSource")],cl),cl.from=$n(cl);function ftt(e,t){return t?{...t,query:{...e,...t.query}}:{query:e}}function fIe(e){return typeof e=="string"?vn(e):X(e)}function mIe(e,t,r){const n={};for(const i in e){if(i==="declaredClass")continue;const o=e[i];if(o!=null&&typeof o!="function")if(Array.isArray(o)){n[i]=[];for(let s=0;s<o.length;s++)n[i][s]=mIe(o[s])}else if(typeof o=="object")if(o.toJSON){const s=o.toJSON(r&&r[i]);n[i]=t?s:JSON.stringify(s)}else n[i]=t?o:JSON.stringify(o);else n[i]=o}return n}const gS={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Ss({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:mt.WebMercator}),minus180Line:new Ss({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:mt.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Ss({paths:[[[180,-180],[180,180]]],spatialReference:mt.WGS84}),minus180Line:new Ss({paths:[[[-180,-180],[-180,180]]],spatialReference:mt.WGS84})}};function Mf(e,t){return Math.ceil((e-t)/(2*t))}function pte(e,t){const r=Dw(e);for(const n of r)for(const i of n)i[0]+=t;return e}function Dw(e){return Nf(e)?e.rings:e.paths}async function yIe(e,t,r,n){const i=typeof e=="string"?vn(e):e,o=t[0].spatialReference,s={...n,query:{...i.query,f:"json",sr:JSON.stringify(o),target:JSON.stringify({geometryType:wI(t[0]),geometries:t}),cutter:JSON.stringify(r)}},a=await _r(i.path+"/cut",s),{cutIndexes:l,geometries:c=[]}=a.data;return{cutIndexes:l,geometries:c.map(d=>{const p=Bp(d);return p.spatialReference=o,p})}}async function gIe(e,t,r){const n=typeof e=="string"?vn(e):e,i=t[0].spatialReference,o=wI(t[0]),s={...r,query:{...n.query,f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify(vIe(t))}};return bIe((await _r(n.path+"/simplify",s)).data,o,i)}function vIe(e){return{geometryType:wI(e[0]),geometries:e.map(t=>t.toJSON())}}function bIe(e,t,r){const n=zye(t);return e.map(i=>{const o=n.fromJSON(i);return o.spatialReference=r,o})}const hte=Ce.getLogger("esri.geometry.support.normalizeUtils");function wIe(e){return e.type==="polygon"}function _Ie(e){return e[0].type==="polygon"}function xIe(e){return e[0].type==="polyline"}function SIe(e,t){if(!(e instanceof Ss||e instanceof _a)){const i="straightLineDensify: the input geometry is neither polyline nor polygon";throw hte.error(i),new Z(i)}const r=Dw(e),n=[];for(const i of r){const o=[];n.push(o),o.push([i[0][0],i[0][1]]);for(let s=0;s<i.length-1;s++){const a=i[s][0],l=i[s][1],c=i[s+1][0],d=i[s+1][1],p=Math.sqrt((c-a)*(c-a)+(d-l)*(d-l)),f=(d-l)/p,y=(c-a)/p,g=p/t;if(g>1){for(let x=1;x<=g-1;x++){const S=x*t,C=y*S+a,$=f*S+l;o.push([C,$])}const v=(p+Math.floor(g-1)*t)/2,b=y*v+a,w=f*v+l;o.push([b,w])}o.push([c,d])}}return wIe(e)?new _a({rings:n,spatialReference:e.spatialReference}):new Ss({paths:n,spatialReference:e.spatialReference})}function h9(e,t,r){if(t){const n=SIe(e,1e6);e=fb(n,!0)}return r&&(e=pte(e,r)),e}function f9(e,t,r){if(Array.isArray(e)){const n=e[0];if(n>t){const i=Mf(n,t);e[0]=n+i*(-2*t)}else if(n<r){const i=Mf(n,r);e[0]=n+i*(-2*r)}}else{const n=e.x;if(n>t){const i=Mf(n,t);e=e.clone().offset(i*(-2*t),0)}else if(n<r){const i=Mf(n,r);e=e.clone().offset(i*(-2*r),0)}}return e}function CIe(e,t){let r=-1;for(let n=0;n<t.cutIndexes.length;n++){const i=t.cutIndexes[n],o=t.geometries[n],s=Dw(o);for(let a=0;a<s.length;a++){const l=s[a];l.some(c=>{if(c[0]<180)return!0;{let d=0;for(let f=0;f<l.length;f++){const y=l[f][0];d=y>d?y:d}d=Number(d.toFixed(9));const p=-360*Mf(d,180);for(let f=0;f<l.length;f++){const y=o.getPoint(a,f);o.setPoint(a,f,y.clone().offset(p,0))}return!0}})}if(i===r){if(_Ie(e))for(const a of Dw(o))e[i]=e[i].addRing(a);else if(xIe(e))for(const a of Dw(o))e[i]=e[i].addPath(a)}else r=i,e[i]=o}return e}async function fte(e,t,r){var C;if(!Array.isArray(e))return fte([e],t);t&&typeof t!="string"&&hte.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n=typeof t=="string"?t:(C=t==null?void 0:t.url)!=null?C:qt.geometryServiceUrl;let i,o,s,a,l,c,d,p,f=0;const y=[],g=[];for(const $ of e)if(te($))g.push($);else if(i||(i=$.spatialReference,o=xl(i),s=i.isWebMercator,c=s?102100:4326,a=gS[c].maxX,l=gS[c].minX,d=gS[c].plus180Line,p=gS[c].minus180Line),o)if($.type==="mesh")g.push($);else if($.type==="point")g.push(f9($.clone(),a,l));else if($.type==="multipoint"){const M=$.clone();M.points=M.points.map(I=>f9(I,a,l)),g.push(M)}else if($.type==="extent"){const M=$.clone()._normalize(!1,!1,o);g.push(M.rings?new _a(M):M)}else if($.extent){const M=$.extent,I=Mf(M.xmin,l)*(2*a);let T=I===0?$.clone():pte($.clone(),I);M.offset(I,0),M.intersects(d)&&M.xmax!==a?(f=M.xmax>f?M.xmax:f,T=h9(T,s),y.push(T),g.push("cut")):M.intersects(p)&&M.xmin!==l?(f=M.xmax*(2*a)>f?M.xmax*(2*a):f,T=h9(T,s,360),y.push(T),g.push("cut")):g.push(T)}else g.push($.clone());else g.push($);let v=Mf(f,a),b=-90;const w=v,x=new Ss;for(;v>0;){const $=360*v-180;x.addPath([[$,b],[$,-1*b]]),b*=-1,v--}if(y.length>0&&w>0){const $=CIe(y,await yIe(n,y,x,r)),M=[],I=[];for(let L=0;L<g.length;L++){const N=g[L];if(N!=="cut")I.push(N);else{const H=$.shift(),F=e[L];G(F)&&F.type==="polygon"&&F.rings&&F.rings.length>1&&H.rings.length>=F.rings.length?(M.push(H),I.push("simplify")):I.push(s?kp(H):H)}}if(!M.length)return I;const T=await gIe(n,M,r),O=[];for(let L=0;L<I.length;L++){const N=I[L];N!=="simplify"?O.push(N):O.push(s?kp(T.shift()):T.shift())}return O}const S=[];for(let $=0;$<g.length;$++){const M=g[$];if(M!=="cut")S.push(M);else{const I=y.shift();S.push(s===!0?kp(I):I)}}return S}function mtt(e,t){const r=xl(t);if(r){const[n,i]=r.valid,o=i-n;if(e<n)for(;e<n;)e+=o;if(e>i)for(;e>i;)e-=o}return e}function mte(e){const t={};for(const r in e){if(r==="declaredClass")continue;const n=e[r];if(n!=null&&typeof n!="function")if(Array.isArray(n)){t[r]=[];for(let i=0;i<n.length;i++)t[r][i]=mte(n[i])}else typeof n=="object"?n.toJSON&&(t[r]=JSON.stringify(n)):t[r]=n}return t}var ep;(function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"})(ep||(ep={}));const m9=4294967296,$Ie=new TextDecoder("utf-8"),EIe=oe("safari")||oe("ios")?6:oe("ff")?12:32;class Bf{constructor(t,r,n=0,i=t?t.byteLength:0){this._tag=0,this._dataType=ep.unknown,this._init(t,r,n,i)}_init(t,r,n,i){this._data=t,this._dataView=r,this._pos=n,this._end=i}clone(){return new Bf(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const r=this._decodeVarint();if(this._tag=r>>3,this._dataType=7&r,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=this._data[this._pos]!==0;return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,r=this._pos,n=t.getUint32(r,!0)+t.getUint32(r+4,!0)*m9;return this._skip(8),n}getSFixed64(){const t=this._dataView,r=this._pos,n=t.getUint32(r,!0)+t.getInt32(r+4,!0)*m9;return this._skip(8),n}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),r=this._pos,n=this._toString(this._data,r,r+t);return this._skip(t),n}getBytes(){const t=this._getLength(),r=this._pos,n=this._toBytes(this._data,r,r+t);return this._skip(t),n}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,r,n,i){const o=this.getMessage(),s=t(o,r,n,i);return o.release(),s}processMessage(t){const r=this.getMessage(),n=t(r);return r.release(),n}getMessage(){const t=this._getLength(),r=Bf.pool.acquire();return r._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),r}release(){Bf.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case ep.varint:this._decodeVarint();break;case ep.fixed64:this._skip(8);break;case ep.delimited:this._skip(this._getLength());break;case ep.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let r,n=this._pos,i=0;if(this._end-n>=10)do{if(r=t[n++],i|=127&r,(128&r)==0||(r=t[n++],i|=(127&r)<<7,(128&r)==0)||(r=t[n++],i|=(127&r)<<14,(128&r)==0)||(r=t[n++],i|=(127&r)<<21,(128&r)==0)||(r=t[n++],i+=268435456*(127&r),(128&r)==0)||(r=t[n++],i+=34359738368*(127&r),(128&r)==0)||(r=t[n++],i+=4398046511104*(127&r),(128&r)==0)||(r=t[n++],i+=562949953421312*(127&r),(128&r)==0)||(r=t[n++],i+=72057594037927940*(127&r),(128&r)==0)||(r=t[n++],i+=9223372036854776e3*(127&r),(128&r)==0))break;throw new Error("Varint too long!")}while(0);else{let o=1;for(;n!==this._end&&(r=t[n],(128&r)!=0);)++n,i+=(127&r)*o,o*=128;if(n===this._end)throw new Error("Varint overrun!");++n,i+=r*o}return this._pos=n,i}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(this._dataType!==ep.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,r,n){if((n=Math.min(this._end,n))-r>EIe){const s=t.subarray(r,n);return $Ie.decode(s)}let i="",o="";for(let s=r;s<n;++s){const a=t[s];128&a?o+="%"+a.toString(16):(i+=decodeURIComponent(o)+String.fromCharCode(a),o="")}return o.length&&(i+=decodeURIComponent(o)),i}_toBytes(t,r,n){return n=Math.min(this._end,n),new Uint8Array(t.buffer,r,n-r)}}Bf.pool=new El(Bf,null,e=>{e._data=null,e._dataView=null});class po{constructor(t=[],r=[],n=!1){this.lengths=t!=null?t:[],this.coords=r!=null?r:[],this.hasIndeterminateRingOrder=n}static fromRect(t){const[r,n,i,o]=t,s=i-r,a=o-n;return new po([5],[r,n,s,0,0,a,-s,0,0,-a])}get isPoint(){return this.lengths.length===0}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,r)=>t+r)}forEachVertex(t){let r=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const i=this.lengths[n];for(let o=0;o<i;o++)t(this.coords[2*(o+r)],this.coords[2*(o+r)+1]);r+=i}}clone(t){return t?(t.set(this.coords),new po(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new po(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}class Tc{constructor(t=null,r={},n,i){this.geometry=t,this.attributes=r,this.centroid=n,this.objectId=i,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new Tc(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function IIe(e){return!(te(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}class ytt extends Tc{}class XI{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new XI;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}const yte=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class gtt{constructor(t){this.options=t,this.geometryTypes=yte,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new XI}prepareFeatures(t){this._vertexDimension=2,t.hasZ&&this._vertexDimension++,t.hasM&&this._vertexDimension++}finishFeatureResult(t){if(!t||!t.features||!t.hasZ||!this.options.sourceSpatialReference||!t.spatialReference||Ci(t.spatialReference,this.options.sourceSpatialReference)||t.spatialReference.vcsWkid)return;const r=c0(this.options.sourceSpatialReference)/c0(t.spatialReference);if(r!==1)for(const n of t.features){if(!IIe(n))continue;const i=n.geometry.coords;for(let o=2;o<i.length;o+=3)i[o]*=r}}addFeature(t,r){t.features.push(r)}createFeature(){return new Tc}createSpatialReference(){return{wkid:0}}createGeometry(){return new po}addField(t,r){t.fields.push(r)}allocateCoordinates(t){t.coords.length=t.lengths.reduce((r,n)=>r+n,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(t,r){t.coords[this._coordinatePtr++]=r}addCoordinatePoint(t,r){t.coords.push(r)}addLength(t,r){t.lengths.push(r)}addQueryGeometry(t,r){t.queryGeometry=r.queryGeometry,t.queryGeometryType=r.queryGeometryType}createPointGeometry(){return new po}}const y9=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],g9=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],v9=["upperLeft","lowerLeft"];function b9(e){return e>=y9.length?null:y9[e]}function MIe(e){return e>=g9.length?null:g9[e]}function w9(e){return e>=v9.length?null:v9[e]}function _9(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function TIe(e,t,r){const i=t.createPointGeometry(r);for(;e.next();)switch(e.tag()){case 3:{const o=e.getUInt32(),s=e.pos()+o;let a=0;for(;e.pos()<s;)t.addCoordinatePoint(i,e.getSInt64(),a++);break}default:e.skip()}return i}function kIe(e,t,r){const o=t.createGeometry(r),s=2+(r.hasZ?1:0)+(r.hasM?1:0);for(;e.next();)switch(e.tag()){case 2:{const a=e.getUInt32(),l=e.pos()+a;let c=0;for(;e.pos()<l;)t.addLength(o,e.getUInt32(),c++);break}case 3:{const a=e.getUInt32(),l=e.pos()+a;let c=0;for(t.allocateCoordinates(o);e.pos()<l;)t.addCoordinate(o,e.getSInt64(),c),c++,c===s&&(c=0);break}default:e.skip()}return o}function PIe(e){const i=new po;let o="esriGeometryPoint";for(;e.next();)switch(e.tag()){case 2:{const s=e.getUInt32(),a=e.pos()+s;for(;e.pos()<a;)i.lengths.push(e.getUInt32());break}case 3:{const s=e.getUInt32(),a=e.pos()+s;for(;e.pos()<a;)i.coords.push(e.getSInt64());break}case 1:o=yte[e.getEnum()];break;default:e.skip()}return{queryGeometry:i,queryGeometryType:o}}function OIe(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getSInt32();case 5:return e.getUInt32();case 6:return e.getInt64();case 7:return e.getUInt64();case 8:return e.getSInt64();case 9:return e.getBool();default:return e.skip(),null}return null}function LIe(e){const a={type:b9(0)};for(;e.next();)switch(e.tag()){case 1:a.name=e.getString();break;case 2:a.type=b9(e.getEnum());break;case 3:a.alias=e.getString();break;case 4:a.sqlType=MIe(e.getEnum());break;case 5:e.skip();break;case 6:a.defaultValue=e.getString();break;default:e.skip()}return a}function RIe(e){const n={};for(;e.next();)switch(e.tag()){case 1:n.name=e.getString();break;case 2:n.isSystemMaintained=e.getBool();break;default:e.skip()}return n}function AIe(e,t,r,n){const a=t.createFeature(r);let l=0;for(;e.next();)switch(e.tag()){case 1:{const c=n[l++].name;a.attributes[c]=e.processMessage(OIe);break}case 2:a.geometry=e.processMessageWithArgs(kIe,t,r);break;case 4:a.centroid=e.processMessageWithArgs(TIe,t,r);break;default:e.skip()}return a}function FIe(e){const o=[1,1,1,1];for(;e.next();)switch(e.tag()){case 1:o[0]=e.getDouble();break;case 2:o[1]=e.getDouble();break;case 4:o[2]=e.getDouble();break;case 3:o[3]=e.getDouble();break;default:e.skip()}return o}function NIe(e){const o=[0,0,0,0];for(;e.next();)switch(e.tag()){case 1:o[0]=e.getDouble();break;case 2:o[1]=e.getDouble();break;case 4:o[2]=e.getDouble();break;case 3:o[3]=e.getDouble();break;default:e.skip()}return o}function DIe(e){const i={originPosition:w9(0)};for(;e.next();)switch(e.tag()){case 1:i.originPosition=w9(e.getEnum());break;case 2:i.scale=e.processMessage(FIe);break;case 3:i.translate=e.processMessage(NIe);break;default:e.skip()}return i}function zIe(e){const i={};for(;e.next();)switch(e.tag()){case 1:i.shapeAreaFieldName=e.getString();break;case 2:i.shapeLengthFieldName=e.getString();break;case 3:i.units=e.getString();break;default:e.skip()}return i}function VIe(e,t){const a=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:a.wkid=e.getUInt32();break;case 5:a.wkt=e.getString();break;case 2:a.latestWkid=e.getUInt32();break;case 3:a.vcsWkid=e.getUInt32();break;case 4:a.latestVcsWkid=e.getUInt32();break;default:e.skip()}return a}function jIe(e,t){const v=t.createFeatureResult();v.geometryType=_9(t,0);let b=!1;for(;e.next();)switch(e.tag()){case 1:v.objectIdFieldName=e.getString();break;case 3:v.globalIdFieldName=e.getString();break;case 4:v.geohashFieldName=e.getString();break;case 5:v.geometryProperties=e.processMessage(zIe);break;case 7:v.geometryType=_9(t,e.getEnum());break;case 8:v.spatialReference=e.processMessageWithArgs(VIe,t);break;case 10:v.hasZ=e.getBool();break;case 11:v.hasM=e.getBool();break;case 12:v.transform=e.processMessage(DIe);break;case 9:{const w=e.getBool();v.exceededTransferLimit=w;break}case 13:t.addField(v,e.processMessage(LIe));break;case 15:b||(t.prepareFeatures(v),b=!0),t.addFeature(v,e.processMessageWithArgs(AIe,t,v,v.fields));break;case 2:v.uniqueIdField=e.processMessage(RIe);break;default:e.skip()}return t.finishFeatureResult(v),v}function BIe(e,t){const i={};let o=null;for(;e.next();)switch(e.tag()){case 4:o=e.processMessageWithArgs(PIe);break;case 1:i.featureResult=e.processMessageWithArgs(jIe,t);break;default:e.skip()}return G(o)&&i.featureResult&&t.addQueryGeometry(i,o),i}function UIe(e,t){try{const n=new Bf(new Uint8Array(e),new DataView(e)),i={};for(;n.next();)n.tag()===2?i.queryResult=n.processMessageWithArgs(BIe,t):n.skip();return i}catch(r){throw new Z("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:r})}}function GIe(e,t){const r=UIe(e,t),n=r.queryResult.featureResult,i=r.queryResult.queryGeometry,o=r.queryResult.queryGeometryType;if(n&&n.features&&n.features.length&&n.objectIdFieldName){const s=n.objectIdFieldName;for(const a of n.features)a.attributes&&(a.objectId=a.attributes[s])}return n&&(n.queryGeometry=i,n.queryGeometryType=o),n}function l3(e,t,r){if(!r||!r.features||!r.hasZ)return;const n=Vee(r.geometryType,t,e.outSpatialReference);if(!te(n))for(const i of r.features)n(i.geometry)}const x9="Layer does not support extent calculation.";function gte(e,t){if(t&&e.type==="extent")return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&e.type==="point")return`${e.x},${e.y}`;const r=e.toJSON();return delete r.spatialReference,JSON.stringify(r)}function vte(e,t){const r=e.geometry,n=e.toJSON();delete n.compactGeometryEnabled,delete n.defaultSpatialReferenceEnabled;const i=n;let o,s,a;if(G(r)&&(s=r.spatialReference,a=r.spatialReference.wkid||JSON.stringify(r.spatialReference),i.geometryType=wI(r),i.geometry=gte(r,e.compactGeometryEnabled),i.inSR=a),n.groupByFieldsForStatistics&&(i.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(i.objectIds=n.objectIds.join(",")),n.orderByFields&&(i.orderByFields=n.orderByFields.join(",")),!n.outFields||!n.returnDistinctValues&&((t==null?void 0:t.returnCountOnly)||(t==null?void 0:t.returnExtentOnly)||(t==null?void 0:t.returnIdsOnly))?delete i.outFields:n.outFields.includes("*")?i.outFields="*":i.outFields=n.outFields.join(","),n.outSR?(i.outSR=n.outSR.wkid||JSON.stringify(n.outSR),o=e.outSpatialReference):r&&(n.returnGeometry||n.returnCentroid)&&(i.outSR=i.inSR,o=s),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(i.outStatistics=JSON.stringify(n.outStatistics)),n.pixelSize&&(i.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&G(s)&&G(e.quantizationParameters)&&G(e.quantizationParameters.extent)&&s.equals(e.quantizationParameters.extent.spatialReference)&&delete n.quantizationParameters.extent.spatialReference,i.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.parameterValues&&(i.parameterValues=JSON.stringify(n.parameterValues)),n.rangeValues&&(i.rangeValues=JSON.stringify(n.rangeValues)),n.dynamicDataSource&&(i.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource),n.timeExtent){const l=n.timeExtent,{start:c,end:d}=l;c==null&&d==null||(i.time=c===d?c:`${c==null?"null":c},${d==null?"null":d}`),delete n.timeExtent}return e.defaultSpatialReferenceEnabled&&G(s)&&G(o)&&s.equals(o)&&(i.defaultSR=i.inSR,delete i.inSR,delete i.outSR),i}async function bte(e,t,r,n){const i=G(t.timeExtent)&&t.timeExtent.isEmpty?{data:{features:[]}}:await X0(e,t,"json",n);return l3(t,r,i.data),i}async function HIe(e,t,r,n){if(G(t.timeExtent)&&t.timeExtent.isEmpty)return{data:r.createFeatureResult()};const i=await wte(e,t,n),o=i;return o.data=GIe(i.data,r),o}function wte(e,t,r){return X0(e,t,"pbf",r)}function qIe(e,t,r){return G(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):X0(e,t,"json",r,{returnIdsOnly:!0})}function WIe(e,t,r){return G(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):X0(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}function KIe(e,t,r){return G(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):X0(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then(n=>{const i=n.data;if(i.hasOwnProperty("extent"))return n;if(i.features)throw new Error(x9);if(i.hasOwnProperty("count"))throw new Error(x9);return n})}function X0(e,t,r,n={},i={}){const o=typeof e=="string"?vn(e):e,s=t.geometry?[t.geometry]:[];return n.responseType=r==="pbf"?"array-buffer":"json",fte(s,null,n).then(a=>{const l=a&&a[0];G(l)&&((t=t.clone()).geometry=l);const c=mte({...o.query,f:r,...i,...vte(t,i)});return _r(nm(o.path,"query"),{...n,query:{...c,...n.query}})})}const vtt=Object.freeze(Object.defineProperty({__proto__:null,encodeGeometry:gte,executeQuery:bte,executeQueryForCount:WIe,executeQueryForExtent:KIe,executeQueryForIds:qIe,executeQueryPBF:HIe,executeQueryPBFBuffer:wte,queryToQueryStringParameters:vte,runQuery:X0},Symbol.toStringTag,{value:"Module"}));var c3;const u3=new Et({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let si=c3=class extends ve{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){var i;const r=mt.fromJSON(t.spatialReference),n=[];for(let o=0;o<e.length;o++){const s=e[o],a=Jo.fromJSON(s),l=s.geometry&&s.geometry.spatialReference;G(a.geometry)&&!l&&(a.geometry.spatialReference=r);const c=s.aggregateGeometries,d=a.aggregateGeometries;if(c&&G(d))for(const p in d){const f=d[p],y=(i=c[p])==null?void 0:i.spatialReference;G(f)&&!y&&(f.spatialReference=r)}n.push(a)}return n}writeGeometryType(e,t,r,n){if(e)return void u3.write(e,t,r,n);const{features:i}=this;if(i){for(const o of i)if(o&&G(o.geometry))return void u3.write(o.geometry.type,t,r,n)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=Bp(e);return!r&&t.spatialReference&&(n.spatialReference=mt.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const n of r)if(n&&G(n.geometry)&&n.geometry.spatialReference)return void(t.spatialReference=n.geometry.spatialReference.toJSON())}}clone(){return new c3(this.cloneProperties())}cloneProperties(){return X({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const i=e&&e[r];n.geometry=i&&i.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,i]}=e,o=c=>Math.round((c-n)/t),s=c=>Math.round((i-c)/r),a=this.features,l=this._getQuantizationFunction(this.geometryType,o,s);for(let c=0,d=a.length;c<d;c++)l(a[c].geometry)||(a.splice(c,1),c--,d--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,i],scale:[o,s]}=r,a=d=>d*o+n,l=d=>i-d*s,c=this._getHydrationFunction(e,a,l);for(const{geometry:d}of t)G(d)&&c(d);return this.transform=null,this}_quantizePoints(e,t,r){let n,i;const o=[];for(let s=0,a=e.length;s<a;s++){const l=e[s];if(s>0){const c=t(l[0]),d=r(l[1]);c===n&&d===i||(o.push([c-n,d-i]),n=c,i=d)}else n=t(l[0]),i=r(l[1]),o.push([n,i])}return o.length>0?o:null}_getQuantizationFunction(e,t,r){return e==="point"?n=>(n.x=t(n.x),n.y=r(n.y),n):e==="polyline"||e==="polygon"?n=>{const i=Nf(n)?n.rings:n.paths,o=[];for(let s=0,a=i.length;s<a;s++){const l=i[s],c=this._quantizePoints(l,t,r);c&&o.push(c)}return o.length>0?(Nf(n)?n.rings=o:n.paths=o,n):null}:e==="multipoint"?n=>{const i=this._quantizePoints(n.points,t,r);return i.length>0?(n.points=i,n):null}:e==="extent"?n=>n:null}_getHydrationFunction(e,t,r){return e==="point"?n=>{n.x=t(n.x),n.y=r(n.y)}:e==="polyline"||e==="polygon"?n=>{const i=Nf(n)?n.rings:n.paths;let o,s;for(let a=0,l=i.length;a<l;a++){const c=i[a];for(let d=0,p=c.length;d<p;d++){const f=c[d];d>0?(o+=f[0],s+=f[1]):(o=f[0],s=f[1]),f[0]=t(o),f[1]=r(s)}}}:e==="extent"?n=>{n.xmin=t(n.xmin),n.ymin=r(n.ymin),n.xmax=t(n.xmax),n.ymax=r(n.ymax)}:e==="multipoint"?n=>{const i=n.points;let o,s;for(let a=0,l=i.length;a<l;a++){const c=i[a];a>0?(o+=c[0],s+=c[1]):(o=c[0],s=c[1]),c[0]=t(o),c[1]=r(s)}}:void 0}};u([h({type:String,json:{write:!0}})],si.prototype,"displayFieldName",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],si.prototype,"exceededTransferLimit",void 0),u([h({type:[Jo],json:{write:!0}})],si.prototype,"features",void 0),u([Pe("features")],si.prototype,"readFeatures",null),u([h({type:[G_],json:{write:!0}})],si.prototype,"fields",void 0),u([h({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:u3.read}}})],si.prototype,"geometryType",void 0),u([Ae("geometryType")],si.prototype,"writeGeometryType",null),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],si.prototype,"hasM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],si.prototype,"hasZ",void 0),u([h({types:Sm,json:{write:!0}})],si.prototype,"queryGeometry",void 0),u([Pe("queryGeometry")],si.prototype,"readQueryGeometry",null),u([h({type:mt,json:{write:!0}})],si.prototype,"spatialReference",void 0),u([Ae("spatialReference")],si.prototype,"writeSpatialReference",null),u([h({json:{write:!0}})],si.prototype,"transform",void 0),si=c3=u([B("esri.rest.support.FeatureSet")],si),si.prototype.toJSON.isDefaultToJSON=!0;const H_=si,btt=Object.freeze(Object.defineProperty({__proto__:null,default:H_},Symbol.toStringTag,{value:"Module"}));var d3;const S9=new Et({upperLeft:"upper-left",lowerLeft:"lower-left"});let jh=d3=class extends ve{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new d3(X({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};u([h({type:er,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],jh.prototype,"extent",void 0),u([h({type:["view","edit"],json:{write:!0}})],jh.prototype,"mode",void 0),u([h({type:String,json:{read:S9.read,write:S9.write}})],jh.prototype,"originPosition",void 0),u([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],jh.prototype,"tolerance",void 0),jh=d3=u([B("esri.rest.support.QuantizationParameters")],jh);const _te=jh;var p3;const C9=new Et({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Ya=p3=class extends ve{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=X(e))}clone(){return new p3({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:X(this.statisticParameters)})}};u([h({type:Number,json:{write:!0}})],Ya.prototype,"maxPointCount",void 0),u([h({type:Number,json:{write:!0}})],Ya.prototype,"maxRecordCount",void 0),u([h({type:Number,json:{write:!0}})],Ya.prototype,"maxVertexCount",void 0),u([h({type:String,json:{write:!0}})],Ya.prototype,"onStatisticField",void 0),u([h({type:String,json:{write:!0}})],Ya.prototype,"outStatisticFieldName",void 0),u([h({type:String,json:{read:{source:"statisticType",reader:C9.read},write:{target:"statisticType",writer:C9.write}}})],Ya.prototype,"statisticType",void 0),u([h({type:Object})],Ya.prototype,"statisticParameters",void 0),u([Ae("statisticParameters")],Ya.prototype,"writeStatisticParameters",null),Ya=p3=u([B("esri.rest.support.StatisticDefinition")],Ya);const xte=Ya;var Vg;const JIe=new Et({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),ZIe=new Et({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let st=Vg=class extends ve{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(e){return KN(Vg,e)}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const n in e){const i=e[n];Array.isArray(i)?r[n]=i.map(o=>o instanceof Date?o.getTime():o):i instanceof Date?r[n]=i.getTime():r[n]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new Vg(X({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:G(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};st.MAX_MAX_RECORD_COUNT_FACTOR=5,u([h({json:{write:!0}})],st.prototype,"aggregateIds",void 0),u([h({type:Boolean,json:{write:!0}})],st.prototype,"cacheHint",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],st.prototype,"compactGeometryEnabled",void 0),u([h({json:{write:!0}})],st.prototype,"datumTransformation",void 0),u([zt("datumTransformation")],st.prototype,"castDatumTransformation",null),u([h({type:Boolean,json:{default:!1,write:!0}})],st.prototype,"defaultSpatialReferenceEnabled",void 0),u([h({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],st.prototype,"distance",void 0),u([h({type:cl,json:{write:!0}})],st.prototype,"dynamicDataSource",void 0),u([h({type:String,json:{write:!0}})],st.prototype,"formatOf3DObjects",void 0),u([h({type:String,json:{write:!0}})],st.prototype,"gdbVersion",void 0),u([h({types:Sm,json:{read:Bp,write:!0}})],st.prototype,"geometry",void 0),u([h({type:Number,json:{write:!0}})],st.prototype,"geometryPrecision",void 0),u([h({type:[String],json:{write:!0}})],st.prototype,"groupByFieldsForStatistics",void 0),u([h({type:String,json:{write:!0}})],st.prototype,"having",void 0),u([h({type:Date})],st.prototype,"historicMoment",void 0),u([Ae("historicMoment")],st.prototype,"writeHistoricMoment",null),u([h({type:Number,json:{write:!0}})],st.prototype,"maxAllowableOffset",void 0),u([h({type:Number,cast:e=>e<1?1:e>Vg.MAX_MAX_RECORD_COUNT_FACTOR?Vg.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],st.prototype,"maxRecordCountFactor",void 0),u([h({type:["xyFootprint"],json:{write:!0}})],st.prototype,"multipatchOption",void 0),u([h({type:Number,json:{read:{source:"resultRecordCount"}}})],st.prototype,"num",void 0),u([h({json:{write:!0}})],st.prototype,"objectIds",void 0),u([h({type:[String],json:{write:!0}})],st.prototype,"orderByFields",void 0),u([h({type:[String],json:{write:!0}})],st.prototype,"outFields",void 0),u([h({type:mt,json:{name:"outSR",write:!0}})],st.prototype,"outSpatialReference",void 0),u([h({type:[xte],json:{write:{enabled:!0,overridePolicy(){return{enabled:G(this.outStatistics)&&this.outStatistics.length>0}}}}})],st.prototype,"outStatistics",void 0),u([h({json:{write:!0}})],st.prototype,"parameterValues",void 0),u([Ae("parameterValues")],st.prototype,"writeParameterValues",null),u([h({type:at,json:{write:!0}})],st.prototype,"pixelSize",void 0),u([h({type:_te,json:{write:!0}})],st.prototype,"quantizationParameters",void 0),u([h({type:[Object],json:{write:!0}})],st.prototype,"rangeValues",void 0),u([h({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],st.prototype,"relationParameter",void 0),u([h({type:String,json:{write:!0}})],st.prototype,"resultType",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],st.prototype,"returnCentroid",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],st.prototype,"returnDistinctValues",void 0),u([h({type:Boolean,json:{default:!0,write:!0}})],st.prototype,"returnExceededLimitFeatures",void 0),u([h({type:Boolean,json:{write:!0}})],st.prototype,"returnGeometry",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],st.prototype,"returnQueryGeometry",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],st.prototype,"returnM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],st.prototype,"returnZ",void 0),u([h({type:mt,json:{write:!0}})],st.prototype,"sourceSpatialReference",void 0),u([nt(JIe,{ignoreUnknown:!1,name:"spatialRel"})],st.prototype,"spatialRelationship",void 0),u([h({type:Number,json:{read:{source:"resultOffset"}}})],st.prototype,"start",void 0),u([Ae("start"),Ae("num")],st.prototype,"writeStart",null),u([h({type:String,json:{write:!0}})],st.prototype,"sqlFormat",void 0),u([h({type:String,json:{write:!0}})],st.prototype,"text",void 0),u([h({type:Rc,json:{write:!0}})],st.prototype,"timeExtent",void 0),u([h({type:Boolean,json:{default:!1,write:!0}})],st.prototype,"timeReferenceUnknownClient",void 0),u([nt(ZIe,{ignoreUnknown:!1}),h({json:{write:{overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],st.prototype,"units",void 0),u([h({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start>0}}}}})],st.prototype,"where",void 0),u([Ae("where")],st.prototype,"writeWhere",null),st=Vg=u([B("esri.rest.support.Query")],st);const so=st;async function Ck(e,t,r){const n=await YIe(e,t,r);return H_.fromJSON(n)}async function YIe(e,t,r){const n=fIe(e),i={...r},o=so.from(t),{data:s}=await bte(n,o,o.sourceSpatialReference,i);return s}function Ei(e,t){return e?t?4:3:t?3:2}const ev=Ce.getLogger("esri.layers.graphics.featureConversionUtils"),Ste={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},Cte=(e,t,r,n,i,o)=>{e[r]=i,e[r+1]=o},hE=(e,t,r,n,i,o)=>{e[r]=i,e[r+1]=o,e[r+2]=t[n+2]},QIe=(e,t,r,n,i,o)=>{e[r]=i,e[r+1]=o,e[r+2]=t[n+3]},$te=(e,t,r,n,i,o)=>{e[r]=i,e[r+1]=o,e[r+2]=t[n+2],e[r+3]=t[n+3]};function Q5(e,t,r,n){if(e){if(r)return t&&n?$te:hE;if(t&&n)return QIe}else if(t&&n)return hE;return Cte}function $k({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function Ek({scale:e,translate:t},r){return Math.round((t[1]-r)/e[1])}function $9({scale:e,translate:t},r){return r*e[0]+t[0]}function E9({scale:e,translate:t},r){return t[1]-r*e[1]}function wtt(e,t,r){return e?t?r?t4(e):X5(e):r?e4(e):eM(e):null}function eM(e){const t=e.coords;return{x:t[0],y:t[1]}}function Ete(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function X5(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function XIe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function e4(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function eMe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function t4(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function tMe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function rMe(e,t,r,n){let i=eM;r&&n?i=t4:r?i=X5:n&&(i=e4);for(const o of t){const{geometry:s,attributes:a}=o,l=G(s)?i(s):null;e.push({attributes:a,geometry:l})}return e}function Ite(e,t){return e&&t?tMe:e?XIe:t?eMe:Ete}function Mte(e,t,r,n,i){const o=Ite(r,n);for(const s of t){const{geometry:a,attributes:l}=s;let c;a&&(c=o(new po,a)),e.push(new Tc(c,l,null,l[i]))}return e}function nMe(e,t,r,n){for(const i of t){const{geometry:o,attributes:s}=i;let a;o&&(a=Tte(o,r,n)),e.push({attributes:s,geometry:a})}return e}function Tte(e,t,r){if(te(e))return null;const n=Ei(t,r),i=[];for(let o=0;o<e.coords.length;o+=n){const s=[];for(let a=0;a<n;a++)s.push(e.coords[o+a]);i.push(s)}return t?r?{points:i,hasZ:t,hasM:r}:{points:i,hasZ:t}:r?{points:i,hasM:r}:{points:i}}function kte(e,t,r,n,i){const o=Ei(r,n);for(const s of t){const a=s.geometry,l=s.attributes;let c;a&&(c=Pte(new po,a,o)),e.push(new Tc(c,l,null,l[i]))}return e}function Pte(e,t,r=Ei(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const n=e.coords;let i=0;for(const o of t.points)for(let s=0;s<r;s++)n[i++]=o[s];return e}function iMe(e,t,r,n){for(const i of t){const{geometry:o,attributes:s}=i;let a;G(o)&&(a=Ote(o,r,n)),e.push({attributes:s,geometry:a})}return e}function Ote(e,t,r){if(!e)return null;const n=Ei(t,r),{coords:i,lengths:o}=e,s=[];let a=0;for(const l of o){const c=[];for(let d=0;d<l;d++){const p=[];for(let f=0;f<n;f++)p.push(i[a++]);c.push(p)}s.push(c)}return t?r?{paths:s,hasZ:t,hasM:r}:{paths:s,hasZ:t}:r?{paths:s,hasM:r}:{paths:s}}function Lte(e,t,r,n,i){const o=Ei(r,n);for(const s of t){const a=s.geometry,l=s.attributes;let c;a&&(c=Rte(new po,a,o)),e.push(new Tc(c,l,null,l[i]))}return e}function Rte(e,t,r=Ei(t.hasZ,t.hasM)){const{lengths:n,coords:i}=e;let o=0;for(const s of t.paths){for(const a of s)for(let l=0;l<r;l++)i[o++]=a[l];n.push(s.length)}return e}function oMe(e,t,r,n){for(const i of t){const{geometry:o,attributes:s,centroid:a}=i;let l;if(G(o)&&(l=Ate(o,r,n)),G(a)){const c=eM(a);e.push({attributes:s,centroid:c,geometry:l})}else e.push({attributes:s,geometry:l})}return e}function Ate(e,t,r){if(!e)return null;const n=Ei(t,r),{coords:i,lengths:o}=e,s=[];let a=0;for(const l of o){const c=[];for(let d=0;d<l;d++){const p=[];for(let f=0;f<n;f++)p.push(i[a++]);c.push(p)}s.push(c)}return t?r?{rings:s,hasZ:t,hasM:r}:{rings:s,hasZ:t}:r?{rings:s,hasM:r}:{rings:s}}function Fte(e,t,r,n,i){for(const o of t){const s=o.geometry,a=o.centroid,l=o.attributes;let c;s&&(c=Nte(new po,s,r,n)),G(a)?e.push(new Tc(c,l,Ete(new po,a),l[i])):e.push(new Tc(c,l,null,l[i]))}return e}function Nte(e,t,r=t.hasZ,n=t.hasM){return sMe(e,t.rings,r,n),e}function sMe(e,t,r,n){const i=Ei(r,n),{lengths:o,coords:s}=e;let a=0;o.length=s.length=0;for(const l of t){for(const c of l)for(let d=0;d<i;d++)s[a++]=c[d];o.push(l.length)}return e}const jg=[],zw=[];function _tt(e,t,r,n,i){jg[0]=e;const[o]=Dte(zw,jg,t,r,n,i);return jg.length=zw.length=0,o}function Dte(e,t,r,n,i,o){if(e.length=0,!r){for(const s of t){const a=s.attributes[o];e.push(new Tc(null,s.attributes,null,a))}return e}switch(r){case"esriGeometryPoint":return Mte(e,t,n,i,o);case"esriGeometryMultipoint":return kte(e,t,n,i,o);case"esriGeometryPolyline":return Lte(e,t,n,i,o);case"esriGeometryPolygon":return Fte(e,t,n,i,o);default:ev.error("convertToFeatureSet:unknown-geometry",new Z(`Unable to parse unknown geometry type '${r}'`)),e.length=0}return e}function xtt(e,t,r,n,i,o){const s=e.length;switch(r){case"esriGeometryPoint":Mte(e,t,n,i,o);break;case"esriGeometryMultipoint":kte(e,t,n,i,o);break;case"esriGeometryPolyline":Lte(e,t,n,i,o);break;case"esriGeometryPolygon":Fte(e,t,n,i,o);break;default:ev.error("convertToFeatureSet:unknown-geometry",new Z(`Unable to parse unknown geometry type '${r}'`))}for(let a=0;a<t.length;a++)e[a+s].geometryType=r,e[a+s].insertAfter=t[a].insertAfter,e[a+s].groupId=t[a].groupId;return e}function Stt(e,t,r,n){zw[0]=e,zte(jg,zw,t,r,n);const i=jg[0];return jg.length=zw.length=0,i}function Ctt(e,t,r){if(te(e))return null;const n=new po;return"hasZ"in e&&t==null&&(t=e.hasZ),"hasM"in e&&r==null&&(r=e.hasM),ED(e)?Ite(t!=null?t:e.z!=null,r!=null?r:e.m!=null)(n,e):Nf(e)?Nte(n,e,t,r):ID(e)?Rte(n,e,Ei(t,r)):$D(e)?Pte(n,e,Ei(t,r)):void ev.error("convertFromGeometry:unknown-geometry",new Z(`Unable to parse unknown geometry type '${e}'`))}function aMe(e,t,r,n){const i=e&&("coords"in e?e:e.geometry);if(te(i))return null;switch(t){case"esriGeometryPoint":{let o=eM;return r&&n?o=t4:r?o=X5:n&&(o=e4),o(i)}case"esriGeometryMultipoint":return Tte(i,r,n);case"esriGeometryPolyline":return Ote(i,r,n);case"esriGeometryPolygon":return Ate(i,r,n);default:return void ev.error("convertToGeometry:unknown-geometry",new Z(`Unable to parse unknown geometry type '${t}'`))}}function lMe(e,t){for(const r of t)e.push({attributes:r.attributes});return e}function zte(e,t,r,n,i){if(e.length=0,te(r))return lMe(e,t);switch(r){case"esriGeometryPoint":return rMe(e,t,n,i);case"esriGeometryMultipoint":return nMe(e,t,n,i);case"esriGeometryPolyline":return iMe(e,t,n,i);case"esriGeometryPolygon":return oMe(e,t,n,i);default:ev.error("convertToFeatureSet:unknown-geometry",new Z(`Unable to parse unknown geometry type '${r}'`))}return e}function $tt(e){const{objectIdFieldName:t,spatialReference:r,transform:n,fields:i,hasM:o,hasZ:s,features:a,geometryType:l,exceededTransferLimit:c,uniqueIdField:d,queryGeometry:p,queryGeometryType:f}=e,y={features:zte([],a,l,s,o),fields:i,geometryType:l,objectIdFieldName:t,spatialReference:r,uniqueIdField:d,queryGeometry:aMe(p,f,!1,!1)};return n&&(y.transform=n),c&&(y.exceededTransferLimit=c),o&&(y.hasM=o),s&&(y.hasZ=s),y}function Ett(e,t){const r=new XI,{hasM:n,hasZ:i,features:o,objectIdFieldName:s,spatialReference:a,geometryType:l,exceededTransferLimit:c,transform:d,fields:p}=e;return p&&(r.fields=p),r.geometryType=l,r.objectIdFieldName=s||t,r.spatialReference=a,r.objectIdFieldName?(o&&Dte(r.features,o,l,i,n,r.objectIdFieldName),c&&(r.exceededTransferLimit=c),n&&(r.hasM=n),i&&(r.hasZ=i),d&&(r.transform=d),r):(ev.error(new Z("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),r)}function Itt(e){const{transform:t,features:r,hasM:n,hasZ:i}=e;if(!t)return e;for(const o of r)G(o.geometry)&&M9(o.geometry,o.geometry,n,i,t),G(o.centroid)&&M9(o.centroid,o.centroid,n,i,t);return e.transform=null,e}function Mtt(e,t){const{geometryType:r,features:n,hasM:i,hasZ:o}=t;if(!e)return t;for(let s=0;s<n.length;s++){const a=n[s],l=a.weakClone();l.geometry=new po,I9(l.geometry,a.geometry,i,o,r,e),a.centroid&&(l.centroid=new po,I9(l.centroid,a.centroid,i,o,"esriGeometryPoint",e)),n[s]=l}return t.transform=e,t}function I9(e,t,r,n,i,o,s=r,a=n){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),te(t)||!t.coords.length)return null;const l=Ste[i],{coords:c,lengths:d}=t,p=Ei(r,n),f=Ei(r&&s,n&&a),y=Q5(r,n,s,a);if(!d.length)return y(e.coords,c,0,0,$k(o,c[0]),Ek(o,c[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=p,e;let g,v,b,w,x=0,S=0,C=S;for(const $ of d){if($<l)continue;let M=0;S=C,b=g=$k(o,c[x]),w=v=Ek(o,c[x+1]),y(e.coords,c,S,x,b,w),M++,x+=p,S+=f;for(let I=1;I<$;I++,x+=p)b=$k(o,c[x]),w=Ek(o,c[x+1]),b===g&&w===v||(y(e.coords,c,S,x,b-g,w-v),S+=f,M++,g=b,v=w);M>=l&&(e.lengths.push(M),C=S)}return e.coords.length=C,e.coords.length?e:null}function Ttt(e,t,r,n,i,o,s=r,a=n){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const l=Ste[i],{coords:c,lengths:d}=t,p=Ei(r,n),f=Ei(r&&s,n&&a),y=Q5(r,n,s,a);if(!d.length)return y(e.coords,c,0,0,c[0],c[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=p,e;let g=0;const v=o*o;for(const b of d){if(b<l){g+=b*p;continue}const w=e.coords.length/f,x=g,S=g+(b-1)*p;y(e.coords,c,e.coords.length,x,c[x],c[x+1]),h3(e.coords,c,p,v,y,x,S),y(e.coords,c,e.coords.length,S,c[S],c[S+1]);const C=e.coords.length/f-w;C>=l?e.lengths.push(C):e.coords.length=w*f,g+=b*p}return e.coords.length?e:null}function cMe(e,t,r,n){const i=e[t],o=e[t+1],s=e[r],a=e[r+1],l=e[n],c=e[n+1];let d=s,p=a,f=l-d,y=c-p;if(f!==0||y!==0){const g=((i-d)*f+(o-p)*y)/(f*f+y*y);g>1?(d=l,p=c):g>0&&(d+=f*g,p+=y*g)}return f=i-d,y=o-p,f*f+y*y}function h3(e,t,r,n,i,o,s){let a,l=n,c=0;for(let d=o+r;d<s;d+=r)a=cMe(t,d,o,s),a>l&&(c=d,l=a);l>n&&(c-o>r&&h3(e,t,r,n,i,o,c),i(e,t,e.length,c,t[c],t[c+1]),s-c>r&&h3(e,t,r,n,i,c,s))}function ktt(e,t,r,n){if(te(t)||!t.coords||!t.coords.length)return null;const i=Ei(r,n);let o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;if(t&&t.coords){const c=t.coords;for(let d=0;d<c.length;d+=i){const p=c[d],f=c[d+1];o=Math.min(o,p),a=Math.max(a,p),s=Math.min(s,f),l=Math.max(l,f)}}return e[0]=o,e[1]=s,e[2]=a,e[3]=l,e}function M9(e,t,r,n,i){const{coords:o,lengths:s}=t,a=r?n?$te:hE:n?hE:Cte,l=Ei(r,n);if(!o.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!s.length)return a(e.coords,o,0,0,$9(i,o[0]),E9(i,o[1])),e!==t&&(e.lengths.length=0,e.coords.length=l),e;const[c,d]=i.scale;let p=0;for(let f=0;f<s.length;f++){const y=s[f];e.lengths[f]=y;let g=$9(i,o[p]),v=E9(i,o[p+1]);a(e.coords,o,p,p,g,v),p+=l;for(let b=1;b<y;b++,p+=l)g+=o[p]*c,v-=o[p+1]*d,a(e.coords,o,p,p,g,v)}return e!==t&&(e.lengths.length=s.length,e.coords.length=o.length),e}function Ptt(e,t,r,n,i,o){const s=Ei(r,n),a=Q5(r,n,i,o),l=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let c=0;c<l.length;c+=s)a(e.coords,l,e.coords.length,c,l[c],l[c+1]);return e}function uMe(e,t,r,n){let i=0,o=e[n*t],s=e[n*(t+1)];for(let a=1;a<r;a++){const l=o+e[n*(t+a)],c=s+e[n*(t+a)+1],d=(l-o)*(c+s);o=l,s=c,i+=d}return .5*i}function Ott(e,t){const{coords:r,lengths:n}=e;let i=0,o=0;for(let s=0;s<n.length;s++)o+=uMe(r,i,n[s],t),i+=s;return Math.abs(o)}function Ltt(e,t){if(te(e))return null;const r=e.clone(),n=e.coords,i=e.lengths;let o=0;for(let s=0;s<i.length;s++){const a=i[s];let l=n[t*o],c=n[t*o+1];for(let d=1;d<a;d++){const p=l+n[t*(o+d)],f=c+n[t*(o+d)+1];r.coords[t*(o+d)]=p,r.coords[t*(o+d)+1]=f,l=p,c=f}o+=a}return r}var f3;let qr=f3=class extends ve{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new f3(X({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};u([h({type:Boolean,json:{write:!0}})],qr.prototype,"cacheHint",void 0),u([h({type:cl,json:{write:!0}})],qr.prototype,"dynamicDataSource",void 0),u([h({type:String,json:{write:!0}})],qr.prototype,"gdbVersion",void 0),u([h({type:Number,json:{write:!0}})],qr.prototype,"geometryPrecision",void 0),u([h({type:Date})],qr.prototype,"historicMoment",void 0),u([Ae("historicMoment")],qr.prototype,"_writeHistoricMoment",null),u([h({type:Number,json:{write:!0}})],qr.prototype,"maxAllowableOffset",void 0),u([h({type:[Number],json:{write:!0}})],qr.prototype,"objectIds",void 0),u([h({type:[String],json:{write:!0}})],qr.prototype,"orderByFields",void 0),u([h({type:[String],json:{write:!0}})],qr.prototype,"outFields",void 0),u([h({type:mt,json:{read:{source:"outSR"},write:{target:"outSR"}}})],qr.prototype,"outSpatialReference",void 0),u([h({json:{write:!0}})],qr.prototype,"relationshipId",void 0),u([h({type:Number,json:{read:{source:"resultOffset"}}})],qr.prototype,"start",void 0),u([Ae("start"),Ae("num")],qr.prototype,"writeStart",null),u([h({type:Number,json:{read:{source:"resultRecordCount"}}})],qr.prototype,"num",void 0),u([h({json:{write:!0}})],qr.prototype,"returnGeometry",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],qr.prototype,"returnM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],qr.prototype,"returnZ",void 0),u([h({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],qr.prototype,"where",void 0),qr=f3=u([B("esri.rest.support.RelationshipQuery")],qr),qr.from=$n(qr);const m3=qr;var y3;let Ty=y3=class extends ve{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new y3({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};u([h({type:[String],json:{write:!0}})],Ty.prototype,"groupByFields",void 0),u([h({type:Number,json:{write:!0}})],Ty.prototype,"topCount",void 0),u([h({type:[String],json:{write:!0}})],Ty.prototype,"orderByFields",void 0),Ty=y3=u([B("esri.rest.support.TopFilter")],Ty);const dMe=Ty;var g3;const T9=new Et({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),k9=new Et({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Lr=g3=class extends ve{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new g3(X({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};u([h({type:Boolean,json:{write:!0}})],Lr.prototype,"cacheHint",void 0),u([h({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Lr.prototype,"distance",void 0),u([h({types:Sm,json:{read:Bp,write:!0}})],Lr.prototype,"geometry",void 0),u([h({type:Number,json:{write:!0}})],Lr.prototype,"geometryPrecision",void 0),u([h({type:Number,json:{write:!0}})],Lr.prototype,"maxAllowableOffset",void 0),u([h({type:Number,json:{read:{source:"resultRecordCount"}}})],Lr.prototype,"num",void 0),u([h({json:{write:!0}})],Lr.prototype,"objectIds",void 0),u([h({type:[String],json:{write:!0}})],Lr.prototype,"orderByFields",void 0),u([h({type:[String],json:{write:!0}})],Lr.prototype,"outFields",void 0),u([h({type:mt,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Lr.prototype,"outSpatialReference",void 0),u([h({type:String,json:{write:!0}})],Lr.prototype,"resultType",void 0),u([h({json:{write:!0}})],Lr.prototype,"returnGeometry",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Lr.prototype,"returnM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Lr.prototype,"returnZ",void 0),u([h({type:Number,json:{read:{source:"resultOffset"}}})],Lr.prototype,"start",void 0),u([Ae("start"),Ae("num")],Lr.prototype,"writeStart",null),u([h({type:String,json:{read:{source:"spatialRel",reader:T9.read},write:{target:"spatialRel",writer:T9.write}}})],Lr.prototype,"spatialRelationship",void 0),u([h({type:Rc,json:{write:!0}})],Lr.prototype,"timeExtent",void 0),u([h({type:dMe,json:{write:!0}})],Lr.prototype,"topFilter",void 0),u([h({type:String,json:{read:k9.read,write:{writer:k9.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],Lr.prototype,"units",void 0),u([h({type:String,json:{write:!0}})],Lr.prototype,"where",void 0),Lr=g3=u([B("esri.rest.support.TopFeaturesQuery")],Lr),Lr.from=$n(Lr);const vS=Lr,pMe="esri.widgets.Feature.support.relatedFeatureUtils",P9=Ce.getLogger(pMe),O9=new Map;function v3(e){if(!Eu(e))return null;const[t,r]=e.split("/").slice(1);return{layerId:t,fieldName:r}}function hMe(e,t){if(!t.relationships)return null;let r=null;const{relationships:n}=t;return n.some(i=>i.id===parseInt(e,10)&&(r=i,!0)),r}function fMe({originRelationship:e,relationships:t,layerId:r}){let n;return t&&t.some(i=>(`${i.relatedTableId}`===r&&i.id===e.id&&(n=i),!!n)),n}function mMe(e,t){const r=t.toLowerCase();for(const n in e)if(n.toLowerCase()===r)return e[n];return null}function yMe(e,t){const r=hMe(e,t);if(!!r)return{url:`${t.url}/${r.relatedTableId}`,sourceSpatialReference:t.spatialReference,relation:r,relatedFields:[],outStatistics:[]}}function gMe(e,t){if(!t||!e)return;const{features:r,statsFeatures:n}=e,i=r&&r.value;t.relatedFeatures=i?i.features:[];const o=n&&n.value;t.relatedStatsFeatures=o?o.features:[]}function vMe(e,t,r,n){const i=new m3;return i.outFields=["*"],i.relationshipId=typeof t.id=="number"?t.id:parseInt(t.id,10),i.objectIds=[e.attributes[r.objectIdField]],r.queryRelatedFeatures(i,n)}function bMe(e,t,r){let n=0;const i=[];for(;n<t.length;)i.push(`${e} IN (${t.slice(n,r+n)})`),n+=r;return i.join(" OR ")}async function wMe(e,t,r,n){const i=r.layerId.toString(),{layerInfo:o,relation:s,relatedFields:a,outStatistics:l,url:c,sourceSpatialReference:d}=t,p=fMe({originRelationship:s,relationships:o.relationships,layerId:i});if(p.relationshipTableId&&p.keyFieldInRelationshipTable){const y=(await vMe(e,p,r,n))[e.attributes[r.objectIdField]];if(!y)return null;const g=y.features.map(v=>v.attributes[o.objectIdField]);if((l==null?void 0:l.length)>0&&o.supportsStatistics){const v=new so;v.where=bMe(o.objectIdField,g,1e3),v.outFields=a,v.outStatistics=l,v.sourceSpatialReference=d;const b={features:Promise.resolve(y),statsFeatures:Ck(c,v)};return yn(b)}}const f=p==null?void 0:p.keyField;if(f){const y=UD($Me(o.fields,f)),g=mMe(e.attributes,s.keyField),v=y?`${f}=${g}`:`${f}='${g}'`,b=Ck(c,new so({where:v,outFields:t.relatedFields,sourceSpatialReference:d}),n),w=t.outStatistics&&t.outStatistics.length>0&&o.supportsStatistics?Ck(c,new so({where:v,outFields:t.relatedFields,outStatistics:t.outStatistics,sourceSpatialReference:d}),n):null,x={features:b};return w&&(x.statsFeatures=w),yn(x)}return null}function _Me(e,t){return _r(e,{query:{f:"json"},signal:t&&t.signal})}function xMe({relatedInfos:e,layer:t},r){const n={};return e.forEach((i,o)=>{const{relation:s}=i;if(!s){const p=new Z("relation-required","A relation is required on a layer to retrieve related records.");throw P9.error(p),p}const{relatedTableId:a}=s;if(typeof a!="number"){const p=new Z("A related table ID is required on a layer to retrieve related records.");throw P9.error(p),p}const l=`${t.url}/${a}`,c=O9.get(l),d=c||_Me(l,r);c||O9.set(l,d),n[o]=d}),yn(n)}function SMe({graphic:e,relatedInfos:t,layer:r},n){const i={};return t.forEach((o,s)=>{o.layerInfo&&(i[s]=wMe(e,o,r,n))}),yn(i)}function CMe({relatedInfo:e,fieldName:t,fieldInfo:r}){if(e.relatedFields.push(t),r.statisticType){const n=new xte({statisticType:r.statisticType,onStatisticField:t,outStatisticFieldName:t});e.outStatistics.push(n)}}function $Me(e,t){if(e!=null){t=t.toLowerCase();for(const r of e)if(r&&r.name.toLowerCase()===t)return r}return null}const L9={chartAnimation:!0};let Kn=class extends Ve{constructor(e){super(e),this.abilities={...L9},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(e){return{...L9,...e}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(e){this._setContentElementMedia(e)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(e){const{formattedMediaInfoCount:t}=this,r=(e+t)%t;this.activeMediaInfoIndex=r}_pageContentElementMedia(e){const{activeMediaInfoIndex:t}=this,r=t+e;this._setContentElementMedia(r)}_formatMediaInfos(){const{attributes:e,mediaInfos:t,formattedAttributes:r,expressionAttributes:n,fieldInfoMap:i,layer:o}=this;return t==null?void 0:t.map(s=>{const a=s==null?void 0:s.clone();if(!a)return null;if(a.title=If({attributes:e,fieldInfoMap:i,globalAttributes:r,expressionAttributes:n,layer:o,text:a.title}),a.caption=If({attributes:e,fieldInfoMap:i,globalAttributes:r,expressionAttributes:n,layer:o,text:a.caption}),a.altText=If({attributes:e,fieldInfoMap:i,globalAttributes:r,expressionAttributes:n,layer:o,text:a.altText}),a.type==="image"){const{value:l}=a;return this._setImageValue({value:l,formattedAttributes:r,layer:o}),a.value.sourceURL?a:void 0}if(a.type==="pie-chart"||a.type==="line-chart"||a.type==="column-chart"||a.type==="bar-chart"){const{value:l}=a;return this._setChartValue({value:l,chartType:a.type,attributes:e,formattedAttributes:r,layer:o}),a}return null}).filter(Boolean)}_setImageValue(e){const{fieldInfoMap:t}=this,{value:r,formattedAttributes:n,layer:i}=e,{linkURL:o,sourceURL:s}=r;if(s){const a=JA(s,i);r.sourceURL=KA({formattedAttributes:n,template:a,fieldInfoMap:t})}if(o){const a=JA(o,i);r.linkURL=KA({formattedAttributes:n,template:a,fieldInfoMap:t})}}_setChartValue(e){const{value:t,attributes:r,formattedAttributes:n,chartType:i,layer:o}=e,{popupTemplate:s,relatedInfos:a}=this,{fields:l,normalizeField:c}=t;if(t.fields=LEe(l,o),c&&(t.normalizeField=uE(c,o)),!l.some(p=>!!(n[p]!=null||Eu(p)&&a.size)))return;const d=s==null?void 0:s.fieldInfos;l.forEach(p=>{if(Eu(p))return void(t.series=[...t.series,...this._getRelatedChartInfos({fieldInfos:d,fieldName:p,formattedAttributes:n,chartType:i,value:t})]);const f=this._getChartOption({value:t,attributes:r,chartType:i,formattedAttributes:n,fieldName:p,fieldInfos:d});t.series.push(f)})}_getRelatedChartInfos(e){var g;const{fieldInfos:t,fieldName:r,formattedAttributes:n,chartType:i,value:o}=e,s=[],a=v3(r),{layerId:l,fieldName:c}=a,d=(g=this.relatedInfos)==null?void 0:g.get(l.toString());if(!d)return s;const{relatedFeatures:p,relation:f}=d;if(!f||!p)return s;const{cardinality:y}=f;return p.forEach(v=>{const{attributes:b}=v;b&&Object.keys(b).forEach(w=>{w===c&&s.push(this._getChartOption({value:o,attributes:b,formattedAttributes:n,fieldName:r,chartType:i,relatedFieldName:w,fieldInfos:t}))})}),y==="one-to-many"||y==="many-to-many"?s:[s[0]]}_getTooltip({label:e,value:t,chartType:r}){return r==="pie-chart"?`${e}`:`${e}: ${t}`}_getChartOption(e){var S,C,$,M,I,T;const{value:t,attributes:r,formattedAttributes:n,fieldName:i,relatedFieldName:o,fieldInfos:s,chartType:a}=e,{layer:l,fieldInfoMap:c}=this,{normalizeField:d,tooltipField:p}=t,f=d?Eu(d)?r[v3(d).fieldName]:r[d]:null,y=o&&r[o]!==void 0?r[o]:r[i]!==void 0?r[i]:n[i],g=new RQ({fieldName:i,value:y===void 0?null:y&&f?y/f:y});if(Eu(i)){const O=c.get(i.toLowerCase()),L=c.get(p.toLowerCase()),N=(S=O==null?void 0:O.fieldName)!=null?S:i,H=(I=(M=($=n[(C=L==null?void 0:L.fieldName)!=null?C:p])!=null?$:O==null?void 0:O.label)!=null?M:O==null?void 0:O.fieldName)!=null?I:o,F=n[N];return g.tooltip=this._getTooltip({label:H,value:F,chartType:a}),g}const v=tte(s,i),b=uE(i,l),w=p&&n[p]!==void 0?n[p]:Xee(v||new F_({fieldName:b}),(T=this.popupTemplate)==null?void 0:T.expressionInfos),x=n[b];return g.tooltip=this._getTooltip({label:w,value:x,chartType:a}),g}};u([h()],Kn.prototype,"abilities",void 0),u([zt("abilities")],Kn.prototype,"castAbilities",null),u([h()],Kn.prototype,"activeMediaInfoIndex",void 0),u([h({readOnly:!0})],Kn.prototype,"activeMediaInfo",null),u([h()],Kn.prototype,"attributes",void 0),u([h()],Kn.prototype,"description",void 0),u([h()],Kn.prototype,"fieldInfoMap",void 0),u([h()],Kn.prototype,"formattedAttributes",void 0),u([h()],Kn.prototype,"expressionAttributes",void 0),u([h({readOnly:!0})],Kn.prototype,"formattedMediaInfos",null),u([h()],Kn.prototype,"layer",void 0),u([h({readOnly:!0})],Kn.prototype,"formattedMediaInfoCount",null),u([h()],Kn.prototype,"mediaInfos",void 0),u([h()],Kn.prototype,"popupTemplate",void 0),u([h()],Kn.prototype,"relatedInfos",void 0),u([h()],Kn.prototype,"title",void 0),Kn=u([B("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],Kn);const Tf=Kn;var R9=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],EMe=[].concat(R9.slice(30,39),R9.slice(28,30).reverse()),IMe=[{name:"default",colors:EMe},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}];const A9="en-us",r4=new Map([["ar",()=>ae(()=>import("./ar.4dc6191a.js"),["ar.4dc6191a.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.a)],["bg-bg",()=>ae(()=>import("./bg_BG.c52f2d3f.js"),["bg_BG.c52f2d3f.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.b)],["bs-ba",()=>ae(()=>import("./bs_BA.dea32ce5.js"),["bs_BA.dea32ce5.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.b)],["ca-es",()=>ae(()=>import("./ca_ES.20b19104.js"),["ca_ES.20b19104.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.c)],["cs-cz",()=>ae(()=>import("./cs_CZ.30f0a0dc.js"),["cs_CZ.30f0a0dc.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.c)],["da-dk",()=>ae(()=>import("./da_DK.b8d0e7ac.js"),["da_DK.b8d0e7ac.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.d)],["de-de",()=>ae(()=>import("./de_DE.08196323.js"),["de_DE.08196323.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.d)],["de-ch",()=>ae(()=>import("./de_CH.5d6685a9.js"),["de_CH.5d6685a9.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.d)],["el-gr",()=>ae(()=>import("./el_GR.c34c39c2.js"),["el_GR.c34c39c2.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.e)],["en-us",()=>ae(()=>import("./en_US.58fb12c0.js"),["en_US.58fb12c0.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.e)],["en-ca",()=>ae(()=>import("./en_CA.bf2bc83b.js"),["en_CA.bf2bc83b.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.e)],["es-es",()=>ae(()=>import("./es_ES.990a5784.js"),["es_ES.990a5784.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.e)],["et-ee",()=>ae(()=>import("./et_EE.3eaec652.js"),["et_EE.3eaec652.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.e)],["fi-fi",()=>ae(()=>import("./fi_FI.5397a92e.js"),["fi_FI.5397a92e.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.f)],["fr-fr",()=>ae(()=>import("./fr_FR.1735cff8.js"),["fr_FR.1735cff8.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.f)],["he-il",()=>ae(()=>import("./he_IL.fa6085be.js"),["he_IL.fa6085be.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.h)],["hr-hr",()=>ae(()=>import("./hr_HR.e9361751.js"),["hr_HR.e9361751.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.h)],["hu-hu",()=>ae(()=>import("./hu_HU.37349893.js"),["hu_HU.37349893.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.h)],["id-id",()=>ae(()=>import("./id_ID.935d8150.js"),["id_ID.935d8150.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.i)],["it-it",()=>ae(()=>import("./it_IT.c73e8e5e.js"),["it_IT.c73e8e5e.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.i)],["ja-jp",()=>ae(()=>import("./ja_JP.17363a69.js"),["ja_JP.17363a69.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.j)],["ko-kr",()=>ae(()=>import("./ko_KR.b3c8049f.js"),["ko_KR.b3c8049f.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.k)],["lt-lt",()=>ae(()=>import("./lt_LT.520661ee.js"),["lt_LT.520661ee.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.l)],["lv-lv",()=>ae(()=>import("./lv_LV.c2022ffc.js"),["lv_LV.c2022ffc.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.l)],["nb-no",()=>ae(()=>import("./nb_NO.b81af806.js"),["nb_NO.b81af806.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.n)],["nl-nl",()=>ae(()=>import("./nl_NL.b5e4e1f8.js"),["nl_NL.b5e4e1f8.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.n)],["pl-pl",()=>ae(()=>import("./pl_PL.47a9df4a.js"),["pl_PL.47a9df4a.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.p)],["pt-br",()=>ae(()=>import("./pt_BR.512ff419.js"),["pt_BR.512ff419.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.p)],["pt-pt",()=>ae(()=>import("./pt_PT.89c766b3.js"),["pt_PT.89c766b3.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.p)],["ro-ro",()=>ae(()=>import("./ro_RO.cdb10687.js"),["ro_RO.cdb10687.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.r)],["ru-ru",()=>ae(()=>import("./ru_RU.fb5ffe9b.js"),["ru_RU.fb5ffe9b.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.r)],["sk-sk",()=>ae(()=>import("./sk_SK.c690c7d2.js"),["sk_SK.c690c7d2.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.s)],["sl-sl",()=>ae(()=>import("./sl_SL.b6513f33.js"),["sl_SL.b6513f33.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.s)],["sr-rs",()=>ae(()=>import("./sr_RS.71408a7c.js"),["sr_RS.71408a7c.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.s)],["sv-se",()=>ae(()=>import("./sv_SE.5f00a442.js"),["sv_SE.5f00a442.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.s)],["th-th",()=>ae(()=>import("./th_TH.e8c3ff07.js"),["th_TH.e8c3ff07.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.t)],["tr-tr",()=>ae(()=>import("./tr_TR.0d292c66.js"),["tr_TR.0d292c66.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.t)],["uk-ua",()=>ae(()=>import("./uk_UA.f4a29cdf.js"),["uk_UA.f4a29cdf.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.u)],["vi-vn",()=>ae(()=>import("./vi_VN.806d0c36.js"),["vi_VN.806d0c36.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.v)],["zh-cn",()=>ae(()=>import("./zh_Hans.a407cf98.js"),["zh_Hans.a407cf98.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.z)],["zh-hk",()=>ae(()=>import("./zh_Hant.7e13eee4.js"),["zh_Hant.7e13eee4.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.z)],["zh-tw",()=>ae(()=>import("./zh_Hant.7e13eee4.js"),["zh_Hant.7e13eee4.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(e=>e.z)]]);function MMe(e){const t=e.split("-")[0].toLowerCase();let r=null;for(const n of r4.keys())if(n.startsWith(t)){r=n;break}return r}function TMe(e){return e?r4.has(e.toLowerCase())?e.toLowerCase():MMe(e)||A9:A9}let Gm,zv;async function kMe(e=Is()){if(e=TMe(e),Gm&&e===zv)return Gm;Gm=ae(()=>import("./index.80c6615c.js"),["index.80c6615c.js","commonjsHelpers.ce2b5698.js"],import.meta.url).then(t=>t.i),zv=e;try{const[t,r]=await Promise.all([Gm,r4.get(zv)()]);zv===e&&(t.am4core.options.defaultLocale=r.default),t.am4core.options.suppressWarnings=!0,t.am4core.options.autoDispose=!0}catch{return Gm=null,zv=null,null}return Gm}function PMe(e,t="default"){const r=IMe.find(n=>n.name===t);return r?r.colors.map(n=>e.color(n)):null}const Xr={base:"esri-feature-media",mediaContainer:"esri-feature-media__container",mediaItemContainer:"esri-feature-media__item-container",mediaItem:"esri-feature-media__item",mediaItemTitle:"esri-feature-media__item-title",mediaItemCaption:"esri-feature-media__item-caption",mediaPrevious:"esri-feature-media__previous",mediaPreviousIconLTR:"esri-feature-media__previous-icon",mediaPreviousIconRTL:"esri-feature-media__previous-icon--rtl",mediaNext:"esri-feature-media__next",mediaNextIconLTR:"esri-feature-media__next-icon",mediaNextIconRTL:"esri-feature-media__next-icon--rtl",mediaChart:"esri-feature-media__chart",mediaButton:"esri-feature-media__button",mediaIcon:"esri-feature-media__icon",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"},Ik=.05,Mk=.95,Tk=15,jc="color",ud="tooltip",Vv="value",F9="default-line-value";let So=class extends En{constructor(e,t){super(e,t),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new Tf,this.messages=null,this._getChartDependencies=async r=>{const n=await kMe(),{destroyed:i,viewModel:o}=this;if(i||!o||!r)return;const{activeMediaInfo:s}=o,a=await this._getRendererColors(n);this._renderChart({chartDiv:r,mediaInfo:s,chartsModule:n,colorMap:a})}}initialize(){this._featureElementInfo=new Z5,this.own([fe(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.activeMediaInfo,(t=this.viewModel)==null?void 0:t.activeMediaInfoIndex]},()=>this._setupMediaRefreshTimer(),At),fe(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.description,(t=this.viewModel)==null?void 0:t.title]},()=>this._setupFeatureElementInfo(),At)])}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var e;return V("div",{bind:this,class:Xr.base,onkeyup:this._handleMediaKeyup},(e=this._featureElementInfo)==null?void 0:e.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:e}=this.viewModel;return e?V("div",{key:"media-element-container",class:Xr.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(e){const{_refreshIntervalInfo:t}=this,{activeMediaInfoIndex:r,formattedMediaInfoCount:n}=this.viewModel,{value:i,refreshInterval:o,altText:s,title:a,type:l}=e,{sourceURL:c,linkURL:d}=i,p=Yee(d)?"_blank":"_self",f=p==="_blank"?"noreferrer":"",y=o?t:null,g=y?y.timestamp:0,v=y?y.sourceURL:c,b=V("img",{alt:s||a,key:`media-${l}-${r}-${n}-${g}`,src:v});return(d?V("a",{title:a,href:d,rel:f,target:p},b):null)||b}renderChartMediaInfo(e){const{activeMediaInfoIndex:t,formattedMediaInfoCount:r}=this.viewModel;return V("div",{key:`media-${e.type}-${t}-${r}`,bind:this,class:Xr.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:e}=this.viewModel;return e?e.type==="image"?this.renderImageMediaInfo(e):e.type.includes("chart")?this.renderChartMediaInfo(e):null:null}renderMediaInfo(){const{activeMediaInfo:e}=this.viewModel;if(!e)return null;const t=e.title?V("div",{key:"media-title",class:Xr.mediaItemTitle,innerHTML:e.title}):null,r=e.caption?V("div",{key:"media-caption",class:Xr.mediaItemCaption,innerHTML:e.caption}):null;return V("div",{key:"media-container",class:Xr.mediaItemContainer},V("div",{key:"media-item-container",class:Xr.mediaItem},this.renderMediaInfoType()),t,r)}renderMediaPageButton(e){if(this.viewModel.formattedMediaInfoCount<2)return null;const t=e==="previous",r=t?this.messages.previous:this.messages.next,n=t?this.classes(Xr.mediaButton,Xr.mediaPrevious):this.classes(Xr.mediaButton,Xr.mediaNext),i=t?this.classes(Xr.mediaIcon,Xr.mediaPreviousIconLTR,Xr.iconLeftTriangleArrow):this.classes(Xr.mediaIcon,Xr.mediaNextIconLTR,Xr.iconRightTriangleArrow),o=t?this.classes(Xr.mediaIcon,Xr.mediaPreviousIconRTL,Xr.iconRightTriangleArrow):this.classes(Xr.mediaIcon,Xr.mediaNextIconRTL,Xr.iconLeftTriangleArrow),s=t?"media-previous":"media-next",a=t?this._previous:this._next;return V("button",{type:"button",key:s,title:r,"aria-label":r,tabIndex:0,class:n,bind:this,onclick:a},V("span",{"aria-hidden":"true",class:i}),V("span",{"aria-hidden":"true",class:o}))}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}async _getRendererColors(e){var o;const{am4core:t}=e,r=(o=this.viewModel)==null?void 0:o.layer,n=new Map;if(!r)return n;const i=await _$e(r.renderer);return i.delete(null),Array.from(i.values()).every(s=>(s==null?void 0:s.length)===1)&&(n.set(F9,t.color({r:50,g:50,b:50,a:1})),Array.from(i.keys()).forEach(s=>{s&&n.set(s,t.color(i.get(s)[0].toCss(!0)))})),n}_handleMediaKeyup(e){const t=tf(e);t==="ArrowLeft"&&(e.stopPropagation(),this.viewModel.previous()),t==="ArrowRight"&&(e.stopPropagation(),this.viewModel.next())}_renderChart(e){const{abilities:t}=this.viewModel,{chartsModule:r,chartDiv:n,mediaInfo:i,colorMap:o}=e,{value:s,type:a}=i,{am4core:l}=r,c=PMe(l);function d(y){y instanceof l.ColorSet&&c&&(y.list=c)}T5()&&l.useTheme(r.am4themes_dark);const p=window.matchMedia("(prefers-reduced-motion: reduce)");t.chartAnimation&&!p.matches?l.useTheme(r.am4themes_animated):l.unuseTheme(r.am4themes_animated),l.useTheme(d);const f=a==="pie-chart"?this._createPieChart(e):this._createXYChart(e);n.setAttribute("aria-label",i.altText||i.title),f.data=s.series.map(y=>({[ud]:y.tooltip,[Vv]:y.value,[jc]:o.get(y.fieldName)})).filter(y=>a!=="pie-chart"||y.value>0)}_customizeChartTooltip(e,t){e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7})}_createPieChart(e){const{chartDiv:t,chartsModule:r}=e,{am4core:n,am4charts:i}=r,o=n.create(t,i.PieChart);o.rtl=gl(this.container);const s=o.series.push(new i.PieSeries);return s.labels.template.disabled=!0,s.ticks.template.disabled=!0,s.dataFields.value=Vv,s.dataFields.category=ud,this._customizeChartTooltip(s.tooltip,n),s.slices.template.tooltipText=o.rtl?"{category}: %{value.percent.formatNumber('#.0')}":"{category}: {value.percent.formatNumber('#.0')}%",s.slices.template.propertyFields.fill=jc,s.slices.template.propertyFields.stroke=jc,o}_getMinSeriesValue(e){let t=0;return e.forEach(r=>t=Math.min(r.value,t)),t}_createColumnChart(e,t){const{chartsModule:r,mediaInfo:n}=t,{value:i}=n,{am4core:o,am4charts:s}=r,a=e.xAxes.push(new s.CategoryAxis);a.dataFields.category=ud,a.renderer.labels.template.disabled=!0,this._customizeChartTooltip(a.tooltip,o),a.tooltip.events.on("sizechanged",()=>{a.tooltip.dy=-a.tooltip.contentHeight});const l=e.yAxes.push(new s.ValueAxis),c=l.renderer.labels.template;l.renderer.minLabelPosition=Ik,l.renderer.maxLabelPosition=Mk,l.min=this._getMinSeriesValue(i.series),this._customizeChartTooltip(l.tooltip,o),c.wrap=!0;const d=e.series.push(new s.ColumnSeries);d.dataFields.valueY=Vv,d.dataFields.categoryX=ud,d.columns.template.propertyFields.fill=jc,d.columns.template.propertyFields.stroke=jc,e.cursor=new s.XYCursor,i.series.length>Tk&&(e.scrollbarX=new o.Scrollbar)}_createBarChart(e,t){const{chartsModule:r,mediaInfo:n}=t,{value:i}=n,{am4core:o,am4charts:s}=r,a=e.yAxes.push(new s.CategoryAxis);a.dataFields.category=ud,a.renderer.inversed=!0,a.renderer.labels.template.disabled=!0,this._customizeChartTooltip(a.tooltip,o),a.tooltip.events.on("sizechanged",()=>{a.tooltip.dx=a.tooltip.contentWidth});const l=e.xAxes.push(new s.ValueAxis),c=l.renderer.labels.template;l.renderer.minLabelPosition=Ik,l.renderer.maxLabelPosition=Mk,l.min=this._getMinSeriesValue(i.series),this._customizeChartTooltip(l.tooltip,o),c.wrap=!0;const d=e.series.push(new s.ColumnSeries);d.dataFields.valueX=Vv,d.dataFields.categoryY=ud,d.columns.template.propertyFields.fill=jc,d.columns.template.propertyFields.stroke=jc,e.cursor=new s.XYCursor,i.series.length>Tk&&(e.scrollbarY=new o.Scrollbar)}_createLineChart(e,t){const{chartsModule:r,mediaInfo:n,colorMap:i}=t,{value:o}=n,{am4core:s,am4charts:a}=r,l=e.xAxes.push(new a.CategoryAxis);l.dataFields.category=ud,l.renderer.labels.template.disabled=!0,this._customizeChartTooltip(l.tooltip,s),l.tooltip.events.on("sizechanged",()=>{l.tooltip.dy=-l.tooltip.contentHeight});const c=e.yAxes.push(new a.ValueAxis),d=c.renderer.labels.template;c.renderer.minLabelPosition=Ik,c.renderer.maxLabelPosition=Mk,c.min=this._getMinSeriesValue(o.series),this._customizeChartTooltip(c.tooltip,s),d.wrap=!0;const p=e.series.push(new a.LineSeries);p.dataFields.categoryX=ud,p.dataFields.valueY=Vv,p.strokeWidth=1;const f=i.get(F9);f&&(p.stroke=f);const y=p.bullets.push(new a.CircleBullet);y.propertyFields.fill=jc,y.propertyFields.stroke=jc,e.cursor=new a.XYCursor,o.series.length>Tk&&(e.scrollbarX=new s.Scrollbar)}_createXYChart(e){const{chartDiv:t,chartsModule:r,mediaInfo:n}=e,{type:i}=n,{am4core:o,am4charts:s}=r,a=o.create(t,s.XYChart);return a.rtl=gl(this.container),i==="column-chart"&&this._createColumnChart(a,e),i==="bar-chart"&&this._createBarChart(a,e),i==="line-chart"&&this._createLineChart(a,e),a}_clearMediaRefreshTimer(){const{_refreshTimer:e}=this;e&&(clearTimeout(e),this._refreshTimer=null)}_updateMediaInfoTimestamp(e){const t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:this._getImageSource(e,t)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:e}=this.viewModel;e&&e.type==="image"&&e.refreshInterval&&this._setRefreshTimeout(e)}_setRefreshTimeout(e){const{refreshInterval:t,value:r}=e;if(!t)return;const n=6e4*t;this._updateMediaInfoTimestamp(r.sourceURL);const i=setInterval(()=>{this._updateMediaInfoTimestamp(r.sourceURL)},n);this._refreshTimer=i}_getImageSource(e,t){const r=e.includes("?")?"&":"?",[n,i=""]=e.split("#");return`${n}${r}timestamp=${t}${i?"#":""}${i}`}};u([Oe("viewModel.attributes")],So.prototype,"attributes",void 0),u([Oe("viewModel.activeMediaInfoIndex")],So.prototype,"activeMediaInfoIndex",void 0),u([Oe("viewModel.description")],So.prototype,"description",void 0),u([Oe("viewModel.fieldInfoMap")],So.prototype,"fieldInfoMap",void 0),u([Oe("viewModel.layer")],So.prototype,"layer",void 0),u([Oe("viewModel.mediaInfos")],So.prototype,"mediaInfos",void 0),u([Oe("viewModel.popupTemplate")],So.prototype,"popupTemplate",void 0),u([Oe("viewModel.relatedInfos")],So.prototype,"relatedInfos",void 0),u([Oe("viewModel.title")],So.prototype,"title",void 0),u([h({type:Tf})],So.prototype,"viewModel",void 0),u([h(),sn("esri/widgets/Feature/t9n/Feature")],So.prototype,"messages",void 0),So=u([B("esri.widgets.Feature.FeatureMedia")],So);const Vte=So;class OMe{constructor(t,r){this.definition=null,this.context=null,this.definition=t,this.context=r}}class Ac{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){const t=[];for(let r=0;r<this.length();r++)t.push(this.get(r));return t}}class Mm extends Ac{constructor(t,r,n,i,o,s){super(t),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=r,this._hasZ=n,this._hasM=i,this._cacheId=o,this._partId=s}get(t){if(this._lazyPt[t]===void 0){const r=this._elements[t];if(r===void 0)return;const n=this._hasZ,i=this._hasM;let o=null;o=n&&!i?new at(r[0],r[1],r[2],void 0,this._spRef):i&&!n?new at(r[0],r[1],void 0,r[2],this._spRef):n&&i?new at(r[0],r[1],r[2],r[3],this._spRef):new at(r[0],r[1],this._spRef),o.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+t.toString(),this._lazyPt[t]=o}return this._lazyPt[t]}equalityTest(t){return t===this||t!==null&&t instanceof Mm&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}class n4 extends Ac{constructor(t,r,n,i,o){super(t),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=n,this._hasM=i,this._spRef=r,this._cacheId=o}get(t){if(this._lazyPath[t]===void 0){const r=this._elements[t];if(r===void 0)return;this._lazyPath[t]=new Mm(r,this._spRef,this._hasZ,this._hasM,this._cacheId,t)}return this._lazyPath[t]}equalityTest(t){return t===this||t!==null&&t instanceof n4&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}class Tm extends Error{}class LMe extends Tm{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class RMe extends Tm{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class AMe extends Tm{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Wb extends Tm{}class jte extends Tm{constructor(t){super(`Invalid unit ${t}`)}}class aa extends Tm{}class dd extends Tm{constructor(){super("Zone is an abstract class")}}const Re="numeric",Ml="short",Ts="long",b3={year:Re,month:Re,day:Re},Bte={year:Re,month:Ml,day:Re},FMe={year:Re,month:Ml,day:Re,weekday:Ml},Ute={year:Re,month:Ts,day:Re},Gte={year:Re,month:Ts,day:Re,weekday:Ts},Hte={hour:Re,minute:Re},qte={hour:Re,minute:Re,second:Re},Wte={hour:Re,minute:Re,second:Re,timeZoneName:Ml},Kte={hour:Re,minute:Re,second:Re,timeZoneName:Ts},Jte={hour:Re,minute:Re,hourCycle:"h23"},Zte={hour:Re,minute:Re,second:Re,hourCycle:"h23"},Yte={hour:Re,minute:Re,second:Re,hourCycle:"h23",timeZoneName:Ml},Qte={hour:Re,minute:Re,second:Re,hourCycle:"h23",timeZoneName:Ts},Xte={year:Re,month:Re,day:Re,hour:Re,minute:Re},ere={year:Re,month:Re,day:Re,hour:Re,minute:Re,second:Re},tre={year:Re,month:Ml,day:Re,hour:Re,minute:Re},rre={year:Re,month:Ml,day:Re,hour:Re,minute:Re,second:Re},NMe={year:Re,month:Ml,day:Re,weekday:Ml,hour:Re,minute:Re},nre={year:Re,month:Ts,day:Re,hour:Re,minute:Re,timeZoneName:Ml},ire={year:Re,month:Ts,day:Re,hour:Re,minute:Re,second:Re,timeZoneName:Ml},ore={year:Re,month:Ts,day:Re,weekday:Ts,hour:Re,minute:Re,timeZoneName:Ts},sre={year:Re,month:Ts,day:Re,weekday:Ts,hour:Re,minute:Re,second:Re,timeZoneName:Ts};function Kt(e){return typeof e>"u"}function Uf(e){return typeof e=="number"}function tM(e){return typeof e=="number"&&e%1===0}function DMe(e){return typeof e=="string"}function zMe(e){return Object.prototype.toString.call(e)==="[object Date]"}function are(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function VMe(e){return Array.isArray(e)?e:[e]}function N9(e,t,r){if(e.length!==0)return e.reduce((n,i)=>{const o=[t(i),i];return n&&r(n[0],o[0])===n[0]?n:o},null)[1]}function jMe(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function f0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Iu(e,t,r){return tM(e)&&e>=t&&e<=r}function BMe(e,t){return e-t*Math.floor(e/t)}function An(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function tp(e){if(!(Kt(e)||e===null||e===""))return parseInt(e,10)}function ch(e){if(!(Kt(e)||e===null||e===""))return parseFloat(e)}function i4(e){if(!(Kt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function o4(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function q_(e){return e%4===0&&(e%100!==0||e%400===0)}function Vw(e){return q_(e)?366:365}function fE(e,t){const r=BMe(t-1,12)+1,n=e+(t-r)/12;return r===2?q_(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function s4(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function mE(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return t===4||n===3?53:52}function w3(e){return e>99?e:e>60?1900+e:2e3+e}function lre(e,t,r,n=null){const i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const s={timeZoneName:t,...o},a=new Intl.DateTimeFormat(r,s).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function rM(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function cre(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new aa(`Invalid unit value ${e}`);return t}function yE(e,t){const r={};for(const n in e)if(f0(e,n)){const i=e[n];if(i==null)continue;r[t(n)]=cre(i)}return r}function jw(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${An(r,2)}:${An(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${An(r,2)}${An(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function nM(e){return jMe(e,["hour","minute","second","millisecond"])}const ure=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,UMe=["January","February","March","April","May","June","July","August","September","October","November","December"],dre=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],GMe=["J","F","M","A","M","J","J","A","S","O","N","D"];function pre(e){switch(e){case"narrow":return[...GMe];case"short":return[...dre];case"long":return[...UMe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const hre=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fre=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],HMe=["M","T","W","T","F","S","S"];function mre(e){switch(e){case"narrow":return[...HMe];case"short":return[...fre];case"long":return[...hre];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const yre=["AM","PM"],qMe=["Before Christ","Anno Domini"],WMe=["BC","AD"],KMe=["B","A"];function gre(e){switch(e){case"narrow":return[...KMe];case"short":return[...WMe];case"long":return[...qMe];default:return null}}function JMe(e){return yre[e.hour<12?0:1]}function ZMe(e,t){return mre(t)[e.weekday-1]}function YMe(e,t){return pre(t)[e.month-1]}function QMe(e,t){return gre(t)[e.year<0?0:1]}function XMe(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&o){const p=e==="days";switch(t){case 1:return p?"tomorrow":`next ${i[e][0]}`;case-1:return p?"yesterday":`last ${i[e][0]}`;case 0:return p?"today":`this ${i[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=i[e],d=n?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return s?`${a} ${d} ago`:`in ${a} ${d}`}function D9(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const eTe={D:b3,DD:Bte,DDD:Ute,DDDD:Gte,t:Hte,tt:qte,ttt:Wte,tttt:Kte,T:Jte,TT:Zte,TTT:Yte,TTTT:Qte,f:Xte,ff:tre,fff:nre,ffff:ore,F:ere,FF:rre,FFF:ire,FFFF:sre};class Ao{static create(t,r={}){return new Ao(t,r)}static parseFormat(t){let r=null,n="",i=!1;const o=[];for(let s=0;s<t.length;s++){const a=t.charAt(s);a==="'"?(n.length>0&&o.push({literal:i,val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&o.push({literal:!1,val:n}),n=a,r=a)}return n.length>0&&o.push({literal:i,val:n}),o}static macroTokenToFormatOpts(t){return eTe[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}formatDateTime(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).format()}formatDateTimeParts(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).formatToParts()}resolvedOptions(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r}).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return An(t,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(y,g)=>this.loc.extract(t,y,g),s=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>n?JMe(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>n?YMe(t,y):o(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>n?ZMe(t,y):o(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),d=y=>{const g=Ao.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(t,g):y},p=y=>n?QMe(t,y):o({era:y},"era"),f=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return i?o({day:"numeric"},"day"):this.num(t.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(t.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(t.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(y)}};return D9(Ao.parseFormat(r),f)}formatDurationFromString(t,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>c=>{const d=n(c);return d?this.num(l.get(d),c.length):c},o=Ao.parseFormat(r),s=o.reduce((l,{literal:c,val:d})=>c?l:l.concat(d),[]),a=t.shiftTo(...s.map(n).filter(l=>l));return D9(o,i(a))}}class vl{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class W_{get type(){throw new dd}get name(){throw new dd}get ianaName(){return this.name}get isUniversal(){throw new dd}offsetName(t,r){throw new dd}formatOffset(t,r){throw new dd}offset(t){throw new dd}equals(t){throw new dd}get isValid(){throw new dd}}let kk=null;class a4 extends W_{static get instance(){return kk===null&&(kk=new a4),kk}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return lre(t,r,n)}formatOffset(t,r){return jw(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let n$={};function tTe(e){return n$[e]||(n$[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),n$[e]}const rTe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function nTe(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,o,s,a,l,c,d]=n;return[s,i,o,a,l,c,d]}function iTe(e,t){const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const{type:o,value:s}=r[i],a=rTe[o];o==="era"?n[a]=s:Kt(a)||(n[a]=parseInt(s,10))}return n}let bS={};class ju extends W_{static create(t){return bS[t]||(bS[t]=new ju(t)),bS[t]}static resetCache(){bS={},n$={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=ju.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return lre(t,r,n,this.name)}formatOffset(t,r){return jw(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const n=tTe(this.name);let[i,o,s,a,l,c,d]=n.formatToParts?iTe(n,r):nTe(n,r);a==="BC"&&(i=-Math.abs(i)+1);const f=s4({year:i,month:o,day:s,hour:l===24?0:l,minute:c,second:d,millisecond:0});let y=+r;const g=y%1e3;return y-=g>=0?g:1e3+g,(f-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Pk=null;class lo extends W_{static get utcInstance(){return Pk===null&&(Pk=new lo(0)),Pk}static instance(t){return t===0?lo.utcInstance:new lo(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new lo(rM(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${jw(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${jw(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return jw(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class oTe extends W_{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function cp(e,t){if(Kt(e)||e===null)return t;if(e instanceof W_)return e;if(DMe(e)){const r=e.toLowerCase();return r==="local"||r==="system"?t:r==="utc"||r==="gmt"?lo.utcInstance:lo.parseSpecifier(r)||ju.create(e)}else return Uf(e)?lo.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new oTe(e)}let z9=()=>Date.now(),V9="system",j9=null,B9=null,U9=null,G9;class Zn{static get now(){return z9}static set now(t){z9=t}static set defaultZone(t){V9=t}static get defaultZone(){return cp(V9,a4.instance)}static get defaultLocale(){return j9}static set defaultLocale(t){j9=t}static get defaultNumberingSystem(){return B9}static set defaultNumberingSystem(t){B9=t}static get defaultOutputCalendar(){return U9}static set defaultOutputCalendar(t){U9=t}static get throwOnInvalid(){return G9}static set throwOnInvalid(t){G9=t}static resetCaches(){nn.resetCache(),ju.resetCache()}}let H9={};function sTe(e,t={}){const r=JSON.stringify([e,t]);let n=H9[r];return n||(n=new Intl.ListFormat(e,t),H9[r]=n),n}let _3={};function x3(e,t={}){const r=JSON.stringify([e,t]);let n=_3[r];return n||(n=new Intl.DateTimeFormat(e,t),_3[r]=n),n}let S3={};function aTe(e,t={}){const r=JSON.stringify([e,t]);let n=S3[r];return n||(n=new Intl.NumberFormat(e,t),S3[r]=n),n}let C3={};function lTe(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let o=C3[i];return o||(o=new Intl.RelativeTimeFormat(e,t),C3[i]=o),o}let Kb=null;function cTe(){return Kb||(Kb=new Intl.DateTimeFormat().resolvedOptions().locale,Kb)}function uTe(e){const t=e.indexOf("-u-");if(t===-1)return[e];{let r;const n=e.substring(0,t);try{r=x3(e).resolvedOptions()}catch{r=x3(n).resolvedOptions()}const{numberingSystem:i,calendar:o}=r;return[n,i,o]}}function dTe(e,t,r){return(r||t)&&(e+="-u",r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function pTe(e){const t=[];for(let r=1;r<=12;r++){const n=wt.utc(2016,r,1);t.push(e(n))}return t}function hTe(e){const t=[];for(let r=1;r<=7;r++){const n=wt.utc(2016,11,13+r);t.push(e(n))}return t}function wS(e,t,r,n,i){const o=e.listingMode(r);return o==="error"?null:o==="en"?n(t):i(t)}function fTe(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class mTe{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:o,...s}=n;if(!r||Object.keys(s).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=aTe(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):o4(t,3);return An(r,this.padTo)}}}class yTe{constructor(t,r,n){this.opts=n;let i;if(t.zone.isUniversal){const s=-1*(t.offset/60),a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;t.offset!==0&&ju.create(a).valid?(i=a,this.dt=t):(i="UTC",n.timeZoneName?this.dt=t:this.dt=t.offset===0?t:wt.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,i=t.zone.name);const o={...this.opts};i&&(o.timeZone=i),this.dtf=x3(r,o)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class gTe{constructor(t,r,n){this.opts={style:"long",...n},!r&&are()&&(this.rtf=lTe(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):XMe(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}class nn{static fromOpts(t){return nn.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,r,n,i=!1){const o=t||Zn.defaultLocale,s=o||(i?"en-US":cTe()),a=r||Zn.defaultNumberingSystem,l=n||Zn.defaultOutputCalendar;return new nn(s,a,l,o)}static resetCache(){Kb=null,_3={},S3={},C3={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:n}={}){return nn.create(t,r,n)}constructor(t,r,n,i){const[o,s,a]=uTe(t);this.locale=o,this.numberingSystem=r||s||null,this.outputCalendar=n||a||null,this.intl=dTe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=fTe(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:nn.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1,n=!0){return wS(this,t,n,pre,()=>{const i=r?{month:t,day:"numeric"}:{month:t},o=r?"format":"standalone";return this.monthsCache[o][t]||(this.monthsCache[o][t]=pTe(s=>this.extract(s,i,"month"))),this.monthsCache[o][t]})}weekdays(t,r=!1,n=!0){return wS(this,t,n,mre,()=>{const i=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},o=r?"format":"standalone";return this.weekdaysCache[o][t]||(this.weekdaysCache[o][t]=hTe(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[o][t]})}meridiems(t=!0){return wS(this,void 0,t,()=>yre,()=>{if(!this.meridiemCache){const r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[wt.utc(2016,11,13,9),wt.utc(2016,11,13,19)].map(n=>this.extract(n,r,"dayperiod"))}return this.meridiemCache})}eras(t,r=!0){return wS(this,t,r,gre,()=>{const n={era:t};return this.eraCache[t]||(this.eraCache[t]=[wt.utc(-40,1,1),wt.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[t]})}extract(t,r,n){const i=this.dtFormatter(t,r),o=i.formatToParts(),s=o.find(a=>a.type.toLowerCase()===n);return s?s.value:null}numberFormatter(t={}){return new mTe(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new yTe(t,this.intl,r)}relFormatter(t={}){return new gTe(this.intl,this.isEnglish(),t)}listFormatter(t={}){return sTe(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}function tv(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function rv(...e){return t=>e.reduce(([r,n,i],o)=>{const[s,a,l]=o(t,i);return[{...r,...s},a||n,l]},[{},null,1]).slice(0,2)}function nv(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const i=r.exec(e);if(i)return n(i)}return[null,null]}function vre(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=tp(t[r+i]);return[n,null,r+i]}}const bre=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,vTe=`(?:${bre.source}?(?:\\[(${ure.source})\\])?)?`,l4=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,wre=RegExp(`${l4.source}${vTe}`),c4=RegExp(`(?:T${wre.source})?`),bTe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,wTe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,_Te=/(\d{4})-?(\d{3})/,xTe=vre("weekYear","weekNumber","weekDay"),STe=vre("year","ordinal"),CTe=/(\d{4})-(\d\d)-(\d\d)/,_re=RegExp(`${l4.source} ?(?:${bre.source}|(${ure.source}))?`),$Te=RegExp(`(?: ${_re.source})?`);function Bg(e,t,r){const n=e[t];return Kt(n)?r:tp(n)}function ETe(e,t){return[{year:Bg(e,t),month:Bg(e,t+1,1),day:Bg(e,t+2,1)},null,t+3]}function iv(e,t){return[{hours:Bg(e,t,0),minutes:Bg(e,t+1,0),seconds:Bg(e,t+2,0),milliseconds:i4(e[t+3])},null,t+4]}function K_(e,t){const r=!e[t]&&!e[t+1],n=rM(e[t+1],e[t+2]),i=r?null:lo.instance(n);return[{},i,t+3]}function J_(e,t){const r=e[t]?ju.create(e[t]):null;return[{},r,t+1]}const ITe=RegExp(`^T?${l4.source}$`),MTe=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function TTe(e){const[t,r,n,i,o,s,a,l,c]=e,d=t[0]==="-",p=l&&l[0]==="-",f=(y,g=!1)=>y!==void 0&&(g||y&&d)?-y:y;return[{years:f(ch(r)),months:f(ch(n)),weeks:f(ch(i)),days:f(ch(o)),hours:f(ch(s)),minutes:f(ch(a)),seconds:f(ch(l),l==="-0"),milliseconds:f(i4(c),p)}]}const kTe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function u4(e,t,r,n,i,o,s){const a={year:t.length===2?w3(tp(t)):tp(t),month:dre.indexOf(r)+1,day:tp(n),hour:tp(i),minute:tp(o)};return s&&(a.second=tp(s)),e&&(a.weekday=e.length>3?hre.indexOf(e)+1:fre.indexOf(e)+1),a}const PTe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function OTe(e){const[,t,r,n,i,o,s,a,l,c,d,p]=e,f=u4(t,i,n,r,o,s,a);let y;return l?y=kTe[l]:c?y=0:y=rM(d,p),[f,new lo(y)]}function LTe(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const RTe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ATe=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,FTe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function q9(e){const[,t,r,n,i,o,s,a]=e;return[u4(t,i,n,r,o,s,a),lo.utcInstance]}function NTe(e){const[,t,r,n,i,o,s,a]=e;return[u4(t,a,r,n,i,o,s),lo.utcInstance]}const DTe=tv(bTe,c4),zTe=tv(wTe,c4),VTe=tv(_Te,c4),jTe=tv(wre),xre=rv(ETe,iv,K_,J_),BTe=rv(xTe,iv,K_,J_),UTe=rv(STe,iv,K_,J_),GTe=rv(iv,K_,J_);function HTe(e){return nv(e,[DTe,xre],[zTe,BTe],[VTe,UTe],[jTe,GTe])}function qTe(e){return nv(LTe(e),[PTe,OTe])}function WTe(e){return nv(e,[RTe,q9],[ATe,q9],[FTe,NTe])}function KTe(e){return nv(e,[MTe,TTe])}const JTe=rv(iv);function ZTe(e){return nv(e,[ITe,JTe])}const YTe=tv(CTe,$Te),QTe=tv(_re),XTe=rv(iv,K_,J_);function eke(e){return nv(e,[YTe,xre],[QTe,XTe])}const tke="Invalid Duration",Sre={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},rke={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Sre},zs=146097/400,Hm=146097/4800,nke={years:{quarters:4,months:12,weeks:zs/7,days:zs,hours:zs*24,minutes:zs*24*60,seconds:zs*24*60*60,milliseconds:zs*24*60*60*1e3},quarters:{months:3,weeks:zs/28,days:zs/4,hours:zs*24/4,minutes:zs*24*60/4,seconds:zs*24*60*60/4,milliseconds:zs*24*60*60*1e3/4},months:{weeks:Hm/7,days:Hm,hours:Hm*24,minutes:Hm*24*60,seconds:Hm*24*60*60,milliseconds:Hm*24*60*60*1e3},...Sre},Bh=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ike=Bh.slice(0).reverse();function uh(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new Yt(n)}function oke(e){return e<0?Math.floor(e):Math.ceil(e)}function Cre(e,t,r,n,i){const o=e[i][r],s=t[r]/o,a=Math.sign(s)===Math.sign(n[i]),l=!a&&n[i]!==0&&Math.abs(s)<=1?oke(s):Math.trunc(s);n[i]+=l,t[r]-=l*o}function ske(e,t){ike.reduce((r,n)=>Kt(t[n])?r:(r&&Cre(e,t,r,t,n),n),null)}class Yt{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||nn.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r?nke:rke,this.isLuxonDuration=!0}static fromMillis(t,r){return Yt.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new aa(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Yt({values:yE(t,Yt.normalizeUnit),loc:nn.fromObject(r),conversionAccuracy:r.conversionAccuracy})}static fromDurationLike(t){if(Uf(t))return Yt.fromMillis(t);if(Yt.isDuration(t))return t;if(typeof t=="object")return Yt.fromObject(t);throw new aa(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=KTe(t);return n?Yt.fromObject(n,r):Yt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=ZTe(t);return n?Yt.fromObject(n,r):Yt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new aa("need to specify a reason the Duration is invalid");const n=t instanceof vl?t:new vl(t,r);if(Zn.throwOnInvalid)throw new AMe(n);return new Yt({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new jte(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Ao.create(this.loc,n).formatDurationFromString(this,t):tke}toHuman(t={}){const r=Bh.map(n=>{const i=this.values[n];return Kt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=o4(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();if(r<0||r>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const n=this.shiftTo("hours","minutes","seconds","milliseconds");let i=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(i+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||n.milliseconds!==0)&&(i+=".SSS"));let o=n.toFormat(i);return t.includePrefix&&(o="T"+o),o}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=Yt.fromDurationLike(t),n={};for(const i of Bh)(f0(r.values,i)||f0(this.values,i))&&(n[i]=r.get(i)+this.get(i));return uh(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=Yt.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=cre(t(this.values[n],n));return uh(this,{values:r},!0)}get(t){return this[Yt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...yE(t,Yt.normalizeUnit)};return uh(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r}),o={loc:i};return n&&(o.conversionAccuracy=n),uh(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return ske(this.matrix,t),uh(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(s=>Yt.normalizeUnit(s));const r={},n={},i=this.toObject();let o;for(const s of Bh)if(t.indexOf(s)>=0){o=s;let a=0;for(const c in n)a+=this.matrix[c][s]*n[c],n[c]=0;Uf(i[s])&&(a+=i[s]);const l=Math.trunc(a);r[s]=l,n[s]=(a*1e3-l*1e3)/1e3;for(const c in i)Bh.indexOf(c)>Bh.indexOf(s)&&Cre(this.matrix,i,c,r,s)}else Uf(i[s])&&(n[s]=i[s]);for(const s in n)n[s]!==0&&(r[o]+=s===o?n[s]:n[s]/this.matrix[o][s]);return uh(this,{values:r},!0).normalize()}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return uh(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of Bh)if(!r(this.values[n],t.values[n]))return!1;return!0}}const jv="Invalid Interval";function ake(e,t){return!e||!e.isValid?hn.invalid("missing or invalid start"):!t||!t.isValid?hn.invalid("missing or invalid end"):t<e?hn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class hn{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new aa("need to specify a reason the Interval is invalid");const n=t instanceof vl?t:new vl(t,r);if(Zn.throwOnInvalid)throw new RMe(n);return new hn({invalid:n})}static fromDateTimes(t,r){const n=Gv(t),i=Gv(r),o=ake(n,i);return o==null?new hn({start:n,end:i}):o}static after(t,r){const n=Yt.fromDurationLike(r),i=Gv(t);return hn.fromDateTimes(i,i.plus(n))}static before(t,r){const n=Yt.fromDurationLike(r),i=Gv(t);return hn.fromDateTimes(i.minus(n),i)}static fromISO(t,r){const[n,i]=(t||"").split("/",2);if(n&&i){let o,s;try{o=wt.fromISO(n,r),s=o.isValid}catch{s=!1}let a,l;try{a=wt.fromISO(i,r),l=a.isValid}catch{l=!1}if(s&&l)return hn.fromDateTimes(o,a);if(s){const c=Yt.fromISO(i,r);if(c.isValid)return hn.after(o,c)}else if(l){const c=Yt.fromISO(n,r);if(c.isValid)return hn.before(a,c)}}return hn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const r=this.start.startOf(t),n=this.end.startOf(t);return Math.floor(n.diff(r,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?hn.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(Gv).filter(s=>this.contains(s)).sort(),n=[];let{s:i}=this,o=0;for(;i<this.e;){const s=r[o]||this.e,a=+s>+this.e?this.e:s;n.push(hn.fromDateTimes(i,a)),i=a,o+=1}return n}splitBy(t){const r=Yt.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,o;const s=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));o=+a>+this.e?this.e:a,s.push(hn.fromDateTimes(n,o)),n=o,i+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:hn.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return hn.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((i,o)=>i.s-o.s).reduce(([i,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[i,o.union(s)]:[i.concat([o]),s]:[i,s],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const i=[],o=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),s=Array.prototype.concat(...o),a=s.sort((l,c)=>l.time-c.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(hn.fromDateTimes(r,l.time)),r=null);return hn.merge(i)}difference(...t){return hn.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:jv}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:jv}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:jv}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:jv}toFormat(t,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:jv}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):Yt.invalid(this.invalidReason)}mapEndpoints(t){return hn.fromDateTimes(t(this.s),t(this.e))}}class _S{static hasDST(t=Zn.defaultZone){const r=wt.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return ju.isValidZone(t)}static normalizeZone(t){return cp(t,Zn.defaultZone)}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||nn.create(r,n,o)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||nn.create(r,n,o)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||nn.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||nn.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return nn.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return nn.create(r,null,"gregory").eras(t)}static features(){return{relative:are()}}}function W9(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(Yt.fromMillis(n).as("days"))}function lke(e,t,r){const n=[["years",(a,l)=>l.year-a.year],["quarters",(a,l)=>l.quarter-a.quarter],["months",(a,l)=>l.month-a.month+(l.year-a.year)*12],["weeks",(a,l)=>{const c=W9(a,l);return(c-c%7)/7}],["days",W9]],i={};let o,s;for(const[a,l]of n)if(r.indexOf(a)>=0){o=a;let c=l(e,t);s=e.plus({[a]:c}),s>t?(e=e.plus({[a]:c-1}),c-=1):e=s,i[a]=c}return[e,i,s,o]}function cke(e,t,r,n){let[i,o,s,a]=lke(e,t,r);const l=t-i,c=r.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);c.length===0&&(s<t&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+l/(s-i)));const d=Yt.fromObject(o,n);return c.length>0?Yt.fromMillis(l,n).shiftTo(...c).plus(d):d}const d4={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},K9={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},uke=d4.hanidec.replace(/[\[|\]]/g,"").split("");function dke(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(d4.hanidec)!==-1)t+=uke.indexOf(e[r]);else for(const i in K9){const[o,s]=K9[i];n>=o&&n<=s&&(t+=n-o)}}return parseInt(t,10)}else return t}function Aa({numberingSystem:e},t=""){return new RegExp(`${d4[e||"latn"]}${t}`)}const pke="missing Intl.DateTimeFormat.formatToParts support";function sr(e,t=r=>r){return{regex:e,deser:([r])=>t(dke(r))}}const hke=String.fromCharCode(160),$re=`[ ${hke}]`,Ere=new RegExp($re,"g");function fke(e){return e.replace(/\./g,"\\.?").replace(Ere,$re)}function J9(e){return e.replace(/\./g,"").replace(Ere," ").toLowerCase()}function Fa(e,t){return e===null?null:{regex:RegExp(e.map(fke).join("|")),deser:([r])=>e.findIndex(n=>J9(r)===J9(n))+t}}function Z9(e,t){return{regex:e,deser:([,r,n])=>rM(r,n),groups:t}}function Ok(e){return{regex:e,deser:([t])=>t}}function mke(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function yke(e,t){const r=Aa(t),n=Aa(t,"{2}"),i=Aa(t,"{3}"),o=Aa(t,"{4}"),s=Aa(t,"{6}"),a=Aa(t,"{1,2}"),l=Aa(t,"{1,3}"),c=Aa(t,"{1,6}"),d=Aa(t,"{1,9}"),p=Aa(t,"{2,4}"),f=Aa(t,"{4,6}"),y=b=>({regex:RegExp(mke(b.val)),deser:([w])=>w,literal:!0}),v=(b=>{if(e.literal)return y(b);switch(b.val){case"G":return Fa(t.eras("short",!1),0);case"GG":return Fa(t.eras("long",!1),0);case"y":return sr(c);case"yy":return sr(p,w3);case"yyyy":return sr(o);case"yyyyy":return sr(f);case"yyyyyy":return sr(s);case"M":return sr(a);case"MM":return sr(n);case"MMM":return Fa(t.months("short",!0,!1),1);case"MMMM":return Fa(t.months("long",!0,!1),1);case"L":return sr(a);case"LL":return sr(n);case"LLL":return Fa(t.months("short",!1,!1),1);case"LLLL":return Fa(t.months("long",!1,!1),1);case"d":return sr(a);case"dd":return sr(n);case"o":return sr(l);case"ooo":return sr(i);case"HH":return sr(n);case"H":return sr(a);case"hh":return sr(n);case"h":return sr(a);case"mm":return sr(n);case"m":return sr(a);case"q":return sr(a);case"qq":return sr(n);case"s":return sr(a);case"ss":return sr(n);case"S":return sr(l);case"SSS":return sr(i);case"u":return Ok(d);case"uu":return Ok(a);case"uuu":return sr(r);case"a":return Fa(t.meridiems(),0);case"kkkk":return sr(o);case"kk":return sr(p,w3);case"W":return sr(a);case"WW":return sr(n);case"E":case"c":return sr(r);case"EEE":return Fa(t.weekdays("short",!1,!1),1);case"EEEE":return Fa(t.weekdays("long",!1,!1),1);case"ccc":return Fa(t.weekdays("short",!0,!1),1);case"cccc":return Fa(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Z9(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Z9(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Ok(/[a-z_+-/]{1,256}?/i);default:return y(b)}})(e)||{invalidReason:pke};return v.token=e,v}const gke={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function vke(e,t,r){const{type:n,value:i}=e;if(n==="literal")return{literal:!0,val:i};const o=r[n];let s=gke[n];if(typeof s=="object"&&(s=s[o]),s)return{literal:!1,val:s}}function bke(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function wke(e,t,r){const n=e.match(t);if(n){const i={};let o=1;for(const s in r)if(f0(r,s)){const a=r[s],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(o,o+l))),o+=l}return[n,i]}else return[n,{}]}function _ke(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return Kt(e.z)||(r=ju.create(e.z)),Kt(e.Z)||(r||(r=new lo(e.Z)),n=e.Z),Kt(e.q)||(e.M=(e.q-1)*3+1),Kt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Kt(e.u)||(e.S=i4(e.u)),[Object.keys(e).reduce((o,s)=>{const a=t(s);return a&&(o[a]=e[s]),o},{}),r,n]}let Lk=null;function xke(){return Lk||(Lk=wt.fromMillis(1555555555555)),Lk}function Ske(e,t){if(e.literal)return e;const r=Ao.macroTokenToFormatOpts(e.val);if(!r)return e;const o=Ao.create(t,r).formatDateTimeParts(xke()).map(s=>vke(s,t,r));return o.includes(void 0)?e:o}function Cke(e,t){return Array.prototype.concat(...e.map(r=>Ske(r,t)))}function Ire(e,t,r){const n=Cke(Ao.parseFormat(r),e),i=n.map(s=>yke(s,e)),o=i.find(s=>s.invalidReason);if(o)return{input:t,tokens:n,invalidReason:o.invalidReason};{const[s,a]=bke(i),l=RegExp(s,"i"),[c,d]=wke(t,l,a),[p,f,y]=d?_ke(d):[null,null,void 0];if(f0(d,"a")&&f0(d,"H"))throw new Wb("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:l,rawMatches:c,matches:d,result:p,zone:f,specificOffset:y}}}function $ke(e,t,r){const{result:n,zone:i,specificOffset:o,invalidReason:s}=Ire(e,t,r);return[n,i,o,s]}const Mre=[0,31,59,90,120,151,181,212,243,273,304,334],Tre=[0,31,60,91,121,152,182,213,244,274,305,335];function ua(e,t){return new vl("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function kre(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function Pre(e,t,r){return r+(q_(e)?Tre:Mre)[t-1]}function Ore(e,t){const r=q_(e)?Tre:Mre,n=r.findIndex(o=>o<t),i=t-r[n];return{month:n+1,day:i}}function $3(e){const{year:t,month:r,day:n}=e,i=Pre(t,r,n),o=kre(t,r,n);let s=Math.floor((i-o+10)/7),a;return s<1?(a=t-1,s=mE(a)):s>mE(t)?(a=t+1,s=1):a=t,{weekYear:a,weekNumber:s,weekday:o,...nM(e)}}function Y9(e){const{weekYear:t,weekNumber:r,weekday:n}=e,i=kre(t,1,4),o=Vw(t);let s=r*7+n-i-3,a;s<1?(a=t-1,s+=Vw(a)):s>o?(a=t+1,s-=Vw(t)):a=t;const{month:l,day:c}=Ore(a,s);return{year:a,month:l,day:c,...nM(e)}}function Rk(e){const{year:t,month:r,day:n}=e,i=Pre(t,r,n);return{year:t,ordinal:i,...nM(e)}}function Q9(e){const{year:t,ordinal:r}=e,{month:n,day:i}=Ore(t,r);return{year:t,month:n,day:i,...nM(e)}}function Eke(e){const t=tM(e.weekYear),r=Iu(e.weekNumber,1,mE(e.weekYear)),n=Iu(e.weekday,1,7);return t?r?n?!1:ua("weekday",e.weekday):ua("week",e.week):ua("weekYear",e.weekYear)}function Ike(e){const t=tM(e.year),r=Iu(e.ordinal,1,Vw(e.year));return t?r?!1:ua("ordinal",e.ordinal):ua("year",e.year)}function Lre(e){const t=tM(e.year),r=Iu(e.month,1,12),n=Iu(e.day,1,fE(e.year,e.month));return t?r?n?!1:ua("day",e.day):ua("month",e.month):ua("year",e.year)}function Rre(e){const{hour:t,minute:r,second:n,millisecond:i}=e,o=Iu(t,0,23)||t===24&&r===0&&n===0&&i===0,s=Iu(r,0,59),a=Iu(n,0,59),l=Iu(i,0,999);return o?s?a?l?!1:ua("millisecond",i):ua("second",n):ua("minute",r):ua("hour",t)}const Ak="Invalid DateTime",X9=864e13;function xS(e){return new vl("unsupported zone",`the zone "${e.name}" is not supported`)}function Fk(e){return e.weekData===null&&(e.weekData=$3(e.c)),e.weekData}function Bv(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new wt({...r,...t,old:r})}function Are(e,t,r){let n=e-t*60*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=(i-t)*60*1e3;const o=r.offset(n);return i===o?[n,i]:[e-Math.min(i,o)*60*1e3,Math.max(i,o)]}function eB(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function i$(e,t,r){return Are(s4(e),t,r)}function tB(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:n,month:i,day:Math.min(e.c.day,fE(n,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},s=Yt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=s4(o);let[l,c]=Are(a,r,e.zone);return s!==0&&(l+=s,c=e.zone.offset(l)),{ts:l,o:c}}function Uv(e,t,r,n,i,o){const{setZone:s,zone:a}=r;if(e&&Object.keys(e).length!==0){const l=t||a,c=wt.fromObject(e,{...r,zone:l,specificOffset:o});return s?c:c.setZone(a)}else return wt.invalid(new vl("unparsable",`the input "${i}" can't be parsed as ${n}`))}function SS(e,t,r=!0){return e.isValid?Ao.create(nn.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Nk(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=An(e.c.year,r?6:4),t?(n+="-",n+=An(e.c.month),n+="-",n+=An(e.c.day)):(n+=An(e.c.month),n+=An(e.c.day)),n}function rB(e,t,r,n,i,o){let s=An(e.c.hour);return t?(s+=":",s+=An(e.c.minute),(e.c.second!==0||!r)&&(s+=":")):s+=An(e.c.minute),(e.c.second!==0||!r)&&(s+=An(e.c.second),(e.c.millisecond!==0||!n)&&(s+=".",s+=An(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!o?s+="Z":e.o<0?(s+="-",s+=An(Math.trunc(-e.o/60)),s+=":",s+=An(Math.trunc(-e.o%60))):(s+="+",s+=An(Math.trunc(e.o/60)),s+=":",s+=An(Math.trunc(e.o%60)))),o&&(s+="["+e.zone.ianaName+"]"),s}const Fre={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Mke={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Tke={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Nre=["year","month","day","hour","minute","second","millisecond"],kke=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Pke=["year","ordinal","hour","minute","second","millisecond"];function nB(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new jte(e);return t}function iB(e,t){const r=cp(t.zone,Zn.defaultZone),n=nn.fromObject(t),i=Zn.now();let o,s;if(Kt(e.year))o=i;else{for(const c of Nre)Kt(e[c])&&(e[c]=Fre[c]);const a=Lre(e)||Rre(e);if(a)return wt.invalid(a);const l=r.offset(i);[o,s]=i$(e,l,r)}return new wt({ts:o,zone:r,loc:n,o:s})}function oB(e,t,r){const n=Kt(r.round)?!0:r.round,i=(s,a)=>(s=o4(s,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(s,a)),o=s=>r.calendary?t.hasSame(e,s)?0:t.startOf(s).diff(e.startOf(s),s).get(s):t.diff(e,s).get(s);if(r.unit)return i(o(r.unit),r.unit);for(const s of r.units){const a=o(s);if(Math.abs(a)>=1)return i(a,s)}return i(e>t?-0:0,r.units[r.units.length-1])}function sB(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class wt{constructor(t){const r=t.zone||Zn.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new vl("invalid input"):null)||(r.isValid?null:xS(r));this.ts=Kt(t.ts)?Zn.now():t.ts;let i=null,o=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,o]=[t.old.c,t.old.o];else{const a=r.offset(this.ts);i=eB(this.ts,a),n=Number.isNaN(i.year)?new vl("invalid input"):null,i=n?null:i,o=n?null:a}this._zone=r,this.loc=t.loc||nn.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new wt({})}static local(){const[t,r]=sB(arguments),[n,i,o,s,a,l,c]=r;return iB({year:n,month:i,day:o,hour:s,minute:a,second:l,millisecond:c},t)}static utc(){const[t,r]=sB(arguments),[n,i,o,s,a,l,c]=r;return t.zone=lo.utcInstance,iB({year:n,month:i,day:o,hour:s,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,r={}){const n=zMe(t)?t.valueOf():NaN;if(Number.isNaN(n))return wt.invalid("invalid input");const i=cp(r.zone,Zn.defaultZone);return i.isValid?new wt({ts:n,zone:i,loc:nn.fromObject(r)}):wt.invalid(xS(i))}static fromMillis(t,r={}){if(Uf(t))return t<-X9||t>X9?wt.invalid("Timestamp out of range"):new wt({ts:t,zone:cp(r.zone,Zn.defaultZone),loc:nn.fromObject(r)});throw new aa(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Uf(t))return new wt({ts:t*1e3,zone:cp(r.zone,Zn.defaultZone),loc:nn.fromObject(r)});throw new aa("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=cp(r.zone,Zn.defaultZone);if(!n.isValid)return wt.invalid(xS(n));const i=Zn.now(),o=Kt(r.specificOffset)?n.offset(i):r.specificOffset,s=yE(t,nB),a=!Kt(s.ordinal),l=!Kt(s.year),c=!Kt(s.month)||!Kt(s.day),d=l||c,p=s.weekYear||s.weekNumber,f=nn.fromObject(r);if((d||a)&&p)throw new Wb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new Wb("Can't mix ordinal dates with month/day");const y=p||s.weekday&&!d;let g,v,b=eB(i,o);y?(g=kke,v=Mke,b=$3(b)):a?(g=Pke,v=Tke,b=Rk(b)):(g=Nre,v=Fre);let w=!1;for(const T of g){const O=s[T];Kt(O)?w?s[T]=v[T]:s[T]=b[T]:w=!0}const x=y?Eke(s):a?Ike(s):Lre(s),S=x||Rre(s);if(S)return wt.invalid(S);const C=y?Y9(s):a?Q9(s):s,[$,M]=i$(C,o,n),I=new wt({ts:$,zone:n,o:M,loc:f});return s.weekday&&d&&t.weekday!==I.weekday?wt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${I.toISO()}`):I}static fromISO(t,r={}){const[n,i]=HTe(t);return Uv(n,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,i]=qTe(t);return Uv(n,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,i]=WTe(t);return Uv(n,i,r,"HTTP",r)}static fromFormat(t,r,n={}){if(Kt(t)||Kt(r))throw new aa("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=n,s=nn.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[a,l,c,d]=$ke(s,t,r);return d?wt.invalid(d):Uv(a,l,n,`format ${r}`,t,c)}static fromString(t,r,n={}){return wt.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,i]=eke(t);return Uv(n,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new aa("need to specify a reason the DateTime is invalid");const n=t instanceof vl?t:new vl(t,r);if(Zn.throwOnInvalid)throw new LMe(n);return new wt({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Fk(this).weekYear:NaN}get weekNumber(){return this.isValid?Fk(this).weekNumber:NaN}get weekday(){return this.isValid?Fk(this).weekday:NaN}get ordinal(){return this.isValid?Rk(this.c).ordinal:NaN}get monthShort(){return this.isValid?_S.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?_S.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?_S.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?_S.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return q_(this.year)}get daysInMonth(){return fE(this.year,this.month)}get daysInYear(){return this.isValid?Vw(this.year):NaN}get weeksInWeekYear(){return this.isValid?mE(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:i}=Ao.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(lo.instance(t),r)}toLocal(){return this.setZone(Zn.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=cp(t,Zn.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||n){const o=t.offset(this.ts),s=this.toObject();[i]=i$(s,o,t)}return Bv(this,{ts:i,zone:t})}else return wt.invalid(xS(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return Bv(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=yE(t,nB),n=!Kt(r.weekYear)||!Kt(r.weekNumber)||!Kt(r.weekday),i=!Kt(r.ordinal),o=!Kt(r.year),s=!Kt(r.month)||!Kt(r.day),a=o||s,l=r.weekYear||r.weekNumber;if((a||i)&&l)throw new Wb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&i)throw new Wb("Can't mix ordinal dates with month/day");let c;n?c=Y9({...$3(this.c),...r}):Kt(r.ordinal)?(c={...this.toObject(),...r},Kt(r.day)&&(c.day=Math.min(fE(c.year,c.month),c.day))):c=Q9({...Rk(this.c),...r});const[d,p]=i$(c,this.o,this.zone);return Bv(this,{ts:d,o:p})}plus(t){if(!this.isValid)return this;const r=Yt.fromDurationLike(t);return Bv(this,tB(this,r))}minus(t){if(!this.isValid)return this;const r=Yt.fromDurationLike(t).negate();return Bv(this,tB(this,r))}startOf(t){if(!this.isValid)return this;const r={},n=Yt.normalizeUnit(t);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){const i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,r={}){return this.isValid?Ao.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):Ak}toLocaleString(t=b3,r={}){return this.isValid?Ao.create(this.loc.clone(r),t).formatDateTime(this):Ak}toLocaleParts(t={}){return this.isValid?Ao.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const s=t==="extended";let a=Nk(this,s);return a+="T",a+=rB(this,s,r,n,i,o),a}toISODate({format:t="extended"}={}){return this.isValid?Nk(this,t==="extended"):null}toISOWeekDate(){return SS(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(i?"T":"")+rB(this,s==="extended",r,t,n,o):null}toRFC2822(){return SS(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return SS(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Nk(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(n&&(i+=" "),r?i+="z":t&&(i+="ZZ")),SS(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Ak}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return Yt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=VMe(r).map(Yt.normalizeUnit),s=t.valueOf()>this.valueOf(),a=s?this:t,l=s?t:this,c=cke(a,l,o,i);return s?c.negate():c}diffNow(t="milliseconds",r={}){return this.diff(wt.now(),t,r)}until(t){return this.isValid?hn.fromDateTimes(this,t):this}hasSame(t,r){if(!this.isValid)return!1;const n=t.valueOf(),i=this.setZone(t.zone,{keepLocalTime:!0});return i.startOf(r)<=n&&n<=i.endOf(r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||wt.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),oB(r,this.plus(n),{...t,numeric:"always",units:i,unit:o})}toRelativeCalendar(t={}){return this.isValid?oB(t.base||wt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(wt.isDateTime))throw new aa("min requires all arguments be DateTimes");return N9(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(wt.isDateTime))throw new aa("max requires all arguments be DateTimes");return N9(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:i=null,numberingSystem:o=null}=n,s=nn.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return Ire(s,t,r)}static fromStringExplain(t,r,n={}){return wt.fromFormatExplain(t,r,n)}static get DATE_SHORT(){return b3}static get DATE_MED(){return Bte}static get DATE_MED_WITH_WEEKDAY(){return FMe}static get DATE_FULL(){return Ute}static get DATE_HUGE(){return Gte}static get TIME_SIMPLE(){return Hte}static get TIME_WITH_SECONDS(){return qte}static get TIME_WITH_SHORT_OFFSET(){return Wte}static get TIME_WITH_LONG_OFFSET(){return Kte}static get TIME_24_SIMPLE(){return Jte}static get TIME_24_WITH_SECONDS(){return Zte}static get TIME_24_WITH_SHORT_OFFSET(){return Yte}static get TIME_24_WITH_LONG_OFFSET(){return Qte}static get DATETIME_SHORT(){return Xte}static get DATETIME_SHORT_WITH_SECONDS(){return ere}static get DATETIME_MED(){return tre}static get DATETIME_MED_WITH_SECONDS(){return rre}static get DATETIME_MED_WITH_WEEKDAY(){return NMe}static get DATETIME_FULL(){return nre}static get DATETIME_FULL_WITH_SECONDS(){return ire}static get DATETIME_HUGE(){return ore}static get DATETIME_HUGE_WITH_SECONDS(){return sre}}function Gv(e){if(wt.isDateTime(e))return e;if(e&&e.valueOf&&Uf(e.valueOf()))return wt.fromJSDate(e);if(e&&typeof e=="object")return wt.fromObject(e);throw new aa(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Dk={ar:[".",","],bg:[",","\xA0"],bs:[",","."],ca:[",","."],cs:[",","\xA0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xA0"],fi:[",","\xA0"],fr:[",","\u202F"],"fr-ch":[",","\u202F"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xA0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xA0"],lv:[",","\xA0"],mk:[",","."],nb:[",","\xA0"],nl:[",","."],pl:[",","\xA0"],pt:[",","."],"pt-pt":[",","\xA0"],ro:[",","."],ru:[",","\xA0"],sk:[",","\xA0"],sl:[",","."],sr:[",","."],sv:[",","\xA0"],th:[".",","],tr:[",","."],uk:[",","\xA0"],vi:[",","."],zh:[".",","]};function Dre(e){e||(e=Is());let t=e in Dk;if(!t){const o=e.split("-");o.length>1&&o[0]in Dk&&(e=o[0],t=!0),t||(e="en")}const[r,n,i="#,##0.###"]=Dk[e];return{decimal:r,group:n,pattern:i}}function Oke(e,t){const r=Dre((t={...t}).locale);t.customs=r;const n=t.pattern||r.pattern;return isNaN(e)||Math.abs(e)===1/0?null:Lke(e,n,t)}const zre=/[#0,]*[#0](?:\.0*#*)?/;function Lke(e,t,r){const n=(r=r||{}).customs.group,i=r.customs.decimal,o=t.split(";"),s=o[0];if((t=o[e<0?1:0]||"-"+s).includes("%"))e*=100;else if(t.includes("\u2030"))e*=1e3;else{if(t.includes("\xA4"))throw new Error("currency notation not supported");if(t.includes("E"))throw new Error("exponential notation not supported")}const a=zre,l=s.match(a);if(!l)throw new Error("unable to find a number expression in pattern: "+t);return r.fractional===!1&&(r.places=0),t.replace(a,Rke(e,l[0],{decimal:i,group:n,places:r.places,round:r.round}))}function Rke(e,t,r){(r=r||{}).places===!0&&(r.places=0),r.places===1/0&&(r.places=6);const n=t.split("."),i=typeof r.places=="string"&&r.places.indexOf(",");let o=r.places;i?o=r.places.substring(i+1):o>=0||(o=(n[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(o))));const s=String(Math.abs(e)).split("."),a=s[1]||"";if(n[1]||r.places){i&&(r.places=r.places.substring(0,i));const g=r.places!==void 0?r.places:n[1]&&n[1].lastIndexOf("0")+1;g>a.length&&(s[1]=a.padEnd(Number(g),"0")),o<a.length&&(s[1]=a.substr(0,Number(o)))}else s[1]&&s.pop();const l=n[0].replace(",","");let c=l.indexOf("0");c!==-1&&(c=l.length-c,c>s[0].length&&(s[0]=s[0].padStart(c,"0")),l.includes("#")||(s[0]=s[0].substr(s[0].length-c)));let d,p,f=n[0].lastIndexOf(",");if(f!==-1){d=n[0].length-f-1;const g=n[0].substr(0,f);f=g.lastIndexOf(","),f!==-1&&(p=g.length-f-1)}const y=[];for(let g=s[0];g;){const v=g.length-d;y.push(v>0?g.substr(v):g),g=v>0?g.slice(0,v):"",p&&(d=p,p=void 0)}return s[0]=y.reverse().join(r.group||","),s.join(r.decimal||".")}function Ake(e){const t=Dre((e=e||{}).locale),r=e.pattern||t.pattern,n=t.group,i=t.decimal;let o=1;if(r.includes("%"))o/=100;else if(r.includes("\u2030"))o/=1e3;else if(r.includes("\xA4"))throw new Error("currency notation not supported");const s=r.split(";");return s.length===1&&s.push("-"+s[0]),{regexp:H1(s,l=>(l="(?:"+nK(l,".")+")").replace(zre,c=>{const d={signed:!1,separator:e.strict?n:[n,""],fractional:e.fractional,decimal:i,exponent:!1},p=c.split(".");let f=e.places;p.length===1&&o!==1&&(p[1]="###"),p.length===1||f===0?d.fractional=!1:(f===void 0&&(f=e.pattern?p[1].lastIndexOf("0")+1:1/0),f&&e.fractional==null&&(d.fractional=!0),!e.places&&f<p[1].length&&(f+=","+p[1].length),d.places=f);const y=p[0].split(",");return y.length>1&&(d.groupSize=y.pop().length,y.length>1&&(d.groupSize2=y.pop().length)),"("+Nke(d)+")"}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:n,decimal:i,factor:o}}function Fke(e,t){const r=Ake(t),n=new RegExp("^"+r.regexp+"$").exec(e);if(!n)return NaN;let i=n[1];if(!n[1]){if(!n[2])return NaN;i=n[2],r.factor*=-1}return i=i.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(i)*r.factor}function Nke(e){"places"in(e=e||{})||(e.places=1/0),typeof e.decimal!="string"&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=aB(e),r=H1(e.fractional,i=>{let o="";return i&&e.places!==0&&(o="\\"+e.decimal,e.places===1/0?o="(?:"+o+"\\d+)?":o+="\\d{"+e.places+"}"),o},!0);let n=t+r;return r&&(n="(?:(?:"+n+")|(?:"+r+"))"),n+H1(e.exponent,i=>i?"([eE]"+aB({signed:e.eSigned})+")":"")}function aB(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",H1(e.signed,t=>t?"[-+]":"",!0)+H1(e.separator,t=>{if(!t)return"(?:\\d+)";(t=nK(t))===" "?t="\\s":t==="\xA0"&&(t="\\s\\xa0");const r=e.groupSize,n=e.groupSize2;if(n){const i="(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*["+t+"]\\d{"+r+"})";return r-n>0?"(?:"+i+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":i}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"},!0)}const H1=(e,t,r)=>{if(!(e instanceof Array))return t(e);const n=[];for(let i=0;i<e.length;i++)n.push(t(e[i]));return Dke(n.join("|"),r)},Dke=(e,t)=>"("+(t?"?:":"")+e+")";var lB,cB;function Rtt(e){return G_.fromJSON(e.toJSON())}function zke(e){return e.toJSON?e.toJSON():e}function Att(e){return typeof e=="string"||e instanceof String}function Ftt(e){return typeof e=="number"}function uB(e){return e instanceof Date}function Ntt(e,t){return e===t||!(!uB(e)||!uB(t))&&e.getTime()===t.getTime()}function Dtt(e){if(e===void 0)return null;if(typeof e=="number")return e;switch(e.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null}function ztt(e){if(e===null)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new er({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function Vtt(e){if(e===void 0)return null;if(typeof e=="number"||typeof e=="number")return e;switch(e.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null}(function(e){e[e.Standardised=0]="Standardised",e[e.StandardisedNoInterval=1]="StandardisedNoInterval",e[e.SqlServer=2]="SqlServer",e[e.Oracle=3]="Oracle",e[e.Postgres=4]="Postgres",e[e.PGDB=5]="PGDB",e[e.FILEGDB=6]="FILEGDB",e[e.NotEvaluated=7]="NotEvaluated"})(lB||(lB={})),function(e){e[e.InFeatureSet=0]="InFeatureSet",e[e.NotInFeatureSet=1]="NotInFeatureSet",e[e.Unknown=2]="Unknown"}(cB||(cB={}));const jtt=1e3,Btt={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},dB={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},Utt={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function Gtt(e){return e===void 0?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function Htt(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const r=typeof t.cycles=="boolean"&&t.cycles,n=t.cmp&&(i=t.cmp,function(s){return function(a,l){const c={key:a,value:s[a]},d={key:l,value:s[l]};return i(c,d)}});var i;const o=[];return function s(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a===void 0)return;if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);let l,c;if(Array.isArray(a)){for(c="[",l=0;l<a.length;l++)l&&(c+=","),c+=s(a[l])||"null";return c+"]"}if(a===null)return"null";if(o.includes(a)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const d=o.push(a)-1,p=Object.keys(a).sort(n&&n(a));for(c="",l=0;l<p.length;l++){const f=p[l],y=s(a[f]);y&&(c&&(c+=","),c+=JSON.stringify(f)+":"+y)}return o.splice(d,1),"{"+c+"}"}(e)}class Vre{constructor(t){this.value=t}}class jre{constructor(t){this.value=t}}class p4{constructor(t){this.fn=t}}class h4{constructor(t,r){this.paramCount=r,this.fn=t}}const Vke=p4,jke=jre,Bke=Vre,Uke=h4,_s={type:"VOID"},Gke={type:"BREAK"},Hke={type:"CONTINUE"};function q1(e,t,r){return t===""||t==null||t===r||t===r?e:e=e.split(t).join(r)}function f4(e){return e instanceof p4||e instanceof OMe||e instanceof h4}function gE(e){return!!bi(e)||!!io(e)||!!Di(e)||!!no(e)||e===null||e===_s||typeof e=="number"}function qke(e,t){return e===void 0?t:e}function bi(e){return typeof e=="string"||e instanceof String}function no(e){return typeof e=="boolean"}function io(e){return typeof e=="number"}function Wke(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function Ca(e){return e instanceof Array}function Kke(e){return(e==null?void 0:e.arcadeDeclaredClass)==="esri.arcade.Feature"}function Jke(e){return(e&&e.declaredRootClass&&e.declaredRootClass==="esri.arcade.featureset.support.FeatureSet")===!0}function Zke(e){return(e&&e.declaredRootClass&&e.declaredRootClass==="esri.arcade.featureSetCollection")===!0}function pm(e){return e instanceof Ac}function Di(e){return e instanceof Date}function Yke(e,t,r){if(e.length<t||e.length>r)throw new Error("Function called with wrong number of Parameters")}function Qke(e){return e<0?-Math.round(-e):Math.round(e)}function Xke(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(t==="x"?r:3&r|8).toString(16)})}function m4(e,t){return isNaN(e)===!1?t==null||t===""?e.toString():(t=q1(t,"\u2030",""),t=q1(t,"\xA4",""),Oke(e,{pattern:t})):e.toString()}function iM(e,t){const r=wt.fromJSDate(e);return t==null||t===""?r.toISO({suppressMilliseconds:!0}):r.toFormat(Bre(t),{locale:Is(),numberingSystem:"latn"})}function Bre(e){e=e.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let t="";const r=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const n of e.match(r))switch(n){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"Z":t+="ZZ";break;case"ZZ":t+="ZZZ";break;case"S":t+="'S'";break;case"SS":t+="'SS'";break;case"SSS":t+="u";break;case"A":case"a":t+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":t+=n;break;default:n.length>=2&&n.slice(0,1)==="["&&n.slice(-1)==="]"?t+=`'${n.slice(1,-1)}'`:t+=`'${n}'`}return t}function pr(e,t,r){switch(r){case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}return!1}function ePe(e,t,r){if(e===null){if(t===null||t===_s)return pr(null,null,r);if(io(t))return pr(0,t,r);if(bi(t)||no(t))return pr(0,tn(t),r);if(Di(t))return pr(0,t.getTime(),r)}if(e===_s){if(t===null||t===_s)return pr(null,null,r);if(io(t))return pr(0,t,r);if(bi(t)||no(t))return pr(0,tn(t),r);if(Di(t))return pr(0,t.getTime(),r)}else if(io(e)){if(io(t))return pr(e,t,r);if(no(t))return pr(e,tn(t),r);if(t===null||t===_s)return pr(e,0,r);if(bi(t))return pr(e,tn(t),r);if(Di(t))return pr(e,t.getTime(),r)}else if(bi(e)){if(bi(t))return pr(Rp(e),Rp(t),r);if(Di(t))return pr(tn(e),t.getTime(),r);if(io(t))return pr(tn(e),t,r);if(t===null||t===_s)return pr(tn(e),0,r);if(no(t))return pr(tn(e),tn(t),r)}else if(Di(e)){if(Di(t))return pr(e,t,r);if(t===null||t===_s)return pr(e.getTime(),0,r);if(io(t))return pr(e.getTime(),t,r);if(no(t)||bi(t))return pr(e.getTime(),tn(t),r)}else if(no(e)){if(no(t))return pr(e,t,r);if(io(t))return pr(tn(e),tn(t),r);if(Di(t))return pr(tn(e),t.getTime(),r);if(t===null||t===_s)return pr(tn(e),0,r);if(bi(t))return pr(tn(e),tn(t),r)}return!!Ure(e,t)&&(r==="<="||r===">=")}function Ure(e,t){if(e===t||e===null&&t===_s||t===null&&e===_s)return!0;if(Di(e)&&Di(t))return e.getTime()===t.getTime();if(e instanceof n4||e instanceof Mm)return e.equalityTest(t);if(e instanceof at&&t instanceof at){const r=e.cache._arcadeCacheId,n=t.cache._arcadeCacheId;if(r!=null)return r===n}return e!==void 0&&t!==void 0&&e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&(e._arcadeCacheId===t._arcadeCacheId&&e._arcadeCacheId!==void 0&&e._arcadeCacheId!==null||e._underlyingGraphic===t._underlyingGraphic&&e._underlyingGraphic!==void 0&&e._underlyingGraphic!==null)}function Rp(e,t){if(bi(e))return e;if(e===null)return"";if(io(e))return m4(e,t);if(no(e))return e.toString();if(Di(e))return iM(e,t);if(e instanceof Wo)return JSON.stringify(e.toJSON());if(Ca(e)){const r=[];for(let n=0;n<e.length;n++)r[n]=vE(e[n]);return"["+r.join(",")+"]"}if(e instanceof Ac){const r=[];for(let n=0;n<e.length();n++)r[n]=vE(e.get(n));return"["+r.join(",")+"]"}return e!==null&&typeof e=="object"&&e.castToText!==void 0?e.castToText():f4(e)?"object, Function":""}function tPe(e){const t=[];if(Ca(e)===!1)return null;if(e instanceof Ac){for(let r=0;r<e.length();r++)t[r]=tn(e.get(r));return t}for(let r=0;r<e.length;r++)t[r]=tn(e[r]);return t}function o$(e,t){if(bi(e))return e;if(e===null)return"";if(io(e))return m4(e,t);if(no(e))return e.toString();if(Di(e))return iM(e,t);if(e instanceof Wo)return e instanceof er?'{"xmin":'+e.xmin.toString()+',"ymin":'+e.ymin.toString()+","+(e.hasZ?'"zmin":'+e.zmin.toString()+",":"")+(e.hasM?'"mmin":'+e.mmin.toString()+",":"")+'"xmax":'+e.xmax.toString()+',"ymax":'+e.ymax.toString()+","+(e.hasZ?'"zmax":'+e.zmax.toString()+",":"")+(e.hasM?'"mmax":'+e.mmax.toString()+",":"")+'"spatialReference":'+E3(e.spatialReference)+"}":E3(e.toJSON(),(r,n)=>r.key===n.key?0:r.key==="spatialReference"?1:n.key==="spatialReference"||r.key<n.key?-1:r.key>n.key?1:0);if(Ca(e)){const r=[];for(let n=0;n<e.length;n++)r[n]=vE(e[n]);return"["+r.join(",")+"]"}if(e instanceof Ac){const r=[];for(let n=0;n<e.length();n++)r[n]=vE(e.get(n));return"["+r.join(",")+"]"}return e!==null&&typeof e=="object"&&e.castToText!==void 0?e.castToText():f4(e)?"object, Function":""}function vE(e){if(e===null)return"null";if(no(e)||io(e)||bi(e))return JSON.stringify(e);if(e instanceof Wo||e instanceof Ac||e instanceof Array)return o$(e);if(e instanceof Date)return JSON.stringify(iM(e,""));if(e!==null&&typeof e=="object"){if(e.castToText!==void 0)return e.castToText()}else if(e===_s)return"null";return"null"}function tn(e,t){return io(e)?e:e===null||e===""?0:Di(e)?NaN:no(e)?e?1:0:Ca(e)||e===""||e===void 0?NaN:t!==void 0&&bi(e)?(t=q1(t,"\u2030",""),t=q1(t,"\xA4",""),Fke(e,{pattern:t})):e===_s?0:Number(e)}function rPe(e){if(Di(e))return e;if(bi(e)){const t=Gre(e);if(t)return t.toJSDate()}return null}function nPe(e){return Di(e)?wt.fromJSDate(e):bi(e)?Gre(e):null}function Gre(e){const t=/ (\d\d)/;let r=wt.fromISO(e);return r.isValid||t.test(e)&&(e=e.replace(t,"T$1"),r=wt.fromISO(e),r.isValid)?r:null}function iPe(e){return no(e)?e:bi(e)?(e=e.toLowerCase())==="true":!!io(e)&&e!==0&&!isNaN(e)}function oPe(e,t){return te(e)?null:(e.spatialReference!==null&&e.spatialReference!==void 0||(e.spatialReference=t),e)}function sPe(e){if(e===null)return null;if(e instanceof at)return e.x==="NaN"||e.x===null||isNaN(e.x)?null:e;if(e instanceof _a){if(e.rings.length===0)return null;for(const t of e.rings)if(t.length>0)return e;return null}if(e instanceof Ss){if(e.paths.length===0)return null;for(const t of e.paths)if(t.length>0)return e;return null}return e instanceof V0?e.points.length===0?null:e:e instanceof er?e.xmin==="NaN"||e.xmin===null||isNaN(e.xmin)?null:e:null}function Hre(e,t){if(!e||!e.domain)return t;let r=null;if(e.field.type==="string"||e.field.type==="esriFieldTypeString")t=Rp(t);else{if(t==null)return null;if(t==="")return t;t=tn(t)}for(let n=0;n<e.domain.codedValues.length;n++){const i=e.domain.codedValues[n];i.code===t&&(r=i)}return r===null?t:r.name}function qre(e,t){if(!e||!e.domain)return t;let r=null;t=Rp(t);for(let n=0;n<e.domain.codedValues.length;n++){const i=e.domain.codedValues[n];i.name===t&&(r=i)}return r===null?t:r.code}function oM(e,t,r=null,n=null){if(!t||!t.fields)return null;let i,o,s=null;for(let a=0;a<t.fields.length;a++){const l=t.fields[a];l.name.toLowerCase()===e.toString().toLowerCase()&&(s=l)}if(s===null)throw new Error("Field not found");return n===null&&r&&t.typeIdField&&(n=r.hasField(t.typeIdField)?r.field(t.typeIdField):null),n!=null&&t.types.some(function(a){return a.id===n&&(i=a.domains&&a.domains[s.name],i&&i.type==="inherited"&&(i=pB(s.name,t),o=!0),!0)}),o||i||(i=pB(e,t)),{field:s,domain:i}}function pB(e,t){let r;return t.fields.some(function(n){return n.name.toLowerCase()===e.toLowerCase()&&(r=n.domain),!!r}),r}function E3(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const r=typeof t.cycles=="boolean"&&t.cycles,n=t.cmp&&(i=t.cmp,function(s){return function(a,l){const c={key:a,value:s[a]},d={key:l,value:s[l]};return i(c,d)}});var i;const o=[];return function s(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a===void 0)return;if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);let l,c;if(Array.isArray(a)){for(c="[",l=0;l<a.length;l++)l&&(c+=","),c+=s(a[l])||"null";return c+"]"}if(a===null)return"null";if(o.includes(a)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const d=o.push(a)-1,p=Object.keys(a).sort(n&&n(a));for(c="",l=0;l<p.length;l++){const f=p[l],y=s(a[f]);y&&(c&&(c+=","),c+=JSON.stringify(f)+":"+y)}return o.splice(d,1),"{"+c+"}"}(e)}function aPe(e){if(e===null)return null;const t=[];for(const r of e)r&&r.arcadeDeclaredClass&&r.arcadeDeclaredClass==="esri.arcade.Feature"?t.push(r.geometry()):t.push(r);return t}function m0(e,t){if(!(t instanceof at))throw new Error("Invalid Argument");e.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}function lPe(e,t){if(Ca(e)||pm(e)){let r=!1,n=!1,i=[],o=t;if(Ca(e)){for(const s of e)m0(i,s);i.length>0&&(o=e[0].spatialReference,r=e[0].hasZ,n=e[0].hasM)}else if(e instanceof Mm)i=e._elements,i.length>0&&(r=e._hasZ,n=e._hasM,o=e.get(0).spatialReference);else{if(!pm(e))throw new Error("Invalid Argument");for(const s of e.toArray())m0(i,s);i.length>0&&(o=e.get(0).spatialReference,r=e.get(0).hasZ===!0,n=e.get(0).hasM===!0)}return i.length===0?null:(wD(i,n,r)===!1&&(i=i.slice(0).reverse()),new _a({rings:[i],spatialReference:o,hasZ:r,hasM:n}))}return e}function cPe(e,t){if(Ca(e)||pm(e)){let r=!1,n=!1,i=[],o=t;if(Ca(e)){for(const s of e)m0(i,s);i.length>0&&(o=e[0].spatialReference,r=e[0].hasZ===!0,n=e[0].hasM===!0)}else if(e instanceof Mm)i=e._elements,i.length>0&&(r=e._hasZ,n=e._hasM,o=e.get(0).spatialReference);else if(pm(e)){for(const s of e.toArray())m0(i,s);i.length>0&&(o=e.get(0).spatialReference,r=e.get(0).hasZ===!0,n=e.get(0).hasM===!0)}return i.length===0?null:new Ss({paths:[i],spatialReference:o,hasZ:r,hasM:n})}return e}function uPe(e,t){if(Ca(e)||pm(e)){let r=!1,n=!1,i=[],o=t;if(Ca(e)){for(const s of e)m0(i,s);i.length>0&&(o=e[0].spatialReference,r=e[0].hasZ===!0,n=e[0].hasM===!0)}else if(e instanceof Mm)i=e._elements,i.length>0&&(r=e._hasZ,n=e._hasM,o=e.get(0).spatialReference);else if(pm(e)){for(const s of e.toArray())m0(i,s);i.length>0&&(o=e.get(0).spatialReference,r=e.get(0).hasZ===!0,n=e.get(0).hasM===!0)}return i.length===0?null:new V0({points:i,spatialReference:o,hasZ:r,hasM:n})}return e}function dPe(e,t=!1){const r=[];if(e===null)return r;if(Ca(e)===!0){for(let n=0;n<e.length;n++){const i=Rp(e[n]);i===""&&t!==!0||r.push(i)}return r}if(e instanceof Ac){for(let n=0;n<e.length();n++){const i=Rp(e.get(n));i===""&&t!==!0||r.push(i)}return r}if(gE(e)){const n=Rp(e);return n===""&&t!==!0||r.push(n),r}return[]}let zk=0;function pPe(e){return zk++,zk%100==0?(zk=0,new Promise(t=>{setTimeout(()=>{t(e)},0)})):e}function hPe(e,t,r){switch(r){case"&":return e&t;case"|":return e|t;case"^":return e^t;case"<<":return e<<t;case">>":return e>>t;case">>>":return e>>>t}}function W1(e,t=null){return e==null?null:no(e)||io(e)||bi(e)?e:e instanceof Wo?(t==null?void 0:t.keepGeometryType)===!0?e:e.toJSON():e instanceof Ac?e.toArray().map(r=>W1(r,t)):e instanceof Array?e.map(r=>W1(r,t)):e instanceof Date?e:e!==null&&typeof e=="object"&&e.castAsJson!==void 0?e.castAsJson(t):null}async function fPe(e,t,r,n,i){const o=await y4(e,t,r);i[n]=o}async function y4(e,t=null,r=null){if(e instanceof Ac&&(e=e.toArray()),e==null)return null;if(gE(e)||e instanceof Wo||e instanceof Date)return W1(e,r);if(e instanceof Array){const n=[],i=[];for(const o of e)o===null||gE(o)||o instanceof Wo||o instanceof Date?i.push(W1(o,r)):(i.push(null),n.push(fPe(o,t,r,i.length-1,i)));return n.length>0&&await Promise.all(n),i}return e!==null&&typeof e=="object"&&e.castAsJsonAsync!==void 0?e.castAsJsonAsync(t,r):null}function mPe(e,t,r){const n=e.fullSchema();return n===null||!n.fields?null:oM(t,n,e,r)}function yPe(e){const t=e.fullSchema();return t===null?null:t.fields&&t.typeIdField?{subtypeField:t.typeIdField,subtypes:t.types?t.types.map(r=>({name:r.name,code:r.id})):[]}:null}function gPe(e,t,r,n){const i=e.fullSchema();if(i===null||!i.fields)return null;const o=oM(t,i,e,n);if(r===void 0)try{r=e.field(t)}catch{return null}return Hre(o,r)}function vPe(e,t,r,n){const i=e.fullSchema();if(i===null||!i.fields)return null;if(r===void 0){try{r=e.field(t)}catch{return null}return r}return qre(oM(t,i,e,n),r)}function bPe(e){const t=e.fullSchema();if(t===null||!t.fields)return null;const r=[];for(const n of t.fields)r.push(zke(n));return{objectIdField:t.objectIdField,globalIdField:t.globalIdField,geometryType:dB[t.geometryType]===void 0?"":dB[t.geometryType],fields:r}}const qtt=Object.freeze(Object.defineProperty({__proto__:null,ReturnResultE:Vre,ImplicitResultE:jre,NativeFunctionE:p4,SizzleFunctionE:h4,NativeFunction:Vke,ImplicitResult:jke,ReturnResult:Bke,SizzleFunction:Uke,voidOperation:_s,breakResult:Gke,continueResult:Hke,multiReplace:q1,isFunctionParameter:f4,isSimpleType:gE,defaultUndefined:qke,isString:bi,isBoolean:no,isNumber:io,isInteger:Wke,isArray:Ca,isFeature:Kke,isFeatureSet:Jke,isFeatureSetCollection:Zke,isImmutableArray:pm,isDate:Di,pcCheck:Yke,absRound:Qke,generateUUID:Xke,formatNumber:m4,formatDate:iM,standardiseDateFormat:Bre,greaterThanLessThan:ePe,equalityTest:Ure,toString:Rp,toNumberArray:tPe,toStringExplicit:o$,toNumber:tn,toDate:rPe,toDateTime:nPe,toBoolean:iPe,fixSpatialReference:oPe,fixNullGeometry:sPe,getDomainValue:Hre,getDomainCode:qre,getDomain:oM,stableStringify:E3,autoCastFeatureToGeometry:aPe,autoCastArrayOfPointsToPolygon:lPe,autoCastArrayOfPointsToPolyline:cPe,autoCastArrayOfPointsToMultiPoint:uPe,toStringArray:dPe,tick:pPe,binaryOperator:hPe,castAsJson:W1,castAsJsonAsync:y4,featureFullDomain:mPe,featureSubtypes:yPe,featureDomainValueLookup:gPe,featureDomainCodeLookup:vPe,featureSchema:bPe},Symbol.toStringTag,{value:"Module"}));class g4{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(JO),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new g4,n=this._originStores[ht.DEFAULTS];n&&n.forEach((i,o)=>{r.set(o,X(i),ht.DEFAULTS)});for(let i=ht.SERVICE;i<JO;i++){const o=this._originStores[i];o&&o.forEach((s,a)=>{t&&t.has(a)||r.set(a,X(s),i)})}return r}get(t,r){const n=r===void 0?this._values:this._originStores[r];return n?n.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,n=ht.USER){let i=this._originStores[n];if(i||(i=new Map,this._originStores[n]=i),i.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const o=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,n),o!==r}return!1}delete(t,r=ht.USER){const n=this._originStores[r];if(!n)return;const i=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let o=r-1;o>=0;o--){const s=this._originStores[o];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,o);break}}}return i}has(t,r){const n=r===void 0?this._values:this._originStores[r];return!!n&&n.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const n=this._originStores[r],i=n&&n.get(t),o=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),o!==i}originOf(t){return this._propertyOriginMap.get(t)||ht.DEFAULTS}forEach(t){this._values.forEach(t)}}const Wre=e=>{let t=class extends e{constructor(...r){super(...r);const n=Ui(this),i=n.store,o=new g4;n.store=o,jK(n,i,o)}read(r,n){UK(this,r,n)}getAtOrigin(r,n){const i=Vk(this),o=hp(n);if(typeof r=="string")return i.get(r,o);const s={};return r.forEach(a=>{s[a]=i.get(a,o)}),s}originOf(r){return a2(this.originIdOf(r))}originIdOf(r){return Vk(this).originOf(r)}revert(r,n){const i=Vk(this),o=hp(n),s=Ui(this);let a;a=typeof r=="string"?r==="*"?i.keys(o):[r]:r,a.forEach(l=>{s.invalidate(l),i.revert(l,o),s.commit(l)})}};return t=u([B("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function Vk(e){return Ui(e).store}let hB=class extends Wre(Ve){};hB=u([B("esri.core.ReadOnlyMultiOriginJSONSupport")],hB);const wPe=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,n="user"){return jk(this).delete(r,hp(n))}write(r={},n){return HK(this,r=r||{},n),r}setAtOrigin(r,n,i){Ui(this).setAtOrigin(r,n,hp(i))}removeOrigin(r){const n=jk(this),i=hp(r),o=n.keys(i);for(const s of o)n.originOf(s)===i&&n.set(s,n.get(s,i),ht.USER)}updateOrigin(r,n){const i=jk(this),o=hp(n),s=this.get(r);for(let a=o+1;a<JO;++a)i.delete(r,a);i.set(r,s,o)}toJSON(r){return this.write({},r)}};return t=u([B("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function jk(e){return Ui(e).store}const v4=e=>{let t=class extends wPe(Wre(e)){constructor(...r){super(...r)}};return t=u([B("esri.core.MultiOriginJSONSupport")],t),t};let fB=class extends v4(Ve){};fB=u([B("esri.core.MultiOriginJSONSupport")],fB);var I3;let Uh=I3=class extends ve{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new I3({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([h({type:String,json:{write:!0}})],Uh.prototype,"expression",void 0),u([h({type:String,json:{write:!0}})],Uh.prototype,"name",void 0),u([h({type:["boolean","date","number","string"],json:{write:!0}})],Uh.prototype,"returnType",void 0),u([h({type:String,json:{write:!0}})],Uh.prototype,"title",void 0),Uh=I3=u([B("esri.form.ExpressionInfo")],Uh);const _Pe=Uh;let Gh=class extends ve{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};u([h({type:String,json:{write:!0}})],Gh.prototype,"description",void 0),u([h({type:String,json:{write:!0}})],Gh.prototype,"label",void 0),u([h()],Gh.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],Gh.prototype,"visibilityExpression",void 0),Gh=u([B("esri.form.elements.Element")],Gh);const y0=Gh;var M3;let s$=M3=class extends ve{constructor(e){super(e),this.type=null}clone(){return new M3({type:this.type})}};u([h({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],s$.prototype,"type",void 0),s$=M3=u([B("esri.form.elements.inputs.AttachmentInput")],s$);const xPe=s$;var T3;let Hh=T3=class extends y0{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new T3({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};u([h({type:String,json:{write:!0}})],Hh.prototype,"attachmentKeyword",void 0),u([h({type:Boolean,json:{write:!0}})],Hh.prototype,"editable",void 0),u([h({type:xPe,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Hh.prototype,"input",void 0),u([h({type:["attachment"],json:{read:!1,write:!0}})],Hh.prototype,"type",void 0),Hh=T3=u([B("esri.form.elements.AttachmentElement")],Hh);const mB=Hh;let a$=class extends ve{constructor(e){super(e),this.type=null}};u([h()],a$.prototype,"type",void 0),a$=u([B("esri.form.elements.inputs.Input")],a$);const ov=a$;let Jb=class extends ov{constructor(e){super(e),this.maxLength=null,this.minLength=0}};u([h({type:Number,json:{write:!0}})],Jb.prototype,"maxLength",void 0),u([h({type:Number,json:{write:!0}})],Jb.prototype,"minLength",void 0),Jb=u([B("esri.form.elements.inputs.TextInput")],Jb);const b4=Jb;var k3;let l$=k3=class extends b4{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new k3({maxLength:this.maxLength,minLength:this.minLength})}};u([h({type:["barcode-scanner"],json:{read:!1,write:!0}})],l$.prototype,"type",void 0),l$=k3=u([B("esri.form.elements.inputs.BarcodeScannerInput")],l$);const SPe=l$;var P3;let ky=P3=class extends ov{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new P3({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};u([h({type:String,json:{write:!0}})],ky.prototype,"noValueOptionLabel",void 0),u([h({type:Boolean,json:{write:!0}})],ky.prototype,"showNoValueOption",void 0),u([h({type:["combo-box"],json:{read:!1,write:!0}})],ky.prototype,"type",void 0),ky=P3=u([B("esri.form.elements.inputs.ComboBoxInput")],ky);const CPe=ky;var O3;function yB(e){return e!=null?new Date(e):null}function gB(e){return e?e.getTime():null}let Qa=O3=class extends ov{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return yB(t.max)}writeMax(e,t){t.max=gB(e)}readMin(e,t){return yB(t.min)}writeMin(e,t){t.min=gB(e)}clone(){return new O3({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};u([h({type:Boolean,json:{write:!0}})],Qa.prototype,"includeTime",void 0),u([h({type:Date,json:{type:Number,write:!0}})],Qa.prototype,"max",void 0),u([Pe("max")],Qa.prototype,"readMax",null),u([Ae("max")],Qa.prototype,"writeMax",null),u([h({type:Date,json:{type:Number,write:!0}})],Qa.prototype,"min",void 0),u([Pe("min")],Qa.prototype,"readMin",null),u([Ae("min")],Qa.prototype,"writeMin",null),u([h({type:["datetime-picker"],json:{read:!1,write:!0}})],Qa.prototype,"type",void 0),Qa=O3=u([B("esri.form.elements.inputs.DateTimePickerInput")],Qa);const $Pe=Qa;var L3;let Py=L3=class extends ov{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new L3({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};u([h({type:String,json:{write:!0}})],Py.prototype,"noValueOptionLabel",void 0),u([h({type:Boolean,json:{write:!0}})],Py.prototype,"showNoValueOption",void 0),u([h({type:["radio-buttons"],json:{read:!1,write:!0}})],Py.prototype,"type",void 0),Py=L3=u([B("esri.form.elements.inputs.RadioButtonsInput")],Py);const EPe=Py;var R3;let Oy=R3=class extends ov{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new R3({offValue:this.offValue,onValue:this.onValue})}};u([h({type:[String,Number],json:{write:!0}})],Oy.prototype,"offValue",void 0),u([h({type:[String,Number],json:{write:!0}})],Oy.prototype,"onValue",void 0),u([h({type:["switch"],json:{read:!1,write:!0}})],Oy.prototype,"type",void 0),Oy=R3=u([B("esri.form.elements.inputs.SwitchInput")],Oy);const IPe=Oy;var A3;let c$=A3=class extends b4{constructor(e){super(e),this.type="text-area"}clone(){return new A3({maxLength:this.maxLength,minLength:this.minLength})}};u([h({type:["text-area"],json:{read:!1,write:!0}})],c$.prototype,"type",void 0),c$=A3=u([B("esri.form.elements.inputs.TextAreaInput")],c$);const MPe=c$;var F3;let u$=F3=class extends b4{constructor(e){super(e),this.type="text-box"}clone(){return new F3({maxLength:this.maxLength,minLength:this.minLength})}};u([h({type:["text-box"],json:{read:!1,write:!0}})],u$.prototype,"type",void 0),u$=F3=u([B("esri.form.elements.inputs.TextBoxInput")],u$);const TPe=u$,kPe={base:ov,key:"type",typeMap:{"barcode-scanner":SPe,"combo-box":CPe,"datetime-picker":$Pe,"radio-buttons":EPe,switch:IPe,"text-area":MPe,"text-box":TPe}};var N3;let Zs=N3=class extends y0{constructor(e){super(e),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new N3({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};u([h({types:dte,json:{read:{reader:Y5},write:!0}})],Zs.prototype,"domain",void 0),u([h({type:Boolean,json:{write:!0}})],Zs.prototype,"editable",void 0),u([h({type:String,json:{write:!0}})],Zs.prototype,"editableExpression",void 0),u([h({type:String,json:{write:!0}})],Zs.prototype,"fieldName",void 0),u([h({type:String,json:{write:!0}})],Zs.prototype,"hint",void 0),u([h({types:kPe,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Zs.prototype,"input",void 0),u([h({type:String,json:{write:!0}})],Zs.prototype,"requiredExpression",void 0),u([h({type:String,json:{read:!1,write:!0}})],Zs.prototype,"type",void 0),u([h({type:String,json:{write:!0}})],Zs.prototype,"valueExpression",void 0),Zs=N3=u([B("esri.form.elements.FieldElement")],Zs);const vB=Zs;var D3;let ou=D3=class extends y0{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new D3({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:X(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};u([h({type:Number,json:{write:!0}})],ou.prototype,"displayCount",void 0),u([h({type:["list"],json:{write:!0}})],ou.prototype,"displayType",void 0),u([h({type:Boolean,json:{write:!0}})],ou.prototype,"editable",void 0),u([h({type:[BQ],json:{write:!0}})],ou.prototype,"orderByFields",void 0),u([h({type:Number,json:{write:!0}})],ou.prototype,"relationshipId",void 0),u([h({type:["relationship"],json:{read:!1,write:!0}})],ou.prototype,"type",void 0),ou=D3=u([B("esri.form.elements.RelationshipElement")],ou);const bB=ou;function Kre(e){return{typesWithGroup:{base:y0,key:"type",typeMap:{attachment:mB,field:vB,group:e,relationship:bB}},typesWithoutGroup:{base:y0,key:"type",typeMap:{attachment:mB,field:vB,relationship:bB}}}}function Jre(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>n[i.type].fromJSON(i))}function Zre(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>i.toJSON())}function Yre(e,t,r=!0){return e?e.map(n=>Cc(r?t.typesWithGroup:t.typesWithoutGroup,n)):null}var z3;let rc=z3=class extends y0{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return Yre(e,Bk,!1)}readElements(e,t){return Jre(t.formElements,Bk,!1)}writeElements(e,t){t.formElements=Zre(e,Bk,!1)}clone(){return new z3({description:this.description,elements:X(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};u([h({json:{write:!0}})],rc.prototype,"elements",void 0),u([zt("elements")],rc.prototype,"castElements",null),u([Pe("elements",["formElements"])],rc.prototype,"readElements",null),u([Ae("elements")],rc.prototype,"writeElements",null),u([h({type:["collapsed","expanded"],json:{write:!0}})],rc.prototype,"initialState",void 0),u([h({type:String,json:{read:!1,write:!0}})],rc.prototype,"type",void 0),rc=z3=u([B("esri.form.elements.GroupElement")],rc);const Bk=Kre(rc),PPe=rc;var V3;const Uk=Kre(PPe);let Jl=V3=class extends ve{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(e){return Yre(e,Uk)}readElements(e,t){return Jre(t.formElements,Uk)}writeElements(e,t){t.formElements=Zre(e,Uk)}clone(){return new V3({description:this.description,expressionInfos:X(this.expressionInfos),elements:X(this.elements),title:this.title})}};u([h({type:String,json:{write:!0}})],Jl.prototype,"description",void 0),u([h({json:{write:!0}})],Jl.prototype,"elements",void 0),u([zt("elements")],Jl.prototype,"castElements",null),u([Pe("elements",["formElements"])],Jl.prototype,"readElements",null),u([Ae("elements")],Jl.prototype,"writeElements",null),u([h({type:[_Pe],json:{write:!0}})],Jl.prototype,"expressionInfos",void 0),u([h({type:String,json:{write:!0}})],Jl.prototype,"title",void 0),Jl=V3=u([B("esri.form.FormTemplate")],Jl);const OPe=Jl;var Zb;const bE=Ii()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),Qre=bE.jsonValues.slice();VN(Qre,"orthometric");const Bw=Ii()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Xa=Zb=class extends ve{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return bE.write(e,t,r)}readHeightModel(e,t,r){return bE.read(e)||(r&&r.messages&&r.messages.push(LPe(e,{context:r})),null)}readHeightUnit(e,t,r){return Bw.read(e)||(r&&r.messages&&r.messages.push(wB(e,{context:r})),null)}readHeightUnitService(e,t,r){return cQ(e)||Bw.read(e)||(r&&r.messages&&r.messages.push(wB(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Zb({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=K1e(t);return new Zb({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Zb;return t.read(e,{origin:"web-scene"}),t}};function wB(e,t){return new ho("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function LPe(e,t){return new ho("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}u([h({type:bE.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Qre,default:"ellipsoidal"}}}})],Xa.prototype,"heightModel",void 0),u([Ae("web-scene","heightModel")],Xa.prototype,"writeHeightModel",null),u([Pe(["web-scene","service"],"heightModel")],Xa.prototype,"readHeightModel",null),u([h({type:Bw.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Bw.jsonValues,write:Bw.write}}}})],Xa.prototype,"heightUnit",void 0),u([Pe("web-scene","heightUnit")],Xa.prototype,"readHeightUnit",null),u([Pe("service","heightUnit")],Xa.prototype,"readHeightUnitService",null),u([h({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Xa.prototype,"vertCRS",void 0),u([Pe("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Xa.prototype,"readVertCRS",null),Xa=Zb=u([B("esri.geometry.HeightModelInfo")],Xa);const sM=Xa;function _B(e,t,r){if(e.hasM==null||e.hasZ)for(const n of t)for(const i of n)i.length>2&&(i[2]*=r)}function RPe(e,t,r){if(!e&&!t||!r)return;const n=c0(r);xB(e,r,n),xB(t,r,n)}function xB(e,t,r){if(e)for(const n of e)APe(n.geometry,t,r)}function APe(e,t,r){if(te(e)||!e.spatialReference||Ci(e.spatialReference,t))return;const n=c0(e.spatialReference)/r;if(n!==1){if("x"in e)e.z!=null&&(e.z*=n);else if("rings"in e)_B(e,e.rings,n);else if("paths"in e)_B(e,e.paths,n);else if("points"in e&&(e.hasM==null||e.hasZ))for(const i of e.points)i.length>2&&(i[2]*=n)}}let FPe=0;const Gk=Ce.getLogger("esri.layers.graphics.sources.MemorySource");let yu=class extends Os.LoadableMixin(E_(Pc(We))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=G(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}get workerGeometryType(){var t;const e=(t=this.layer)==null?void 0:t.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);l3(e,this.layer.spatialReference,r);const n=H_.fromJSON(r);if(!this._requiresClientGraphicMapping())return n;const i=this.layer.objectIdField;for(const o of n.features){const s=o.attributes[i],a=this._idToClientGraphic.get(s);a&&(o.geometry=a.geometry)}return n.geometryType=this.layer.geometryType,n}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return l3(e,this.layer.spatialReference,r),r}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(r=>({count:r.count,extent:er.fromJSON(r.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}async _applyEdits(e){if(!this._connection)throw new Z("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let r=null;const n=[],i=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const o=c=>"objectId"in c&&c.objectId!=null?c.objectId:"attributes"in c&&c.attributes[t]!=null?c.attributes[t]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const c of e.deleteFeatures){const d=o(c);d!=null&&n.push(d)}const s=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures){for(const c of e.updateFeatures)if(i.push(this._serializeFeature(c)),s){const d=o(c);d!=null&&s.set(d,c)}}RPe(r?r.features:null,i,this.layer.spatialReference);const{fullExtent:a,featureEditResults:l}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:i,deletes:n});return this.fullExtent=a,r&&r.finish(l.uidToObjectId),this._updateClientGraphicIds(s,l),this._createEditsResult(l)}async _prepareClientMapping(e,t){if(this.layerOrSourceGeometryType!=="mesh"||te(e))return;const r=[];for(const{geometry:n}of e)!G(n)||n.type!=="mesh"||n.hasExtent||n.loaded||r.push(n.load({signal:t}));r.length&&await Promise.all(r)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const r of t.updateResults){if(!r.success)continue;const n=e.get(r.objectId);n!=null&&this._addIdToClientGraphic(n)}for(const r of t.deleteResults)r.success&&this._idToClientGraphic.delete(r.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new Z("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,r=new Array(e.length);let n=null;for(let o=0;o<e.length;o++){const s=e[o],a=this._serializeFeature(s);!n&&G(s.geometry)&&(n=s.geometry.type),r[o]=a,t.set(`${a.uid}`,s)}const i=this;return{features:r,inferredGeometryType:n,finish(o){const s=i.sourceJSON.objectIdField;for(const a in o){const l=o[a],c=t.get(a);c&&(c.attributes||(c.attributes={}),l===-1?delete c.attributes[s]:c.attributes[s]=l,i._addIdToClientGraphic(c))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,r=e.attributes&&e.attributes[t];r!=null&&this._idToClientGraphic.set(r,e)}get layerOrSourceGeometryType(){var e,t,r;return(r=(e=this.layer)==null?void 0:e.geometryType)!=null?r:(t=this.sourceJSON)==null?void 0:t.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e),n=(FPe++).toString();return r?{uid:n,geometry:r.toJSON(),attributes:t}:{uid:n,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return te(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?_a.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await Ree("MemorySourceWorker",{strategy:oe("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:r,objectIdField:n,hasM:i,hasZ:o,timeInfo:s}=this.layer,a=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const l=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",f=>{Gk.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),f.preventDefault()}));const c={features:l.features,fields:t&&t.map(f=>f.toJSON()),geometryType:ij.toJSON(this.workerGeometryType),hasM:this.layerOrSourceGeometryType!=="mesh"&&i,hasZ:this.layerOrSourceGeometryType==="mesh"||o,objectIdField:n,spatialReference:a?null:r&&r.toJSON(),timeInfo:s?s.toJSON():null},d=await this._connection.invoke("load",c,{signal:e});for(const f of d.warnings)Gk.warn(f.message,{layer:this.layer,warning:f});d.featureErrors.length&&Gk.warn(`Encountered ${d.featureErrors.length} validation errors while loading features`,d.featureErrors);const p=d.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(l.inferredGeometryType)&&(p.geometryType=ij.toJSON(l.inferredGeometryType)),this.sourceJSON=p,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),l.finish(d.assignedObjectIds)}};u([QN({Type:Jo,ensureType:$n(Jo)})],yu.prototype,"itemType",void 0),u([h()],yu.prototype,"type",void 0),u([h({constructOnly:!0})],yu.prototype,"layer",void 0),u([h({readOnly:!0})],yu.prototype,"workerGeometryType",null),u([h()],yu.prototype,"sourceJSON",void 0),yu=u([B("esri.layers.graphics.sources.MemorySource")],yu);function NPe(e){return"portalItem"in e}const DPe=e=>{let t=class extends e{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):NPe(this)?(r=this.portalItem)==null?void 0:r.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return u([h({type:String})],t.prototype,"apiKey",null),t=u([B("esri.layers.mixins.APIKeyMixin")],t),t},Xre={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},ene=Object.values(Xre),tne=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${ene.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),zPe=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${ene.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),VPe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function Wtt(e){return!!tne.test(e)}function g0(e){if(te(e))return null;const t=vn(e),r=t.path.match(tne)||t.path.match(zPe);if(!r)return null;const[,n,i,o,s]=r,a=i.indexOf("/");return{title:w4(a!==-1?i.slice(a+1):i),serverType:Xre[o.toLowerCase()],sublayer:s!=null&&s!==""?parseInt(s,10):null,url:{path:n}}}function jPe(e){const t=vn(e).path.match(VPe);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function w4(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function BPe(e,t){const r=[];if(e){const n=g0(e);G(n)&&n.title&&r.push(n.title)}if(t){const n=w4(t);r.push(n)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function rne(e){if(!e)return!1;const t=".arcgis.com/",r="//services",n="//tiles",i="//features",o=(e=e.toLowerCase()).includes(t),s=e.includes(r)||e.includes(n)||e.includes(i);return o&&s}function UPe(e,t){return e&&rJ(nJ(e,t))}function GPe(e){let{url:t}=e;if(!t)return{url:t};t=nJ(t,e.logger);const r=vn(t),n=g0(r.path);let i;if(G(n))n.sublayer!=null&&e.layer.layerId==null&&(i=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const o=jPe(r.path);G(o)&&(t=o.serviceUrl,i=o.sublayerId)}return{url:rJ(t),layerId:i}}function HPe(e,t,r,n,i){dm(t,n,"url",i),n.url&&e.layerId!=null&&(n.url=nm(n.url,r,e.layerId.toString()))}function Ktt(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return r&&(n||i||o)}const qPe=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=g0(this.url);if(G(r)&&r.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",UPe(r,Ce.getLogger(this.declaredClass)))}};return u([h()],t.prototype,"title",null),u([h({type:String})],t.prototype,"url",null),t=u([B("esri.layers.mixins.ArcGISService")],t),t},SB={read:{reader:o5},write:{allowNull:!0,writer:s5}},_4=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return u([h({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),u([h({json:{read:!1,write:!1,origins:{"web-map":SB,"portal-item":SB}}})],t.prototype,"effect",void 0),t=u([B("esri.layers.mixins.BlendLayer")],t),t},nne=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return u([h({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=u([B("esri.layers.mixins.CustomParametersMixin")],t),t};var j3;const Hk=new Et({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),qk=new Et({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Zl=j3=class extends ve{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:n,timeExtent:i,objectIds:o,units:s,distance:a}=this;return new so({geometry:X(r),objectIds:X(o),spatialRelationship:n,timeExtent:X(i),where:t,units:s,distance:a,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:n,objectIds:i,units:o,distance:s}=this;return new j3({geometry:X(t),objectIds:X(i),spatialRelationship:r,timeExtent:X(n),where:e,units:o,distance:s})}};u([h({type:String,json:{write:!0}})],Zl.prototype,"where",void 0),u([h({types:Sm,json:{write:!0}})],Zl.prototype,"geometry",void 0),u([h({type:Hk.apiValues,json:{name:"spatialRel",read:{reader:Hk.read},write:{allowNull:!1,writer:Hk.write,overridePolicy(){return{enabled:G(this.geometry)}}}}})],Zl.prototype,"spatialRelationship",void 0),u([h({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Zl.prototype,"distance",void 0),u([h({type:[Number],json:{write:!0}})],Zl.prototype,"objectIds",void 0),u([h({type:qk.apiValues,json:{read:qk.read,write:{writer:qk.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Zl.prototype,"units",void 0),u([h({type:Rc,json:{write:!0}})],Zl.prototype,"timeExtent",void 0),Zl=j3=u([B("esri.layers.support.FeatureFilter")],Zl);const WPe=Zl;var B3;const CB={read:{reader:o5},write:{writer:s5,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},$B={read:{reader:o5},write:{writer:s5,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},EB={name:"showExcludedLabels",default:!0};let qh=B3=class extends ve{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var n,i;const r=super.write(e,t);if(t!=null&&t.origin){if(r.filter){const o=Object.keys(r.filter);if(o.length>1||o[0]!=="where")return(n=t.messages)==null||n.push(new Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return(i=t.messages)==null||i.push(new Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new B3({filter:G(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};u([h({type:WPe,json:{write:{allowNull:!0,writer(e,t,r,n){const i=e==null?void 0:e.write({},n);i&&Object.keys(i).length!==0?qo(r,i,t):qo(r,null,t)}}}})],qh.prototype,"filter",void 0),u([h({json:{write:!0,origins:{"web-map":CB,"portal-item":CB}}})],qh.prototype,"includedEffect",void 0),u([h({json:{write:!0,origins:{"web-map":$B,"portal-item":$B}}})],qh.prototype,"excludedEffect",void 0),u([h({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":EB,"portal-item":EB}}})],qh.prototype,"excludedLabelsVisible",void 0),qh=B3=u([B("esri.layers.support.FeatureEffect")],qh);const KPe=qh,IB={write:{allowNull:!0}},ine=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return u([h({type:KPe,json:{origins:{"web-map":IB,"portal-item":IB}}})],t.prototype,"featureEffect",void 0),t=u([B("esri.layers.mixins.FeatureEffectLayer")],t),t},JPe={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}},one=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(r,n,i,o){(o&&o.layerContainerType==="ground"||r&&Lpe(this,i,{},o))&&(n[i]=r)}writeOperationalLayerType(r,n,i,o){!r||o&&o.layerContainerType==="tables"||(n.layerType=r)}writeTitle(r,n){n.title=r||"Layer"}read(r,n){n&&(n.layer=this),Tpe(this,r,i=>super.read(r,i),n)}write(r,n){var s,a;if(n!=null&&n.origin){const l=`${n.origin}/${n.layerContainerType||"operational-layers"}`,c=JPe[l];let d=c&&c[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&l==="web-scene/operational-layers"&&(d=!1),!d)return(s=n.messages)==null||s.push(new Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${l}'`,{layer:this})),null}const i=super.write(r,{...n,layer:this}),o=!!n&&!!n.messages&&!!n.messages.filter(l=>l instanceof Z&&l.name==="web-document-write:property-required").length;return yI(i==null?void 0:i.url)?((a=n==null?void 0:n.messages)==null||a.push(new Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:i}beforeSave(){}};return u([h({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),u([h(xQ)],t.prototype,"listMode",void 0),u([Ae("listMode")],t.prototype,"writeListMode",null),u([h({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),u([Ae("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),u([h(Ow)],t.prototype,"opacity",void 0),u([h({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),u([Ae([void 0,"web-scene"],"title")],t.prototype,"writeTitle",null),u([h({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=u([B("esri.layers.mixins.OperationalLayer")],t),t};var U3;const Wk=new Et({asc:"ascending",desc:"descending"});let Ly=U3=class extends ve{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new U3({field:this.field,valueExpression:this.valueExpression,order:this.order})}};u([h({type:String,json:{write:!0}})],Ly.prototype,"field",void 0),u([h({type:String,json:{write:!0}})],Ly.prototype,"valueExpression",void 0),u([h({type:Wk.apiValues,json:{read:Wk.read,write:Wk.write}})],Ly.prototype,"order",void 0),Ly=U3=u([B("esri.layers.support.OrderByInfo")],Ly);const sne=Ly;function ZPe(e,t,r){if(!e)return null;const n=e.find(o=>!!o.field);if(!n)return null;const i=new sne;return i.read(n,r),[i]}function YPe(e,t,r,n){const i=e.find(o=>!!o.field);i&&qo(r,[i.toJSON()],t)}const ane=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return u([h({type:[sne],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:ZPe},write:{target:"layerDefinition.orderBy",writer:YPe}}})],t.prototype,"orderBy",void 0),t=u([B("esri.layers.mixins.OrderedLayer")],t),t},QPe=Ce.getLogger("esri.layers.mixins.PortalLayer"),XPe=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var r;(r=this.portalItem)==null||r.destroy(),this.portalItem=null}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,n,i){if(n.itemId)return new C2({id:n.itemId,portal:i&&i.portal})}writePortalItem(r,n){r&&r.id&&(n.itemId=r.id)}async loadFromPortal(r,n){if(this.portalItem&&this.portalItem.id)try{const i=await ae(()=>import("./layersLoader.00e5e57c.js").then(o=>o.l),["layersLoader.00e5e57c.js","lazyLayerLoader.d04227a2.js","jsonContext.69c696c6.js"],import.meta.url);return Ar(n),await i.load({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData},n)}catch(i){throw Gi(i)||QPe.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${i}`),i}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(n=>(S_(n),!0)))}async _fetchUserHasEditingPrivileges(r){const n=this.url?Br==null?void 0:Br.findCredential(this.url):null;if(!n)return!0;const i=CS.credential===n?CS.user:await this._fetchEditingUser(r);return CS.credential=n,CS.user=i,te(i)||i.privileges==null||i.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var d,p;const n=(p=(d=this.portalItem)==null?void 0:d.portal)==null?void 0:p.user;if(n)return n;const i=Br.findServerInfo(this.url);if(!(i!=null&&i.owningSystemUrl))return null;const o=`${i.owningSystemUrl}/sharing/rest`,s=di.getDefault();if(s&&s.loaded&&ha(s.restUrl)===ha(o))return s.user;const a=`${o}/community/self`,l=G(r)?r.signal:null,c=await fI(_r(a,{authMode:"no-prompt",query:{f:"json"},signal:l}));return c.ok?hD.fromJSON(c.value.data):null}read(r,n){n&&(n.layer=this),super.read(r,n)}write(r,n){const i=n&&n.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||di.getDefault());return i&&o&&!QK(o.restUrl,i.restUrl)?(n.messages&&n.messages.push(new Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...n,layer:this})}};return u([h({type:C2})],t.prototype,"portalItem",null),u([Pe("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),u([Ae("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),u([h({clonable:!1})],t.prototype,"resourceReferences",void 0),u([h({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=u([B("esri.layers.mixins.PortalLayer")],t),t},CS={credential:null,user:null},K1=new We,Uw=new WeakMap;function eOe(e){lne(e)&&K1.push(e)}function tOe(e){lne(e)&&K1.includes(e)&&K1.remove(e)}function lne(e){return e&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function cne(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:cne(t,e%t):0}let Kk=0,$S=0;function rOe(){var t;const e=Date.now();for(const r of K1)r.refreshInterval&&e-((t=Uw.get(r))!=null?t:0)+5>=6e4*r.refreshInterval&&(Uw.set(r,e),r.refresh(e))}bK(()=>{const e=Date.now();let t=0;for(const r of K1)t=cne(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?Uw.get(r)||Uw.set(r,e):Uw.delete(r);if(t!==$S){if($S=t,clearInterval(Kk),$S===0)return void(Kk=0);Kk=setInterval(rOe,$S)}});const une=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=uI(()=>this.hasDataChanged()),this.when().then(()=>{eOe(this)},()=>{})}destroy(){tOe(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){QO(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:n})},n=>{Ce.getLogger(this.declaredClass).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}};return u([h({type:Number,cast:r=>r>=.1?r:r<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),u([h({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),u([h()],t.prototype,"refreshParameters",null),t=u([B("esri.layers.mixins.RefreshableLayer")],t),t},x4=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&nOe(r,n.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}};return u([h({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),u([h({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),u([h({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=u([B("esri.layers.mixins.ScaleRangeLayer")],t),t};function nOe(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const kf=Ii()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});var G3;let Yb=G3=class extends ve{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return A1e(this.value,this.unit,"milliseconds")}clone(){return new G3({value:this.value,unit:this.unit})}};u([h({type:Number,json:{write:!0},nonNullable:!0})],Yb.prototype,"value",void 0),u([h({type:kf.apiValues,json:{type:kf.jsonValues,read:kf.read,write:kf.write},nonNullable:!0})],Yb.prototype,"unit",void 0),Yb=G3=u([B("esri.TimeInterval")],Yb);const J1=Yb;var H3;let Ry=H3=class extends ve{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,t){return t.respectsDaylightSaving!==void 0?t.respectsDaylightSaving:t.respectDaylightSaving!==void 0&&t.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:t}=this;return new H3({respectsDaylightSaving:e,timezone:t})}};u([h({type:Boolean,json:{write:!0}})],Ry.prototype,"respectsDaylightSaving",void 0),u([Pe("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],Ry.prototype,"readRespectsDaylightSaving",null),u([h({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],Ry.prototype,"timezone",void 0),Ry=H3=u([B("esri.layers.support.TimeReference")],Ry);const iOe=Ry;var q3;let Ri=q3=class extends ve{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||t.timeExtent.length!==2)return null;const r=new Date(t.timeExtent[0]),n=new Date(t.timeExtent[1]);return new Rc({start:r,end:n})}writeFullTimeExtent(e,t){e&&G(e.start)&&G(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new J1({value:t.timeInterval,unit:kf.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new J1({value:t.defaultTimeInterval,unit:kf.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:t,hasLiveData:r,interval:n,startField:i,timeReference:o,fullTimeExtent:s,trackIdField:a,useTime:l}=this;return new q3({cumulative:e,endField:t,hasLiveData:r,interval:n,startField:i,timeReference:X(o),fullTimeExtent:X(s),trackIdField:a,useTime:l})}};u([h({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],Ri.prototype,"cumulative",void 0),u([h({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],Ri.prototype,"endField",void 0),u([h({type:Rc,json:{write:{enabled:!0,allowNull:!0}}})],Ri.prototype,"fullTimeExtent",void 0),u([Pe("fullTimeExtent",["timeExtent"])],Ri.prototype,"readFullTimeExtent",null),u([Ae("fullTimeExtent")],Ri.prototype,"writeFullTimeExtent",null),u([h({type:Boolean,json:{write:!0}})],Ri.prototype,"hasLiveData",void 0),u([h({type:J1,json:{write:{enabled:!0,allowNull:!0}}})],Ri.prototype,"interval",void 0),u([Pe("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Ri.prototype,"readInterval",null),u([Ae("interval")],Ri.prototype,"writeInterval",null),u([h({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],Ri.prototype,"startField",void 0),u([h({type:iOe,json:{write:{enabled:!0,allowNull:!0}}})],Ri.prototype,"timeReference",void 0),u([h({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Ri.prototype,"trackIdField",void 0),u([h({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],Ri.prototype,"useTime",void 0),Ri=q3=u([B("esri.layers.support.TimeInfo")],Ri);const dne=Ri,pne=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,n){const i=n.timeInfo.exportOptions;if(!i)return null;const o=i.timeOffset,s=kf.fromJSON(i.timeOffsetUnits);return o&&s?new J1({value:o,unit:s}):null}set timeInfo(r){jD(r,this.fieldsIndex),this._set("timeInfo",r)}};return u([h({type:Rc,json:{write:!1}})],t.prototype,"timeExtent",void 0),u([h({type:J1})],t.prototype,"timeOffset",void 0),u([Pe("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),u([h({value:null,type:dne,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),u([h({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=u([B("esri.layers.mixins.TemporalLayer")],t),t};var W3;let gu=W3=class extends ve{constructor(e){super(e)}clone(){const{name:e,fields:t,isAscending:r,isUnique:n,description:i}=this;return new W3({name:e,fields:t,isAscending:r,isUnique:n,description:i})}};u([h({constructOnly:!0})],gu.prototype,"name",void 0),u([h({constructOnly:!0})],gu.prototype,"fields",void 0),u([h({constructOnly:!0})],gu.prototype,"isAscending",void 0),u([h({constructOnly:!0})],gu.prototype,"isUnique",void 0),u([h({constructOnly:!0})],gu.prototype,"description",void 0),gu=W3=u([B("esri.layers.support.FeatureIndex")],gu);let Ap=class extends ve{constructor(){super(...arguments),this.type=null}};u([h({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],Ap.prototype,"type",void 0),Ap=u([B("esri.layers.support.FeatureReduction")],Ap);var K3;let Ay=K3=class extends ve{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new K3({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};u([h({type:String,json:{write:!0}})],Ay.prototype,"statisticType",void 0),u([h({type:String,json:{write:!0}})],Ay.prototype,"onStatisticField",void 0),u([h({type:String,json:{write:!0}})],Ay.prototype,"onStatisticValueExpression",void 0),Ay=K3=u([B("esri.layers.support.OutStatistic")],Ay);const oOe=Ay;var J3;let Qb=J3=class extends ve{constructor(){super(...arguments),this.name=null,this.outStatistic=null}clone(){return new J3({name:this.name,outStatistic:this.outStatistic.clone()})}};u([h({type:String,json:{write:!0}})],Qb.prototype,"name",void 0),u([h({type:oOe,json:{write:!0}})],Qb.prototype,"outStatistic",void 0),Qb=J3=u([B("esri.layers.support.AggregateField")],Qb);const hne=Qb,S4="__begin__",C4="__end__",sOe=new RegExp(S4,"ig"),aOe=new RegExp(C4,"ig"),MB=new RegExp("^"+S4,"i"),TB=new RegExp(C4+"$","i"),wE='"',lOe=wE+" + ",cOe=" + "+wE;function uOe(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function dOe(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function $4(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=uOe(e.labelExpression),t.type="conventional"),t}function pOe(e){const t=$4(e);if(!t)return null;switch(t.type){case"conventional":return Z3(t.expression);case"arcade":return t.expression}return null}function hOe(e){const t=$4(e);if(!t)return null;switch(t.type){case"conventional":return mOe(t.expression);case"arcade":return fne(t.expression)}return null}function Z3(e){let t;return e?(t=Sc(e,r=>S4+'$feature["'+r+'"]'+C4),t=MB.test(t)?t.replace(MB,""):wE+t,t=TB.test(t)?t.replace(TB,""):t+wE,t=t.replace(sOe,lOe).replace(aOe,cOe)):t='""',t}const fOe=/^\s*\{([^}]+)\}\s*$/i;function mOe(e){const t=e.match(fOe);return t&&t[1].trim()||null}const yOe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,gOe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,vOe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function fne(e){if(!e)return null;let t=yOe.exec(e)||gOe.exec(e);return t?t[1]||t[3]:(t=vOe.exec(e),t?t[2]:null)}var Y3;let Fd=Y3=class extends ve{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?Z3(t.value):e}writeExpression(e,t,r){this.value!=null&&(e=Z3(this.value)),e!=null&&(t[r]=e)}clone(){return new Y3({expression:this.expression,title:this.title,value:this.value})}};u([h({type:String,json:{write:{writerEnsuresNonNull:!0}}})],Fd.prototype,"expression",void 0),u([Pe("expression",["expression","value"])],Fd.prototype,"readExpression",null),u([Ae("expression")],Fd.prototype,"writeExpression",null),u([h({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Fd.prototype,"title",void 0),u([h({json:{read:!1,write:!1}})],Fd.prototype,"value",void 0),Fd=Y3=u([B("esri.layers.support.LabelExpressionInfo")],Fd);const mne=Fd,yne=[252,146,31,255],gne={type:"esriSMS",style:"esriSMSCircle",size:6,color:yne,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},vne={type:"esriSLS",style:"esriSLSSolid",width:.75,color:yne},bne={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},bOe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},wOe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},_Oe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},xOe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};jo.fromJSON(gne);es.fromJSON(vne);Lc.fromJSON(bne);const SOe=H0.fromJSON(bOe),Jtt=jo.fromJSON(wOe),Ztt=es.fromJSON(_Oe),Ytt=Lc.fromJSON(xOe);var Q3;const ES=new Et({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function wne(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function COe(e){return(e==null?void 0:e.type)==="map-image"}function _ne(e){var t,r;return!!COe(e)&&!!((r=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&r.supportsArcadeExpressionForLabeling)}function $Oe(e){return wne(e)||_ne(e.layer)}let un=Q3=class extends ve{constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=SOe,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const r=(n,i,o)=>{switch(i){case"=":return n==o;case"<>":return n!=o;case">":return n>o;case">=":return n>=o;case"<":return n<o;case"<=":return n<=o}return!1};try{if(e==null)return!0;const n=e.split(" ");if(n.length===3)return r(t[n[0]],n[1],n[2]);if(n.length===7){const i=r(t[n[0]],n[1],n[2]),o=n[3],s=r(t[n[4]],n[5],n[6]);switch(o){case"AND":return i&&s;case"OR":return i||s}}return!1}catch{console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=dOe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const n=fne(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}}e!=null&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,n){if(e==null&&this.labelExpression!=null&&wne(n))e=new mne({expression:this.getLabelExpressionArcade()});else if(!e)return;const i=e.toJSON(n);i.expression&&(t[r]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return $4(this)}getLabelExpressionArcade(){return pOe(this)}getLabelExpressionSingleField(){return hOe(this)}hash(){return JSON.stringify(this)}clone(){return new Q3({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:X(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:X(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};u([h({type:String,json:{write:!0}})],un.prototype,"name",void 0),u([h({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],un.prototype,"allowOverrun",void 0),u([h({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],un.prototype,"deconflictionStrategy",void 0),u([h({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&(r==null?void 0:r.origin)==="service"&&_ne(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],un.prototype,"labelExpression",void 0),u([Pe("labelExpression")],un.prototype,"readLabelExpression",null),u([Ae("labelExpression")],un.prototype,"writeLabelExpression",null),u([h({type:mne,json:{write:{overridePolicy:(e,t,r)=>$Oe(r)?{allowNull:!0}:{enabled:!1}}}})],un.prototype,"labelExpressionInfo",void 0),u([Ae("labelExpressionInfo")],un.prototype,"writeLabelExpressionInfo",null),u([h({type:ES.apiValues,json:{type:ES.jsonValues,read:ES.read,write:ES.write}})],un.prototype,"labelPlacement",void 0),u([h({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],un.prototype,"labelPosition",void 0),u([h({type:Number})],un.prototype,"maxScale",void 0),u([Ae("maxScale")],un.prototype,"writeMaxScale",null),u([h({type:Number})],un.prototype,"minScale",void 0),u([Ae("minScale")],un.prototype,"writeMinScale",null),u([h({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],un.prototype,"repeatLabel",void 0),u([h({type:Number,cast:Jt,json:{write:!0,origins:{"web-scene":{write:!1}}}})],un.prototype,"repeatLabelDistance",void 0),u([h({types:lwe,json:{origins:{"web-scene":{types:cwe,write:d8,default:null}},write:d8,default:null}})],un.prototype,"symbol",void 0),u([h({type:Boolean,json:{write:!0}})],un.prototype,"useCodedValues",void 0),u([h({type:String,json:{write:!0}})],un.prototype,"where",void 0),un=Q3=u([B("esri.layers.support.LabelClass")],un);const Z_=un;var X3;let el=X3=class extends Ap{constructor(e){super(e),this.type="binning",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}clone(){return new X3({fields:X(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:X(this.labelingInfo),labelsVisible:this.labelsVisible,popupEnabled:this.popupEnabled,popupTemplate:X(this.popupTemplate),renderer:X(this.renderer)})}};u([nt({binning:"binning"})],el.prototype,"type",void 0),u([h({type:Number,json:{write:!0}})],el.prototype,"fixedBinLevel",void 0),u([h({type:[Z_],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],el.prototype,"labelingInfo",void 0),u([h(zI)],el.prototype,"labelsVisible",void 0),u([h(DI)],el.prototype,"popupEnabled",void 0),u([h({type:J0,json:{name:"popupInfo",write:!0}})],el.prototype,"popupTemplate",void 0),u([h({type:[hne],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],el.prototype,"fields",void 0),u([h({types:D_,json:{write:!0}})],el.prototype,"renderer",void 0),el=X3=u([B("esri.layers.support.FeatureReductionBinning")],el);const EOe=el;var eF;let Co=eF=class extends ve{constructor(e){super(e),this.type="cluster",this.clusterRadius=Jt("80px"),this.clusterMinSize=Jt("12px"),this.clusterMaxSize=Jt("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new eF({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:X(this.labelingInfo),labelsVisible:this.labelsVisible,fields:X(this.fields),renderer:X(this.renderer),popupEnabled:this.popupEnabled,popupTemplate:X(this.popupTemplate)})}};u([h({type:["cluster"],readOnly:!0,json:{write:!0}})],Co.prototype,"type",void 0),u([h({type:Number,cast:e=>e==="auto"?e:Jt(e),json:{write:!0}})],Co.prototype,"clusterRadius",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],Co.prototype,"clusterMinSize",void 0),u([h({type:Number,cast:Jt,json:{write:!0}})],Co.prototype,"clusterMaxSize",void 0),u([h(DI)],Co.prototype,"popupEnabled",void 0),u([h({type:J0,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Co.prototype,"popupTemplate",void 0),u([h({types:D_,json:{write:!0}})],Co.prototype,"renderer",void 0),u([h({types:swe})],Co.prototype,"symbol",void 0),u([h({type:[Z_],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Co.prototype,"labelingInfo",void 0),u([h(zI)],Co.prototype,"labelsVisible",void 0),u([h({type:[hne],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Co.prototype,"fields",void 0),Co=eF=u([B("esri.layers.support.FeatureReductionCluster")],Co);const xne=Co;var tF;let d$=tF=class extends Ap{constructor(e){super(e),this.type="selection"}clone(){return new tF}};u([h({type:["selection"]})],d$.prototype,"type",void 0),d$=tF=u([B("esri.layers.support.FeatureReductionSelection")],d$);const kB=d$,PB={key:"type",base:Ap,typeMap:{selection:xne}},Sne={types:{key:"type",base:Ap,typeMap:{selection:kB,cluster:xne,binning:EOe}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:PB},"portal-item":{types:PB},"web-scene":{types:{key:"type",base:Ap,typeMap:{selection:kB}}}}}},OB=new Et({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Nd=class extends ts(ve){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};u([h({json:{write:!0}})],Nd.prototype,"name",void 0),u([h({json:{write:!0}})],Nd.prototype,"description",void 0),u([h({json:{read:OB.read,write:OB.write}})],Nd.prototype,"drawingTool",void 0),u([h({json:{write:!0}})],Nd.prototype,"prototype",void 0),u([h({json:{write:!0}})],Nd.prototype,"thumbnail",void 0),Nd=u([B("esri.layers.support.FeatureTemplate")],Nd);const aM=Nd;let su=class extends ts(ve){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r of Object.keys(e))t[r]=Y5(e[r]);return t}writeDomains(e,t){var n;const r={};for(const i of Object.keys(e))e[i]&&(r[i]=(n=e[i])==null?void 0:n.toJSON());t.domains=r}};u([h({json:{write:!0}})],su.prototype,"id",void 0),u([h({json:{write:!0}})],su.prototype,"name",void 0),u([h({json:{write:!0}})],su.prototype,"domains",void 0),u([Pe("domains")],su.prototype,"readDomains",null),u([Ae("domains")],su.prototype,"writeDomains",null),u([h({type:[aM],json:{write:!0}})],su.prototype,"templates",void 0),su=u([B("esri.layers.support.FeatureType")],su);const E4=su;function IOe(e){return e.type==="date"||e.type==="esriFieldTypeDate"}function LB(e){return e.type==="oid"||e.type==="esriFieldTypeOID"}function RB(e){return e.type==="global-id"||e.type==="esriFieldTypeGlobalID"}class MOe{constructor(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;const r=[];for(const n of t){const i=n&&n.name;if(i){const o=AB(i);this._fieldsMap.set(i,n),this._fieldsMap.set(o,n),r.push(o),IOe(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):UD(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),LB(n)||RB(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}r.sort(),this.uid=r.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)LB(t)||RB(t)||t.nullable||Vve(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}has(t){return this.get(t)!=null}get(t){return t!=null?this._fieldsMap.get(t)||this._fieldsMap.get(AB(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const r=this.get(t);if(r)return r.name}}function AB(e){return e.toLowerCase().trim()}const TOe=Ce.getLogger("esri.layers.support.fieldProperties");function Cne(){return{fields:{type:[G_],value:null},fieldsIndex:{readOnly:!0,get(){return new MOe(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex.has(t)||TOe.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return pY(this.fieldsIndex,e)}}}}let Fy=class extends ts(ve){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};u([h({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Fy.prototype,"shapeAreaField",void 0),u([h({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Fy.prototype,"shapeLengthField",void 0),u([h({type:String,json:{read:e=>X1e.read(e)||e_e.read(e)}})],Fy.prototype,"units",void 0),Fy=u([B("esri.layers.support.GeometryFieldsInfo")],Fy);const kOe=Fy,POe=/\[([^\[\]]+)\]/gi;function rF(e,t,r){return e?e.map(n=>{const i=new Z_;if(i.read(n,r),i.labelExpression){const o=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;i.labelExpression=i.labelExpression.replace(POe,(s,a)=>`[${OOe(a,o)}]`)}return i}):null}function OOe(e,t){if(!t)return e;const r=e.toLowerCase();for(let n=0;n<t.length;n++){const i=t[n].name;if(i.toLowerCase()===r)return i}return e}var nF;let Ny=nF=class extends ve{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new We}clone(){return new nF({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};u([h({type:String,json:{write:!0}})],Ny.prototype,"floorField",void 0),u([h({json:{read:!1,write:!1}})],Ny.prototype,"viewAllMode",void 0),u([h({json:{read:!1,write:!1}})],Ny.prototype,"viewAllLevelIds",void 0),Ny=nF=u([B("esri.layers.support.LayerFloorInfo")],Ny);const LOe=Ny,FB=new Et({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),NB=new Et({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Ys=class extends ts(ve){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};u([h({json:{read:FB.read,write:FB.write}})],Ys.prototype,"cardinality",void 0),u([h({json:{read:!0,write:!0}})],Ys.prototype,"composite",void 0),u([h({json:{read:!0,write:!0}})],Ys.prototype,"id",void 0),u([h({json:{read:!0,write:!0}})],Ys.prototype,"keyField",void 0),u([h({json:{read:!0,write:!0}})],Ys.prototype,"keyFieldInRelationshipTable",void 0),u([h({json:{read:!0,write:!0}})],Ys.prototype,"name",void 0),u([h({json:{read:!0,write:!0}})],Ys.prototype,"relatedTableId",void 0),u([h({json:{read:!0,write:!0}})],Ys.prototype,"relationshipTableId",void 0),u([h({json:{read:NB.read,write:NB.write}})],Ys.prototype,"role",void 0),Ys=u([B("esri.layers.support.Relationship")],Ys);const ROe=Ys,tl=[];function AOe(e,t){if(rne(e.url))return!0;const{wkid:r}=t;for(const n of tl){if(e.version>=n[0])return!0;if(typeof n[1]=="function"&&(n[1]=n[1]()),n[1].has(r))return!1}return!0}tl.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102955;t++)e.add(t);return e}]),tl.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),tl.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),tl.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),tl.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);for(let t=103696;t<=103698;t++)e.add(t);return e}]),tl.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),tl.push([10.61,()=>new Set([102497])]),tl.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),tl.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),tl.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function FOe(e,t,r){const n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(n&&n.type==="unique-value"&&n.styleOrigin){const i=await fI(n.populateFromStyle());if(Ar(r),i.ok===!1){const o=i.error;t&&t.messages&&t.messages.push(new ho("renderer:style-reference",`Failed to create unique value renderer from style reference: ${o.message}`,{error:o,context:t})),e.clear("renderer",t.origin)}}}const NOe=["oid","global-id"],DOe=["oid","global-id","guid"];function $ne({displayField:e,editFieldsInfo:t,fields:r,objectIdField:n,title:i},o){if(!r)return null;const s=GOe({editFieldsInfo:t,fields:r,objectIdField:n},o);if(!s.length)return null;const a=WOe({titleBase:i,fields:r,displayField:e}),l=qOe();return new J0({title:a,content:l,fieldInfos:s})}const zOe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],VOe=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:n})=>n?n.has(e.name):!Ene(e.name,t)&&(!r||e.name!==r)&&!NOe.includes(e.type)&&!zOe.some(i=>i.test(e.name));function jOe(e,t){const r=e;return t&&(e=e.filter(n=>!t.includes(n.type))),e===r&&(e=e.slice()),e.sort(BOe),e}function BOe(e,t){return e.type==="oid"?-1:t.type==="oid"?1:DB(e)?-1:DB(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function Ene(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:n,editDateField:i,editorField:o}=t;return[r&&r.toLowerCase(),n&&n.toLowerCase(),i&&i.toLowerCase(),o&&o.toLowerCase()].includes(e.toLowerCase())}function UOe(e,t){return e.editable&&!DOe.includes(e.type)&&!Ene(e.name,t)}function GOe({editFieldsInfo:e,fields:t,objectIdField:r},n){return jOe(t,(n==null?void 0:n.ignoreFieldTypes)||KOe).map(i=>new F_({fieldName:i.name,isEditable:UOe(i,e),label:i.alias,format:HOe(i),visible:VOe(i,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:n==null?void 0:n.visibleFieldNames})}))}function HOe(e){switch(e.type){case"small-integer":case"integer":case"single":return new pg({digitSeparator:!0,places:0});case"double":return new pg({digitSeparator:!0,places:2});case"date":return new pg({dateFormat:"long-month-day-year"});default:return e.type==="string"&&vY(e.name)?new pg({digitSeparator:!0,places:0}):null}}function qOe(){return[new u0,new F1]}function WOe(e){const t=Ave(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r}function DB(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"||void 0}const KOe=["geometry","blob","raster","guid","xml"],Jk=new Et({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),JOe={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},cn="FeatureLayer",zB=Ce.getLogger("esri.layers.FeatureLayer");function IS(e,t){return new Z("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function VB(e){return e&&e instanceof We}function ut(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function MS(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function ZOe(e){var r;const t=(r=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:r.map(n=>n.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function Hv(e,t){var n;const r=(n=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:n.map(i=>i.toLowerCase());return!!(r!=null&&r.includes(t.toLowerCase()))}const Zk=Cne();function Yk(e,t,r){const n=!!(r!=null&&r.writeLayerSchema);return{enabled:n,ignoreOrigin:n}}let xe=class extends ine(_4(ane(pne(x4(une(qPe(one(XPe(v4(nne(DPe(ts(s0))))))))))))){constructor(...e){super(...e),this._handles=new bn,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=mt.WGS84,this.subtypeCode=null,this.subtypeField=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(We.ofType(gu)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var e;(e=this.source)==null||e.destroy(),this._handles=ko(this._handles)}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){const t=G(e)?e.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(t).then(n=>this._initLayerProperties(n)));const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(S_).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const n=await this._fetchFirstLayerId(t);n!=null&&(this.layerId=n)}if(!this.url&&!this._hasMemorySource())throw new Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(t))}).then(()=>this.finishLoadEditablePortalLayer(e));return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,{analytics:this._readAnalyticsCapabilities(t),attachment:this._readAttachmentCapabilities(t),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),queryTopFeatures:this._readQueryTopFeaturesCapabilities(t),editing:this._readEditingCapabilities(t)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){e!=null?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,n){this._writeEditingEnabled(e,t,!0,n)}readEditingInfo(e,t){const{editingInfo:r}=t;return r?{lastEditDate:r.lastEditDate!=null?new Date(r.lastEditDate):null}:null}readIsTable(e,t){return(t=t&&t.layerDefinition||t).type==="Table"||!t.geometryType}writeIsTable(e,t,r,n){n!=null&&n.writeLayerSchema&&qo(r,e?"Table":"Feature Layer",t)}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeGlobalID")return r.name}}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeOID")return r.name}}get parsedUrl(){const e=this.url?vn(this.url):null;return e!=null&&(this.dynamicDataSource!=null?e.path=nm(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=nm(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){D2(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,r){const n=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(n){const i=yX(n,t,r)||void 0;return i||zB.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),i}if(t.defaultSymbol)return t.types&&t.types.length?new v5({defaultSymbol:Qk(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(i=>({id:i.id,symbol:Qk(i.symbol,i,r)}))}):new y5({symbol:Qk(t.defaultSymbol,t,r)})}set source(e){const t=this._get("source");t!==e&&(VB(t)&&this._resetMemorySource(t),VB(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof We?new yu({layer:this,items:e}):e:null}readSource(e,t){const r=H_.fromJSON(t.featureSet);return new yu({layer:this,items:r&&r.features||[]})}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readTemplates(e,t){const r=t.editFieldsInfo,n=r&&r.creatorField,i=r&&r.editorField;return e=e&&e.map(o=>aM.fromJSON(o)),this._fixTemplates(e,n),this._fixTemplates(e,i),e}readTitle(e,t){const r=t.layerDefinition&&t.layerDefinition.name||t.name,n=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){const i=this.portalItem&&this.portalItem.title;if(this.sublayerTitleMode==="item-title")return this.url?BPe(this.url,r):r;let o=r;if(!o&&this.url){const s=g0(this.url);G(s)&&(o=s.title)}return o?(this.sublayerTitleMode==="item-title-and-service-name"&&i&&i!==o&&(o=i+" - "+o),w4(o)):void 0}if(this.sublayerTitleMode==="item-title"&&n)return n}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const n=t.fields.find(i=>i.name.toLowerCase()===r);n&&(r=n.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,n=r&&r.creatorField,i=r&&r.editorField;return e&&e.map(o=>(o=E4.fromJSON(o),this._fixTemplates(o.templates,n),this._fixTemplates(o.templates,i),o))}set url(e){const t=GPe({layer:this,url:e,nonStandardUrlAllowed:!0,logger:zB});this._set("url",t.url),t.layerId!=null&&this._set("layerId",t.layerId)}writeUrl(e,t,r,n){HPe(this,e,null,t,n)}readVersion(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}readVisible(e,t){return t.layerDefinition&&t.layerDefinition.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}addAttachment(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("addAttachment"in this.source))throw new Z(cn,"Layer source does not support addAttachment capability");return this.source.addAttachment(e,t)})}updateAttachment(e,t,r){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("updateAttachment"in this.source))throw new Z(cn,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(e,t,r)})}async applyEdits(e,t){const r=await ae(()=>import("./editingSupport.9c687433.js"),[],import.meta.url);return await this.load(),r.applyEdits(this,this.source,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return $ne(this,e)}async createGraphicsSource(e){if(this._hasMemorySource())return this.source.load({signal:e});const{default:t}=await _de(ae(()=>import("./FeatureLayerSource.b0915b8d.js"),["FeatureLayerSource.b0915b8d.js","executeForIds.d25ba164.js"],import.meta.url),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=new so,t=this.get("capabilities.data"),r=this.get("capabilities.query");e.dynamicDataSource=this.dynamicDataSource,e.historicMoment=this.historicMoment,e.gdbVersion=this.gdbVersion,e.returnGeometry=!0,r&&(e.compactGeometryEnabled=r.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),t&&(t.supportsZ&&this.returnZ!=null&&(e.returnZ=this.returnZ),t.supportsM&&this.returnM!=null&&(e.returnM=this.returnM)),e.outFields=["*"];const n=G(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null,i=oQ(this.definitionExpression,n);e.where=i||"1=1";const{timeOffset:o,timeExtent:s}=this;return e.timeExtent=o!=null&&s!=null?s.offset(-o.value,o.unit):s||null,e.multipatchOption=this.geometryType==="multipatch"?"xyFootprint":null,e}deleteAttachments(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("deleteAttachments"in this.source))throw new Z(cn,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(e,t)})}fetchRecomputedExtents(e){return this.load({signal:e==null?void 0:e.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(e);throw new Z(cn,"Layer source does not support fetchUpdates capability")})}getFeatureType(e){const{typeIdField:t,types:r}=this;if(!t||!e)return null;const n=e.attributes?e.attributes[t]:void 0;if(n==null)return null;let i=null;return r.some(o=>{const{id:s}=o;return s!=null&&(s.toString()===n.toString()&&(i=o),!!i)}),i}getFieldDomain(e,t){const r=t&&t.feature,n=this.getFeatureType(r);if(n){const i=n.domains&&n.domains[e];if(i&&i.type!=="inherited")return i}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}queryAttachments(e,t){return e=qA.from(e),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new Z(cn,"this layer doesn't support attachments");const{attachmentTypes:r,objectIds:n,globalIds:i,num:o,size:s,start:a,where:l}=e;if(!this.get("capabilities.operations.supportsQueryAttachments")){const c=n&&n.length>1,d=r&&r.length,p=i&&i.length,f=s&&s.length;if(c||d||p||f||o||a||l)throw new Z(cn,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(n&&n.length||l))throw new Z(cn,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in this.source))throw new Z(cn,"Layer source does not support queryAttachments capability",e);return this.source.queryAttachments(e)})}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(so.from(e)||this.createQuery(),t)).then(r=>{if(r!=null&&r.features)for(const n of r.features)n.layer=n.sourceLayer=this;return r})}queryObjectIds(e,t){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(so.from(e)||this.createQuery(),t);throw new Z(cn,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(e,t){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(so.from(e)||this.createQuery(),t);throw new Z(cn,"Layer source does not support queryFeatureCount capability")})}queryExtent(e,t){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(so.from(e)||this.createQuery(),t);throw new Z(cn,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(e,t){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(m3.from(e),t);throw new Z(cn,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(e,t){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(m3.from(e),t);throw new Z(cn,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(e,t){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(vS.from(e),t).then(r=>{if(r!=null&&r.features)for(const n of r.features)n.layer=n.sourceLayer=this;return r});throw new Z(cn,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(e,t){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(vS.from(e),t);throw new Z(cn,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(e,t){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(vS.from(e),t);throw new Z(cn,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(e,t){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(vS.from(e),t);throw new Z(cn,"Layer source does not support queryFeatureCount capability")})}read(e,t){const r=e.featureCollection;if(r){const n=r.layers;n&&n.length===1&&(super.read(n[0],t),r.showLegend!=null&&super.read({showLegend:r.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(e,t){var o;t={...t,writeLayerSchema:(o=t==null?void 0:t.writeLayerSchema)!=null?o:this._hasMemorySource()};const{origin:r,layerContainerType:n,messages:i}=t;if(this.dynamicDataSource)return i==null||i.push(IS(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(r==="web-scene"||r==="web-map"&&n!=="tables")return i==null||i.push(IS(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return i==null||i.push(IS(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&r==="web-map"&&n==="tables")return i==null||i.push(IS(this,"using a non-table source cannot be written to tables in web maps")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new Z(cn,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source.type==="memory"||AOe(this,e))}async save(e){return(await ae(()=>import("./featureLayerUtils.5819cfc8.js"),["featureLayerUtils.5819cfc8.js","originUtils.10ab3775.js","multiOriginJSONSupportUtils.2c03086c.js","arcgisLayers.730146fb.js","lazyLayerLoader.d04227a2.js","jsonContext.69c696c6.js","portalItemUtils.82093fb1.js"],import.meta.url)).save(this,e)}async saveAs(e,t){return(await ae(()=>import("./featureLayerUtils.5819cfc8.js"),["featureLayerUtils.5819cfc8.js","originUtils.10ab3775.js","multiOriginJSONSupportUtils.2c03086c.js","arcgisLayers.730146fb.js","lazyLayerLoader.d04227a2.js","jsonContext.69c696c6.js","portalItemUtils.82093fb1.js"],import.meta.url)).saveAs(this,e,t)}_readEditingEnabled(e,t,r){var i;let n=(i=e.layerDefinition)==null?void 0:i.capabilities;return n?this._hasEditingCapability(n):(n=e.capabilities,t&&(r==null?void 0:r.origin)==="web-map"&&!this._hasMemorySource()&&n?this._hasEditingCapability(n):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,r,n){var i,o;if(!e){const s=(o=(i=this.capabilities)==null?void 0:i.operations)!=null&&o.supportsSync?"Query,Sync":"Query";qo("layerDefinition.capabilities",s,t),r&&!(n!=null&&n.writeLayerSchema)&&(t.capabilities=s)}}_checkAttachmentSupport(e){const{attributes:t}=e,{objectIdField:r}=this;return this.get("capabilities.data.supportsAttachment")?e?t?t[r]?void 0:Promise.reject(new Z(cn,`feature is missing the identifying attribute ${r}`)):Promise.reject(new Z(cn,"'attributes' are required on a feature to query attachments")):Promise.reject(new Z(cn,"A feature is required to add/delete/update attachments")):Promise.reject(new Z(cn,"this layer doesn't support attachments"))}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return _r(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const r=t.data;if(r)return Array.isArray(r.layers)&&r.layers.length>0?r.layers[0].id:Array.isArray(r.tables)&&r.tables.length>0?r.tables[0].id:void 0})}async _initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),D2(this.renderer,this.fieldsIndex),jD(this.timeInfo,this.fieldsIndex),FOe(this,{origin:"service"})}async hasDataChanged(){var e,t;if((e=this.source)!=null&&e.refresh)try{const{dataChanged:r,updates:n}=await((t=this.source)==null?void 0:t.refresh());if(G(n)&&(this.sourceJSON={...this.sourceJSON,...n},this.read(n,{origin:"service",url:this.parsedUrl})),r)return!0}catch{}if(this.definitionExpression)try{return(await O1e(this.definitionExpression,this.fieldsIndex)).hasDateFunctions}catch{}return!1}_verifyFields(){var t;const e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||((t=this.fields)==null?void 0:t.some(r=>r.type==="geometry"))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(r=>{const n=r.prototype&&r.prototype.attributes;n&&t&&delete n[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAnalyticsCapabilities(e){return{supportsCacheHint:Hv(e.advancedQueryCapabilities,"queryAnalytics")}}_readAttachmentCapabilities(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:Hv(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:ut(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(n=>{const i=JOe[n.name];i&&(r[i]=!!n.isEnabled)}),r}_readDataCapabilities(e){return{isVersioned:ut(e,"isDataVersioned",!1),supportsAttachment:ut(e,"hasAttachments",!1),supportsM:ut(e,"hasM",!1),supportsZ:ut(e,"hasZ",!1)}}_readMetadataCapabilities(e){return{supportsAdvancedFieldProperties:ut(e,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(e,t){const r=e?e.toLowerCase().split(",").map(p=>p.trim()):[],n=this.url?g0(this.url):null,i=r.includes(G(n)&&n.serverType==="MapServer"?"data":"query"),o=r.includes("editing")&&!t.datesInUnknownTimezone;let s=o&&r.includes("create"),a=o&&r.includes("delete"),l=o&&r.includes("update");const c=r.includes("changetracking"),d=t.advancedQueryCapabilities;return o&&!(s||a||l)&&(s=a=l=!0),{supportsCalculate:ut(t,"supportsCalculate",!1),supportsTruncate:ut(t,"supportsTruncate",!1),supportsValidateSql:ut(t,"supportsValidateSql",!1),supportsAdd:s,supportsDelete:a,supportsEditing:o,supportsChangeTracking:c,supportsQuery:i,supportsQueryAnalytics:ut(d,"supportsQueryAnalytic",!1),supportsQueryAttachments:ut(d,"supportsQueryAttachments",!1),supportsQueryTopFeatures:ut(d,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:ut(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:l,supportsExceedsLimitStatistics:ut(t,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(e){var l;const t=e.advancedQueryCapabilities,r=e.ownershipBasedAccessControlForFeatures,n=e.archivingInfo,i=(l=this.url)==null?void 0:l.includes("MapServer"),o=!oe("mapserver-pbf-enabled")&&i&&this.version<10.81,s=rne(this.url),a=(e.supportedQueryFormats||"").split(",").reduce((c,d)=>{const p=d.toLowerCase().trim();return p&&c.add(p),c},new Set);return{supportsStatistics:ut(t,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:ut(t,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:ut(t,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:ZOe(t),supportsCentroid:ut(t,"supportsReturningGeometryCentroid",!1),supportsDistance:ut(t,"supportsQueryWithDistance",!1),supportsDistinct:ut(t,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:ut(t,"supportsReturningQueryExtent",!1),supportsGeometryProperties:ut(t,"supportsReturningGeometryProperties",!1),supportsHavingClause:ut(t,"supportsHavingClause",!1),supportsOrderBy:ut(t,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:ut(t,"supportsPagination",!1),supportsQuantization:ut(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:ut(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:ut(e,"supportsReturningQueryGeometry",!1),supportsResultType:ut(t,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:ut(t,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:ut(t,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:ut(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:ut(t,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:ut(r,"allowOthersToQuery",!0),supportsHistoricMoment:ut(n,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!o&&a.has("pbf"),supportsDisjointSpatialRelationship:ut(t,"supportsDisjointSpatialRel",!1),supportsCacheHint:ut(t,"supportsQueryWithCacheHint",!1)||Hv(t,"query"),supportsDefaultSpatialReference:ut(t,"supportsDefaultSR",!1),supportsCompactGeometry:s,maxRecordCountFactor:MS(e,"maxRecordCountFactor",void 0),maxRecordCount:MS(e,"maxRecordCount",void 0),standardMaxRecordCount:MS(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:MS(e,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(e){const t=e.advancedQueryCapabilities,r=ut(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:ut(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:Hv(t,"queryRelated")}}_readQueryTopFeaturesCapabilities(e){return{supportsCacheHint:Hv(e.advancedQueryCapabilities,"queryTopFilter")}}_readEditingCapabilities(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:ut(e,"allowGeometryUpdates",!0),supportsGlobalId:ut(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:ut(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:ut(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:ut(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:ut(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:ut(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:ut(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:ut(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:ut(t,"allowOthersToUpdate",!0)}}};u([h({readOnly:!0,json:{read:!1}})],xe.prototype,"capabilities",void 0),u([Pe("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],xe.prototype,"readCapabilities",null),u([h({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],xe.prototype,"charts",void 0),u([h({readOnly:!0})],xe.prototype,"createQueryVersion",null),u([h({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],xe.prototype,"copyright",void 0),u([h({type:Boolean})],xe.prototype,"datesInUnknownTimezone",void 0),u([h({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],xe.prototype,"displayField",void 0),u([h({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],xe.prototype,"definitionExpression",void 0),u([h({types:zf,readOnly:!0})],xe.prototype,"defaultSymbol",void 0),u([h({type:cl})],xe.prototype,"dynamicDataSource",void 0),u([h({readOnly:!0})],xe.prototype,"editFieldsInfo",void 0),u([h({type:Boolean})],xe.prototype,"editingEnabled",null),u([Pe(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],xe.prototype,"readEditingEnabled",null),u([Pe("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],xe.prototype,"readEditingEnabledFromWebMap",null),u([Ae(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],xe.prototype,"writeEditingEnabled",null),u([Ae("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],xe.prototype,"writeEditingEnabledToWebMap",null),u([h({readOnly:!0})],xe.prototype,"editingInfo",void 0),u([Pe("editingInfo")],xe.prototype,"readEditingInfo",null),u([h((()=>{const e=X(wQ),t=e.json.origins;return t["web-map"]={read:!1,write:!1},t["portal-item"]={read:!1,write:!1},e})())],xe.prototype,"elevationInfo",void 0),u([h(Sne)],xe.prototype,"featureReduction",void 0),u([h({...Zk.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Yk}}}}})],xe.prototype,"fields",void 0),u([h(Zk.fieldsIndex)],xe.prototype,"fieldsIndex",void 0),u([h({type:LOe,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],xe.prototype,"floorInfo",void 0),u([h({type:OPe,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],xe.prototype,"formTemplate",void 0),u([h({type:er,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],xe.prototype,"fullExtent",void 0),u([h()],xe.prototype,"gdbVersion",void 0),u([h({readOnly:!0,type:kOe,json:{read:{source:"geometryProperties"}}})],xe.prototype,"geometryFieldsInfo",void 0),u([h({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:Jk.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Yk,writer(e,t,r){const n=e?Jk.toJSON(e):null;n&&qo(r,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:Jk.read}}})],xe.prototype,"geometryType",void 0),u([h({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],xe.prototype,"hasM",void 0),u([h({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],xe.prototype,"hasZ",void 0),u([h({readOnly:!0,type:sM})],xe.prototype,"heightModelInfo",void 0),u([h({type:Date})],xe.prototype,"historicMoment",void 0),u([h(_Q)],xe.prototype,"id",void 0),u([h({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],xe.prototype,"infoFor3D",void 0),u([h({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],xe.prototype,"isTable",void 0),u([Pe("service","isTable",["type","geometryType"]),Pe("isTable",["layerDefinition.type","layerDefinition.geometryType"])],xe.prototype,"readIsTable",null),u([Ae("web-map","isTable")],xe.prototype,"writeIsTable",null),u([h(zI)],xe.prototype,"labelsVisible",void 0),u([h({type:[Z_],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:rF},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:rF},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],xe.prototype,"labelingInfo",void 0),u([h((()=>{const e=X(n_e);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,r,n){qo(n,bI(t),r)}}},e})())],xe.prototype,"opacity",void 0),u([h({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],xe.prototype,"layerId",void 0),u([h(bQ)],xe.prototype,"legendEnabled",void 0),u([h({type:["show","hide"],json:(()=>{const e=X(xQ.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],xe.prototype,"listMode",void 0),u([h(o_e)],xe.prototype,"minScale",void 0),u([Pe("service","minScale",["minScale","effectiveMinScale"])],xe.prototype,"readMinScale",null),u([h(s_e)],xe.prototype,"maxScale",void 0),u([Pe("service","maxScale",["maxScale","effectiveMaxScale"])],xe.prototype,"readMaxScale",null),u([h({type:String})],xe.prototype,"globalIdField",void 0),u([Pe("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),Pe("service","globalIdField",["globalIdField","fields"])],xe.prototype,"readGlobalIdFieldFromService",null),u([h({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Yk}}}}})],xe.prototype,"objectIdField",void 0),u([Pe("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),Pe("service","objectIdField",["objectIdField","fields"])],xe.prototype,"readObjectIdFieldFromService",null),u([h({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],xe.prototype,"operationalLayerType",void 0),u([h(Zk.outFields)],xe.prototype,"outFields",void 0),u([h({readOnly:!0})],xe.prototype,"parsedUrl",null),u([h({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],xe.prototype,"path",void 0),u([h(DI)],xe.prototype,"popupEnabled",void 0),u([h({type:J0,json:{name:"popupInfo",write:!0}})],xe.prototype,"popupTemplate",void 0),u([h({readOnly:!0})],xe.prototype,"defaultPopupTemplate",null),u([h({type:[ROe],readOnly:!0})],xe.prototype,"relationships",void 0),u([h({types:D_,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:mX,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}})],xe.prototype,"renderer",null),u([Pe("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Pe("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],xe.prototype,"readRenderer",null),u([h()],xe.prototype,"sourceJSON",void 0),u([h({type:Boolean})],xe.prototype,"returnM",void 0),u([h({type:Boolean})],xe.prototype,"returnZ",void 0),u([h((()=>{const e=X(gQ);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],xe.prototype,"screenSizePerspectiveEnabled",void 0),u([h({clonable:!1})],xe.prototype,"source",null),u([zt("source")],xe.prototype,"castSource",null),u([Pe("portal-item","source",["featureSet"]),Pe("web-map","source",["featureSet"])],xe.prototype,"readSource",null),u([h({readOnly:!0})],xe.prototype,"serviceDefinitionExpression",void 0),u([Pe("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],xe.prototype,"readServiceDefinitionExpression",null),u([h({type:mt,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],xe.prototype,"spatialReference",void 0),u([h({type:Number})],xe.prototype,"subtypeCode",void 0),u([h({type:String,json:{origins:{service:{read:!0}}}})],xe.prototype,"subtypeField",void 0),u([h({type:[aM]})],xe.prototype,"templates",void 0),u([Pe("templates",["editFieldsInfo","creatorField","editorField","templates"])],xe.prototype,"readTemplates",null),u([h({type:dne})],xe.prototype,"timeInfo",void 0),u([h()],xe.prototype,"title",void 0),u([Pe("service","title",["name"]),Pe("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],xe.prototype,"readTitle",null),u([Pe("web-map","title",["layerDefinition.name","title"])],xe.prototype,"readTitleFromWebMap",null),u([h({type:String})],xe.prototype,"sublayerTitleMode",void 0),u([h({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],xe.prototype,"trackIdField",void 0),u([h({json:{read:!1}})],xe.prototype,"type",void 0),u([h({type:String})],xe.prototype,"typeIdField",void 0),u([Pe("service","typeIdField"),Pe("typeIdField",["layerDefinition.typeIdField"])],xe.prototype,"readTypeIdField",null),u([h({type:[E4]})],xe.prototype,"types",void 0),u([Pe("service","types",["types"]),Pe("types",["layerDefinition.types"])],xe.prototype,"readTypes",null),u([h({readOnly:!0,json:{write:!1}})],xe.prototype,"serverGens",void 0),u([h({type:We.ofType(gu),readOnly:!0})],xe.prototype,"indexes",void 0),u([h(vQ)],xe.prototype,"url",null),u([Ae("url")],xe.prototype,"writeUrl",null),u([h({readOnly:!0})],xe.prototype,"userIsAdmin",void 0),u([h({json:{origins:{service:{read:!0}},read:!1}})],xe.prototype,"version",void 0),u([Pe("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],xe.prototype,"readVersion",null),u([h({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],xe.prototype,"visible",void 0),u([Pe("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],xe.prototype,"readVisible",null),xe=u([B("esri.layers.FeatureLayer")],xe);const Qk=A0({types:JY}),Ine=xe,Qtt=Object.freeze(Object.defineProperty({__proto__:null,default:Ine},Symbol.toStringTag,{value:"Module"})),YOe=["$datastore","$map","$layer","$aggregatedfeatures"],QOe="esri.widgets.Feature.support.arcadeFeatureUtils",XOe=Ce.getLogger(QOe);function eLe(e){return typeof e=="string"?U_(W5(e)):Array.isArray(e)?tLe(e):(e==null?void 0:e.declaredClass)==="esri.arcade.Dictionary"?rLe(e):e}function tLe(e){return`<ul class="esri-widget__list">${e.map(t=>`<li>${typeof t=="string"?U_(W5(t)):t}</li>`).join("")}</ul>`}function rLe(e){return`<table class="esri-widget__table">${e.keys().map(t=>{const r=e.field(t);return`<tr><th>${t}</th><td>${typeof r=="string"?U_(W5(r)):r}</td></tr>`}).join("")}</table>`}function nLe({aggregatedFeatures:e,arcadeUtils:t,featureSetVars:r,context:n,viewInfo:i,map:o,graphic:s,interceptor:a}){r.forEach(l=>{const c=l.toLowerCase(),d={map:o,spatialReference:i.sr,interceptor:a};if(c==="$map"&&(n.vars[c]=t.convertMapToFeatureSetCollection(d)),c==="$layer"&&(n.vars[c]=t.convertFeatureLayerToFeatureSet({layer:s.sourceLayer,spatialReference:i.sr,interceptor:a})),c==="$datastore"&&(n.vars[c]=t.convertServiceUrlToWorkspace({url:s.sourceLayer.url,spatialReference:i.sr,interceptor:a})),c==="$aggregatedfeatures"){const p=s.layer,{fields:f,objectIdField:y,geometryType:g,spatialReference:v,displayField:b}=p,w=new Ine({fields:f,objectIdField:y,geometryType:g,spatialReference:v,displayField:b,...p.type==="feature"?{templates:p.templates,typeIdField:p.typeIdField,types:p.types}:null,source:e});n.vars[c]=t.convertFeatureLayerToFeatureSet({layer:w,spatialReference:i.sr,interceptor:a})}})}function Mne(){return ae(()=>import("./arcadeUtils.0fb1a668.js").then(e=>e.t),[],import.meta.url)}async function iLe({graphic:e,view:t}){const{isAggregate:r,layer:n}=e;if(!r||!n||(t==null?void 0:t.type)!=="2d")return[];const i=await t.whenLayerView(n);if(!i.createQuery||!i.queryFeatures)return[];const o=i.createQuery();o.aggregateIds=[e.getObjectId()];const{features:s}=await i.queryFeatures(o);return s}async function Tne({expressionInfo:e,arcadeUtils:t,interceptor:r,spatialReference:n,map:i,graphic:o,view:s}){if(!e||!e.expression)return null;const a=t.createSyntaxTree(e.expression),l=YOe.filter(y=>t.hasVariable(a,y)),[c]=await Promise.all([iLe({graphic:o,view:s}),t.loadScriptDependencies(a,!0,l)]),d=t.getViewInfo({spatialReference:n}),p=t.createExecContext(o,d);p.interceptor=r,p.useAsync=!0,nLe({aggregatedFeatures:c,arcadeUtils:t,featureSetVars:l,context:p,viewInfo:d,map:i,graphic:o,interceptor:r});const f=t.createFunction(a,p);return t.executeAsyncFunction(f,p).catch(y=>XOe.error("arcade-execution-error",{error:y,graphic:o,expressionInfo:e}))}async function oLe({expressionInfos:e,spatialReference:t,graphic:r,interceptor:n,map:i,view:o}){if(!e||!e.length)return{};const s=await Mne(),a={};for(const d of e)a[`expression/${d.name}`]=Tne({expressionInfo:d,arcadeUtils:s,interceptor:n,spatialReference:t,map:i,graphic:r,view:o});const l=await yn(a),c={};for(const d in l)c[d]=eLe(l[d].value);return c}const sLe=1;let fs=class extends Pc(Ve){constructor(e){super(e),this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:t}=this;t&&t.abort(),this._abortController=null},this._createVM=()=>{var n,i;const t=(n=this.contentElement)==null?void 0:n.type;(i=this.contentElementViewModel)==null||i.destroy();const r=t==="fields"?new YI:t==="media"?new Tf:t==="text"?new dE:null;this._set("contentElementViewModel",r)},this._compile=async()=>{this._cancelQuery();const t=new AbortController;this._abortController=t,await this._compileExpression(),this._abortController===t&&(this._abortController=null)},this._compileThrottled=H5(this._compile,sLe,this),this._compileExpression=async()=>{const{expressionInfo:t,graphic:r,interceptor:n,spatialReference:i,map:o,view:s,_abortController:a}=this;if(!(t&&r&&i&&o))return void this._set("contentElement",null);const l=await Mne();if(a!==this._abortController)return;const c=await Tne({arcadeUtils:l,expressionInfo:t,graphic:r,interceptor:n,map:o,spatialReference:i,view:s});if(!c||c.declaredClass!=="esri.arcade.Dictionary")return void this._set("contentElement",null);const d=await y4(c,a.signal),p=d==null?void 0:d.type,f=p==="media"?D1.fromJSON(d):p==="text"?d0.fromJSON(d):p==="fields"?u0.fromJSON(d):null;this._set("contentElement",f)},this.handles.add([fe(()=>[this.expressionInfo,this.graphic,this.map,this.spatialReference,this.view],()=>this._compileThrottled(),At),fe(()=>[this.contentElement],()=>this._createVM(),At)])}destroy(){var e;this._cancelQuery(),(e=this.contentElementViewModel)==null||e.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var e;return((e=this.view)==null?void 0:e.spatialReference)||null}set spatialReference(e){e!==void 0?this._override("spatialReference",e):this._clearOverride("spatialReference")}get state(){const{_abortController:e,contentElement:t,contentElementViewModel:r}=this;return e?"loading":t||r?"ready":"disabled"}get map(){var e;return((e=this.view)==null?void 0:e.map)||null}set map(e){e!==void 0?this._override("map",e):this._clearOverride("map")}};u([h()],fs.prototype,"_abortController",void 0),u([h({type:LQ})],fs.prototype,"expressionInfo",void 0),u([h({type:Jo})],fs.prototype,"graphic",void 0),u([h({readOnly:!0})],fs.prototype,"contentElement",void 0),u([h({readOnly:!0})],fs.prototype,"contentElementViewModel",void 0),u([h()],fs.prototype,"interceptor",void 0),u([h()],fs.prototype,"spatialReference",null),u([h({readOnly:!0})],fs.prototype,"state",null),u([h()],fs.prototype,"map",null),u([h()],fs.prototype,"view",void 0),fs=u([B("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],fs);const I4=fs,TS={iconLoading:"esri-icon-loading-indicator esri-rotating",base:"esri-feature-expression",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"};let p$=class extends En{constructor(e,t){super(e,t),this.viewModel=new I4}initialize(){this.own(fe(()=>{var e;return(e=this.viewModel)==null?void 0:e.contentElementViewModel},()=>this._setupExpressionWidget(),At))}destroy(){this._destroyContentWidget()}renderLoading(){return V("div",{key:"loading-container",class:TS.loadingSpinnerContainer},V("span",{class:this.classes(TS.iconLoading,TS.spinner)}))}render(){var t;const{state:e}=this.viewModel;return V("div",{class:TS.base},e==="loading"?this.renderLoading():e==="disabled"?null:(t=this._contentWidget)==null?void 0:t.render())}_destroyContentWidget(){const{_contentWidget:e}=this;e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:e,contentElement:t}=this.viewModel,r=t==null?void 0:t.type;this._destroyContentWidget();const n=e?r==="fields"?new ate({viewModel:e}):r==="media"?new Vte({viewModel:e}):r==="text"?new t$({viewModel:e}):null:null;this._contentWidget=n,this.scheduleRender()}};u([h({type:I4})],p$.prototype,"viewModel",void 0),p$=u([B("esri.widgets.Feature.FeatureExpression")],p$);const aLe=p$;class lLe{constructor(t,r){this.preLayerQueryCallback=t,this.preRequestCallback=r,this.preLayerQueryCallback||(this.preLayerQueryCallback=n=>{}),this.preRequestCallback||(this.preLayerQueryCallback=n=>{})}}var h$;const cLe=1,jB="content-view-models",kne="esri.widgets.FeatureViewModel",uLe=Ce.getLogger(kne),BB={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let Wr=h$=class extends Ve{constructor(e){super(e),this._handles=new bn,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=H5(this._graphicChanged,cLe,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...BB},this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=t=>{const{abilities:r}=this;return t.type==="attachments"&&r.attachmentsContent||t.type==="custom"&&r.customContent||t.type==="fields"&&r.fieldsContent||t.type==="media"&&r.mediaContent||t.type==="text"&&r.textContent||t.type==="expression"&&r.expressionContent},this._handles.add(fe(()=>[this.graphic,this._effectivePopupTemplate,this.abilities],()=>this.graphicChangedThrottled(),At))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return G(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return HEe(a9(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return Zee(this.graphic)}castAbilities(e){return{...BB,...e}}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",e?e.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(e){e!==void 0?this._override("spatialReference",e):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(e){e!==void 0?this._override("map",e):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const r=this.contentViewModels[e];r instanceof Tf&&r.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof Tf&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof Tf&&t.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}async _graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear();const{graphic:e}=this;if(!e)return;const t=new AbortController;this._featureAbortController=t;try{await this._queryFeature({signal:t.signal})}catch(r){Gi(r)||(this._error=r,uLe.error("error","The popupTemplate could not be displayed for this feature.",{error:r,graphic:e,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this;e&&e.abort(),this._featureAbortController=null}_compileContentElement(e,t){return e.type==="attachments"?this._compileAttachments(e,t):e.type==="custom"?this._compileCustom(e,t):e.type==="fields"?this._compileFields(e,t):e.type==="media"?this._compileMedia(e,t):e.type==="text"?this._compileText(e,t):e.type==="expression"?this._compileExpression(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((t,r)=>this._compileContentElement(t,r)):typeof e=="string"?this._compileText(new d0({text:e}),0).text:e}_destroyContentViewModels(){var e;(e=this._handles)==null||e.remove(jB),this.contentViewModels.forEach(t=>t&&!t.destroyed&&t.destroy()),this._set("contentViewModels",[])}_setExpressionContentVM(e,t){const{formattedAttributes:r}=this,{contentElement:n,contentElementViewModel:i}=e,o=n==null?void 0:n.type;i&&o&&(o==="fields"&&(this._createFieldsFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:r}),i.set(this._createFieldsVMParams(n,t))),o==="media"&&(this._createMediaFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:r}),i.set(this._createMediaVMParams(n,t))),o==="text"&&i.set(this._createTextVMParams(n)))}_compileExpression(e,t){const{expressionInfo:r}=e,{graphic:n,map:i,spatialReference:o,view:s}=this,a=new I4({expressionInfo:r,graphic:n,interceptor:h$.interceptor,map:i,spatialReference:o,view:s});return this.contentViewModels[t]=a,this._handles.add(fe(()=>a.contentElementViewModel,()=>this._setExpressionContentVM(a,t),At),jB),e}_compileAttachments(e,t){const{graphic:r}=this,{description:n,title:i}=e;return this.contentViewModels[t]=new J5({graphic:r,...this._compileTitleAndDesc({title:i,description:n})}),e}_compileCustom(e,t){const{graphic:r}=this,{creator:n,destroyer:i}=e;return this.contentViewModels[t]=new dE({graphic:r,creator:n,destroyer:i}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:r,_sourceLayer:n,graphic:i,formattedAttributes:o,_expressionAttributes:s}=this,{attributes:a}=i,l=o.global;return{title:If({attributes:a,fieldInfoMap:r,globalAttributes:l,expressionAttributes:s,layer:n,text:e}),description:If({attributes:a,fieldInfoMap:r,globalAttributes:l,expressionAttributes:s,layer:n,text:t})}}_createFieldsVMParams(e,t){var c;const{_effectivePopupTemplate:r,formattedAttributes:n}=this,i={...n.global,...n.content[t]},o=(c=(e==null?void 0:e.fieldInfos)||(r==null?void 0:r.fieldInfos))==null?void 0:c.filter(({fieldName:d})=>Qee(d)||Eu(d)||i.hasOwnProperty(d)),s=r==null?void 0:r.expressionInfos,{description:a,title:l}=e;return{attributes:i,expressionInfos:s,fieldInfos:o,...this._compileTitleAndDesc({title:l,description:a})}}_compileFields(e,t){const r=e.clone(),n=new YI(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=n,r.fieldInfos=n.formattedFieldInfos.slice(0),r}_createMediaVMParams(e,t){const{abilities:r,graphic:n,_fieldInfoMap:i,formattedAttributes:o,_effectivePopupTemplate:s,relatedInfos:a,_sourceLayer:l,_expressionAttributes:c}=this,{attributes:d}=n,{description:p,mediaInfos:f,title:y}=e;return{abilities:{chartAnimation:r.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:d,layer:l,fieldInfoMap:i,formattedAttributes:{...o.global,...o.content[t]},expressionAttributes:c,mediaInfos:f,popupTemplate:s,relatedInfos:a,...this._compileTitleAndDesc({title:y,description:p})}}_compileMedia(e,t){const r=e.clone(),n=new Tf(this._createMediaVMParams(e,t));return r.mediaInfos=n.formattedMediaInfos.slice(0),this.contentViewModels[t]=n,r}_createTextVMParams(e){const{graphic:t,_fieldInfoMap:r,_sourceLayer:n,_expressionAttributes:i}=this;if(e&&e.text){const{attributes:o}=t,s=this.formattedAttributes.global;e.text=If({attributes:o,fieldInfoMap:r,globalAttributes:s,expressionAttributes:i,layer:n,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const r=e.clone();return this.contentViewModels[t]=new dE(this._createTextVMParams(r)),r}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:r}=this;if(!e)return;const{lastEditInfoEnabled:n}=e,i=t==null?void 0:t.editFieldsInfo;return n&&i?GEe(i,r.attributes):void 0}_compileTitle(e){const{_fieldInfoMap:t,_sourceLayer:r,graphic:n,_expressionAttributes:i}=this,{attributes:o}=n,s=this.formattedAttributes.global;return If({attributes:o,fieldInfoMap:t,globalAttributes:s,expressionAttributes:i,layer:r,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this,r=e==null?void 0:e.title;return cE(r,{graphic:t})}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this,r=e==null?void 0:e.content;return cE(r,{graphic:t})}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:r,graphic:n,_effectivePopupTemplate:i,spatialReference:o,map:s,view:a}=this,{content:{value:l},title:{value:c}}=await yn({content:this._getContent(),title:this._getTitle()});if(t!==this._featureAbortController||!n)return;await KEe({graphic:n,popupTemplate:i,layer:r,spatialReference:o},e);const{expressionAttributes:{value:d}}=await yn({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:oLe({expressionInfos:i==null?void 0:i.expressionInfos,spatialReference:o,graphic:n,map:s,interceptor:h$.interceptor,view:a})});t===this._featureAbortController&&n&&(this._expressionAttributes=d,this._graphicExpressionAttributes={...n.attributes,...d},this._set("formattedAttributes",this._createFormattedAttributes(l)),this._set("title",this._compileTitle(c)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(l)||null))}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){const{_effectivePopupTemplate:n,graphic:i,relatedInfos:o,_sourceLayer:s,_fieldInfoMap:a,_graphicExpressionAttributes:l}=this;r.content[t]=vk({fieldInfos:n==null?void 0:n.fieldInfos,graphic:i,attributes:{...l,...e.attributes},layer:s,fieldInfoMap:a,relatedInfos:o})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){if(e.fieldInfos){const{graphic:n,relatedInfos:i,_sourceLayer:o,_fieldInfoMap:s,_graphicExpressionAttributes:a}=this;r.content[t]=vk({fieldInfos:e.fieldInfos,graphic:n,attributes:{...a,...e.attributes},layer:o,fieldInfoMap:s,relatedInfos:i})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:r,relatedInfos:n,_sourceLayer:i,_fieldInfoMap:o,_graphicExpressionAttributes:s}=this,a=t==null?void 0:t.fieldInfos,l={global:vk({fieldInfos:a,graphic:r,attributes:s,layer:i,fieldInfoMap:o,relatedInfos:n}),content:[]};return Array.isArray(e)&&e.forEach((c,d)=>{c.type==="fields"&&this._createFieldsFormattedAttributes({contentElement:c,contentElementIndex:d,formattedAttributes:l}),c.type==="media"&&this._createMediaFormattedAttributes({contentElement:c,contentElementIndex:d,formattedAttributes:l})}),l}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:r}=this;return this._queryRelatedInfos(t,a9(r),e)}async _queryRelatedInfos(e,t,r){const{relatedInfos:n,_sourceLayer:i}=this;n.clear();const o=G(i.associatedLayer)?await i.associatedLayer.load(r):i;if(!o)return;const s=t.filter(c=>c&&Eu(c.fieldName));if(!s||!s.length)return;t.forEach(c=>this._configureRelatedInfo(c,o));const a=await xMe({relatedInfos:n,layer:o},r);Object.keys(a).forEach(c=>{var f;const d=n.get(c.toString()),p=(f=a[c])==null?void 0:f.value;d&&p&&(d.layerInfo=p.data)});const l=await SMe({graphic:e,relatedInfos:n,layer:o},r);Object.keys(l).forEach(c=>{var d;gMe((d=l[c])==null?void 0:d.value,n.get(c.toString()))})}_configureRelatedInfo(e,t){const{relatedInfos:r}=this,n=v3(e.fieldName);if(!n)return;const{layerId:i,fieldName:o}=n;if(!i)return;const s=r.get(i.toString())||yMe(i,t);s&&(CMe({relatedInfo:s,fieldName:o,fieldInfo:e}),this.relatedInfos.set(i,s))}};Wr.interceptor=new lLe(YEe,QEe),u([h()],Wr.prototype,"_error",void 0),u([h()],Wr.prototype,"_featureAbortController",void 0),u([h({readOnly:!0})],Wr.prototype,"_effectivePopupTemplate",null),u([h({readOnly:!0})],Wr.prototype,"_fieldInfoMap",null),u([h({readOnly:!0})],Wr.prototype,"_sourceLayer",null),u([h()],Wr.prototype,"abilities",void 0),u([zt("abilities")],Wr.prototype,"castAbilities",null),u([h({readOnly:!0})],Wr.prototype,"content",void 0),u([h({readOnly:!0})],Wr.prototype,"contentViewModels",void 0),u([h({type:Boolean})],Wr.prototype,"defaultPopupTemplateEnabled",void 0),u([h({readOnly:!0})],Wr.prototype,"state",null),u([h({readOnly:!0})],Wr.prototype,"formattedAttributes",void 0),u([h({type:Jo,value:null})],Wr.prototype,"graphic",null),u([h({readOnly:!0})],Wr.prototype,"lastEditInfo",void 0),u([h({readOnly:!0})],Wr.prototype,"relatedInfos",void 0),u([h()],Wr.prototype,"spatialReference",null),u([h({readOnly:!0})],Wr.prototype,"title",void 0),u([h()],Wr.prototype,"map",null),u([h({readOnly:!0})],Wr.prototype,"waitingForContent",null),u([h()],Wr.prototype,"view",void 0),Wr=h$=u([B(kne)],Wr);const M4=Wr,Pne=e=>{let t=class extends e{constructor(){super(...arguments),this.renderNodeContent=r=>pE(r)&&!r.destroyed?V("div",{key:r},r.render()):r instanceof HTMLElement?V("div",{key:r,bind:r,afterCreate:this._attachToNode}):ste(r)?V("div",{key:r,bind:r.domNode,afterCreate:this._attachToNode}):null}_attachToNode(r){const n=this;r.appendChild(n)}};return t=u([B("esri.widgets.Feature.ContentMixin")],t),t},yi={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:"esri-feature",container:"esri-feature__size-container",title:"esri-feature__title",main:"esri-feature__main-container",btn:"esri-feature__button",icon:"esri-feature__icon",content:"esri-feature__content",contentElement:"esri-feature__content-element",text:"esri-feature__text",lastEditedInfo:"esri-feature__last-edited-info",fields:"esri-feature__fields",fieldHeader:"esri-feature__field-header",fieldData:"esri-feature__field-data",fieldDataDate:"esri-feature__field-data--date",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"},UB={title:!0,content:!0,lastEditedInfo:!0};let gi=class extends Pne(En){constructor(e,t){super(e,t),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements={...UB},this.map=null,this.view=null,this.viewModel=new M4}initialize(){this.own(fe(()=>{var e;return(e=this.viewModel)==null?void 0:e.contentViewModels},()=>this._setupContentWidgets(),At))}loadDependencies(){return ae(()=>import("./calcite-notice.8830036a.js"),[],import.meta.url)}destroy(){this._destroyContentWidgets()}castVisibleElements(e){return{...UB,...e}}render(){const{state:e}=this.viewModel,t=V("div",{class:yi.container,key:"container"},this.renderTitle(),e==="error"?this.renderError():e==="loading"?this.renderLoading():this.renderContentContainer());return V("div",{class:this.classes(yi.base,yi.esriWidget)},t)}setActiveMedia(e,t){this.viewModel.setActiveMedia(e,t)}nextMedia(e){this.viewModel.nextMedia(e)}previousMedia(e){this.viewModel.previousMedia(e)}renderError(){const{messagesCommon:e,messages:t,visibleElements:r}=this;return V("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},r.title?V("div",{key:"error-title",slot:"title"},e.errorMessage):null,V("div",{key:"error-message",slot:"message"},t.loadingError))}renderLoading(){return V("div",{key:"loading-container",class:yi.loadingSpinnerContainer},V("span",{class:this.classes(yi.iconLoading,yi.spinner)}))}renderContentContainer(){const{visibleElements:e}=this;return e.content?V("div",{class:yi.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:e,title:t}=this;return e.title?V(Op,{level:this.headingLevel,class:yi.title,innerHTML:t}):null}renderContent(){const e=this.viewModel.content,t="content";if(!e)return null;if(Array.isArray(e))return e.length?V("div",{key:`${t}-content-elements`},e.map(this.renderContentElement,this)):null;if(typeof e=="string"){const r=this._contentWidgets[0];return!r||r.destroyed?null:V("div",{key:`${t}-content`},r.render())}return this.renderNodeContent(e)}renderContentElement(e,t){const{visibleElements:r}=this;if(typeof r.content!="boolean"&&!r.content[e.type])return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);case"expression":return this.renderExpression(t);default:return null}}renderAttachments(e){const t=this._contentWidgets[e];if(!t||t.destroyed)return null;const{state:r,attachmentInfos:n}=t.viewModel;return r==="loading"||n.length>0?V("div",{key:this._buildKey("attachments-element",e),class:this.classes(yi.contentElement)},t.render()):null}renderExpression(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:V("div",{key:this._buildKey("expression-element",e),class:yi.contentElement},t.render())}renderCustom(e,t){const{creator:r}=e,n=this._contentWidgets[t];return!n||n.destroyed?null:r?V("div",{key:this._buildKey("custom-element",t),class:yi.contentElement},n.render()):null}renderFields(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:V("div",{key:this._buildKey("fields-element",e),class:yi.contentElement},t.render())}renderMedia(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:V("div",{key:this._buildKey("media-element",e),class:yi.contentElement},t.render())}renderLastEditInfo(){const{visibleElements:e,messages:t}=this,{lastEditInfo:r}=this.viewModel;if(!r||!e.lastEditedInfo)return null;const{date:n,user:i}=r,o=r.type==="edit"?i?t.lastEditedByUser:t.lastEdited:i?t.lastCreatedByUser:t.lastCreated,s=ea(o,{date:n,user:i});return V("div",{key:"edit-info-element",class:this.classes(yi.lastEditedInfo,yi.contentElement)},s)}renderText(e,t){const r=e.text,n=this._contentWidgets[t];return!n||n.destroyed?null:r?V("div",{key:this._buildKey("text-element",t),class:this.classes(yi.contentElement,yi.text)},n.render()):null}_buildKey(e,...t){return`${e}__${this.get("viewModel.graphic.uid")||"0"}-${t.join("-")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(e=>this._destroyContentWidget(e)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:e,visibleElements:t}=this,r=this.get("viewModel.content"),{contentViewModels:n}=this.viewModel;if(Array.isArray(r))r.forEach((i,o)=>{i.type==="attachments"&&(this._contentWidgets[o]=new iIe({displayType:i.displayType,headingLevel:t.title?e+1:e,viewModel:n[o]})),i.type==="fields"&&(this._contentWidgets[o]=new ate({viewModel:n[o]})),i.type==="media"&&(this._contentWidgets[o]=new Vte({viewModel:n[o]})),i.type==="text"&&(this._contentWidgets[o]=new t$({viewModel:n[o]})),i.type==="custom"&&(this._contentWidgets[o]=new t$({viewModel:n[o]})),i.type==="expression"&&(this._contentWidgets[o]=new aLe({viewModel:n[o]}))},this);else{const i=n[0];i&&!i.destroyed&&(this._contentWidgets[0]=new t$({viewModel:i}))}this.scheduleRender()}};u([Oe("viewModel.graphic")],gi.prototype,"graphic",void 0),u([Oe("viewModel.defaultPopupTemplateEnabled")],gi.prototype,"defaultPopupTemplateEnabled",void 0),u([h()],gi.prototype,"headingLevel",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],gi.prototype,"label",void 0),u([h(),sn("esri/widgets/Feature/t9n/Feature")],gi.prototype,"messages",void 0),u([h(),sn("esri/t9n/common")],gi.prototype,"messagesCommon",void 0),u([h(),sn("esri/widgets/support/t9n/uriUtils")],gi.prototype,"messagesURIUtils",void 0),u([Oe("viewModel.spatialReference")],gi.prototype,"spatialReference",void 0),u([Oe("viewModel.title")],gi.prototype,"title",void 0),u([h()],gi.prototype,"visibleElements",void 0),u([zt("visibleElements")],gi.prototype,"castVisibleElements",null),u([Oe("viewModel.map")],gi.prototype,"map",void 0),u([Oe("viewModel.view")],gi.prototype,"view",void 0),u([h({type:M4})],gi.prototype,"viewModel",void 0),gi=u([B("esri.widgets.Feature")],gi);const dLe=gi;var One;const f$=Symbol("anchorHandles");let Wh=class extends Ku.EventedAccessor{constructor(e){super(e),this[One]=new bn,this.location=null,this.screenLocationEnabled=!1,this.view=null,this[f$].add([qi(()=>hc(this.screenLocationEnabled?this.view:null,t=>[t.size,t.type==="3d"?t.camera:t.viewpoint]),()=>this.notifyChange("screenLocation")),fe(()=>this.screenLocation,(t,r)=>{G(t)&&G(r)&&this.emit("view-change")})])}destroy(){this.view=null,this[f$]=ko(this[f$])}get screenLocation(){const{location:e,view:t,screenLocationEnabled:r}=this;return r&&G(e)&&G(t)&&t.ready?t.toScreen(e):null}};One=f$,u([h()],Wh.prototype,"location",void 0),u([h()],Wh.prototype,"screenLocation",null),u([h()],Wh.prototype,"screenLocationEnabled",void 0),u([h()],Wh.prototype,"view",void 0),Wh=u([B("esri.widgets.support.AnchorElementViewModel")],Wh);const Lne=Wh,pLe="esri.widgets.CompassViewModel";let m$=class extends Lne{constructor(e){super(e),this.visible=!1}};u([h()],m$.prototype,"visible",void 0),m$=u([B(pLe)],m$);const Rne=m$,Xk={base:"esri-spinner",spinnerStart:"esri-spinner--start",spinnerFinish:"esri-spinner--finish"};let Kh=class extends En{constructor(e,t){super(e,t),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new Rne,this.visible=!1}initialize(){this.own([fe(()=>this.visible,e=>this._visibleChange(e))])}destroy(){this._animationPromise=null}show(e){const{location:t,promise:r}=e;t&&(this.viewModel.location=t),this.visible=!0;const n=()=>this.hide();r&&r.catch(()=>{}).then(n)}hide(){this.visible=!1}render(){const{visible:e}=this,{screenLocation:t}=this.viewModel,r=!!t,n=e&&r,i=!e&&r,o={[Xk.spinnerStart]:n,[Xk.spinnerFinish]:i},s=this._getPositionStyles();return V("div",{class:this.classes(Xk.base,o),styles:s})}_visibleChange(e){if(e)return void(this.viewModel.screenLocationEnabled=!0);const t=qN(this._animationDelay);this._animationPromise=t,t.catch(()=>{}).then(()=>{this._animationPromise===t&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:e,view:t}=this.viewModel;if(te(t)||te(e))return{};const{padding:r}=t;return{left:e.x-r.left+"px",top:e.y-r.top+"px"}}};u([Oe("viewModel.location")],Kh.prototype,"location",void 0),u([Oe("viewModel.view")],Kh.prototype,"view",void 0),u([h({type:Rne})],Kh.prototype,"viewModel",void 0),u([Oe("viewModel.visible")],Kh.prototype,"visible",void 0),Kh=u([B("esri.widgets.Spinner")],Kh);const hLe=Kh;class fLe{constructor(t,r){this.owner=r,this.properties={},this.afterDispatchHandle=null;for(const n in t){const i=t[n],o=new cK(i,null,null,2,2);this.properties[n]={pool:o,acquired:[]}}this.afterDispatchHandle=Fde(()=>this._release())}destroy(){this.afterDispatchHandle&&(this.afterDispatchHandle.remove(),this.afterDispatchHandle=null);for(const t in this.properties){const r=this.properties[t];for(const n of r.acquired)g6(n)||r.pool.release(n);r.pool.destroy(),r.pool=null,r.acquired=null}this.properties=null,this.owner=null}get(t){const r=this.owner._get(t),n=this.properties[t];let i=n.pool.acquire();for(n.acquired.push(i);i===r;)n.acquired.push(i),i=n.pool.acquire();return i}_release(){for(const t in this.properties){const r=this.properties[t];let n=0;for(const i of r.acquired)g6(i)?r.acquired[n++]=i:r.pool.release(i);r.acquired.length=n}}}const mLe=oe("mac")?"Meta":"Ctrl",lM={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let e=48;e<58;e++)lM[e]=String.fromCharCode(e);for(let e=1;e<25;e++)lM[111+e]=`F${e}`;for(let e=65;e<91;e++)lM[e]=[String.fromCharCode(e+32),String.fromCharCode(e)];function yLe(e){if(e.key!==void 0)return tf(e);const t=lM[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function gLe(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}class vLe{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const r=t.modifiers;for(const n of this.keyModifiers)if(!r.has(n))return!1;return!0}}const GB=Ce.getLogger("esri.views.input.InputHandler");class hi{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const r=this._incoming[t];for(const n of r)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager?GB.error("This InputHandler has already been registered with an InputManager"):(t.setEventCallback(r=>this._handleEvent(r)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,n){let i;typeof r=="function"?(n=r,i=[]):i=r||[];const o=typeof t=="string"?new vLe(t,i):t,s=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},a=d=>{const p=this._incoming[d.match.eventType];if(p){const f=p.indexOf(d);p.splice(f,1),s(),this._manager&&this._manager.updateDependencies()}},l=new bLe(o,n,{onPause:a,onRemove:a,onResume:d=>{const p=this._incoming[d.match.eventType];p&&!p.includes(d)&&(p.push(d),s(),this._manager&&this._manager.updateDependencies())}});let c=this._incoming[o.eventType];return c||(c=[],this._incoming[o.eventType]=c),c.push(l),s(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw Error("There is already a callback registered for this outgoing InputEvent: "+t);const r=new wLe(t,{onEmit:(n,i,o,s)=>{this._manager.emit(n.eventType,i,o,s)},onRemove:n=>{delete this._outgoing[n.eventType],this._manager.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){this._manager.setPointerCapture(t,!0)}stopCapturingPointer(t){this._manager.setPointerCapture(t,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):GB.error("This InputHandler is not registered with an InputManager")}_handleEvent(t){const r=this._incoming[t.type];if(r){for(const n of r)if(n.match.matches(t)&&(n.callback(t),t.shouldStopPropagation()))break}}}class bLe{constructor(t,r,n){this.match=t,this._callback=r,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class wLe{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,n){this._removed||this._handler.onEmit(this,t,r,n)}remove(){this._removed=!0,this._handler.onRemove(this)}}class _Le extends hi{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",r=>{const n=r.data.native.pointerType==="touch";this._setValue(n?"touch":"mouse",r.data.x,r.data.y)})}_setValue(t,r,n){t===this._value&&this._x===r&&this._y===n||(this._value=t,this._x=r,this._y=n,this._onChange(t,r,n))}}const eP=Ce.getLogger("esri.views.input.InputManager");let Dd=class extends Ve{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=mLe,this.latestPointerType="mouse",this._propertiesPool=new fLe({latestPointerLocation:SLe},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource=null,this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}installHandlers(e,t,r=Fp.INTERNAL){if(this._nameToGroup[e])return void eP.error("There is already an InputHandler group registered under the name `"+e+"`");if(t.length===0)return void eP.error("Can't register a group of zero handlers");const n={name:e,handlers:t.map(i=>({handler:i,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=n;for(let i=n.handlers.length-1;i>=0;i--){const o=n.handlers[i];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(s,a,l,c,d)=>{this._emitInputEvent(o.priorityIndex+1,s,a,l,d,c)},setPointerCapture:(s,a)=>{this._setPointerCapture(n,o,s,a)},setEventCallback:s=>{o.eventCallback=s},setUninstallCallback:s=>{o.uninstallCallback=s},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach(r=>{r.removed=!0,r.uninstallCallback()}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):eP.error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const n=this._handlers[r];n.priorityIndex=r,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const n=this._handlersPriority[r];n.priorityIndex=r;let i=n.handler.hasSideEffects;if(!i){for(const o of n.handler.outgoingEventTypes)if(e.has(o)){i=!0;break}}if(i)for(const o of n.handler.incomingEventMatches){e.add(o.eventType);for(const s of o.keyModifiers)gLe(s)||t.add(s)}n.active=i}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,r){this._get("latestPointerType")!==e&&this._set("latestPointerType",e);const n=this._get("latestPointerLocation");if(te(n)||n.x!==t||n.y!==r){const i=this._propertiesPool.get("latestPointerLocation");i.x=t,i.y=r,this._set("latestPointerLocation",i)}}_onEventReceived(e,t){if(e==="pointer-capture-lost"){const i=t;this._pointerCaptures.delete(i.native.pointerId)}this._updateKeyModifiers(e,t);const r=this.test.timestamp!=null?this.test.timestamp:t.native?t.native.timestamp:void 0,n=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,n)}_updateKeyModifiers(e,t){if(!t)return;let r=!1;const n=()=>{if(!r){const s=new Set;this._activeKeyModifiers.forEach(a=>{s.add(a)}),this._activeKeyModifiers=s,r=!0}},i=(s,a)=>{a&&!this._activeKeyModifiers.has(s)?(n(),this._activeKeyModifiers.add(s)):!a&&this._activeKeyModifiers.has(s)&&(n(),this._activeKeyModifiers.delete(s))};if(e==="key-down"||e==="key-up"){const s=t.key;this._keyModifiers.has(s)&&i(s,e==="key-down")}const o=t.native;i("Alt",!(!o||!o.altKey)),i("Ctrl",!(!o||!o.ctrlKey)),i("Shift",!(!o||!o.shiftKey)),i("Meta",!(!o||!o.metaKey)),i("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new _Le((e,t,r)=>this._setLatestPointer(e,t,r)),this.installHandlers("input-manager-logic",[this._latestPointerHandler],Fp.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Fp.INTERNAL)}_setPointerCapture(e,t,r,n){const i=e.name+"-"+t.priorityIndex,o=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,o),n?(o.add(i),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):o.has(i)&&(o.delete(i),o.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,t,r,n){this._emitInputEvent(0,e,t,r,n)}_emitInputEvent(e,t,r,n,i,o){const s=n!==void 0?n:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=i!==void 0&&i,l={event:new xLe(t,r,s,o||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}_doNewPropagation(e){this._currentPropagation={events:new tE,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=this._currentPropagation;if(e){for(;this._currentPropagation.events.length>0;){const{event:t,priorityIndex:r}=this._currentPropagation.events.pop(),n=t.data&&t.data.eventId;if(!(n!=null&&this._stoppedPropagationEventIds.has(n)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback(t),t.shouldStopPropagation()){n!=null&&this._stoppedPropagationEventIds.add(n);break}if(t.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const t=new tE;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const n of t.handler.incomingEventMatches){if(r.eventType!==n.eventType)continue;const i=r.keyModifiers.filter(o=>n.keyModifiers.includes(o));if(i.length===r.keyModifiers.length!=(i.length===n.keyModifiers.length))return r.keyModifiers.length>n.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const r of e){let n=0;for(;n<t.length&&this._compareHandlerPriority(r,t[n])>=0;)n++;t.splice(n,0,r)}return t}get debug(){const e=t=>{const r=this._setPointerCapture;this._setPointerCapture=()=>{},t(),this._setPointerCapture=r};return{injectEvent:(t,r)=>{e(()=>{this._onEventReceived(t,r)})},disablePointerCapture:e}}};u([h({readOnly:!0})],Dd.prototype,"hasPendingInputs",null),u([h()],Dd.prototype,"eventSource",void 0),u([h()],Dd.prototype,"recognizers",void 0),u([h({readOnly:!0})],Dd.prototype,"latestPointerType",void 0),u([h({readOnly:!0})],Dd.prototype,"latestPointerLocation",void 0),Dd=u([B("esri.views.input.InputManager")],Dd);class xLe{constructor(t,r,n,i,o){this.type=t,this.data=r,this.timestamp=n,this.modifiers=i,this.cancelable=o,this._propagationState=rp.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=rp.STOPPED}shouldStopPropagation(){return(this._propagationState&rp.STOPPED)!=0}async(t){this._propagationState|=rp.PAUSED;const r=(n,i)=>{this._propagationState&=~rp.PAUSED;const o=this._resumeCallback;if(this._resumeCallback=null,o&&o(),i)throw n;return n};return(typeof t=="function"?t():t).then(n=>r(n,!1),n=>r(n,!0))}shouldPausePropagation(t){return!!(this._propagationState&rp.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}}var rp;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(rp||(rp={}));const Fp={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class SLe{}function HB(e){return e&&typeof e.highlight=="function"}const cM={iconZoom:"esri-icon-zoom-in-magnifying-glass",iconTrash:"esri-icon-trash",iconBrowseClusteredFeatures:"esri-icon-table"},Pf=new K0({id:"zoom-to-feature",title:"{messages.zoom}",className:cM.iconZoom}),qB=new K0({id:"remove-selected-feature",title:"{messages.remove}",className:cM.iconTrash}),gg=new K0({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:cM.iconZoom}),vg=new K0({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:cM.iconBrowseClusteredFeatures}),CLe="esri.widgets.Popup.PopupViewModel",_E=Ce.getLogger(CLe),$Le=e=>{const{event:t,view:r}=e,{action:n}=t,i=r&&r.popup;if(!n)return Promise.reject(new Z("trigger-action:missing-arguments","Event has no action"));if(!i)return Promise.reject(new Z("trigger-action:missing-arguments","view.popup is missing"));const{disabled:o,id:s}=n;if(!s)return Promise.reject(new Z("trigger-action:invalid-action","action.id is missing"));if(o)return Promise.reject(new Z("trigger-action:invalid-action","Action is disabled"));if(s===Pf.id)return ILe(i.viewModel).catch(YO);if(s===gg.id)return MLe(i.viewModel);if(s===vg.id)return i.featureMenuOpen=!i.featureMenuOpen,i.viewModel.browseClusterEnabled=!i.viewModel.browseClusterEnabled,Promise.resolve();if(i.viewModel.browseClusterEnabled=!1,s===qB.id){i.close();const{selectedFeature:a}=i;if(!a)return Promise.reject(new Z(`trigger-action:${qB.id}`,"selectedFeature is required",{selectedFeature:a}));const{sourceLayer:l}=a;return l?l.remove(a):r.graphics.remove(a),Promise.resolve()}return Promise.resolve()};function Ane(e){const{selectedFeature:t,location:r,view:n}=e;return n?n.type==="3d"?t||r:e.get("selectedFeature.geometry")||r:null}function df(e){var t,r;return(e==null?void 0:e.isAggregate)&&((r=(t=e==null?void 0:e.sourceLayer)==null?void 0:t.featureReduction)==null?void 0:r.type)==="cluster"}function ELe(e,t){if((t==null?void 0:t.type)!=="3d"||!e||e.declaredClass!=="esri.Graphic")return!0;const r=t.getViewForGraphic(e);if(r&&"whenGraphicBounds"in r){let n=!1;return r.whenGraphicBounds(e,{useViewElevation:!0}).then(i=>{n=!i||!i.boundingBox||i.boundingBox[0]===i.boundingBox[3]&&i.boundingBox[1]===i.boundingBox[4]&&i.boundingBox[2]===i.boundingBox[5]}).catch(()=>{const i=new Z("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:e});_E.error(i)}),n}return!0}async function ILe(e){const{location:t,selectedFeature:r,view:n,zoomFactor:i}=e,o=Ane(e);if(!o){const c=new Z("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:o,view:n});throw _E.error(c),c}const s=n.scale/i,a=e.get("selectedFeature.geometry")||t,l=a&&a.type==="point"&&ELe(r,n);Pf.active=!0,Pf.disabled=!0;try{await e.view.goTo({target:o,scale:l?s:void 0})}finally{Pf.active=!1,Pf.disabled=!1,e.zoomToLocation=null,l&&(e.location=a)}}async function MLe(e){const{selectedFeature:t,view:r}=e;if((r==null?void 0:r.type)!=="2d"){const a=new Z("zoomToCluster:invalid-view","View must be 2d MapView.",{view:r});throw _E.error(a),a}if(!df(t)){const a=new Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw _E.error(a),a}const n=t.sourceLayer,i=await r.whenLayerView(n),o=i.createQuery();o.aggregateIds=[t.getObjectId()],gg.active=!0,gg.disabled=!0;const{extent:s}=await i.queryExtent(o);await r.goTo({target:s}),gg.active=!1,gg.disabled=!1}async function TLe(e){const{selectedFeature:t,view:r}=e,n=t.sourceLayer,i=await r.whenLayerView(n),o=i.createQuery();o.aggregateIds=[t.getObjectId()];const{extent:s}=await i.queryExtent(o);e.selectedClusterBoundaryFeature.geometry=s,r.graphics.add(e.selectedClusterBoundaryFeature)}async function kLe(e){const{selectedFeature:t,view:r}=e,n=t.sourceLayer,i=await r.whenLayerView(n),o=i.createQuery();o.aggregateIds=[t.getObjectId()],vg.active=!0,vg.disabled=!0;const{features:s}=await i.queryFeatures(o);vg.active=!1,vg.disabled=!1,r.popup.open({features:[t].concat(s),featureMenuOpen:!0})}function PLe(e){const t=e.features.filter(r=>df(r));t.length&&(e.features=t)}const T4=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:n}=this;return this.goToOverride?this.goToOverride(n,r):n.goTo(r.target,r.options)}};return u([h()],t.prototype,"goToOverride",void 0),u([h()],t.prototype,"view",void 0),t=u([B("esri.widgets.support.GoTo")],t),t},Gw=We.ofType({key:"type",defaultKeyValue:"button",base:BI,typeMap:{button:K0,toggle:UQ}}),OLe=()=>[Pf.clone()],LLe=()=>[gg.clone(),vg.clone()],Fne="esri.widgets.Popup.PopupViewModel",kS=Ce.getLogger(Fne);let Tt=class extends T4(Lne){constructor(e){super(e),this._handles=new bn,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new Gw,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new Jo({symbol:new Lc({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(e=>e.waitingForContent)}initialize(){this._handles.add([fe(()=>[this.autoOpenEnabled,this.view],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),fe(()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view],()=>this._highlightSelectedFeature()),fe(()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view],()=>this._highlightActiveFeature()),fe(()=>{var e,t;return(t=(e=this.view)==null?void 0:e.animation)==null?void 0:t.state},e=>this._animationStateChange(e)),fe(()=>this.location,e=>this._locationChange(e)),fe(()=>this.selectedFeature,e=>this._selectedFeatureChange(e)),fe(()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage],()=>this._selectedFeatureIndexChange()),fe(()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels],()=>this._setGraphicOnFeatureViewModels()),fe(()=>this.featureViewModels,()=>this._featureViewModelsChange()),this.on("trigger-action",e=>$Le({event:e,view:this.view})),qi(()=>!this.waitingForResult,()=>this._waitingForResultChange(),r0),fe(()=>{var e,t;return[this.features,(e=this.view)==null?void 0:e.map,(t=this.view)==null?void 0:t.spatialReference]},()=>this._updateFeatureVMs()),fe(()=>{var e;return(e=this.view)==null?void 0:e.scale},()=>this._viewScaleChange()),qi(()=>!this.visible,()=>this.browseClusterEnabled=!1),fe(()=>this.browseClusterEnabled,e=>e?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get("allActions")||new Gw;e.removeAll();const{actions:t,defaultActions:r,defaultPopupTemplateEnabled:n,includeDefaultActions:i,selectedFeature:o}=this,s=i?r.concat(t):t,a=o&&(typeof o.getEffectivePopupTemplate=="function"&&o.getEffectivePopupTemplate(n)||o.popupTemplate),l=a&&a.actions,c=a&&a.overwriteActions?l:l?l.concat(s):s;return c&&c.filter(Boolean).forEach(d=>e.add(d)),e}get defaultActions(){const e=this._get("defaultActions")||new Gw;return e.removeAll(),e.addMany(df(this.selectedFeature)?LLe():OLe()),e}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(e){const t=e||[];this._set("features",t);const{pendingPromisesCount:r,promiseCount:n,selectedFeatureIndex:i}=this,o=n&&t.length;o&&r&&i===-1?this.selectedFeatureIndex=0:o&&i!==-1||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get("location")||null}set location(e){const t=this.get("view.spatialReference.isWebMercator");e&&e.get("spatialReference.isWGS84")&&t&&(e=kp(e)),this._set("location",e)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||this.featureCount!==0)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",e),(e=e.slice(0)).forEach(t=>{this._pendingPromises.add(t);const r=i=>{this._pendingPromises.has(t)&&this._updateFeatures(i),this._updatePendingPromises(t)},n=()=>this._updatePendingPromises(t);t.then(r,n)}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;return t===-1?null:e[t]||null}get selectedFeatureIndex(){const e=this._get("selectedFeatureIndex");return typeof e=="number"?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this.activeFeature=null,this._set("selectedFeatureIndex",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:e}=this,t=Ane(this);if(!t){const r=new Z("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:t,view:e});return kS.error(r),Promise.reject(r)}return this.callGoTo({target:{target:t,scale:e.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(e,t){const{view:r}=this;if(!r||!e){const n=new Z("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:e,view:r});return kS.error(n),Promise.reject(n)}return r.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...e,visible:!0},{fetchFeatures:r}=t;delete t.fetchFeatures,r&&this._setFetchFeaturesPromises(t.location);const n=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const i of n)delete t[i];this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit("trigger-action",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){PLe(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){const{view:e,selectedFeature:t}=this;(e==null?void 0:e.type)==="2d"?df(t)?(await TLe(this),await kLe(this)):kS.warn("enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.",t):kS.warn("enableClusterBrowsing:invalid-view: View must be 2d MapView.",t)}_animationStateChange(e){this.zoomToLocation||(Pf.disabled=e==="waiting-for-target")}_clearBrowsedClusterGraphics(){var t;const e=(t=this.view)==null?void 0:t.graphics;e&&(e.remove(this.selectedClusterBoundaryFeature),e.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(df(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=[this.selectedFeature])}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:r}=this;r&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:e,featureCount:t,featurePage:r,featuresPerPage:n,featureViewModels:i}=this;if(r===null)return;const o=((r-1)*n+t)%t,s=o+n;i.slice(o,s).forEach((a,l)=>{a&&!a.graphic&&(a.graphic=e[o+l])})}async _selectedFeatureChange(e){if(!e)return;const{location:t,updateLocationEnabled:r,view:n}=this;if(this.browseClusterEnabled)return this._selectedClusterFeature&&(n.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),df(e)?void 0:(e.symbol=await _Ce(e),this._selectedClusterFeature=e,void n.graphics.add(this._selectedClusterFeature));!r&&t||!e.geometry?r&&!e.geometry&&this.centerAtLocation().then(()=>{this.location=n.center.clone()}):this.location=this._getPointFromGeometry(e.geometry)}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then(t=>{const{clientOnlyGraphics:r,promisesPerLayerView:n}=t,i=Promise.resolve(r),o=n.map(s=>s.promise);this.promises=[i,...o]})}_destroyFeatureVMs(){this.featureViewModels.forEach(e=>e&&!e.destroyed&&e.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:e,features:t,featureViewModels:r}=this;if(df(e)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!t||!t.length)return;const n=r.slice(0),i=[];t.forEach((o,s)=>{var l,c;if(!o)return;let a=null;if(n.some((d,p)=>(d&&d.graphic===o&&(a=d,n.splice(p,1)),!!a)),a)i[s]=a;else{const d=new M4({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:(l=this.view)==null?void 0:l.spatialReference,graphic:o===e?o:null,map:(c=this.view)==null?void 0:c.map,view:this.view});i[s]=d}}),n.forEach(o=>o&&!o.destroyed&&o.destroy()),this._set("featureViewModels",i)}_getScreenPoint(e){const{view:t}=this;return t&&e&&typeof t.toScreen=="function"?t.toScreen(e):null}_autoOpenEnabledChange(){const e="auto-fetch-features",{_handles:t,autoOpenEnabled:r}=this;if(t.remove(e),r&&this.view){const n=this.view.on("click",i=>{i.pointerType==="mouse"&&i.button!==0||this._fetchFeaturesAndOpen(i)},Fp.WIDGET);t.add(n,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const r=new AbortController,{signal:n}=r;this._fetchFeaturesController=r,this.notifyChange("waitingForResult");const i=this.fetchFeatures(e,{signal:n,event:t});return i.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),i}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:r}=e,{view:n}=this;this._fetchFeaturesWithController(t,e).then(i=>{const{clientOnlyGraphics:o,promisesPerLayerView:s,location:a}=i,l=[Promise.resolve(o),...s.map(c=>c.promise)];return n.popup.open({location:a||r,promises:l}),i})}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(e){return te(e)?null:e.type==="point"?e:e.type==="extent"?e.center:e.type==="polygon"?e.centroid:e.type==="multipoint"||e.type==="polyline"?e.extent.center:null}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}_getHighlightLayer(e){const{layer:t,sourceLayer:r}=e;return(r==null?void 0:r.type)==="map-notes"||(r==null?void 0:r.type)==="subtype-group"?r:t}_getHighlightTarget(e,t){const r=t.type==="imagery"?void 0:"objectIdField"in t&&t.objectIdField,n=e.attributes;return n&&r&&n[r]||e}async _highlightActiveFeature(){const e="highlight-active-feature";this._handles.remove(e);const{highlightEnabled:t,view:r,activeFeature:n,visible:i}=this;if(!(n&&r&&t&&i))return;const o=this._getHighlightLayer(n);if(!(o&&o instanceof s0))return;const s=this._getLayerView(r,o);this._highlightActiveFeaturePromise=s;const a=await s;if(!(a&&HB(a)&&this._highlightActiveFeaturePromise===s&&this.activeFeature&&this.highlightEnabled))return;const l=a.highlight(this._getHighlightTarget(n,o));this._handles.add(l,e)}async _highlightSelectedFeature(){const e="highlight-selected-feature";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:r,view:n,visible:i}=this;if(!(t&&n&&r&&i))return;const o=this._getHighlightLayer(t);if(!(o&&o instanceof s0))return;const s=this._getLayerView(n,o);this._highlightSelectedFeaturePromise=s;const a=await s;if(!(a&&HB(a)&&this._highlightSelectedFeaturePromise===s&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const l=a.highlight(this._getHighlightTarget(t,o));this._handles.add(l,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const r=e.filter(n=>!t.includes(n));this.features=t.concat(r)}};u([h()],Tt.prototype,"featurePage",void 0),u([h()],Tt.prototype,"isLoadingFeature",null),u([h({type:Gw})],Tt.prototype,"actions",void 0),u([h({readOnly:!0})],Tt.prototype,"active",null),u([h()],Tt.prototype,"activeFeature",void 0),u([h({readOnly:!0})],Tt.prototype,"allActions",null),u([h({type:Boolean})],Tt.prototype,"defaultPopupTemplateEnabled",void 0),u([h()],Tt.prototype,"autoCloseEnabled",void 0),u([h()],Tt.prototype,"autoOpenEnabled",void 0),u([h()],Tt.prototype,"browseClusterEnabled",void 0),u([h()],Tt.prototype,"content",void 0),u([h({type:Gw,readOnly:!0})],Tt.prototype,"defaultActions",null),u([h({readOnly:!0})],Tt.prototype,"featureCount",null),u([h()],Tt.prototype,"features",null),u([h()],Tt.prototype,"featuresPerPage",void 0),u([h()],Tt.prototype,"featureViewModelAbilities",void 0),u([h({readOnly:!0})],Tt.prototype,"featureViewModels",void 0),u([h()],Tt.prototype,"highlightEnabled",void 0),u([h()],Tt.prototype,"includeDefaultActions",void 0),u([h({type:at})],Tt.prototype,"location",null),u([h({readOnly:!0})],Tt.prototype,"pendingPromisesCount",null),u([h({readOnly:!0})],Tt.prototype,"selectedClusterBoundaryFeature",void 0),u([h({readOnly:!0})],Tt.prototype,"waitingForResult",null),u([h({readOnly:!0})],Tt.prototype,"promiseCount",null),u([h()],Tt.prototype,"promises",null),u([h({value:null,readOnly:!0})],Tt.prototype,"selectedFeature",null),u([h({value:-1})],Tt.prototype,"selectedFeatureIndex",null),u([h({readOnly:!0})],Tt.prototype,"selectedFeatureViewModel",null),u([h({readOnly:!0})],Tt.prototype,"state",null),u([h()],Tt.prototype,"title",void 0),u([h()],Tt.prototype,"updateLocationEnabled",void 0),u([h()],Tt.prototype,"view",void 0),u([h()],Tt.prototype,"visible",void 0),u([h()],Tt.prototype,"zoomFactor",void 0),u([h()],Tt.prototype,"zoomToLocation",void 0),u([h()],Tt.prototype,"centerAtLocation",null),Tt=u([B(Fne)],Tt);const Nne=Tt,WB="selected-index",RLe=0,KB="popup-spinner",_e={iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:"esri-popup",widget:"esri-widget",main:"esri-popup__main-container",loadingContainer:"esri-popup__loading-container",isCollapsible:"esri-popup--is-collapsible",isCollapsed:"esri-popup--is-collapsed",shadow:"esri-popup--shadow",isDocked:"esri-popup--is-docked",isDockedTopLeft:"esri-popup--is-docked-top-left",isDockedTopCenter:"esri-popup--is-docked-top-center",isDockedTopRight:"esri-popup--is-docked-top-right",isDockedBottomLeft:"esri-popup--is-docked-bottom-left",isDockedBottomCenter:"esri-popup--is-docked-bottom-center",isDockedBottomRight:"esri-popup--is-docked-bottom-right",alignTopCenter:"esri-popup--aligned-top-center",alignBottomCenter:"esri-popup--aligned-bottom-center",alignTopLeft:"esri-popup--aligned-top-left",alignBottomLeft:"esri-popup--aligned-bottom-left",alignTopRight:"esri-popup--aligned-top-right",alignBottomRight:"esri-popup--aligned-bottom-right",isFeatureMenuOpen:"esri-popup--feature-menu-open",isActionsMenuOpen:"esri-popup--actions-menu-open",hasFeatureUpdated:"esri-popup--feature-updated",header:"esri-popup__header",headerButtons:"esri-popup__header-buttons",headerContainer:"esri-popup__header-container",headerContainerButton:"esri-popup__header-container--button",headerTitle:"esri-popup__header-title",content:"esri-popup__content",footer:"esri-popup__footer",footerHasPagination:"esri-popup__footer--has-pagination",footerHasActions:"esri-popup__footer--has-actions",footerHasActionsMenu:"esri-popup__footer--has-actions-menu",button:"esri-popup__button",buttonDisabled:"esri-popup__button--disabled",buttonDock:"esri-popup__button--dock",icon:"esri-popup__icon",iconDock:"esri-popup__icon--dock-icon",inlineActionsContainer:"esri-popup__inline-actions-container",actionsMenuButton:"esri-popup__actions-menu-button",actions:"esri-popup__actions",action:"esri-popup__action",actionImage:"esri-popup__action-image",actionText:"esri-popup__action-text",actionToggle:"esri-popup__action-toggle",actionToggleOn:"esri-popup__action-toggle--on",pointer:"esri-popup__pointer",pointerDirection:"esri-popup__pointer-direction",navigation:"esri-popup__navigation",paginationPrevious:"esri-popup__pagination-previous",paginationNext:"esri-popup__pagination-next",paginationPreviousIconLTR:"esri-popup__pagination-previous-icon",paginationPreviousIconRTL:"esri-popup__pagination-previous-icon--rtl",paginationNextIconLTR:"esri-popup__pagination-next-icon",paginationNextIconRTL:"esri-popup__pagination-next-icon--rtl",featureMenu:"esri-popup__feature-menu",featureMenuList:"esri-popup__feature-menu-list",featureMenuItem:"esri-popup__feature-menu-item",featureMenuViewport:"esri-popup__feature-menu-viewport",featureMenuHeader:"esri-popup__feature-menu-header",featureMenuNote:"esri-popup__feature-menu-note",featureMenuSelected:"esri-popup__feature-menu-item--selected",featureMenuButton:"esri-popup__feature-menu-button",featureMenuTitle:"esri-popup__feature-menu-title",featureMenuObserver:"esri-popup__feature-menu-observer",featureMenuLoader:"esri-popup__feature-menu-loader",collapseButton:"esri-popup__collapse-button"},JB={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},ZB="esri-popup";function Bc(e,t){return t===void 0?`${ZB}__${e}`:`${ZB}__${e}-${t}`}const Dne="esri.widgets.Popup",YB=Ce.getLogger(Dne),QB={closeButton:!0,featureNavigation:!0};let rt=class extends Pne(En){constructor(e,t){super(e,t),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new bn,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([r])=>{r!=null&&r.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=H5(()=>this._displaySpinner(),RLe),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new Nne,this.visible=null,this.visibleElements={...QB},this._addSelectedFeatureIndexHandle(),this.own([fe(()=>{var r;return(r=this.viewModel)==null?void 0:r.screenLocation},()=>this._positionContainer()),fe(()=>{var r;return[(r=this.viewModel)==null?void 0:r.active,this.dockEnabled]},()=>this._toggleScreenLocationEnabled()),fe(()=>{var r;return(r=this.viewModel)==null?void 0:r.screenLocation},(r,n)=>{!!r!=!!n&&this.reposition()}),fe(()=>{var r,n,i,o,s,a;return[(n=(r=this.viewModel)==null?void 0:r.view)==null?void 0:n.padding,(o=(i=this.viewModel)==null?void 0:i.view)==null?void 0:o.size,(s=this.viewModel)==null?void 0:s.active,(a=this.viewModel)==null?void 0:a.location,this.alignment]},()=>this.reposition()),fe(()=>this.spinnerEnabled,r=>this._spinnerEnabledChange(r)),fe(()=>{var r,n;return(n=(r=this.viewModel)==null?void 0:r.view)==null?void 0:n.size},(r,n)=>this._updateDockEnabledForViewSize(r,n)),fe(()=>{var r;return(r=this.viewModel)==null?void 0:r.view},(r,n)=>this._viewChange(r,n)),fe(()=>{var r,n;return(n=(r=this.viewModel)==null?void 0:r.view)==null?void 0:n.ready},(r,n)=>this._viewReadyChange(r,n)),fe(()=>{var r,n;return[(r=this.viewModel)==null?void 0:r.waitingForResult,(n=this.viewModel)==null?void 0:n.location]},()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),fe(()=>{var r,n,i,o;return[(n=(r=this.selectedFeatureWidget)==null?void 0:r.viewModel)==null?void 0:n.title,(o=(i=this.selectedFeatureWidget)==null?void 0:i.viewModel)==null?void 0:o.state]},()=>this._setTitleFromFeatureWidget()),fe(()=>{var r,n,i,o;return[(n=(r=this.selectedFeatureWidget)==null?void 0:r.viewModel)==null?void 0:n.content,(o=(i=this.selectedFeatureWidget)==null?void 0:i.viewModel)==null?void 0:o.state]},()=>this._setContentFromFeatureWidget()),qi(()=>!this.collapsed,()=>{var r,n;((n=(r=this.viewModel)==null?void 0:r.view)==null?void 0:n.widthBreakpoint)==="xsmall"&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),Vo(()=>{var r;return(r=this.viewModel)==null?void 0:r.allActions},"change",()=>this._watchActions()),fe(()=>{var r;return(r=this.viewModel)==null?void 0:r.allActions},()=>this._watchActions(),At),fe(()=>{var r;return(r=this.viewModel)==null?void 0:r.featureViewModels},()=>this._featureMenuViewportScrollTop())])}destroy(){var e,t;this._destroySelectedFeatureWidget(),this._destroySpinner(),(e=this._handles)==null||e.destroy(),this._unobserveFeatureMenuObserver(),(t=this._featureMenuIntersectionObserver)==null||t.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var e,t,r,n,i,o,s;return!!(this.selectedFeatureWidget?((t=(e=this.selectedFeatureWidget)==null?void 0:e.viewModel)==null?void 0:t.waitingForContent)||((n=(r=this.selectedFeatureWidget)==null?void 0:r.viewModel)==null?void 0:n.state)==="error"||((o=(i=this.selectedFeatureWidget)==null?void 0:i.viewModel)==null?void 0:o.content):(s=this.viewModel)==null?void 0:s.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(e){this._set("actionsMenuOpen",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||JB}set dockOptions(e){const t={...JB},r=this.get("viewModel.view.breakpoints"),n={};r&&(n.width=r.xsmall,n.height=r.xsmall);const i={...t,...e},o={...t.breakpoint,...n},{breakpoint:s}=i;s===!0?i.breakpoint=o:typeof s=="object"&&(i.breakpoint={...o,...s}),this._set("dockOptions",i),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:e,visibleElements:t,headingLevel:r}=this,{selectedFeatureViewModel:n}=this.viewModel,i={...t,title:!1};return n?(e?(e.viewModel=n,e.visibleElements=i):this._feature=new dLe({headingLevel:r+1,viewModel:n,visibleElements:i}),this._feature):null}castVisibleElements(e){return{...QB,...e}}blur(){const{active:e}=this.viewModel;e||YB.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||YB.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){var i,o;this._handles.remove(WB);const t=!!e&&!!e.featureMenuOpen,r=!!e&&!!e.actionsMenuOpen,n={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:r,featureMenuOpen:t};((o=(i=this.viewModel)==null?void 0:i.view)==null?void 0:o.widthBreakpoint)==="xsmall"&&(n.collapsed=!0),this.set(n),this.viewModel.open(e),this._shouldFocus(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){this.viewModel.triggerAction(e)}render(){var g,v,b,w;const{actionsMenuOpen:e,dockEnabled:t,featureMenuVisible:r,dividedActions:n,currentAlignment:i,currentDockPosition:o}=this,{active:s}=this.viewModel,{menuActions:a}=n,l=s&&a.length>1&&e,c=s&&t,d=s&&!t,p=(v=(g=this.selectedFeature)==null?void 0:g.layer)==null?void 0:v.title,f=(w=(b=this.selectedFeature)==null?void 0:b.layer)==null?void 0:w.id,y={[_e.alignTopCenter]:i==="top-center",[_e.alignBottomCenter]:i==="bottom-center",[_e.alignTopLeft]:i==="top-left",[_e.alignBottomLeft]:i==="bottom-left",[_e.alignTopRight]:i==="top-right",[_e.alignBottomRight]:i==="bottom-right",[_e.isDocked]:c,[_e.shadow]:d,[_e.isDockedTopLeft]:o==="top-left",[_e.isDockedTopCenter]:o==="top-center",[_e.isDockedTopRight]:o==="top-right",[_e.isDockedBottomLeft]:o==="bottom-left",[_e.isDockedBottomCenter]:o==="bottom-center",[_e.isDockedBottomRight]:o==="bottom-right",[_e.isFeatureMenuOpen]:r,[_e.isActionsMenuOpen]:l};return V("div",{class:this.classes(_e.base,y),role:"presentation","data-layer-title":p,"data-layer-id":f,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},s?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return V("span",{"aria-hidden":"true",class:this.classes(_e.icon,_e.iconLoading,_e.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?V("div",{key:Bc("loading-container"),role:"presentation",class:_e.loadingContainer,"aria-label":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=gl(this.container),t={[_e.iconRightTriangleArrow]:e,[_e.paginationPreviousIconRTL]:e,[_e.iconLeftTriangleArrow]:!e,[_e.paginationPreviousIconLTR]:!e};return V("span",{"aria-hidden":"true",class:this.classes(_e.icon,t)})}renderPreviousButton(){const{messages:e}=this;return V("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(_e.button,_e.paginationPrevious),"aria-label":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=gl(this.container),t={[_e.iconLeftTriangleArrow]:e,[_e.paginationNextIconRTL]:e,[_e.iconRightTriangleArrow]:!e,[_e.paginationNextIconLTR]:!e};return V("span",{"aria-hidden":"true",class:this.classes(_e.icon,t)})}renderNextButton(){const{messages:e}=this;return V("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(_e.button,_e.paginationNext),"aria-label":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:r}=this,{featureCount:n,selectedFeatureIndex:i}=this.viewModel;return V("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(_e.button,_e.featureMenuButton),"aria-haspopup":"true","aria-controls":t,"aria-expanded":e.toString(),"aria-label":r.menu,title:r.menu},this._getPageText(n,i))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),r={[_e.iconUndock]:e,[_e.iconDock]:!e,[_e.iconDockToRight]:!e&&(t==="top-right"||t==="bottom-right"),[_e.iconDockToLeft]:!e&&(t==="top-left"||t==="bottom-left"),[_e.iconDockToTop]:!e&&t==="top-center",[_e.iconDockToBottom]:!e&&t==="bottom-center"};return V("span",{"aria-hidden":"true",class:this.classes(r,_e.icon)})}renderDockButton(){var i,o,s;const{dockEnabled:e,messages:t}=this,r=(o=(i=this.viewModel)==null?void 0:i.view)==null?void 0:o.widthBreakpoint,n=e?t.undock:t.dock;return r!=="xsmall"&&((s=this.dockOptions)==null?void 0:s.buttonEnabled)?V("div",{role:"button","aria-label":n,title:n,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(_e.button,_e.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:r,contentCollapsed:n,messagesCommon:i}=this,o={[_e.headerContainerButton]:r},s=V(Op,{level:this.headingLevel,class:_e.headerTitle,innerHTML:e}),a=r?V("button",{key:`${e}--collapsible`,id:t,title:n?i.expand:i.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(_e.headerContainer,o),"aria-expanded":n?"false":"true",onclick:this._toggleCollapsed,type:"button"},s):V("div",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(_e.headerContainer,o)},s);return e?a:null}renderCloseIcon(){return V("span",{"aria-hidden":"true",class:this.classes(_e.icon,_e.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?V("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:_e.button,"aria-label":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return V("header",{class:_e.header},this.renderTitle(),V("div",{class:_e.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:r}=this,{content:n}=this.viewModel;return t&&!r?V("article",{key:n,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:_e.content},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:r,dividedActions:n,messagesCommon:i}=this,o=r?i.close:i.open,{menuActions:s}=n;return s.length?V("div",{key:Bc("actions-menu-button"),class:this.classes(_e.button,_e.actionsMenuButton),role:"button",id:t,"aria-haspopup":"true","aria-controls":r?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":o,title:o},V("span",{"aria-hidden":"true",class:_e.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:r,dividedActions:n}=this,{menuActions:i}=n;return i.length&&r?V("ul",{id:e,role:"menu","aria-labelledby":t,key:Bc("actions"),class:_e.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},i.toArray().map(o=>this.renderAction({action:o,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return!!e.length&&e.toArray().map(t=>this.renderAction({action:t,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,r=!!e.length,n=!!t.length;return r||n?V("div",{key:"inline-actions-container","data-inline-actions":r.toString(),"data-menu-actions":n.toString(),class:_e.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?V("section",{key:Bc("navigation"),class:this.classes(_e.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:r,menuActions:n}=t,i=!!r.length,o=!!n.length,s={[_e.footerHasPagination]:e,[_e.footerHasActions]:i,[_e.footerHasActionsMenu]:o};return e||i?V("div",{key:Bc("feature-buttons"),class:this.classes(_e.footer,s)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t,isLoadingFeature:r}=this.viewModel,n=ea(e.selectedFeatures,{total:t.length});return V("section",{key:Bc("menu"),class:_e.featureMenu},V("strong",{class:_e.featureMenuHeader},n),V("nav",{bind:this,class:_e.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:PL},this.renderFeatureMenu(),V("div",{class:_e.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),r?V("div",{class:_e.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:V("div",{key:Bc("pointer"),class:_e.pointer,role:"presentation"},V("div",{class:this.classes(_e.pointerDirection,_e.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:r,titleId:n,contentId:i,collapsible:o,hasContent:s,contentCollapsed:a,visibleElements:l}=this,{title:c}=this.viewModel,d=t==="bottom-left"||t==="bottom-center"||t==="bottom-right"||r==="top-left"||r==="top-center"||r==="top-right",p=t==="top-left"||t==="top-center"||t==="top-right"||r==="bottom-left"||r==="bottom-center"||r==="bottom-right",f={[_e.shadow]:e,[_e.isCollapsible]:o,[_e.isCollapsed]:a};return V("div",{class:this.classes(_e.main,_e.widget,f),tabIndex:l.closeButton?null:-1,role:"dialog","aria-labelledby":c?n:"","aria-describedby":s&&!a?i:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),p?this.renderFooter():null,p?this.renderFeatureMenuContainer():null)}renderContent(){var t;const e=(t=this.viewModel)==null?void 0:t.content;return e?typeof e=="string"?V("div",{key:e,innerHTML:e}):this.renderNodeContent(e):null}renderActionText(e){return V("span",{key:"text",class:_e.actionText},e)}renderActionIcon(e){const t=this._getActionClass(e),r=this._getActionImage(e),n={[_e.iconLoading]:e.active,[_e.rotating]:e.active,[_e.icon]:!!t,[_e.actionImage]:!e.active&&!!r};return t&&(n[t]=!e.active),V("span",{key:"icon","aria-hidden":"true",class:this.classes(_e.icon,n),styles:this._getIconStyles(r)})}renderAction(e){const{action:t,type:r}=e,n=this._getActionTitle(t),i={[_e.action]:t.type!=="toggle",[_e.actionToggle]:t.type==="toggle",[_e.actionToggleOn]:t.type==="toggle"&&t.value,[_e.buttonDisabled]:t.disabled},o=[this.renderActionIcon(t),this.renderActionText(n)],s=r==="menu-item"?V("li",{key:t.uid,role:"menuitem",tabIndex:0,title:n,"aria-label":n,class:this.classes(_e.button,i),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},o):V("div",{key:t.uid,role:"button",tabIndex:0,title:n,"aria-label":n,class:this.classes(_e.button,i),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},o);return t.visible?s:null}renderFeatureMenuItem(e,t){const{messages:r,messagesCommon:n}=this,{selectedFeatureIndex:i,selectedFeatureViewModel:o}=this.viewModel,s=e===o,a={[_e.featureMenuSelected]:s},l=s?V("span",{key:Bc(`feature-menu-selected-feature-${i}`),title:r.selectedFeature,"aria-label":r.selectedFeature,class:_e.iconCheckMark}):null,c=V("span",{innerHTML:e.title||n.untitled});return V("li",{role:"menuitem",tabIndex:-1,key:Bc(`feature-menu-feature-${i}`),class:this.classes(a,_e.featureMenuItem),bind:this,"data-feature-index":t,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},V("span",{class:_e.featureMenuTitle},c,l))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?V("ol",{class:_e.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},t.filter(r=>!!r.graphic).map((r,n)=>this.renderFeatureMenuItem(r,n))):null}_getActionTitle(e){const{messages:t,selectedFeature:r,messagesCommon:n}=this,{id:i}=e,o=r==null?void 0:r.attributes,s=i==="zoom-to-feature"?ea(e.title,{messages:t}):i==="remove-selected-feature"?ea(e.title,{messages:n}):i==="zoom-to-clustered-features"||i==="browse-clustered-features"?ea(e.title,{messages:t}):e.title;return s&&o?ea(s,o):s}_getActionClass(e){const{selectedFeature:t}=this,r=t==null?void 0:t.attributes,{className:n,image:i}=e,o=i||n?n:_e.iconDefaultAction;return o&&r?ea(o,r):o}_getActionImage(e){const{selectedFeature:t}=this,r=t==null?void 0:t.attributes,{image:n}=e;return n&&r?ea(n,r):n}_createFeatureUpdatedAnimation(){return d0e("enter",_e.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(typeof e!="number")return null;const r=Math.round(e);return Math.max(t?r-1:r,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange("dividedActions");const t="actions";this._handles.remove(t),e&&e.forEach(r=>{this._handles.add(fe(()=>[r.uid,r.active,r.className,r.disabled,r.id,r.title,r.image,r.visible],()=>this.scheduleRender()),t)})}_divideActions(){const{allActions:e}=this.viewModel,t=e.filter(o=>o.visible),r=this._getInlineActionCount(),n=r===null,i=r===0;return{inlineActions:n?t.slice(0):i?new We:t.slice(0,r),menuActions:n?new We:i?t.slice(0):t.slice(r)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){var r,n;const{selectedFeatureWidget:e,messagesCommon:t}=this;e&&(this.viewModel.title=((r=e.viewModel)==null?void 0:r.state)==="error"?t.errorMessage:((n=e.viewModel)==null?void 0:n.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}_handleFeatureMenuKeyup(e){tf(e)==="Escape"&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){tf(e)==="Escape"&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(e){const{viewModel:t}=this,r=e.currentTarget["data-feature-index"];t.activeFeature=t.features[r]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(e){const t=tf(e),{_featureMenuNode:r}=this,n=e.currentTarget["data-feature-index"];if(!r)return;const i=r.querySelectorAll("li"),o=i.length;t!=="ArrowUp"?t!=="ArrowDown"?t!=="Home"?t!=="End"||(e.stopPropagation(),i[i.length-1].focus()):(e.stopPropagation(),i[0].focus()):(e.stopPropagation(),i[(n+1+o)%o].focus()):(e.stopPropagation(),i[(n-1+o)%o].focus())}_handleActionMenuItemKeyup(e){const t=tf(e),{_actionsMenuNode:r}=this,n=e.currentTarget.dataset.actionUid,{menuActions:i}=this.dividedActions,o=i.findIndex(l=>l.uid===n);if(!r)return;const s=r.querySelectorAll("li"),a=s.length;t!=="ArrowUp"?t!=="ArrowDown"?t!=="Home"?t!=="End"||(e.stopPropagation(),s[s.length-1].focus()):(e.stopPropagation(),s[0].focus()):(e.stopPropagation(),s[(o+1+a)%a].focus()):(e.stopPropagation(),s[(o-1+a)%a].focus())}_handleMainKeyup(e){const t=tf(e);t==="ArrowLeft"&&(e.stopPropagation(),this.previous()),t==="ArrowRight"&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get("viewModel.view");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:r}=this.viewModel;r?e.show({location:t}):e.hide()}_getIconStyles(e){return{"background-image":e?`url(${e})`:""}}async _shouldFocus(e){e.shouldFocus&&(await I_(()=>{var t;return((t=this.viewModel)==null?void 0:t.active)===!0}),this.focus())}_addSelectedFeatureIndexHandle(){const e=fe(()=>{var t;return(t=this.viewModel)==null?void 0:t.selectedFeatureIndex},(t,r)=>this._selectedFeatureIndexUpdated(t,r));this._handles.add(e,WB)}_selectedFeatureIndexUpdated(e,t){const{featureCount:r}=this;r&&e!==t&&e!==-1&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:r,screenLocation:n,side:i,view:o}=e;if(isNaN(r)||isNaN(t)||!o||!n)return!1;const s=o.padding;return i==="right"&&n.x+r/2>o.width-s.right||i==="left"&&n.x-r/2<s.left||i==="top"&&n.y-t<s.top||i==="bottom"&&n.y+t>o.height-s.bottom}_calculateAutoAlignment(e){if(e!=="auto")return e;const{_pointerOffsetInPx:t,_containerNode:r,_mainContainerNode:n,viewModel:i}=this,{screenLocation:o,view:s}=i;if(te(o)||!s||!r)return"top-center";if(!this._isScreenLocationWithinView(o,s))return this._get("currentAlignment")||"top-center";function a(S){return parseInt(S.replace(/[^-\d\.]/g,""),10)}const l=n?window.getComputedStyle(n,null):null,c=l?a(l.getPropertyValue("max-height")):0,d=l?a(l.getPropertyValue("height")):0,{height:p,width:f}=r.getBoundingClientRect(),y=f+t,g=Math.max(p,c,d)+t,v=this._isOutsideView({popupHeight:g,popupWidth:y,screenLocation:o,side:"right",view:s}),b=this._isOutsideView({popupHeight:g,popupWidth:y,screenLocation:o,side:"left",view:s}),w=this._isOutsideView({popupHeight:g,popupWidth:y,screenLocation:o,side:"top",view:s}),x=this._isOutsideView({popupHeight:g,popupWidth:y,screenLocation:o,side:"bottom",view:s});return b?w?"bottom-right":"top-right":v?w?"bottom-left":"top-left":w?x?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(e){return typeof e=="function"?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=["left","right"];return gl(this.container)&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return typeof e=="function"?e.call(this):e}_getDockPosition(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition((e=this.dockOptions)==null?void 0:e.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){var s;if(e!=="auto")return e;const t=(s=this.viewModel)==null?void 0:s.view,r=gl(this.container)?"top-left":"top-right";if(!t)return r;const n=t.padding||{left:0,right:0,top:0,bottom:0},i=t.width-n.left-n.right,{breakpoints:o}=t;return o&&i<=o.xsmall?"bottom-center":r}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!e)return;const{screenLocation:t}=this.viewModel,{width:r}=e.getBoundingClientRect(),n=this._calculatePositionStyle(t,r);n&&(e.style.top=n.top,e.style.left=n.left,e.style.bottom=n.bottom,e.style.right=n.right)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:r}=this;return t==="top-left"||t==="bottom-left"||t==="top-right"||t==="bottom-right"?e+r:e}_calculateAlignmentPosition(e,t,r,n){const{currentAlignment:i,_pointerOffsetInPx:o}=this,s=n/2,a=r.height-t,l=r.width-e,{padding:c}=this.view;return i==="bottom-center"?{top:t+o-c.top,left:e-s-c.left}:i==="top-left"?{bottom:a+o-c.bottom,right:l+o-c.right}:i==="bottom-left"?{top:t+o-c.top,right:l+o-c.right}:i==="top-right"?{bottom:a+o-c.bottom,left:e+o-c.left}:i==="bottom-right"?{top:t+o-c.top,left:e+o-c.left}:i==="top-center"?{bottom:a+o-c.bottom,left:e-s-c.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:r,view:n}=this;if(!n)return;if(r)return{left:"",top:"",right:"",bottom:""};if(te(e)||!t)return;const i=this._calculateFullWidth(t),o=this._calculateAlignmentPosition(e.x,e.y,n,i);return o?{top:o.top!==void 0?`${o.top}px`:"auto",left:o.left!==void 0?`${o.left}px`:"auto",bottom:o.bottom!==void 0?`${o.bottom}px`:"auto",right:o.right!==void 0?`${o.right}px`:"auto"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const r=this.get("viewModel.view");this._wireUpView(r)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,r){const[n,i]=e,[o,s]=t,{width:a,height:l}=r;return n<=a&&o>a||n>a&&o<=a||i<=l&&s>l||i>l&&s<=l}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const r=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},n=r.left+r.right,i=r.top+r.bottom,o=[],s=[];o[0]=e[0]-n,o[1]=e[1]-i,s[0]=t[0]-n,s[1]=t[1]-i;const{dockOptions:a}=this,l=a.breakpoint;this._dockingThresholdCrossed(o,s,l)&&this._setDockEnabledForViewSize(a),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll("li");t.length&&t[0].focus()}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll("li");t.length&&t[0].focus()}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const r=t.active&&!e;t.screenLocationEnabled=r}_shouldDockAtCurrentViewSize(e){var a,l;const t=e.breakpoint,r=(l=(a=this.viewModel)==null?void 0:a.view)==null?void 0:l.ui;if(!r)return!1;const{width:n,height:i}=r;if(isNaN(n)||isNaN(i))return!1;const o=t.hasOwnProperty("width")&&n<=t.width,s=t.hasOwnProperty("height")&&i<=t.height;return o||s}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?ea(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(this._spinner,KB),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new hLe({view:e}),e.ui.add(this._spinner,{key:KB,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget.dataset.actionUid,{allActions:r}=this.viewModel,n=r.findIndex(o=>o.uid===t),i=r.getItemAt(n);i&&i.type==="toggle"&&(i.value=!i.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(n)}_selectFeature(e){const t=e.currentTarget["data-feature-index"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};u([h({readOnly:!0})],rt.prototype,"actionsMenuId",null),u([h({readOnly:!0})],rt.prototype,"actionsMenuButtonId",null),u([h({readOnly:!0})],rt.prototype,"featureMenuId",null),u([h({readOnly:!0})],rt.prototype,"titleId",null),u([h({readOnly:!0})],rt.prototype,"contentId",null),u([h({readOnly:!0})],rt.prototype,"hasContent",null),u([h({readOnly:!0})],rt.prototype,"featureNavigationVisible",null),u([h({readOnly:!0})],rt.prototype,"collapsible",null),u([h({readOnly:!0})],rt.prototype,"featureMenuVisible",null),u([h({readOnly:!0})],rt.prototype,"contentCollapsed",null),u([h({readOnly:!0})],rt.prototype,"dividedActions",null),u([Oe("viewModel.actions")],rt.prototype,"actions",void 0),u([h()],rt.prototype,"actionsMenuOpen",null),u([h()],rt.prototype,"alignment",void 0),u([Oe("viewModel.autoCloseEnabled")],rt.prototype,"autoCloseEnabled",void 0),u([Oe("viewModel.autoOpenEnabled")],rt.prototype,"autoOpenEnabled",void 0),u([Oe("viewModel.defaultPopupTemplateEnabled")],rt.prototype,"defaultPopupTemplateEnabled",void 0),u([Oe("viewModel.content")],rt.prototype,"content",void 0),u([h()],rt.prototype,"collapsed",void 0),u([h()],rt.prototype,"collapseEnabled",void 0),u([h({readOnly:!0})],rt.prototype,"currentAlignment",null),u([h({readOnly:!0})],rt.prototype,"currentDockPosition",null),u([h()],rt.prototype,"dockOptions",null),u([h()],rt.prototype,"dockEnabled",void 0),u([Oe("viewModel.featureCount")],rt.prototype,"featureCount",void 0),u([h()],rt.prototype,"featureMenuOpen",void 0),u([Oe("viewModel.features")],rt.prototype,"features",void 0),u([Oe("viewModel.goToOverride")],rt.prototype,"goToOverride",void 0),u([h()],rt.prototype,"headingLevel",void 0),u([Oe("viewModel.highlightEnabled")],rt.prototype,"highlightEnabled",void 0),u([Oe("viewModel.location")],rt.prototype,"location",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],rt.prototype,"label",void 0),u([h()],rt.prototype,"maxInlineActions",void 0),u([h(),sn("esri/widgets/Popup/t9n/Popup")],rt.prototype,"messages",void 0),u([h(),sn("esri/t9n/common")],rt.prototype,"messagesCommon",void 0),u([Oe("viewModel.promises")],rt.prototype,"promises",void 0),u([Oe("viewModel.selectedFeature")],rt.prototype,"selectedFeature",void 0),u([Oe("viewModel.selectedFeatureIndex")],rt.prototype,"selectedFeatureIndex",void 0),u([h({readOnly:!0})],rt.prototype,"selectedFeatureWidget",null),u([h()],rt.prototype,"spinnerEnabled",void 0),u([Oe("viewModel.title")],rt.prototype,"title",void 0),u([Oe("viewModel.updateLocationEnabled")],rt.prototype,"updateLocationEnabled",void 0),u([Oe("viewModel.view")],rt.prototype,"view",void 0),u([h({type:Nne}),ote(["triggerAction","trigger-action"])],rt.prototype,"viewModel",void 0),u([Oe("viewModel.visible")],rt.prototype,"visible",void 0),u([h()],rt.prototype,"visibleElements",void 0),u([zt("visibleElements")],rt.prototype,"castVisibleElements",null),u([Ni()],rt.prototype,"_close",null),u([Ni()],rt.prototype,"_toggleDockEnabled",null),u([Ni()],rt.prototype,"_toggleFeatureMenu",null),u([Ni()],rt.prototype,"_toggleActionsMenu",null),u([Ni()],rt.prototype,"_triggerAction",null),u([Ni()],rt.prototype,"_selectFeature",null),u([Ni()],rt.prototype,"_next",null),u([Ni()],rt.prototype,"_previous",null),rt=u([B(Dne)],rt);const XB=rt,tP=[0,0];function ALe(e){const t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return tP[0]=r.left+t.pageXOffset,tP[1]=r.top+t.pageYOffset,tP}function eU(e){e&&(gZ(e),e.parentNode&&e.parentNode.removeChild(e))}function FLe(e){const t=document.createElement("div");return e.appendChild(t),t}const qv=16,PS=750,NLe=512,DLe=2,zLe=e=>{let t=class extends e{constructor(...r){super(...r),this._freqInfo={freq:qv,time:PS},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([fe(()=>this.cursor,n=>{const{surface:i}=this;i&&i.setAttribute("data-cursor",n)}),fe(()=>this.interacting,n=>{const{surface:i}=this;i&&i.setAttribute("data-interacting",n.toString())})])}initialize(){this.handles.add(fe(()=>this.ui,(r,n)=>this._handleUIChange(r,n))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(r){const n=this._get("container");if(n===r)return;const i="dom-size";if(this.handles.remove(i),this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),eU(this.root),this._set("root",null),uj(this.userContent,n),eU(this.userContent),this._set("userContent",null)),r){r.classList.add("esri-view");const o=document.createElement("div");o.className="esri-view-user-storage",uj(r,o),r.appendChild(o),this._set("userContent",o);const s=document.createElement("div");s.className="esri-view-root",r.insertBefore(s,r.firstChild),this._set("root",s);const a=document.createElement("div");a.className="esri-view-surface",a.setAttribute("role","application"),a.tabIndex=0,s.appendChild(a),this._set("surface",a);const l=new n9;s.appendChild(l.surface),this._set("overlay",l),fe(()=>l.needsRender,c=>{c&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=e0({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add(fe(()=>this.size,c=>{const[d,p]=c,f="esri-view-surface--inset-outline";d>=document.body.clientWidth||p>=document.body.clientHeight?a.classList.add(f):a.classList.remove(f)},At),i),this._set("container",r),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get popup(){return this._get("popup")||new XB({view:this})}set popup(r){const n=this._get("popup");n&&n!==r&&n.destroy(),this._set("popup",r)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(r,n,i){const o=this.position;return r-=o[0],n-=o[1],i?(i[0]=r,i[1]=n):i=[r,n],i}containerToPage(r,n,i){const o=this.position;return r+=o[0],n+=o[1],i?(i[0]=r,i[1]=n):i=[r,n],i}_handleUIChange(r,n){n&&(this.handles.remove("ui"),n.destroy()),r&&this._wireUI(r),this._set("ui",r)}_wireUI(r){this.handles.remove("ui"),r&&(r.view=this,this.handles.add([fe(()=>this.root,n=>{r.container=n?FLe(n):null},At),fe(()=>this.popup,(n,i)=>{const o="popup",s="manual";i&&r.remove(i,o),n&&(n.view=r.view,r.add(n,{key:o,position:s}))},At)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=qv,r.time=PS,this.handles.add([(()=>{const n=()=>{r.freq=qv,r.time=PS};return window.addEventListener("resize",n),{remove(){window.removeEventListener("resize",n)}}})(),e0({prepare:n=>{const i=this._measure(),o=this._freqInfo;if(o.time+=n.deltaTime,i&&(o.freq=qv,this._get("resizing")||this._set("resizing",!0)),o.time<o.freq)return;o.time=0;const s=this._position();o.freq=s||i?qv:Math.min(PS,o.freq*DLe),!i&&o.freq>=NLe&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,n=r?r.clientWidth:0,i=r?r.clientHeight:0;if(n===0||i===0)return this.suspended||this._set("suspended",!0),!1;const o=this.width,s=this.height;return n===o&&i===s?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",i),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:o,oldHeight:s,width:n,height:i}),!0)}_position(){const r=this.container,n=this.position,i=ALe(r);return(!n||i[0]!==n[0]||i[1]!==n[1])&&(this._set("position",[i[0],i[1]]),!0)}forceDOMReadyCycle(){}};return u([h({value:null,cast:r=>OD(r)})],t.prototype,"container",null),u([h({readOnly:!0})],t.prototype,"focused",null),u([h({readOnly:!0})],t.prototype,"height",void 0),u([h({type:XB})],t.prototype,"popup",null),u([h({type:n9})],t.prototype,"overlay",void 0),u([h({readOnly:!0})],t.prototype,"position",void 0),u([h({readOnly:!0})],t.prototype,"resizing",void 0),u([h({readOnly:!0})],t.prototype,"root",void 0),u([h({value:null,readOnly:!0})],t.prototype,"size",null),u([h({readOnly:!0})],t.prototype,"surface",void 0),u([h({readOnly:!0})],t.prototype,"suspended",void 0),u([h()],t.prototype,"ui",void 0),u([h({readOnly:!0})],t.prototype,"userContent",void 0),u([h({readOnly:!0})],t.prototype,"width",void 0),u([h()],t.prototype,"widthBreakpoint",void 0),t=u([B("esri.views.DOMContainer")],t),t},VLe=e=>{let t=class extends e{async fetchPopupFeatures(r,n){await this.when();const{location:i,queryArea:o,layerViewsAndGraphics:s,clientOnlyGraphics:a}=await this._prepareFetchPopupFeatures(r,n),l=Promise.resolve(a),c=this._queryLayerPopupFeatures(o,s,n),d=c.map(p=>p.promise);return{location:i,clientOnlyGraphics:a,allGraphicsPromise:xde([l,...d]).then(p=>Array.from(new Set(p.flat()))),promisesPerLayerView:c}}_queryLayerPopupFeatures(r,n,i){return n.map(({layerView:o,graphics:s})=>{const a={clientGraphics:s,event:G(i)?i.event:null,signal:G(i)?i.signal:null,defaultPopupTemplateEnabled:!!G(i)&&!!i.defaultPopupTemplateEnabled},l=o.fetchPopupFeatures(r,a);return{layerView:o,promise:l}})}_isValidPopupGraphic(r,n){return r&&!!r.getEffectivePopupTemplate(G(n)&&n.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(r,n){const{clientGraphics:i,queryArea:o,location:s}=await this._popupHitTestGraphics(r,n),a=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:l,clientOnlyGraphics:c}=this._graphicsPerFetchPopupLayerView(i,a);return{clientOnlyGraphics:c,layerViewsAndGraphics:l,queryArea:o,location:s}}async _popupHitTestGraphics(r,n){const{results:i,mapPoint:o}=await this.popupHitTest(r),s=i.filter(l=>l.type==="graphic"&&this._isValidPopupGraphic(l.graphic,n)),a=s.length?s[0].mapPoint:null;return{clientGraphics:s.map(l=>l.graphic),queryArea:o,location:o||a}}_getFetchPopupLayerViews(){const r=[];return this.allLayerViews.forEach(n=>{this._isValidPopupLayerView(n)&&r.push(n)}),G(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&r.push(this.graphicsView),r.reverse()}_isValidPopupLayerView(r){return G(r)&&(!("layer"in r)||!r.suspended)&&"fetchPopupFeatures"in r}_graphicsPerFetchPopupLayerView(r,n){const i=[],o=new Map,s=n.map(a=>{const l=[];return"layer"in a?o.set(a.layer,l):o.set(a.graphics,l),{layerView:a,graphics:l}});for(const a of r){const l=o.get(a.layer)||o.get(a.sourceLayer)||null;l?l.push(a):i.push(a)}return{layerViewsAndGraphics:s,clientOnlyGraphics:i}}};return t=u([B("esri.views.PopupView")],t),t};Ce.getLogger("esri.core.support.OwningCollection");let Hw=class extends Pc(We){constructor(e){super(e),this.handles.add([this.on("before-add",t=>{te(t.item)&&t.preventDefault()}),this.on("after-add",t=>this._own(t.item)),this.on("after-remove",t=>this._release(t.item))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(We.ofType(this.itemType.Type))(e):new We(e)}};function iF(e,t){return{type:e,cast:VK,set(r){const n=rm(r,this._get(t),e);n.owner=this,this._set(t,n)}}}u([h()],Hw.prototype,"owner",null),Hw=u([B("esri.core.support.OwningCollection")],Hw);const jLe=Ce.getLogger("esri.support.AnalysesCollection");let xE=class extends Hw{constructor(e){super(e),this.handles.add(this.on("before-add",t=>{te(t.item)||t.item.parent===this.owner&&(jLe.warn("Analysis inside the collection must be unique. Not adding this element again."),t.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};xE=u([B("esri.support.AnalysesCollection")],xE);let Gf=class extends Hw{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};u([QN({Type:Jo,ensureType:$n(Jo)})],Gf.prototype,"itemType",void 0),Gf=u([B("esri.support.GraphicsCollection")],Gf);let zd=class extends Ve{constructor(e){super(e),this.view=null,this.baseLayerViews=new We,this.referenceLayerViews=new We,this._loadingHandle=fe(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.basemap},t=>{t&&t.load().catch(()=>{})},At)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var t,r;if(this.view&&this.view.suspended)return!1;const e=(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.basemap;return!!e&&!!e.loaded&&(this.baseLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating))}};u([h({constructOnly:!0})],zd.prototype,"view",void 0),u([h({readOnly:!0})],zd.prototype,"baseLayerViews",void 0),u([h({readOnly:!0})],zd.prototype,"referenceLayerViews",void 0),u([h({readOnly:!0})],zd.prototype,"suspended",null),u([h({type:Boolean,readOnly:!0})],zd.prototype,"updating",null),zd=u([B("esri.views.BasemapView")],zd);const BLe=Ce.getLogger("esri.views.LayerViewManager");class ULe{constructor(t,r,n){this.layer=t,this.view=r,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=Nu(),this._started=!1,this.done=!1,wa(this._controller.signal,()=>{const i=new Z("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(i)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:t}=this;if(!t)return;const{layer:r,view:n}=this;r.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{layer:r,layerView:t}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){var i,o;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:r,view:n}=this;this._map=n.map;try{let s,a;if(await r.load({signal:t}),"prefetchResources"in r&&await r.prefetchResources({signal:t}),r.createLayerView)s=await r.createLayerView(n,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new Z("layer:view-not-supported","No layerview implementation was found");const d=await this.layerViewImporter.importLayerView(r);Ar(t),s="default"in d?new d.default({layer:r,view:n}):new d({layer:r,view:n})}const l=()=>{a=zo(a),s.destroyed||s.destroy(),s.layer=null,s.parent=null,s.view=null,this.done=!0};a=wa(t,l),Ar(t);try{await s.when()}catch(d){throw l(),d}if(!((o=(i=this._map)==null?void 0:i.allLayers)==null?void 0:o.includes(r)))return l(),void this._deferred.reject(new Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=s,r.emit("layerview-create",{view:n,layerView:s}),n.emit("layerview-create",{layer:r,layerView:s}),this.done=!0,this._deferred.resolve(s)}catch(s){r.emit("layerview-create-error",{view:n,error:s}),n.emit("layerview-create-error",{layer:r,error:s}),this.done=!0,this._deferred.reject(new Z("layerview:create-error","layerview creation failed",{layer:r,error:s}))}}}let Qs=class extends $1{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new Og,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var r;const t=(r=this.view.map)==null?void 0:r.allLayers;if(t)for(const n of t)this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>(te(this._workPromise)&&(this._workPromise=Nu()),this.handles.remove("reschedule"),this.handles.add(R0(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var o,s,a;const t=this.view.map;if(this._map!==t&&(this.clear(),this._map=t),te(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const r=new n0({getCollections:()=>this._rootCollectionNames.map(l=>this.get(l)),getChildrenFunction:l=>l&&"layers"in l?l.layers:null});if(!r)return this._workPromise.resolve(),void(this._workPromise=null);for(const l of r)this._createLayerView(l);this._refreshCollections();for(const[l,c]of this._layerLayerViewInfoMap)r.includes(l)||(this._layerLayerViewInfoMap.delete(c.layer),c.destroy());const n=r.filter(l=>l.type==="group").map(l=>l.layers),i=[(o=t==null?void 0:t.ground)==null?void 0:o.layers,(s=t==null?void 0:t.basemap)==null?void 0:s.baseLayers,(a=t==null?void 0:t.basemap)==null?void 0:a.referenceLayers,t==null?void 0:t.layers,...n].filter(l=>!!l);this.handles.add(i.map(l=>this._watchUpdatingTracking.addOnCollectionChange(()=>l,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([Vo(()=>{var e,t;return(t=(e=this.view)==null?void 0:e.map)==null?void 0:t.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),fe(()=>{const e=this.view,t=e==null?void 0:e.map;return[t==null?void 0:t.basemap,t==null?void 0:t.ground,t==null?void 0:t.layers,e==null?void 0:e.ready]},()=>this._reschedule(),bh)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return G(this._workPromise)||this._watchUpdatingTracking.updating||pI(this._layerLayerViewInfoMap,e=>!e.done)}get updatingRemaining(){let e=0;for(const t of this._layerLayerViewInfoMap.values())t.done||++e;return e}clear(){if(!this.destroyed){for(const e of this._layerLayerViewInfoMap.values())e.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e))throw new Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e});return this._layerLayerViewInfoMap.get(e).promise}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(e),this.get(t),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(e,t,r){if(!e||!t)return void(t&&t.removeAll());let n=0;for(const i of e){const o=this._layerLayerViewInfoMap.get(i);if(!o||!o.layerView)continue;const s=o.layerView;s.layer=i,s.parent=r,t.getItemAt(n)!==s&&t.splice(n,0,s),i.layers&&this._populateLayerViewsOwners(i.layers,s.layerViews,s),n+=1}n<t.length&&t.splice(n,t.length)}_createLayerView(e){if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const t=new ULe(e,this.view,this.layerViewImporter);t.promise.then(()=>this._refreshCollections(),r=>{var n,i;r&&(Gi(r)||r.name==="cancelled:layerview-create")||BLe.error(`Failed to create layerview for layer title:'${(n=e.title)!=null?n:"no title"}', id:'${(i=e.id)!=null?i:"no id"}' of type '${e.type}'.`,{layer:e,error:r}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};u([h()],Qs.prototype,"_workPromise",void 0),u([h({readOnly:!0})],Qs.prototype,"_watchUpdatingTracking",void 0),u([h({readOnly:!0})],Qs.prototype,"_layersToLayerViews",null),u([h({readOnly:!0})],Qs.prototype,"_rootCollectionNames",null),u([h()],Qs.prototype,"layerViewImporter",void 0),u([h()],Qs.prototype,"supportsGround",void 0),u([h({readOnly:!0})],Qs.prototype,"updating",null),u([h({readOnly:!0})],Qs.prototype,"updatingRemaining",null),u([h({constructOnly:!0})],Qs.prototype,"view",void 0),Qs=u([B("esri.views.LayerViewManager")],Qs);const GLe=Qs;let ms=class extends Ve{constructor(e){super(e),this.factor=1.5,this.offset=Ro(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};u([h({type:Number})],ms.prototype,"factor",void 0),u([h({nonNullable:!0})],ms.prototype,"offset",void 0),u([h()],ms.prototype,"position",void 0),u([h({type:Number,range:{min:0}})],ms.prototype,"size",void 0),u([h()],ms.prototype,"maskUrl",void 0),u([h()],ms.prototype,"maskEnabled",void 0),u([h()],ms.prototype,"overlayUrl",void 0),u([h()],ms.prototype,"overlayEnabled",void 0),u([h({readOnly:!0})],ms.prototype,"version",null),u([h({type:Boolean})],ms.prototype,"visible",void 0),ms=u([B("esri.views.Magnifier")],ms);const zne=ms;let y$=class extends Ve{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(e){for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,r){return this.running=!0,new Promise((n,i)=>this._tasks.push(new tU(n,i,e,t,r)))}unshift(e,t,r){return this.running=!0,new Promise((n,i)=>this._tasks.unshift(new tU(n,i,e,t,r)))}_process(e){if(this._tasks.length===0)return!1;const t=this._tasks.shift();try{const r=Il(t.signal);if(r&&!t.abortCallback)t.reject(Zr());else{const n=r?t.abortCallback(Zr()):t.callback(e);Wu(n)?n.then(t.resolve,t.reject):t.resolve(n)}}catch(r){t.reject(r)}return this.running=this._tasks.length>0,!0}cancelAll(){const e=Zr();for(const t of this._tasks)if(t.abortCallback){const r=t.abortCallback(e);t.resolve(r)}else t.reject(e);this._tasks.length=0,this.running=!1}};u([h()],y$.prototype,"running",void 0),y$=u([B("esri.layers.support.PromiseQueue")],y$);class tU{constructor(t,r,n,i,o){this.resolve=t,this.reject=r,this.callback=n,this.signal=i,this.abortCallback=o}}let Xb=class extends Ve{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};u([h()],Xb.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),u([h()],Xb.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),Xb=u([B("esri.views.support.DebugFlags")],Xb);const HLe=new Xb,qLe=Ce.getLogger("esri.views.support.Scheduler");var Pt;(function(e){e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="cloud generator",e[e.TEST_PRIO=1]="TEST_PRIO"})(Pt||(Pt={}));const sc=0,rU=new Map([[Pt.RESOURCE_CONTROLLER,sc],[Pt.SLIDE,sc],[Pt.STREAM_DATA_LOADER,sc],[Pt.ELEVATION_QUERY,sc],[Pt.TERRAIN_SURFACE,1],[Pt.SURFACE_GEOMETRY_UPDATES,1],[Pt.GRAPHICS_CORE,2],[Pt.I3S_CONTROLLER,2],[Pt.POINT_CLOUD_LAYER,2],[Pt.FEATURE_TILE_FETCHER,2],[Pt.OVERLAY,4],[Pt.STAGE,4],[Pt.GRAPHICS_DECONFLICTOR,4],[Pt.FILTER_VISIBILITY,4],[Pt.SCALE_VISIBILITY,4],[Pt.FRUSTUM_VISIBILITY,4],[Pt.POINT_OF_INTEREST_FREQUENT,6],[Pt.POINT_OF_INTEREST_INFREQUENT,30],[Pt.LABELER,8],[Pt.FEATURE_QUERY_ENGINE,8],[Pt.FEATURE_TILE_TREE,16],[Pt.FEATURE_TILE_TREE_ACTIVE,sc],[Pt.ELEVATION_ALIGNMENT,12],[Pt.TEXT_TEXTURE_ATLAS,12],[Pt.CLOUDS_GENERATOR,12],[Pt.TEXTURE_UNLOAD,12],[Pt.LINE_OF_SIGHT_TOOL,16],[Pt.LINE_OF_SIGHT_TOOL_INTERACTIVE,sc],[Pt.SNAPPING,sc],[Pt.SHADOW_ACCUMULATOR,30]]);function nU(e){return rU.has(e)?rU.get(e):typeof e=="number"?e:1}var gs;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(gs||(gs={}));const iU=6.5,oU=1,WLe=30,sU=1e3/30,aU=100,lU=.9;var oF,dh;(function(e){let t=class extends Ve{constructor(){super(),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new _w("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new n,this._state=gs.INTERACTING,this._tasks=new Ff,this._runQueue=new Ff,this._load=0,this._idleStateCallbacks=new Ff,this._idleUpdatesStartFired=!1,this._maxReschedule=OS,this._forceTask=!1,this._debug=!1,this._debugHandle=fe(()=>HLe.SCHEDULER_LOG_SLOW_TASKS,s=>this._debug=s,At);for(const s of Object.keys(Pt))this.performanceInfo.tasks.set(Pt[s],new _w(Pt[s]));let i;const o=this;this._test={get state(){return nI(i,o._state)},set state(s){i=s},FRAME_SAFETY_BUDGET:iU,INTERACTING_BUDGET:sU,IDLE_BUDGET:aU,get availableBudget(){return o._budget.budget},usedBudget:0,getBudget:()=>o._budget,setBudget:s=>o._budget=s,updateTask:s=>this._updateTask(s),getState:s=>this._getState(s),getRuntime:s=>this._getRuntime(s),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(i=>i.remove()),this._tasks.clear(),zo(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=OS,this._schedule(),this.frame()))}))}registerTask(i,o){const s=nU(i),a=new r(this,i,o,s);return this._tasks.push(a),this.performanceInfo.tasks.has(i)||this.performanceInfo.tasks.set(i,new _w(i)),a}registerIdleStateCallbacks(i,o){const s={idleBegin:i,idleEnd:o};this._idleStateCallbacks.push(s),this.state===gs.IDLE&&this._idleUpdatesStartFired&&s.idleBegin();const a=this;return{remove:()=>this._removeIdleStateCallbacks(s),set idleBegin(l){a._idleUpdatesStartFired&&(s.idleEnd(),a._state===gs.IDLE&&l()),s.idleBegin=l},set idleEnd(l){s.idleEnd=l}}}get load(){return this._load}set state(i){this._state!==i&&(this._state=i,this.state!==gs.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(o=>o.idleEnd())))}get state(){return te(this._test.state)?this._state:this._test.state}updateBudget(i){this._test.usedBudget=0;let o=iU,s=i.frameDuration,a=oU;switch(this.state){case gs.IDLE:o=0,s=Math.max(aU,i.frameDuration),a=WLe;break;case gs.INTERACTING:s=Math.max(sU,i.frameDuration);case gs.ANIMATING:}return s=s-i.elapsedFrameTime-o,this.state!==gs.IDLE&&s<oU&&!this._forceTask?(this._forceTask=!0,!1):(s=Math.max(s,a),this._budget.reset(s,this.state),this._maxReschedule=OS,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case gs.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(i=>i.idleBegin())),this._runIdle();break;case gs.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(i){this._idleUpdatesStartFired&&i.idleEnd(),this._idleStateCallbacks.removeUnordered(i)}removeTask(i){this._tasks.removeUnordered(i),this._runQueue.removeUnordered(i)}_updateTask(i){this._tasks.forAll(o=>{o.name===i&&o.setPriority(i)})}_getState(i){if(this._runQueue.some(s=>s.name===i))return dh.SCHEDULED;let o=dh.IDLE;return this._tasks.forAll(s=>{s.name===i&&s.needsUpdate&&(s.schedulePriority<=1?o=dh.READY:o!==dh.READY&&(o=dh.WAITING))}),o}_getRuntime(i){let o=0;return this._tasks.forAll(s=>{s.name===i&&(o+=s.runtime)}),o}_resetRuntimes(){this._tasks.forAll(i=>i.runtime=0)}_getRunning(){const i=new Map;if(this._tasks.forAll(s=>{s.needsUpdate&&i.set(s.name,(i.get(s.name)||0)+1)}),i.size===0)return null;let o="";return i.forEach((s,a)=>{o+=s>1?` ${s}x ${a}`:` ${a}`}),o}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const i=this._tasks.reduce((o,s)=>s.needsUpdate?++o:o,0);this._load=this._load*lU+i*(1-lU)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(i=>!!i.needsUpdate||(i.schedulePriority=i.basePriority,!1)),this._tasks.forAll(i=>{i.basePriority===sc&&i.needsUpdate&&!this._runQueue.includes(i)&&this._runQueue.unshift(i)});this._runQueue.length===0;){let i=!1,o=0;if(this._tasks.forAll(s=>{s.needsUpdate&&s.schedulePriority!==0&&s.basePriority!==sc&&(i=!0,o=Math.max(o,s.basePriority),s.schedulePriority===1?(s.schedulePriority=0,this._runQueue.push(s)):--s.schedulePriority)}),!i)return this.updating=!1,!1;this._maxReschedule===OS&&(this._maxReschedule=o),--this._maxReschedule}return this.updating=!0,!0}_run(){const i=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const o=this._budget.now(),s=this._runQueue.pop();this._budget.resetProgress();try{s.task.runTask(this._budget)}catch(l){qLe.error(`Exception in task "${s.name}"`,l)}s.schedulePriority=s.basePriority;const a=this._budget.now()-o;if(s.runtime+=a,this._frameTaskTimes.set(s.priority,this._frameTaskTimes.get(s.priority)+a),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",s.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this.updating=this._tasks.some(l=>l.needsUpdate),void this._recordFrameTaskTimes(this._budget.now()-i)}while(this._schedule());this.updating=this._tasks.some(o=>o.needsUpdate),this._recordFrameTaskTimes(this._budget.now()-i)}_startFrameTaskTimes(){for(const i of Object.keys(Pt))this._frameTaskTimes.set(Pt[i],0)}_recordFrameTaskTimes(i){this._frameTaskTimes.forEach((o,s)=>this.performanceInfo.tasks.get(s).record(o)),this.performanceInfo.total.record(i)}get test(){return this._test}};u([h()],t.prototype,"updating",void 0),t=u([B("esri.views.support.Scheduler")],t),e.Scheduler=t;let r=class extends Ve{constructor(i,o,s,a){super({}),this._scheduler=i,this.name=o,this._basePriority=a,this.runtime=0,this._queue=new y$,this._handles=new bn,this.schedulePriority=this._basePriority,this.task=G(s)?s:this._queue,this._handles.add(qi(()=>this.task.running,()=>i.activate()))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(Vne),this._scheduler.removeTask(this),this.schedule=sF.schedule,this.reschedule=sF.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(i){this.name=i;const o=nU(i);this._basePriority!==sc&&this.schedulePriority===0||(this.schedulePriority=o),this._basePriority=o}get priority(){return this.name}set priority(i){this.setPriority(i)}get needsUpdate(){return this.updating||this.task.running}schedule(i,o,s){return this._queue.push(i,o,s)}reschedule(i,o,s){return this._queue.unshift(i,o,s)}processQueue(i){this._queue.runTask(i)}};u([h({constructOnly:!0})],r.prototype,"task",void 0),u([h({readOnly:!0})],r.prototype,"updating",null),r=u([B("esri.views.support.SchedulerTask")],r);class n{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=gs.IDLE,this._didWork=!1,this._enabled=!0}run(o){return!this.done&&(o()===!0&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(o){this._enabled=o}reset(o,s){this._begin=this.now(),this._budget=o,this._state=s,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}e.Budget=n})(oF||(oF={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(dh||(dh={}));const Vne=(()=>{const e=new oF.Budget;return e.enabled=!1,e})();class KLe{remove(){}processQueue(){}schedule(t,r,n){try{if(Il(r)){const i=Zr();return n?Promise.resolve(n(i)):Promise.reject(i)}return XO(t(Vne))}catch(i){return Promise.reject(i)}}reschedule(t,r,n){return this.schedule(t,r,n)}}const sF=new KLe,OS=Number.MAX_SAFE_INTEGER;let ew=class extends Ve{constructor(e,t){var r;super({}),this._stage=e,this._textureRequests=new Map,this._frameTask=(r=t==null?void 0:t.registerTask(Pt.TEXTURE_UNLOAD))!=null?r:sF}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(e=>this._releaseTextureRequest(e)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(e,t,r){const n=this.makeUid(e);let i=this._textureRequests.get(n);return i||(i={referenceCount:0,texture:t(),textureAsync:null,abortController:null,onRemove:r},this._stage&&(this._stage.add(i.texture),this._stage.loadImmediate(i.texture)),this._textureRequests.set(n,i)),i.referenceCount++,{uid:n,texture:i.texture,release:()=>this._release(n)}}_release(e){const t=this._textureRequests.get(e);t?(t.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+e),t.referenceCount--,t.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(e))):console.warn(`TextureCollection: texture doesn't exist: '${e}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(e){if(!this._textureRequests)return;const t=this._textureRequests.get(e);!t||t.referenceCount>0||(this._releaseTextureRequest(t),this._textureRequests.delete(e))}_releaseTextureRequest(e){var t;e.onRemove&&e.onRemove(),e.texture?(t=this._stage)==null||t.remove(e.texture):e.abortController&&(e.abortController.abort(),e.abortController=null)}makeUid(e,t=null){return G(t)?`${e}.${t}px`:e}};u([h()],ew.prototype,"_frameTask",void 0),u([h()],ew.prototype,"updating",null),ew=u([B("esri.views.3d.support.TextureCollection")],ew);var cU;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(cU||(cU={}));const jne=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],Bne={};function Une(e){return!!Bne[e]}function JLe(e){for(const t of e)if(!Une(t))return!1;return!0}jne.forEach(e=>{Bne[e]=!0});class ZLe{constructor(t){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this.handlers.forEach(({handler:r,priority:n},i)=>this.inputManager.installHandlers(i,[r],n))}disconnect(){this.inputManager&&this.handlers.forEach((t,r)=>this.inputManager.uninstallHandlers(r)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(t,r,n,i){const o=Array.isArray(t)?t:t.split(",");if(!JLe(o))return o.some(Une)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let s,a;Array.isArray(r)?a=r:(s=r,a=[]),typeof n=="function"?s=n:i=n,i=i!=null?i:Fp.DEFAULT;const l=this._createUniqueGroupName(),c=new YLe(this.view,o,a,s);this.handlers.set(l,{handler:c,priority:i});for(const d of o){const p=this.handlerCounts.get(d)||0;this.handlerCounts.set(d,p+1)}return this.inputManager&&this.inputManager.installHandlers(l,[c],i),{remove:()=>this._removeHandler(l,o)}}hasHandler(t){return!!this.handlerCounts.get(t)}_removeHandler(t,r){if(this.handlers.has(t)){this.handlers.delete(t);for(const n of r){const i=this.handlerCounts.get(n);i===void 0?console.error("Trying to remove handler for event that has no handlers registered: ",n):i===1?this.handlerCounts.delete(n):this.handlerCounts.set(n,i-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class YLe extends hi{constructor(t,r,n,i){super(!0),this.view=t;for(const o of r)switch(o){case"click":this.registerIncoming("click",n,s=>i(this._wrapClick(s)));break;case"double-click":this.registerIncoming("double-click",n,s=>i(this._wrapDoubleClick(s)));break;case"immediate-click":this.registerIncoming("immediate-click",n,s=>i(this._wrapImmediateClick(s)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,s=>i(this._wrapImmediateDoubleClick(s)));break;case"hold":this.registerIncoming("hold",n,s=>i(this._wrapHold(s)));break;case"drag":this.registerIncoming("drag",n,s=>{const a=this._wrapDrag(s);a&&i(a)});break;case"key-down":this.registerIncoming("key-down",n,s=>i(this._wrapKeyDown(s)));break;case"key-up":this.registerIncoming("key-up",n,s=>i(this._wrapKeyUp(s)));break;case"pointer-down":this.registerIncoming("pointer-down",n,s=>i(this._wrapPointer(s,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,s=>i(this._wrapPointer(s,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,s=>i(this._wrapPointer(s,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,s=>i(this._wrapPointerDrag(s)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,s=>i(this._wrapMouseWheel(s)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,s=>i(this._wrapPointer(s,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,s=>i(this._wrapPointer(s,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,s=>{i(this._wrapGamepad(s))});break;case"focus":this.registerIncoming("focus",n,s=>{i(this._wrapFocus(s))});break;case"blur":this.registerIncoming("blur",n,s=>{i(this._wrapBlur(s))})}}_wrapFocus(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}_wrapBlur(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}_wrapClick(t){const{pointerType:r,button:n,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,{cancelable:c,timestamp:d}=t;return{type:"click",pointerType:r,button:n,buttons:i,x:o,y:s,native:a,timestamp:d,screenPoint:Ro(o,s),mapPoint:this._getMapPoint(o,s),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}_wrapDoubleClick(t){const{pointerType:r,button:n,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,{cancelable:c,timestamp:d}=t;return{type:"double-click",pointerType:r,button:n,buttons:i,x:o,y:s,native:a,timestamp:d,mapPoint:this._getMapPoint(o,s),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}_wrapImmediateClick(t){const{pointerType:r,button:n,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:d,timestamp:p}=t;return{type:"immediate-click",pointerId:c,pointerType:r,button:n,buttons:i,x:o,y:s,native:a,timestamp:p,mapPoint:this._getMapPoint(o,s),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapImmediateDoubleClick(t){const{pointerType:r,button:n,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:d,timestamp:p}=t;return{type:"immediate-double-click",pointerId:c,pointerType:r,button:n,buttons:i,x:o,y:s,native:a,timestamp:p,mapPoint:this._getMapPoint(o,s),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapHold(t){const{pointerType:r,button:n,buttons:i,x:o,y:s,native:a}=t.data,{cancelable:l,timestamp:c}=t;return{type:"hold",pointerType:r,button:n,buttons:i,x:o,y:s,native:a,timestamp:c,mapPoint:this._getMapPoint(o,s),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:d=>t.async(d),preventDefault:()=>t.preventDefault()}}_getMapPoint(t,r){return this.view.toMap(Ro(t,r),{exclude:[]})}_wrapDrag(t){const r=t.data,{x:n,y:i}=r.center,{action:o,pointerType:s,button:a}=r;if(o==="start"&&(this.latestDragStart=r),!this.latestDragStart)return;const l=r.pointer.native,c=r.buttons,{cancelable:d,timestamp:p}=t,f={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return o==="end"&&(this.latestDragStart=void 0),{type:"drag",action:o,x:n,y:i,origin:f,pointerType:s,button:a,buttons:c,radius:r.radius,angle:HJ(r.angle),native:l,timestamp:p,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}_wrapKeyDown(t){const{key:r,repeat:n,native:i}=t.data,{cancelable:o,timestamp:s}=t;return{type:"key-down",key:r,repeat:n,native:i,timestamp:s,cancelable:o,stopPropagation:()=>t.stopPropagation(),async:a=>t.async(a),preventDefault:()=>t.preventDefault()}}_wrapKeyUp(t){const{key:r,native:n}=t.data,{cancelable:i,timestamp:o}=t;return{type:"key-up",key:r,native:n,timestamp:o,cancelable:i,stopPropagation:()=>t.stopPropagation(),async:s=>t.async(s),preventDefault:()=>t.preventDefault()}}_wrapPointer(t,r){const{x:n,y:i,button:o,buttons:s,native:a,eventId:l}=t.data,c=a.pointerId,d=a.pointerType,{cancelable:p,timestamp:f}=t;return{type:r,x:n,y:i,pointerId:c,pointerType:d,button:o,buttons:s,native:a,timestamp:f,eventId:l,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}_wrapPointerDrag(t){const{x:r,y:n,buttons:i,native:o,eventId:s}=t.data.currentEvent,{button:a}=t.data.startEvent,l=t.data.startEvent.native.pointerId,c=t.data.startEvent.native.pointerType,d=t.data.action,p={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:f,timestamp:y}=t;return{type:"pointer-drag",x:r,y:n,pointerId:l,pointerType:c,button:a,buttons:i,action:d,origin:p,native:o,timestamp:y,eventId:s,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}_wrapMouseWheel(t){const{cancelable:r,data:n,timestamp:i}=t,{x:o,y:s,deltaY:a,native:l}=n;return{type:"mouse-wheel",x:o,y:s,deltaY:a,native:l,timestamp:i,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:c=>t.async(c),preventDefault:()=>t.preventDefault()}}_wrapGamepad(t){const{action:r,state:n,device:i}=t.data,{cancelable:o,timestamp:s}=t,{buttons:a,axes:l}=n;return{type:"gamepad",device:i,timestamp:s,action:r,buttons:a,axes:l,cancelable:o,stopPropagation:()=>t.stopPropagation(),async:c=>t.async(c),preventDefault:()=>t.preventDefault()}}}var Z1,uU,dU;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(Z1||(Z1={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(uU||(uU={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(dU||(dU={}));const QLe=Ce.getLogger("esri.views.interactive.interactiveToolUtils");function XLe(e){return[e.on("before-add",t=>{const r=t.item;if(r==null||e.includes(r))return QLe.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();r.onAdd()}),e.on("after-remove",t=>{const r=t.item;r.visible=!1,r.active&&(r.view.activeTool=null),r.destroy()})]}function SE(e){return e.visible&&e.getEditableFlag(Z1.USER)&&e.getEditableFlag(Z1.MANAGER)}function Yl(e){return Ro(e.x,e.y)}function Gne(e,t){const r=(e instanceof HTMLElement?e:e.surface).getBoundingClientRect();return Ro(t.clientX-r.left,t.clientY-r.top)}function pU(e,t){return t instanceof Event?Gne(e,t):Yl(t)}function hU(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class eRe{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(t,r){const n=()=>t.stopPropagation();switch(t.type){case"pointer-move":fU(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!mU(t))break;const i=Yl(t),o=this._intersect(i,t.pointerType,r.forEachTool);if(te(o))break;const s=this._findToolAndManipulatorByKey(o,r.forEachTool,LS),a=hc(s,c=>c.manipulator),l=hc(s,c=>c.tool);!(G(a)&&G(l)&&a.interactive)||a.grabbable&&a.grabbableForEvent(t)||!a.grabbing||a.dragging||this._ungrabManipulatorBeforeDragging(a,l,t),G(a)&&a.interactive&&a.grabbable&&a.grabbableForEvent(t)&&!a.grabbing&&(this._grabbedManipulators.set(t.pointerId,{key:o,start:i,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&r.activeTool!==o.tool&&(this._currentlyActiveTool=r.activeTool,this._revertToActiveTool=!0,r.setActiveTool(o.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:i}),n());break}case"pointer-up":this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!mU(t))break;const i=this._grabbedManipulators.get(t.pointerId),o=this._draggedManipulators.get(t.pointerId),s=hc(i||o,({key:d})=>d),a=this._findManipulatorByKey(s,r.forEachTool);if(te(a))break;const l=Yl(t);l.x=Ko(l.x,0,r.view.width),l.y=Ko(l.y,0,r.view.height);const c=(i||o).start;switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(a.dragging=!0,o?a.events.emit("drag",{action:"update",start:c,screenPoint:l}):a.events.emit("drag",{action:"start",start:c,screenPoint:l,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{key:s,start:c}));break;case"end":a.dragging=!1,o&&a.events.emit("drag",{action:"end",start:c,screenPoint:l}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}n();break}case"immediate-click":{const i=Yl(t),o=this._intersect(i,t.pointerType,r.forEachTool),s=this._findToolAndManipulatorByKey(o,r.forEachTool,LS);if(tRe(t)||r.forEachTool(d=>{if((!G(s)||s.tool!==d||d.automaticManipulatorSelection)&&d.manipulators){let p=!1;d.manipulators.forEach(({manipulator:f})=>{f.selected&&(f.selected=!1,p=!0)}),p&&d.manipulatorSelectionChanged&&d.manipulatorSelectionChanged()}}),te(s))break;const{manipulator:a,tool:l}=s;if(!a.interactive)break;a.selectable&&l.automaticManipulatorSelection&&(a.selected=!a.selected,l.manipulatorSelectionChanged&&l.manipulatorSelectionChanged());const c=t.native.shiftKey;a.events.emit("immediate-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:c,stopPropagation:n});break}case"click":{const i=Yl(t),o=this._intersect(i,t.pointerType,r.forEachTool),s=this._findManipulatorByKey(o,r.forEachTool);if(te(s)||!s.interactive)break;const a=t.native.shiftKey;s.events.emit(t.type,{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a}),n();break}case"double-click":{const i=Yl(t),o=this._intersect(i,t.pointerType,r.forEachTool),s=this._findManipulatorByKey(o,r.forEachTool);if(te(s)||!s.interactive)break;const a=t.native.shiftKey;s.events.emit("double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:n});break}case"immediate-double-click":{const i=Yl(t),o=this._intersect(i,t.pointerType,r.forEachTool),s=this._findManipulatorByKey(o,r.forEachTool);if(te(s)||!s.interactive)break;const a=t.native.shiftKey;s.events.emit("immediate-double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:n});break}}this._onFocusChange(r.forEachTool)}_ungrabManipulatorBeforeDragging(t,r,n){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:n.pointerType,screenPoint:Yl(n)}),this._grabbedManipulators.forEach(({key:i},o)=>{i.tool===r&&r.manipulators.findById(i.manipulatorId)===t&&this._grabbedManipulators.delete(o)})}_handlePointerEnd(t,r){const n=hc(this._grabbedManipulators.get(t.pointerId),({key:o})=>o),i=this._findManipulatorByKey(n,r.forEachTool);G(i)&&!i.dragging&&(this._grabbedManipulators.size===1&&this._draggedManipulators.size===0&&this._revertToActiveTool&&(r.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),i.grabbing&&(i.grabbing=!1,i.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Yl(t)})),this._grabbedManipulators.delete(t.pointerId))}_cursorFromMap(t,r){let n=null;return pI(t,({key:i})=>{const o=this._findManipulatorByKey(i,r);return!!(G(o)&&o.interactive&&"cursor"in o&&o.cursor)&&(n=o.cursor,!0)}),n}_onFocusChange(t){this._updateCursor(t),this._updateFocusedManipulatorTools(t)}_updateCursor(t){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,t)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,t)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const r=new Set;this._grabbedManipulators.forEach(({key:{tool:n}})=>{r.add(n)}),this._hoveredManipulators.forEach(({key:{tool:n}})=>{r.add(n)}),t(n=>{n.hasFocusedManipulators=r.has(n)})}clearPointers(t,r,n=!0,i){const o=s=>s.tool===t&&(te(i)||s.manipulatorId===i);this._grabbedManipulators.forEach(({key:s,pointerType:a},l)=>{if(o(s)){this._grabbedManipulators.delete(l);const c=this._findManipulatorByKey(s,r);G(c)&&(c.grabbing=!1,c.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:a}))}}),this._draggedManipulators.forEach(({key:s},a)=>{if(o(s)){this._draggedManipulators.delete(a);const l=this._findManipulatorByKey(s,r);G(l)&&(l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}}),n&&this._hoveredManipulators.forEach(({key:s},a)=>{if(o(s)){this._hoveredManipulators.delete(a);const l=this._findManipulatorByKey(s,r);G(l)&&(l.hovering=!1)}}),this._onFocusChange(r)}_intersect(t,r,n){let i=null;return n(o=>{if(o.manipulators==null||!SE(o))return!1;const s=o.manipulators.intersect(t,r);return!te(s)&&(i={manipulatorId:s.id,tool:o},!0)}),i}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,n)=>{this._updateHoveredStateForPointerAtScreenPosition(Ro(r.x,r.y),n,r.pointerType,t)})}handleHoverEvent(t,r){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!fU(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Yl(t),t.pointerId,t.pointerType,r)}_updateHoveredStateForPointerAtScreenPosition(t,r,n,i){const o=this._intersect(t,n,i);let s=this._findManipulatorByKey(o,i);const a=hc(this._hoveredManipulators.get(r),({key:c})=>c),l=this._findManipulatorByKey(a,i);G(s)&&!s.interactive&&(s=null),l!==s&&(G(l)&&(l.hovering=!1),G(s)?(s.hovering=!0,this._hoveredManipulators.set(r,{key:o})):this._hoveredManipulators.delete(r),this._onFocusChange(i))}_findManipulatorByKey(t,r){return this._findToolAndManipulatorByKey(t,r,LS)?LS.manipulator:null}_findToolAndManipulatorByKey(t,r,n){return te(t)?null:(n.tool=null,n.manipulator=null,r(i=>{if(i!==t.tool||i.manipulators==null||!SE(i))return!1;const o=i.manipulators.findById(t.manipulatorId);return!!G(o)&&(n.manipulator=o,n.tool=i,!0)}),n.manipulator?n:null)}}function fU(e){return e==="mouse"}function mU(e){return e.pointerType!=="mouse"||e.button===0}function tRe(e){return!!e.native.shiftKey}const LS={manipulator:null,tool:null},rRe=Ce.getLogger("esri.views.ToolViewManager"),yU="attached",rP="tools";let au=class extends $1{constructor(e){super(e),this._manipulatorState=new eRe,this.tools=new We,this.cursor=null,this._forEachTool=t=>{for(const r of this.tools.items)if(t(r))return}}initialize(){this.handles.add([this.view.on(jne,e=>{this._handleInputEvent(e)},Fp.TOOL),...XLe(this.tools),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}set activeTool(e){if(G(e)&&!this.view.ready)return void rRe.error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const t=this.activeTool;this._set("activeTool",e),G(t)&&t.deactivate(),G(e)&&e.activate(),this._removeIncompleteTools(e);const r=te(this.activeTool);for(const n of this.tools){n.setEditableFlag(Z1.MANAGER,r||n===this.activeTool);const i=SE(n);!r&&i||this._manipulatorState.clearPointers(n,this._forEachTool,!i)}this._updateCursor()}get updating(){var e,t;return this.updatingHandles.updating||this.tools.some(r=>r.updating)||((t=(e=this.textures)==null?void 0:e.updating)!=null?t:!1)}attach(){this.view.type==="3d"?(this._set("textures",new ew(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([fe(()=>{const{state:e}=this.view;return"camera"in e&&e.camera},()=>{this._forEachManipulator(e=>{e.onViewChange!=null&&e.onViewChange()})}),this.view.elevationProvider.on("elevation-change",e=>{this._forEachManipulator(t=>{t.onElevationChange!=null&&t.onElevationChange(e)})}),O0(()=>this._set("textures",ko(this.textures)))],yU)):this.handles.add(fe(()=>this.view.extent,()=>{this._forEachManipulator(e=>{e.onViewChange!=null&&e.onViewChange()})}))}detach(){G(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(yU)}_forEachManipulator(e){this._forEachTool(t=>{t.manipulators&&t.manipulators.forEach(({manipulator:r})=>e(r,t))})}_handleInputEvent(e){let t=!1;const r={...e,stopPropagation:()=>{t=!0,e.stopPropagation()}};G(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r):this._forEachTool(n=>{!t&&n.visible&&n.handleInputEvent(r)}),!t&&e.type==="key-down"&&e.key==="Escape"&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:n=>{this.activeTool=n},view:this.view}),!t&&G(this.activeTool)&&this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(rP),this._forEachTool(e=>{if(e instanceof Ve){const t=fe(()=>[e.cursor,e.visible,e.editable],()=>{SE(e)||this._manipulatorState.clearPointers(e,this._forEachTool),this._updateCursor()});this.handles.add(t,rP)}e.manipulators&&this.handles.add(e.manipulators.on("change",t=>{t.removed.forEach(({id:r})=>{this._manipulatorState.clearPointers(e,this._forEachTool,!0,r)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),rP)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){const e=this._manipulatorState.cursor;let t=e;this._forEachTool(r=>!(!G(r.cursor)||!r.visible||!te(e)&&r.preferManipulatorCursor)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(e){this.tools.filter(t=>(te(e)||t!==e)&&!t.created&&t.removeIncompleteOnCancel).forEach(t=>{this.tools.remove(t)})}};u([h({constructOnly:!0,nonNullable:!0})],au.prototype,"view",void 0),u([h({readOnly:!0,nonNullable:!0})],au.prototype,"textures",void 0),u([h({value:null})],au.prototype,"activeTool",null),u([h({readOnly:!0,type:We})],au.prototype,"tools",void 0),u([h({readOnly:!0})],au.prototype,"cursor",void 0),u([h({readOnly:!0})],au.prototype,"updating",null),au=u([B("esri.views.ToolViewManager")],au);const nRe=au;let Dy=class extends Ve{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":iRe.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return oRe[this.deviceType]}};u([h({nonNullable:!0,readOnly:!0})],Dy.prototype,"nativeIndex",void 0),u([h({type:String,readOnly:!0})],Dy.prototype,"deviceType",null),u([h({type:Number,readOnly:!0})],Dy.prototype,"axisThreshold",null),Dy=u([B("esri.views.input.gamepad.GamepadInputDevice")],Dy);const iRe=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),oRe={standard:.15,spacemouse:.025,unknown:0},k4=Dy;let tw=class extends Ve{constructor(...e){super(...e),this.devices=new We,this.enabledFocusMode="document"}};u([h({type:We.ofType(k4),readOnly:!0})],tw.prototype,"devices",void 0),u([h({type:["document","view","none"]})],tw.prototype,"enabledFocusMode",void 0),tw=u([B("esri.views.input.gamepad.GamepadSettings")],tw);const sRe=tw;let g$=class extends Ve{constructor(){super(...arguments),this.gamepad=new sRe}};u([h({readOnly:!0})],g$.prototype,"gamepad",void 0),g$=u([B("esri.views.input.Input")],g$);const aRe=g$;let Vd=class extends Ve{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};u([h({type:Boolean,nonNullable:!0})],Vd.prototype,"enabled",void 0),u([h({type:k4})],Vd.prototype,"device",void 0),u([h({type:["pan","zoom"],nonNullable:!0})],Vd.prototype,"mode",void 0),u([h({type:["forward-down","forward-up"],nonNullable:!0})],Vd.prototype,"tiltDirection",void 0),u([h({type:Number,nonNullable:!0})],Vd.prototype,"velocityFactor",void 0),Vd=u([B("esri.views.navigation.gamepad.GamepadSettings")],Vd);const Hne=Vd;let Jh=class extends Ve{constructor(e){super(e),this.browserTouchPanEnabled=!0,this.gamepad=new Hne,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};u([h({type:Boolean})],Jh.prototype,"browserTouchPanEnabled",void 0),u([h({type:Hne,nonNullable:!0})],Jh.prototype,"gamepad",void 0),u([h({type:Boolean})],Jh.prototype,"momentumEnabled",void 0),u([h({type:Boolean})],Jh.prototype,"mouseWheelZoomEnabled",void 0),Jh=u([B("esri.views.navigation.Navigation")],Jh);const qne=Jh;var gU;function lRe(e){const t=e.url&&g0(e.url);return!((e.spatialReference&&e.spatialReference.vcsWkid)==null&&G(t)&&t.serverType==="ImageServer")&&Wne(e)&&e.heightModelInfo?e.heightModelInfo:cRe(e)?sM.deriveUnitFromSR(dRe,e.spatialReference):null}function Wne(e){return"heightModelInfo"in e}function Kne(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function cRe(e){return Kne(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):Jne(e)}function uRe(e){return e.layers!=null||Jne(e)||Kne(e)||Wne(e)}function Jne(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"line-of-sight":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(gU||(gU={}));const dRe=new sM({heightModel:"gravity-related-height"});var Bu;function vU(e){return e===Bu.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(Bu||(Bu={}));let aF,nP=null;async function pRe(e){nP||(nP=ae(()=>import("./geometryServiceUtils.dbeb2093.js"),[],import.meta.url).then(t=>aF=t)),await nP,Ar(e)}async function Zne(e,t,r,n){if(!e)return null;const i=e.spatialReference;return Hp()||Vu(i,t)?Q0(e,t):aF?aF.projectGeometry(e,t,r,n):(await Promise.race([pRe(n),qp(n)]),Zne(e,t,r,n))}let vr=class extends Ve{constructor(e){super(e),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=i2(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return G(this.userSpatialReference)?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return te(this.userSpatialReference)||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var r,n,i,o;const e=(r=this.map)==null?void 0:r.call(this),t=[];return G(this.priorityCollection)&&t.push(this.priorityCollection),t.push({parent:e==null?void 0:e.basemap,layers:(n=e==null?void 0:e.basemap)==null?void 0:n.baseLayers},{layers:e==null?void 0:e.layers},{parent:e==null?void 0:e.ground,layers:(i=e==null?void 0:e.ground)==null?void 0:i.layers},{parent:e==null?void 0:e.basemap,layers:(o=e==null?void 0:e.basemap)==null?void 0:o.referenceLayers}),t}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){var i;if(this.suspended)return(i=this._get("_spatialReferenceTask"))!=null?i:{updating:!1};const{layers:e,updating:t}=this._allLayers;let r=null;for(const o of e){const s=this._getSupportedSpatialReferences(o);if(s.length>0){const a=this._narrowDownSpatialReferenceCandidates(r,s);G(a)&&(r=a)}if(G(r)&&r.length===1)break}if(t&&(te(r)||r.length!==1))return{updating:!0};const n=this._pickSpatialReferenceCandidate(r);return{spatialReference:G(n)?n.spatialReference:null,viewingMode:G(n)?n.viewingMode:null,updating:!1}}get _tileInfoTask(){var r,n,i,o,s,a,l,c;if(!this.required.tileInfo)return(r=this._get("_tileInfoTask"))!=null?r:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:e,updating:t}=this._collectLayers([{parent:(i=(n=this.map)==null?void 0:n.call(this))==null?void 0:i.basemap,layers:(a=(s=(o=this.map)==null?void 0:o.call(this))==null?void 0:s.basemap)==null?void 0:a.baseLayers},{layers:(c=(l=this.map)==null?void 0:l.call(this))==null?void 0:c.layers}]);if(e&&e.length>0&&"tileInfo"in e[0]){const d=e[0].tileInfo;return{tileInfo:d&&d.spatialReference.equals(this.spatialReference)?d:null,updating:!1}}return{updating:t}}get _heightModelInfoTask(){var r,n,i,o;if(!this.required.heightModelInfo||this.suspended&&((r=this._get("_heightModelInfoTask"))==null?void 0:r.heightModelInfo))return(n=this._get("_heightModelInfoTask"))!=null?n:{updating:!1};const{layers:e,updating:t}=this._allLayers;for(const s of e)if(uRe(s)){const a=lRe(s);if(a)return{heightModelInfo:a,vcsWkid:(i=s.spatialReference)==null?void 0:i.vcsWkid,latestVcsWkid:(o=s.spatialReference)==null?void 0:o.latestVcsWkid,updating:!1}}return{updating:t}}get _extentCandidatesTask(){var n,i;if(this.suspended||!this.required.extent)return(n=this._get("_extentCandidatesTask"))!=null?n:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=this._allLayers,t=e.updating,r=[];for(const o of e.layers){const s="fullExtents"in o&&o.fullExtents||(G(o.fullExtent)?[o.fullExtent]:[]),a=this.requiresExtentInSpatialReference?null:s[0],l=(i=s.find(c=>c.spatialReference.equals(this.spatialReference)))!=null?i:a;if(l)return{candidates:[{extent:l,layer:o}],updating:!1};if(this._getSupportedSpatialReferences(o).length>0)for(const c of s)r.push({extent:c,layer:o})}return{candidates:r,updating:t}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return{updating:t};if(te(e)||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(e),n=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:G(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:(G(this._projectExtentTask.task)&&(this._projectExtentTask.task=i2(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:n.clone(),task:hK(async i=>{try{const o=await Zne(r.extent,n,r.layer.portalItem,i);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Il(i))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,t){if(te(e))return t;const r=[],n=(i,o)=>G(i)?G(o)?i===o&&i:i:o;for(const i of e)for(const o of t){if(!i.spatialReference.equals(o.spatialReference))continue;const s=n(i.viewingMode,o.viewingMode);if(s!==!1){r.push({spatialReference:i.spatialReference,viewingMode:s});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference;return te(e)||e.length<1?G(t)?{spatialReference:t,viewingMode:null}:null:(G(t)&&e.length>1&&e.some(({spatialReference:r})=>r.equals(t))&&(e=e.filter(({spatialReference:r})=>r.equals(t))),e.length>1&&e.some(({viewingMode:r})=>r!==Bu.Local)&&(e=e.filter(({viewingMode:r})=>r!==Bu.Local)),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(t.length===0)return[];const r=[];for(const n of t){const i=this.getSpatialReferenceSupport({spatialReference:n,layer:e});if(G(i)){const o=G(i.constraints)?i.constraints:[{spatialReference:n,viewingMode:null}];for(const{spatialReference:s,viewingMode:a}of o)(!this.requiresExtentInSpatialReference||te(this.userSpatialReference)||s.equals(this.userSpatialReference))&&r.push({spatialReference:s,viewingMode:a})}}return r}_pickExtentCandidate(e){const t=this.spatialReference;return e.find(({extent:r})=>t.equals(r.spatialReference))||e[0]}_collectLayers(e){var r;if(this._loadMaybe((r=this.map)==null?void 0:r.call(this))!=="loaded")return{layers:[],updating:!0};const t={layers:[],preloading:-1,updating:!1};for(const n of e)if(this._collectCollection(n,t),t.preloading===this.sourcePreloadCount)break;return{layers:t.layers,updating:t.updating}}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}for(const r of e.layers){switch(this._loadMaybe(r)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":t.updating||t.layers.push(r),"layers"in r&&this._collectCollection({layers:r.layers},t)}if(t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e?e.loadStatus==="not-loaded"?(e.load(),"loading"):e.loadStatus:"loaded"}};u([h()],vr.prototype,"required",void 0),u([h({constructOnly:!0})],vr.prototype,"map",void 0),u([h({constructOnly:!0})],vr.prototype,"getSpatialReferenceSupport",void 0),u([h()],vr.prototype,"defaultSpatialReference",void 0),u([h()],vr.prototype,"userSpatialReference",void 0),u([h()],vr.prototype,"sourcePreloadCount",void 0),u([h()],vr.prototype,"priorityCollection",void 0),u([h()],vr.prototype,"requiresExtentInSpatialReference",void 0),u([h()],vr.prototype,"suspended",void 0),u([h({readOnly:!0})],vr.prototype,"ready",null),u([h({readOnly:!0})],vr.prototype,"heightModelInfoReady",null),u([h({readOnly:!0})],vr.prototype,"spatialReference",null),u([h({readOnly:!0})],vr.prototype,"extent",null),u([h({readOnly:!0})],vr.prototype,"heightModelInfo",null),u([h({readOnly:!0})],vr.prototype,"vcsWkid",null),u([h({readOnly:!0})],vr.prototype,"latestVcsWkid",null),u([h({readOnly:!0})],vr.prototype,"viewingMode",null),u([h({readOnly:!0})],vr.prototype,"tileInfo",null),u([h({readOnly:!0})],vr.prototype,"mapCollections",null),u([h({readOnly:!0})],vr.prototype,"_allLayers",null),u([h({readOnly:!0})],vr.prototype,"_spatialReferenceTask",null),u([h({readOnly:!0})],vr.prototype,"_tileInfoTask",null),u([h({readOnly:!0})],vr.prototype,"_heightModelInfoTask",null),u([h({readOnly:!0})],vr.prototype,"_extentCandidatesTask",null),u([h()],vr.prototype,"_extentTask",null),u([h()],vr.prototype,"_projectExtentTask",void 0),vr=u([B("esri.views.support.DefaultsFromMap")],vr);var v$;const RS=Ce.getLogger("esri.views.View");let lt=v$=class extends Pc(Ku.EventedMixin(E_(Ve))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new n0({getCollections:()=>{var t,r,n;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(r=this.groundView)==null?void 0:r.layerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:t=>t.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.fatalError=null,this.extent=null,this.graphics=new Gf,this.analyses=new xE,this.navigating=!1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new We,this.magnifier=new zne,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new aRe,this.navigation=new qne,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new ZLe(this),this.persistableViewModels=new We,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(fe(()=>this.preconditionsReady,t=>{var r,n;t?(this._currentSpatialReference=this.spatialReference,v$.views.add(this)):(this._currentSpatialReference=null,v$.views.remove(this)),this.notifyChange("spatialReference"),!t&&this.ready?((r=this.layerViewManager)==null||r.clear(),(n=this.toolViewManager)==null||n.detach(),G(this.analysisViewManager)&&this.analysisViewManager.detach(),this._teardown()):t&&!this.ready&&(this._startup(),G(this.analysisViewManager)&&this.analysisViewManager.attach(),this.toolViewManager.attach())},r0))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,I_(()=>this.ready)))),this.basemapView=new zd({view:this}),this.layerViewManager=new GLe({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new nRe({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([fe(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},{sync:!0,initial:!0}),fe(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},{sync:!0}),fe(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let e=null;this.handles.add([fe(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var n;const r=((n=this.map)==null?void 0:n.allLayers.length)>0;if(t&&!this.spatialReference&&r){if(G(e))return;const i=O0(()=>e=i2(e));e=hK(async o=>{try{await qN(this.spatialReferenceWarningDelay,null,o)}catch{return}finally{e=null}RS.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(i,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=ko(this.graphics),this.analyses=ko(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),ko(this.analysisViewManager),this.toolViewManager=ko(this.toolViewManager),this.layerViewManager=ko(this.layerViewManager),this.basemapView=ko(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const e=this.map;this.map=null,e==null||e.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return RS.error("#toMap()","Not implemented on this instance of View"),null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new vr({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:e=>this.getSpatialReferenceSupport(e),...this._defaultsFromMapSettings})}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Os.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(RS.warn("#map","The provided map is already destroyed",{map:e}),e=null),Os.isLoadable(e)&&e.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",e))}get spatialReference(){var t,r;let e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&((r=(t=this.defaultsFromMap)==null?void 0:t.required)==null?void 0:r.heightModelInfo)&&(e=e.clone(),e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e}set spatialReference(e){const t=!Ci(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return G(e)?e:this._cursor||"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e,t,r;return(r=(t=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)!=null?t:(e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)!=null?r:null}importLayerView(e){throw new Z("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return G(this.getSpatialReferenceSupport({spatialReference:e}))}when(e,t){return this.isResolved()&&!this.ready&&RS.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(qi(()=>this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};lt.views=new We,u([h()],lt.prototype,"_userSpatialReference",void 0),u([Oe("toolViewManager.activeTool")],lt.prototype,"activeTool",void 0),u([h({readOnly:!0})],lt.prototype,"allLayerViews",void 0),u([h()],lt.prototype,"groundView",void 0),u([h()],lt.prototype,"animation",void 0),u([h()],lt.prototype,"basemapView",void 0),u([h({readOnly:!0})],lt.prototype,"_defaultsFromMapSettings",null),u([h()],lt.prototype,"defaultsFromMap",null),u([h()],lt.prototype,"fatalError",void 0),u([h({type:er})],lt.prototype,"extent",void 0),u([h(iF(Gf,"graphics"))],lt.prototype,"graphics",void 0),u([h(iF(xE,"analyses"))],lt.prototype,"analyses",void 0),u([h({readOnly:!0,type:sM})],lt.prototype,"heightModelInfo",null),u([h({readOnly:!0})],lt.prototype,"interacting",null),u([h({readOnly:!0})],lt.prototype,"navigating",void 0),u([h({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],lt.prototype,"preconditionsReady",null),u([h({readOnly:!0})],lt.prototype,"typeSpecificPreconditionsReady",void 0),u([h({type:We,readOnly:!0})],lt.prototype,"layerViews",void 0),u([h({type:zne})],lt.prototype,"magnifier",void 0),u([h({value:null,type:pZ})],lt.prototype,"map",null),u([h()],lt.prototype,"padding",void 0),u([h({readOnly:!0})],lt.prototype,"ready",void 0),u([h({type:mt})],lt.prototype,"spatialReference",null),u([h()],lt.prototype,"spatialReferenceWarningDelay",void 0),u([h()],lt.prototype,"stationary",null),u([h({readOnly:!0})],lt.prototype,"supportsGround",void 0),u([h({type:Rc})],lt.prototype,"timeExtent",void 0),u([Oe("toolViewManager.tools")],lt.prototype,"tools",void 0),u([h()],lt.prototype,"toolViewManager",void 0),u([h({readOnly:!0})],lt.prototype,"type",void 0),u([h({type:Number})],lt.prototype,"scale",void 0),u([h({readOnly:!0})],lt.prototype,"updating",void 0),u([h({readOnly:!0})],lt.prototype,"initialExtentRequired",void 0),u([h({readOnly:!0})],lt.prototype,"initialExtent",null),u([h()],lt.prototype,"cursor",null),u([h({readOnly:!0})],lt.prototype,"input",void 0),u([h({type:qne,nonNullable:!0})],lt.prototype,"navigation",void 0),u([h()],lt.prototype,"layerViewManager",void 0),u([h()],lt.prototype,"analysisViewManager",void 0),u([h()],lt.prototype,"width",void 0),u([h()],lt.prototype,"height",void 0),u([h({readOnly:!0})],lt.prototype,"resizing",void 0),u([h({value:null,readOnly:!0})],lt.prototype,"size",null),u([h({readOnly:!0})],lt.prototype,"suspended",void 0),u([h({readOnly:!0})],lt.prototype,"viewEvents",void 0),u([h({readOnly:!0})],lt.prototype,"persistableViewModels",void 0),u([h()],lt.prototype,"_isValid",void 0),u([h()],lt.prototype,"_readyCycleForced",void 0),u([h()],lt.prototype,"_currentSpatialReference",void 0),lt=v$=u([B("esri.views.View")],lt);const hRe=lt;let jd=class extends w2{constructor(e){super(e),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((e,t)=>this._dfd={resolve:e,reject:t}))}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._dfd.reject(new Z("ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._dfd.resolve())}update(e,t){t||(t=Wu(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}};u([h({readOnly:!0})],jd.prototype,"done",null),u([h({readOnly:!0,type:String})],jd.prototype,"state",void 0),u([h()],jd.prototype,"target",void 0),jd=u([B("esri.views.ViewAnimation")],jd),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(jd||(jd={}));const lF=jd;function pf(e,t,r,n){const i=3*e,o=3*(r-e)-i,s=1-i-o,a=3*t,l=3*(n-t)-a,c=1-a-l;function d(g){return((s*g+o)*g+i)*g}function p(g){return((c*g+l)*g+a)*g}function f(g){return(3*s*g+2*o)*g+i}function y(g,v){let b,w,x,S,C,$;for(x=g,$=0;$<8;$++){if(S=d(x)-g,Math.abs(S)<v)return x;if(C=f(x),Math.abs(C)<1e-6)break;x-=S/C}if(b=0,w=1,x=g,x<b)return b;if(x>w)return w;for(;b<w;){if(S=d(x),Math.abs(S-g)<v)return x;g>S?b=x:w=x,x=.5*(w-b)+b}return x}return function(g,v=1e-6){return p(y(g,v))}}const fRe=/^cubic-bezier\((.*)\)/,ta={};function mRe(e){let t=ta[e]||null;if(!t){const r=fRe.exec(e);if(r){const n=r[1].split(",").map(i=>parseFloat(i.trim()));n.length!==4||n.some(i=>isNaN(i))||(t=pf.apply(pf,n))}}return t}ta.ease=pf(.25,.1,.25,1),ta.linear=pf(0,0,1,1),ta.easeIn=ta["ease-in"]=pf(.42,0,1,1),ta.easeOut=ta["ease-out"]=pf(0,0,.58,1),ta.easeInOut=ta["ease-in-out"]=pf(.42,0,.58,1);function Np(){return[1,0,0,1,0,0]}function yRe(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function gRe(e,t,r,n,i,o){return[e,t,r,n,i,o]}function vRe(e,t){return new Float64Array(e,t,6)}Object.freeze(Object.defineProperty({__proto__:null,create:Np,clone:yRe,fromValues:gRe,createView:vRe},Symbol.toStringTag,{value:"Module"}));function Y1(e,t){return e[0]=t[0],e[1]=t[1],e}function li(e,t,r){return e[0]=t,e[1]=r,e}function Yne(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function Q1(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function Qne(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function Xne(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function bRe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function wRe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function _Re(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function xRe(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function SRe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Y_(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function CRe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function Q_(e,t){const r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function CE(e,t){const r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function $E(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function eie(e){const t=e[0],r=e[1];return t*t+r*r}function tie(e,t){return e[0]=-t[0],e[1]=-t[1],e}function $Re(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function cF(e,t){const r=t[0],n=t[1];let i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function rie(e,t){return e[0]*t[0]+e[1]*t[1]}function nie(e,t,r){const n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function ERe(e,t,r,n){const i=t[0],o=t[1];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e}function IRe(e,t){t=t||1;const r=2*fp()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function MRe(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function ac(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function TRe(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function kRe(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function PRe(e,t,r,n){const i=t[0]-r[0],o=t[1]-r[1],s=Math.sin(n),a=Math.cos(n);return e[0]=i*a-o*s+r[0],e[1]=i*s+o*a+r[1],e}function ORe(e,t){const r=e[0],n=e[1],i=t[0],o=t[1];let s=r*r+n*n;s>0&&(s=1/Math.sqrt(s));let a=i*i+o*o;a>0&&(a=1/Math.sqrt(a));const l=(r*i+n*o)*s*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function LRe(e){return"vec2("+e[0]+", "+e[1]+")"}function RRe(e,t){return e[0]===t[0]&&e[1]===t[1]}function ARe(e,t){const r=e[0],n=e[1],i=t[0],o=t[1];return Math.abs(r-i)<=pt*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=pt*Math.max(1,Math.abs(n),Math.abs(o))}function FRe(e,t,r,n,i){let o=t[0]-r[0],s=t[1]-r[1];const a=(n[0]*o+n[1]*s)*(i-1);return o=n[0]*a,s=n[1]*a,e[0]=t[0]+o,e[1]=t[1]+s,e}const NRe=$E,P4=Q1,DRe=Qne,zRe=Xne,VRe=Q_,jRe=CE,BRe=eie;Object.freeze(Object.defineProperty({__proto__:null,copy:Y1,set:li,add:Yne,subtract:Q1,multiply:Qne,divide:Xne,ceil:bRe,floor:wRe,min:_Re,max:xRe,round:SRe,scale:Y_,scaleAndAdd:CRe,distance:Q_,squaredDistance:CE,length:$E,squaredLength:eie,negate:tie,inverse:$Re,normalize:cF,dot:rie,cross:nie,lerp:ERe,random:IRe,transformMat2:MRe,transformMat2d:ac,transformMat3:TRe,transformMat4:kRe,rotate:PRe,angle:ORe,str:LRe,exactEquals:RRe,equals:ARe,projectAndScale:FRe,len:NRe,sub:P4,mul:DRe,div:zRe,dist:VRe,sqrDist:jRe,sqrLen:BRe},Symbol.toStringTag,{value:"Module"}));function gn(){return[0,0]}function URe(e){return[e[0],e[1]]}function X_(e,t){return[e,t]}function GRe(e){const t=gn(),r=Math.min(2,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function HRe(e,t){return new Float64Array(e,t,2)}function iie(){return gn()}function oie(){return X_(1,1)}function sie(){return X_(1,0)}function aie(){return X_(0,1)}const qRe=iie(),WRe=oie(),KRe=sie(),JRe=aie();Object.freeze(Object.defineProperty({__proto__:null,create:gn,clone:URe,fromValues:X_,fromArray:GRe,createView:HRe,zeros:iie,ones:oie,unitX:sie,unitY:aie,ZEROS:qRe,ONES:WRe,UNIT_X:KRe,UNIT_Y:JRe},Symbol.toStringTag,{value:"Module"}));const lie=96,cie=39.37,ZRe=180/Math.PI;function uie(e){return e.wkid?e:e.spatialReference||mt.WGS84}function O4(e,t){return t.type?li(e,t.x,t.y):Y1(e,t)}function die(e){return W0(e)}function qw(e,t){const r=Math.max(1,t[0]),n=Math.max(1,t[1]);return Math.max(e.width/r,e.height/n)*oAe(e.spatialReference)}async function rw(e,t,r,n){let i,o;if(!e||Array.isArray(e)&&!e.length)return null;if(We.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const a=e.every(d=>"attributes"in d),l=e.some(d=>!d.geometry);let c=e;if(a&&l&&t&&t.allLayerViews){const d=new Map;for(const g of e){const v=g.layer,b=d.get(v)||[],w=g.attributes[v.objectIdField];w!=null&&b.push(w),d.set(v,b)}const p=[];d.forEach((g,v)=>{const b=t.allLayerViews.find(w=>w.layer.id===v.id);if("queryFeatures"in b){const w=v.createQuery();w.objectIds=g,w.returnGeometry=!0,p.push(b.queryFeatures(w))}});const f=await Promise.all(p),y=[];for(const g of f)if(g&&g.features&&g.features.length)for(const v of g.features)G(v.geometry)&&y.push(v.geometry);c=y}for(const d of c)n=await rw(d,t,r,n);return n}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")i=new at(e);else if(e instanceof Wo)i=e;else if("geometry"in e){if(e.geometry)i=e.geometry;else if(e.layer){const a=e.layer,l=t.allLayerViews.find(c=>c.layer.id===a.id);if("queryFeatures"in l){const c=a.createQuery();c.objectIds=[e.attributes[a.objectIdField]],c.returnGeometry=!0;const d=await l.queryFeatures(c);i=DN(d,"features",0,"geometry")}}}if(te(i)||(o=i.type==="point"?new er({xmin:i.x,ymin:i.y,xmax:i.x,ymax:i.y,spatialReference:i.spatialReference}):i.extent,!o))return null;Hp()||Vu(o.spatialReference,r)||await qp();const s=Q0(o,r);return s?n=n?n.union(s):s:null}function YRe(e){if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(t=>"layer"in t)){let t=0,r=0;for(const n of e){const i=n.layer;i&&i.minScale&&i.maxScale&&(t=i.minScale<t?i.minScale:t,r=i.maxScale>r?i.maxScale:r)}return t&&r?{min:t,max:r}:null}}}function iP(e,t){return Ci(uie(e),t)?e:Q0(e,t)}async function QRe(e,t){if(!e||!t)return new Cl({targetGeometry:new at,scale:0,rotation:0});let r=t.spatialReference;const{constraints:n,padding:i,viewpoint:o,size:s}=t,a=[i?s[0]-i.left-i.right:s[0],i?s[1]-i.top-i.bottom:s[1]];let l=null;e instanceof Cl?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let c=null;l&&l.targetGeometry?c=l.targetGeometry:e instanceof er?c=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(c=await rw(e.center,t,r)||await rw(e.extent,t,r)||await rw(e.target,t,r)||await rw(e,t,r)),!c&&o&&o.targetGeometry?c=o.targetGeometry:!c&&t.extent&&(c=t.extent),r||(r=uie(t.spatialReference||t.extent||c)),Hp()||Ci(c.spatialReference,r)||Vu(c,r)||await qp();const d=iP(c.center?c.center:c,r);let p=null;if(l&&G(l.targetGeometry)&&l.targetGeometry.type==="point")p=l.scale;else if("scale"in e&&e.scale)p=e.scale;else if("zoom"in e&&e.zoom!==-1&&n&&n.effectiveLODs)p=n.zoomToScale(e.zoom);else if(Array.isArray(c)||c.type==="point"||c.type==="extent"&&c.width===0&&c.height===0){const v=iP(t.extent,r);p=G(v)?qw(v,a):t.extent?qw(t.extent,a):o.scale}else p=qw(iP(c.extent,r),a);const f=YRe(e);f&&(f.min&&f.min>p?p=f.min:f.max&&f.max<p&&(p=f.max));let y=0;l?y=l.rotation:e.hasOwnProperty("rotation")?y=e.rotation:o&&(y=o.rotation);let g=new Cl({targetGeometry:d,scale:p,rotation:y});return n&&(g=n.fit(g),n.constrainByGeometry(g),n.rotationEnabled||(g.rotation=y)),g}function Tl(e,t){const r=e.targetGeometry,n=t.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function XRe(e,t,r){return r?li(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):Y_(e,t,.5)}const eAe=function(){const e=gn();return function(t,r,n){const i=r.targetGeometry;O4(e,i);const o=.5*sv(r);return t.xmin=e[0]-o*n[0],t.ymin=e[1]-o*n[1],t.xmax=e[0]+o*n[0],t.ymax=e[1]+o*n[1],t.spatialReference=i.spatialReference,t}}();function tAe(e,t,r,n,i){return uF(e,t,r.center),e.scale=qw(r,n),i&&i.constraints&&i.constraints.constrain(e),e}function rAe(e,t,r,n){return A4(e,t,r,n),x5(e,e)}const pie=function(){const e=gn();return function(t,r,n){return P4(t,sAe(t,r),XRe(e,r,n))}}(),nAe=function(){const e=Np(),t=gn();return function(r,n,i,o){const s=sv(n),a=L4(n);return li(t,s,s),MX(e,t),V_(e,e,a),p0(e,e,pie(t,i,o)),p0(e,e,[0,o.top-o.bottom]),li(r,e[4],e[5])}}();function sv(e){return e.scale*iAe(e.targetGeometry)}function iAe(e){return G(e)&&Hi(e.spatialReference)?1/(die(e.spatialReference)*cie*lie):1}function L4(e){return yD(e.rotation)||0}function oAe(e){return Hi(e)?die(e)*cie*lie:1}function sAe(e,t){return Y_(e,t,.5)}const R4=function(){const e=gn(),t=gn(),r=gn();return function(n,i,o,s,a,l){return tie(e,i),Y_(t,o,.5*l),li(r,1/s*l,-1/s*l),S5(n,t),a&&V_(n,n,a),WI(n,n,r),p0(n,n,e),n}}(),A4=function(){const e=gn();return function(t,r,n,i){const o=sv(r),s=L4(r);return O4(e,r.targetGeometry),R4(t,e,n,o,s,i)}}(),aAe=function(){const e=gn();return function(t,r,n,i){const o=sv(r);return O4(e,r.targetGeometry),R4(t,e,n,o,0,i)}}();function lAe(e){const t=xl(e);return t?t.valid[1]-t.valid[0]:0}function cAe(e,t){return Math.round(lAe(e)/t)}const uAe=function(){const e=gn(),t=gn(),r=[0,0,0];return function(n,i,o){Q1(e,n,i),cF(e,e),Q1(t,n,o),cF(t,t),nie(r,e,t);let s=Math.acos(rie(e,t)/($E(e)*$E(t)))*ZRe;return r[2]<0&&(s=-s),isNaN(s)&&(s=0),s}}(),dAe=function(){const e=gn();return function(t,r,n,i){const o=t.targetGeometry;return Tl(t,r),nAe(e,r,n,i),o.x+=e[0],o.y+=e[1],t}}(),uF=function(e,t,r){Tl(e,t);const n=e.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e},pAe=function(){const e=gn();return function(t,r,n,i,o){o||(o="center"),P4(e,n,i),Y_(e,e,.5);const s=e[0],a=e[1];switch(o){case"center":li(e,0,0);break;case"left":li(e,-s,0);break;case"top":li(e,0,a);break;case"right":li(e,s,0);break;case"bottom":li(e,0,-a);break;case"top-left":li(e,-s,a);break;case"bottom-left":li(e,-s,-a);break;case"top-right":li(e,s,a);break;case"bottom-right":li(e,s,-a)}return uM(t,r,e),t}}();function Xtt(e,t,r){return Tl(e,t),e.rotation+=r,e}function hAe(e,t,r){return Tl(e,t),e.rotation=r,e}const fAe=function(){const e=gn();return function(t,r,n,i,o){return Tl(t,r),isNaN(n)||n===0||(fie(e,i,r,o),t.scale=r.scale*n,mie(e,e,t,o),uM(t,t,li(e,e[0]-i[0],i[1]-e[1]))),t}}();function bU(e,t,r){return Tl(e,t),e.scale=r,e}const hie=function(){const e=gn();return function(t,r,n,i,o,s){return Tl(t,r),isNaN(n)||n===0||(fie(e,o,r,s),t.scale=r.scale*n,t.rotation+=i,mie(e,e,t,s),uM(t,t,li(e,e[0]-o[0],o[1]-e[1]))),t}}(),ert=function(){const e=gn(),t=gn();return function(r,n,i,o,s,a,l){return pie(t,a,l),Yne(e,s,t),o?hie(r,n,i,o,e,a):fAe(r,n,i,e,a)}}(),fie=function(){const e=Np();return function(t,r,n,i){return ac(t,r,rAe(e,n,i,1))}}(),mie=function(){const e=Np();return function(t,r,n,i){return ac(t,r,A4(e,n,i,1))}}(),uM=function(){const e=gn(),t=Np();return function(r,n,i){Tl(r,n);const o=sv(n),s=r.targetGeometry;return IX(t,L4(n)),WI(t,t,X_(o,o)),ac(e,i,t),s.x+=e[0],s.y+=e[1],r}}();class mAe{constructor(t,r,n,i){const o=t.targetGeometry,s=r.targetGeometry;i?typeof i=="string"&&(i=mRe(i)||ta.ease):i=ta.ease,this.easing=i,this.duration=n,this.sCenterX=o.x,this.sCenterY=o.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=s.x,this.tCenterY=s.y,this.tScale=r.scale,this.tRotation=r.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(t,r){const n=this.easing(r);let i,o,s,a;r>=1?(i=this.tCenterX,o=this.tCenterY,s=this.tRotation,a=this.tScale):(i=this.sCenterX+n*this.dCenterX,o=this.sCenterY+n*this.dCenterY,s=this.sRotation+n*this.dRotation,a=this.sScale+n*this.dScale),t.targetGeometry.x=i,t.targetGeometry.y=o,t.scale=a,t.rotation=s}}let lu=class extends Ve{constructor(e){super(e),this.duration=200,this.transition=null,this.easing=ta.ease,this.view=null,this.viewpoint=null,this.viewpoint=new Cl({targetGeometry:new at,scale:0,rotation:0}),this._updateTask=e0({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(e,t,r){this.stop();const n=this.viewpoint;Tl(n,t),this.transition=new mAe(this.viewpoint,e.target,r&&r.duration||this.duration,r&&r.easing||this.easing);const i=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;const r=new lF({target:e.clone()}),n=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation;if(t&&t.state!==lF.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime);else{const r=(performance.now()-this._startTime)/this.transition.duration,n=r>=1;this.transition.applyRatio(this.viewpoint,r),n&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};u([h()],lu.prototype,"animation",void 0),u([h()],lu.prototype,"duration",void 0),u([h()],lu.prototype,"transition",void 0),u([h()],lu.prototype,"easing",void 0),u([h()],lu.prototype,"view",void 0),u([h()],lu.prototype,"viewpoint",void 0),lu=u([B("esri.views.2d.AnimationManager")],lu);const yAe=lu;class gAe{constructor(t){this.view=t,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{this._updateRequested=!1;const{basemapView:r,graphicsView:n,labelManager:i,layerViews:o,state:{id:s}}=this.view;r.baseLayerViews.forEach(this._updateLayerView,this),o.forEach(this._updateLayerView,this),r.referenceLayerViews.forEach(this._updateLayerView,this),G(i)&&(i.lastUpdateId!==s&&(i.viewChange(),i.lastUpdateId=s),i.updateRequested&&i.processUpdate(this._updateParameters)),G(n)&&(n.lastUpdateId!==s&&(n.viewChange(),n.lastUpdateId=s),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=fe(()=>t.stationary,r=>{this.stationary=r,this.requestFrame()}),this._frameTaskHandle=e0(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){const r=this.view.state,n=t.lastUpdateId;n!=null&&(this.stationary||t.moving)||(t.moving=!0,t.moveStart()),n!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews.forEach(this._updateLayerView,this)}}function Ln(){return Promise.all([ae(()=>import("./webglDeps.2a3b5057.js"),["webglDeps.2a3b5057.js","VertexArrayObject.61da39b7.js","Texture.df75317b.js","enums.c60b1dad.js","ProgramTemplate.40308da0.js","programUtils.554aa6f6.js"],import.meta.url),ae(()=>import("./mapViewDeps.7fa58017.js"),["mapViewDeps.7fa58017.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","definitions.cd8c5521.js","alignmentUtils.84250e5d.js","number.6e30c64a.js","GeometryUtils.f3664fe1.js","utils.ad868521.js","Utils.1f5b6bd7.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","VertexArrayObject.61da39b7.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","enums.58eeda20.js","programUtils.554aa6f6.js","Rasterizer.97157184.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","commonjsHelpers.ce2b5698.js","imageutils.b2154ea6.js","Matcher.7af2fe62.js","visualVariablesUtils.884d3bde.js","visualVariablesUtils.10b31a9d.js","tileUtils.a755e3d4.js","TileClipper.5bd7dcb4.js","Geometry.f2d62961.js","ExpandedCIM.bbcfc6ca.js","CircularArray.55b20eb7.js","requestImageUtils.ad134a16.js","ComputedAttributeStorage.e1077482.js","centroid.ca7c664b.js","BaseGraphicContainer.476eeaa6.js","normalizeUtilsSync.792f4e40.js","projectionSupport.4aed025e.js","json.8bd707cf.js","FeatureContainer.28dca56e.js","TileContainer.02f65f97.js","schemaUtils.51235f56.js","createSymbolSchema.a8baa8ce.js","MD5.7323a015.js","util.0cc07af3.js","vec3f32.ca7a14c1.js","GraphicContainer.5447100b.js"],import.meta.url)])}const Wv=()=>Ln().then(()=>ae(()=>import("./TileLayerView2D.a1eeaeff.js"),["TileLayerView2D.a1eeaeff.js","imageUtils.ba8e1bbd.js","BitmapTileContainer.28af822b.js","Bitmap.725fee77.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","TileContainer.02f65f97.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","VertexArrayObject.61da39b7.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js","RefreshableLayerView.20c76b83.js","drapedUtils.8a25ae06.js"],import.meta.url)),AS=()=>Ln().then(()=>ae(()=>import("./FeatureLayerView2D.a35f9971.js"),["FeatureLayerView2D.a35f9971.js","definitions.cd8c5521.js","LayerView.cde178db.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","schemaUtils.51235f56.js","visualVariablesUtils.10b31a9d.js","createSymbolSchema.a8baa8ce.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","MD5.7323a015.js","util.0cc07af3.js","popupUtils.b55f287a.js","RefreshableLayerView.20c76b83.js"],import.meta.url)),wU={"base-dynamic":()=>Ln().then(()=>ae(()=>import("./BaseDynamicLayerView2D.e5f3605e.js"),["BaseDynamicLayerView2D.e5f3605e.js","BitmapContainer.bbca9d07.js","WGLContainer.ee4fac61.js","enums.c60b1dad.js","pixelUtils.784e90c3.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","VertexArrayObject.61da39b7.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js","ExportStrategy.2e32a179.js","Bitmap.725fee77.js","RefreshableLayerView.20c76b83.js"],import.meta.url)),"base-tile":Wv,"bing-maps":Wv,csv:AS,"geo-rss":()=>Ln().then(()=>ae(()=>import("./GeoRSSLayerView2D.9373a715.js"),["GeoRSSLayerView2D.9373a715.js","LayerView.cde178db.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","GraphicContainer.5447100b.js","BaseGraphicContainer.476eeaa6.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.792f4e40.js","projectionSupport.4aed025e.js","json.8bd707cf.js","VertexArrayObject.61da39b7.js","FeatureContainer.28dca56e.js","TileContainer.02f65f97.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","visualVariablesUtils.884d3bde.js","visualVariablesUtils.10b31a9d.js","Matcher.7af2fe62.js","tileUtils.a755e3d4.js","TileClipper.5bd7dcb4.js","Geometry.f2d62961.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","schemaUtils.51235f56.js","createSymbolSchema.a8baa8ce.js","MD5.7323a015.js","util.0cc07af3.js","ComputedAttributeStorage.e1077482.js","centroid.ca7c664b.js","vec3f32.ca7a14c1.js"],import.meta.url)),feature:AS,geojson:AS,graphics:()=>Ln().then(()=>ae(()=>import("./GraphicsLayerView2D.74ae9c23.js"),["GraphicsLayerView2D.74ae9c23.js","LayerView.cde178db.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","GraphicContainer.5447100b.js","BaseGraphicContainer.476eeaa6.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.792f4e40.js","projectionSupport.4aed025e.js","json.8bd707cf.js","VertexArrayObject.61da39b7.js","FeatureContainer.28dca56e.js","TileContainer.02f65f97.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","visualVariablesUtils.884d3bde.js","visualVariablesUtils.10b31a9d.js","Matcher.7af2fe62.js","tileUtils.a755e3d4.js","TileClipper.5bd7dcb4.js","Geometry.f2d62961.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","schemaUtils.51235f56.js","createSymbolSchema.a8baa8ce.js","MD5.7323a015.js","util.0cc07af3.js","ComputedAttributeStorage.e1077482.js","centroid.ca7c664b.js","vec3f32.ca7a14c1.js"],import.meta.url)),group:()=>Ln().then(()=>ae(()=>import("./GroupLayerView2D.059f3d8f.js"),["GroupLayerView2D.059f3d8f.js","GroupContainer.031b041d.js","WGLContainer.ee4fac61.js","enums.c60b1dad.js","pixelUtils.784e90c3.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","VertexArrayObject.61da39b7.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js"],import.meta.url)),imagery:()=>Ln().then(()=>ae(()=>import("./ImageryLayerView2D.96d1647b.js"),["ImageryLayerView2D.96d1647b.js","RasterVFDisplayObject.f3c9b137.js","VertexArrayObject.61da39b7.js","Texture.df75317b.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js","dataUtils.09f96080.js","pixelUtils.784e90c3.js","WGLContainer.ee4fac61.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js","BaseGraphicContainer.476eeaa6.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.792f4e40.js","projectionSupport.4aed025e.js","json.8bd707cf.js","FeatureContainer.28dca56e.js","TileContainer.02f65f97.js","visualVariablesUtils.884d3bde.js","visualVariablesUtils.10b31a9d.js","Matcher.7af2fe62.js","tileUtils.a755e3d4.js","TileClipper.5bd7dcb4.js","Geometry.f2d62961.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","schemaUtils.51235f56.js","createSymbolSchema.a8baa8ce.js","MD5.7323a015.js","util.0cc07af3.js","ComputedAttributeStorage.e1077482.js","centroid.ca7c664b.js","vec3f32.ca7a14c1.js","HighlightGraphicContainer.a45f5ba3.js","BitmapContainer.bbca9d07.js","Bitmap.725fee77.js","ExportStrategy.2e32a179.js","rasterProjectionHelper.02e1d9b8.js","popupUtils.b55f287a.js","RefreshableLayerView.20c76b83.js"],import.meta.url)),"imagery-tile":()=>Ln().then(()=>ae(()=>import("./ImageryTileLayerView2D.804dc493.js"),["ImageryTileLayerView2D.804dc493.js","RasterVFDisplayObject.f3c9b137.js","VertexArrayObject.61da39b7.js","Texture.df75317b.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js","dataUtils.09f96080.js","pixelUtils.784e90c3.js","WGLContainer.ee4fac61.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js","TileContainer.02f65f97.js","RawBlockCache.47454f78.js","rasterProjectionHelper.02e1d9b8.js","util.0cc07af3.js","popupUtils.b55f287a.js","RefreshableLayerView.20c76b83.js"],import.meta.url)),kml:()=>Ln().then(()=>ae(()=>import("./KMLLayerView2D.f2759875.js"),["KMLLayerView2D.f2759875.js","kmlUtils.b1567328.js","Bitmap.725fee77.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","BitmapContainer.bbca9d07.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","VertexArrayObject.61da39b7.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js","GraphicContainer.5447100b.js","BaseGraphicContainer.476eeaa6.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.792f4e40.js","projectionSupport.4aed025e.js","json.8bd707cf.js","FeatureContainer.28dca56e.js","TileContainer.02f65f97.js","visualVariablesUtils.884d3bde.js","visualVariablesUtils.10b31a9d.js","Matcher.7af2fe62.js","tileUtils.a755e3d4.js","TileClipper.5bd7dcb4.js","Geometry.f2d62961.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","schemaUtils.51235f56.js","createSymbolSchema.a8baa8ce.js","MD5.7323a015.js","util.0cc07af3.js","ComputedAttributeStorage.e1077482.js","centroid.ca7c664b.js","vec3f32.ca7a14c1.js"],import.meta.url)),"map-image":()=>Ln().then(()=>ae(()=>import("./MapImageLayerView2D.16cf9577.js"),["MapImageLayerView2D.16cf9577.js","BitmapContainer.bbca9d07.js","WGLContainer.ee4fac61.js","enums.c60b1dad.js","pixelUtils.784e90c3.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","VertexArrayObject.61da39b7.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js","BaseGraphicContainer.476eeaa6.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.792f4e40.js","projectionSupport.4aed025e.js","json.8bd707cf.js","FeatureContainer.28dca56e.js","TileContainer.02f65f97.js","visualVariablesUtils.884d3bde.js","visualVariablesUtils.10b31a9d.js","Matcher.7af2fe62.js","tileUtils.a755e3d4.js","TileClipper.5bd7dcb4.js","Geometry.f2d62961.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","schemaUtils.51235f56.js","createSymbolSchema.a8baa8ce.js","MD5.7323a015.js","util.0cc07af3.js","ComputedAttributeStorage.e1077482.js","centroid.ca7c664b.js","vec3f32.ca7a14c1.js","HighlightGraphicContainer.a45f5ba3.js","ExportStrategy.2e32a179.js","Bitmap.725fee77.js","scaleUtils.6f347d0f.js","drapedUtils.8a25ae06.js","popupUtils.b55f287a.js","RefreshableLayerView.20c76b83.js"],import.meta.url)),"map-notes":()=>Ln().then(()=>ae(()=>import("./MapNotesLayerView2D.527d0543.js"),["MapNotesLayerView2D.527d0543.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","GroupContainer.031b041d.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","VertexArrayObject.61da39b7.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js","GraphicContainer.5447100b.js","BaseGraphicContainer.476eeaa6.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.792f4e40.js","projectionSupport.4aed025e.js","json.8bd707cf.js","FeatureContainer.28dca56e.js","TileContainer.02f65f97.js","visualVariablesUtils.884d3bde.js","visualVariablesUtils.10b31a9d.js","Matcher.7af2fe62.js","tileUtils.a755e3d4.js","TileClipper.5bd7dcb4.js","Geometry.f2d62961.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","schemaUtils.51235f56.js","createSymbolSchema.a8baa8ce.js","MD5.7323a015.js","util.0cc07af3.js","ComputedAttributeStorage.e1077482.js","centroid.ca7c664b.js","vec3f32.ca7a14c1.js"],import.meta.url)),media:()=>Ln().then(()=>ae(()=>import("./MediaLayerView2D.9dfeee30.js"),["MediaLayerView2D.9dfeee30.js","normalizeUtilsSync.792f4e40.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","VertexArrayObject.61da39b7.js","vec3f32.ca7a14c1.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js"],import.meta.url)),"ogc-feature":()=>Ln().then(()=>ae(()=>import("./OGCFeatureLayerView2D.bf0435d9.js"),["OGCFeatureLayerView2D.bf0435d9.js","FeatureLayerView2D.a35f9971.js","definitions.cd8c5521.js","LayerView.cde178db.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","schemaUtils.51235f56.js","visualVariablesUtils.10b31a9d.js","createSymbolSchema.a8baa8ce.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","MD5.7323a015.js","util.0cc07af3.js","popupUtils.b55f287a.js","RefreshableLayerView.20c76b83.js"],import.meta.url)),"open-street-map":Wv,route:()=>Ln().then(()=>ae(()=>import("./RouteLayerView2D.cb5a532c.js"),["RouteLayerView2D.cb5a532c.js","Stop.ff324fb7.js","LayerView.cde178db.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","GraphicContainer.5447100b.js","BaseGraphicContainer.476eeaa6.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","normalizeUtilsSync.792f4e40.js","projectionSupport.4aed025e.js","json.8bd707cf.js","VertexArrayObject.61da39b7.js","FeatureContainer.28dca56e.js","TileContainer.02f65f97.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","visualVariablesUtils.884d3bde.js","visualVariablesUtils.10b31a9d.js","Matcher.7af2fe62.js","tileUtils.a755e3d4.js","TileClipper.5bd7dcb4.js","Geometry.f2d62961.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","schemaUtils.51235f56.js","createSymbolSchema.a8baa8ce.js","MD5.7323a015.js","util.0cc07af3.js","ComputedAttributeStorage.e1077482.js","centroid.ca7c664b.js","vec3f32.ca7a14c1.js"],import.meta.url)),stream:()=>Ln().then(()=>ae(()=>import("./StreamLayerView2D.593bc532.js"),["StreamLayerView2D.593bc532.js","FeatureLayerView2D.a35f9971.js","definitions.cd8c5521.js","LayerView.cde178db.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","schemaUtils.51235f56.js","visualVariablesUtils.10b31a9d.js","createSymbolSchema.a8baa8ce.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","MD5.7323a015.js","util.0cc07af3.js","popupUtils.b55f287a.js","RefreshableLayerView.20c76b83.js"],import.meta.url)),"subtype-group":()=>Ln().then(()=>ae(()=>import("./SubtypeGroupLayerView2D.a60c4ab2.js"),["SubtypeGroupLayerView2D.a60c4ab2.js","FeatureLayerView2D.a35f9971.js","definitions.cd8c5521.js","LayerView.cde178db.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","schemaUtils.51235f56.js","visualVariablesUtils.10b31a9d.js","createSymbolSchema.a8baa8ce.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","GeometryUtils.f3664fe1.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","ExpandedCIM.bbcfc6ca.js","MD5.7323a015.js","util.0cc07af3.js","popupUtils.b55f287a.js","RefreshableLayerView.20c76b83.js"],import.meta.url)),tile:Wv,"vector-tile":()=>Ln().then(()=>ae(()=>import("./VectorTileLayerView2D.8bd56223.js"),["VectorTileLayerView2D.8bd56223.js","enums.58eeda20.js","Rect.a122c453.js","enums.c60b1dad.js","Texture.df75317b.js","CIMSymbolHelper.6438e485.js","definitions.cd8c5521.js","alignmentUtils.84250e5d.js","number.6e30c64a.js","GeometryUtils.f3664fe1.js","VertexArrayObject.61da39b7.js","config.ded6d251.js","TileContainer.02f65f97.js","utils.ad868521.js","Utils.1f5b6bd7.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","StyleRepository.51f1cbef.js","Geometry.f2d62961.js","LayerView.cde178db.js","Bitmap.725fee77.js","BitmapContainer.bbca9d07.js"],import.meta.url)),wcs:()=>Ln().then(()=>ae(()=>import("./ImageryTileLayerView2D.804dc493.js"),["ImageryTileLayerView2D.804dc493.js","RasterVFDisplayObject.f3c9b137.js","VertexArrayObject.61da39b7.js","Texture.df75317b.js","enums.c60b1dad.js","VertexElementDescriptor.2400a91d.js","dataUtils.09f96080.js","pixelUtils.784e90c3.js","WGLContainer.ee4fac61.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js","TileContainer.02f65f97.js","RawBlockCache.47454f78.js","rasterProjectionHelper.02e1d9b8.js","util.0cc07af3.js","popupUtils.b55f287a.js","RefreshableLayerView.20c76b83.js"],import.meta.url)),"web-tile":Wv,wfs:AS,wms:()=>Ln().then(()=>ae(()=>import("./WMSLayerView2D.e4f20ee2.js"),["WMSLayerView2D.e4f20ee2.js","BitmapContainer.bbca9d07.js","WGLContainer.ee4fac61.js","enums.c60b1dad.js","pixelUtils.784e90c3.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","VertexArrayObject.61da39b7.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js","ExportStrategy.2e32a179.js","Bitmap.725fee77.js","RefreshableLayerView.20c76b83.js","ExportWMSImageParameters.f7bbcc28.js"],import.meta.url)),wmts:()=>Ln().then(()=>ae(()=>import("./WMTSLayerView2D.bbefb81c.js"),["WMTSLayerView2D.bbefb81c.js","imageUtils.ba8e1bbd.js","BitmapTileContainer.28af822b.js","Bitmap.725fee77.js","utils.ad868521.js","Utils.1f5b6bd7.js","number.6e30c64a.js","definitions.cd8c5521.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","alignmentUtils.84250e5d.js","TileContainer.02f65f97.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","VertexArrayObject.61da39b7.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","LayerView.cde178db.js","RefreshableLayerView.20c76b83.js"],import.meta.url)),"line-of-sight":null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function vAe(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new Z(`${r}:view-not-supported`,`${t} is not supported in 2D`)}const _U={hasLayerViewModule:e=>G(wU[e.type]),importLayerView:e=>{const t=wU[e.type];if(te(t))throw vAe(e);return t(e)}};function bAe(e,t){const{spatialReference:r}=t,n=[t.x,t.y];let i=Number.POSITIVE_INFINITY,o=0,s=0;const a=[0,0],l=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const c of l)for(let d=0;d<c.length-1;d++){Cye(a,n,c,d);const p=Q_(n,a);p<i&&(i=p,o=a[0],s=a[1])}return{coordinate:new at({x:o,y:s,spatialReference:r}),distance:i}}var dF;const wAe=Ce.getLogger("esri.views.MapView");let hf=dF=class extends Ve{constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(te(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Q0(this.geometry,this.spatialReference)}catch(e){return wAe.error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(te(this.normalizedGeometry))return e;const r=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?vI(this.normalizedGeometry,r):hJ(this.normalizedGeometry,r))return e;const{coordinate:n}=bAe(this.normalizedGeometry,r);return n&&(e.targetGeometry=n),e}clone(){var e,t;return new dF({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};u([h({constructOnly:!0})],hf.prototype,"geometry",void 0),u([h({readOnly:!0})],hf.prototype,"normalizedGeometry",null),u([h({constructOnly:!0})],hf.prototype,"spatialReference",void 0),hf=dF=u([B("esri.views.2d.constraints.GeometryConstraint")],hf);var pF;let nw=pF=class extends Ve{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new pF({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};u([h()],nw.prototype,"enabled",void 0),u([h()],nw.prototype,"rotationEnabled",void 0),nw=pF=u([B("esri.views.2d.constraints.RotationConstraint")],nw);const yie=nw;var hF;let $o=hF=class extends Ve{constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:r,maxScale:n,minZoom:i,maxZoom:o}=this,s=-1,a=-1,l=!1,c=!1;if(r!==0&&n!==0&&r<n&&([r,n]=[n,r]),!t||!t.length)return this._set("effectiveMinScale",r),void this._set("effectiveMaxScale",n);t=t.map(d=>d.clone()),t.sort((d,p)=>p.scale-d.scale),t.forEach((d,p)=>d.level=p);for(const d of t)!l&&r>0&&r>=d.scale&&(s=d.level,l=!0),!c&&n>0&&n>=d.scale&&(a=e?e.level:-1,c=!0),e=d;i===-1&&(i=r===0?0:s),o===-1&&(o=n===0?t.length-1:a),i=Math.max(i,0),i=Math.min(i,t.length-1),o=Math.max(o,0),o=Math.min(o,t.length-1),i>o&&([i,o]=[o,i]),r=t[i].scale,n=t[o].scale,t.splice(0,i),t.splice(o-i+1,t.length),t.forEach((d,p)=>{this._lodByScale[d.scale]=d,this._scales[p]=d.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",o),this._set("effectiveMinScale",r),this._set("effectiveMaxScale",n)}constrain(e,t){if(t&&e.scale===t.scale)return e;const r=this.effectiveMinScale,n=this.effectiveMaxScale,i=e.targetGeometry,o=t&&t.targetGeometry,s=n!==0&&e.scale<n,a=r!==0&&e.scale>r;if(s||a){const l=a?r:n;if(o){const c=(l-t.scale)/(e.scale-t.scale);i.x=o.x+(i.x-o.x)*c,i.y=o.y+(i.y-o.y)*c}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const r=Math.round(e-.5),n=Math.round(e);return t[n]+(n-e)*(t[r]-t[n])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let r,n;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(r=t[i],n=t[i+1],n===e)return i+this.effectiveMinZoom+1;if(r>e&&n<e)return i+this.effectiveMinZoom+1-(e-n)/(r-n)}}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}clone(){return new hF({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,r)=>Math.abs(r-e)<=Math.abs(t-e)?r:t,this._scales[0])),this._lodByScale[e].scale}};u([h({readOnly:!0})],$o.prototype,"effectiveLODs",void 0),u([h({readOnly:!0})],$o.prototype,"effectiveMinZoom",void 0),u([h({readOnly:!0})],$o.prototype,"effectiveMaxZoom",void 0),u([h({readOnly:!0})],$o.prototype,"effectiveMinScale",void 0),u([h({readOnly:!0})],$o.prototype,"effectiveMaxScale",void 0),u([h()],$o.prototype,"lods",void 0),u([h()],$o.prototype,"minZoom",void 0),u([h()],$o.prototype,"maxZoom",void 0),u([h()],$o.prototype,"minScale",void 0),u([h()],$o.prototype,"maxScale",void 0),u([h()],$o.prototype,"snapToZoom",void 0),$o=hF=u([B("esri.views.2d.constraints.ZoomConstraint")],$o);const gie=$o,_Ae={base:null,key:"type",typeMap:{extent:er,polygon:_a}};let dn=class extends Ve{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null),this._set("_geometry",null)}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e;return this.commitProperty("_zoom"),this.commitProperty("_rotation"),this.commitProperty("_geometry"),((e=this._get("version"))!=null?e:0)+1}get _defaultLODs(){var r,n,i;const e=(n=(r=this.view)==null?void 0:r.defaultsFromMap)==null?void 0:n.tileInfo,t=(i=this.view)==null?void 0:i.spatialReference;return e&&t&&e.spatialReference.equals(t)?e.lods:null}get _geometry(){var e;return new hf({geometry:this.geometry,spatialReference:(e=this.view)==null?void 0:e.spatialReference})}get _rotation(){return new yie({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),t=this.lods||this._defaultLODs,r=this.minZoom,n=this.maxZoom,i=this.minScale,o=this.maxScale,s=this.snapToZoom;return e&&e.lods===t&&e.minZoom===r&&e.maxZoom===n&&e.minScale===i&&e.maxScale===o&&e.snapToZoom===s?e:new gie({lods:t,minZoom:r,maxZoom:n,minScale:i,maxScale:o,snapToZoom:s})}canZoomInTo(e){const t=this.effectiveMaxScale;return t===0||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale;return t===0||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),e}constrainByGeometry(e){return this._geometry.constrain(e)}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};u([h({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],dn.prototype,"effectiveLODs",void 0),u([h({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],dn.prototype,"effectiveMinScale",void 0),u([h({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],dn.prototype,"effectiveMaxScale",void 0),u([h({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],dn.prototype,"effectiveMinZoom",void 0),u([h({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],dn.prototype,"effectiveMaxZoom",void 0),u([h({types:_Ae,value:null})],dn.prototype,"geometry",null),u([h({type:[G5]})],dn.prototype,"lods",void 0),u([h()],dn.prototype,"minScale",void 0),u([h()],dn.prototype,"maxScale",void 0),u([h()],dn.prototype,"minZoom",void 0),u([h()],dn.prototype,"maxZoom",void 0),u([h()],dn.prototype,"rotationEnabled",void 0),u([h()],dn.prototype,"snapToZoom",void 0),u([h()],dn.prototype,"view",void 0),u([h({readOnly:!0})],dn.prototype,"version",null),u([h()],dn.prototype,"_defaultLODs",null),u([h({type:hf})],dn.prototype,"_geometry",null),u([h({type:yie})],dn.prototype,"_rotation",null),u([h({readOnly:!0,type:gie})],dn.prototype,"_zoom",null),dn=u([B("esri.views.2d.MapViewConstraints")],dn);const vie=dn;function xAe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function SAe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function bie(e,t,r,n,i,o,s,a,l,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e}function wie(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function CAe(e,t){if(e===t){const r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function $Ae(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=t[8],p=d*s-a*c,f=-d*o+a*l,y=c*o-s*l;let g=r*p+n*f+i*y;return g?(g=1/g,e[0]=p*g,e[1]=(-d*n+i*c)*g,e[2]=(a*n-i*s)*g,e[3]=f*g,e[4]=(d*r-i*l)*g,e[5]=(-a*r+i*o)*g,e[6]=y*g,e[7]=(-c*r+n*l)*g,e[8]=(s*r-n*o)*g,e):null}function EAe(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=t[8];return e[0]=s*d-a*c,e[1]=i*c-n*d,e[2]=n*a-i*s,e[3]=a*l-o*d,e[4]=r*d-i*l,e[5]=i*o-r*a,e[6]=o*c-s*l,e[7]=n*l-r*c,e[8]=r*s-n*o,e}function IAe(e){const t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*(c*o-s*l)+r*(-c*i+s*a)+n*(l*i-o*a)}function F4(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],d=t[7],p=t[8],f=r[0],y=r[1],g=r[2],v=r[3],b=r[4],w=r[5],x=r[6],S=r[7],C=r[8];return e[0]=f*n+y*s+g*c,e[1]=f*i+y*a+g*d,e[2]=f*o+y*l+g*p,e[3]=v*n+b*s+w*c,e[4]=v*i+b*a+w*d,e[5]=v*o+b*l+w*p,e[6]=x*n+S*s+C*c,e[7]=x*i+S*a+C*d,e[8]=x*o+S*l+C*p,e}function fF(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],d=t[7],p=t[8],f=r[0],y=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=f*n+y*s+c,e[7]=f*i+y*a+d,e[8]=f*o+y*l+p,e}function _ie(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],d=t[7],p=t[8],f=Math.sin(r),y=Math.cos(r);return e[0]=y*n+f*s,e[1]=y*i+f*a,e[2]=y*o+f*l,e[3]=y*s-f*n,e[4]=y*a-f*i,e[5]=y*l-f*o,e[6]=c,e[7]=d,e[8]=p,e}function MAe(e,t,r){const n=r[0],i=r[1],o=r[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=o*t[6],e[7]=o*t[7],e[8]=o*t[8],e}function TAe(e,t,r){const n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function kAe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function PAe(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function OAe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function LAe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function RAe(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=r+r,a=n+n,l=i+i,c=r*s,d=n*s,p=n*a,f=i*s,y=i*a,g=i*l,v=o*s,b=o*a,w=o*l;return e[0]=1-p-g,e[3]=d-w,e[6]=f+b,e[1]=d+w,e[4]=1-c-g,e[7]=y-v,e[2]=f-b,e[5]=y+v,e[8]=1-c-p,e}function AAe(e,t){const r=t[0],n=t[1],i=t[2],o=t[4],s=t[5],a=t[6],l=t[8],c=t[9],d=t[10],p=d*s-a*c,f=-d*o+a*l,y=c*o-s*l,g=r*p+n*f+i*y;if(!g)return null;const v=1/g;return e[0]=p*v,e[1]=(-d*n+i*c)*v,e[2]=(a*n-i*s)*v,e[3]=f*v,e[4]=(d*r-i*l)*v,e[5]=(-a*r+i*o)*v,e[6]=y*v,e[7]=(-c*r+n*l)*v,e[8]=(s*r-n*o)*v,e}function FAe(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=t[8],p=t[9],f=t[10],y=t[11],g=t[12],v=t[13],b=t[14],w=t[15],x=r*a-n*s,S=r*l-i*s,C=r*c-o*s,$=n*l-i*a,M=n*c-o*a,I=i*c-o*l,T=d*v-p*g,O=d*b-f*g,L=d*w-y*g,N=p*b-f*v,H=p*w-y*v,F=f*w-y*b;let k=x*F-S*H+C*N+$*L-M*O+I*T;return k?(k=1/k,e[0]=(a*F-l*H+c*N)*k,e[1]=(l*L-s*F-c*O)*k,e[2]=(s*H-a*L+c*T)*k,e[3]=(i*H-n*F-o*N)*k,e[4]=(r*F-i*L+o*O)*k,e[5]=(n*L-r*H-o*T)*k,e[6]=(v*I-b*M+w*$)*k,e[7]=(b*C-g*I-w*S)*k,e[8]=(g*M-v*C+w*x)*k,e):null}function NAe(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function DAe(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function zAe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function VAe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function xie(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function jAe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function BAe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function UAe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function GAe(e,t){const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],d=e[8],p=t[0],f=t[1],y=t[2],g=t[3],v=t[4],b=t[5],w=t[6],x=t[7],S=t[8];return Math.abs(r-p)<=pt*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(n-f)<=pt*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-y)<=pt*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(o-g)<=pt*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-v)<=pt*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(a-b)<=pt*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(l-w)<=pt*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(c-x)<=pt*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(d-S)<=pt*Math.max(1,Math.abs(d),Math.abs(S))}function HAe(e){const t=pt,r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return Math.abs(1-(r*r+o*o+l*l))<=t&&Math.abs(1-(n*n+s*s+c*c))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t}const qAe=F4,WAe=xie;Object.freeze(Object.defineProperty({__proto__:null,fromMat4:xAe,copy:SAe,set:bie,identity:wie,transpose:CAe,invert:$Ae,adjoint:EAe,determinant:IAe,multiply:F4,translate:fF,rotate:_ie,scale:MAe,scaleByVec2:TAe,fromTranslation:kAe,fromRotation:PAe,fromScaling:OAe,fromMat2d:LAe,fromQuat:RAe,normalFromMat4Legacy:AAe,normalFromMat4:FAe,projection:NAe,str:DAe,frob:zAe,add:VAe,subtract:xie,multiplyScalar:jAe,multiplyScalarAndAdd:BAe,exactEquals:UAe,equals:GAe,isOrthoNormal:HAe,mul:qAe,sub:WAe},Symbol.toStringTag,{value:"Module"}));function b$(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function KAe(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function JAe(e,t,r,n,i,o,s,a,l){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=i,c[5]=o,c[6]=s,c[7]=a,c[8]=l,c}function ZAe(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,create:b$,clone:KAe,fromValues:JAe,createView:ZAe},Symbol.toStringTag,{value:"Module"}));function Sie(){return new Float32Array(2)}function YAe(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function v0(e,t){const r=new Float32Array(2);return r[0]=e,r[1]=t,r}function QAe(e,t){return new Float32Array(e,t,2)}function Cie(){return Sie()}function $ie(){return v0(1,1)}function Eie(){return v0(1,0)}function Iie(){return v0(0,1)}const XAe=Cie(),e3e=$ie(),t3e=Eie(),r3e=Iie();Object.freeze(Object.defineProperty({__proto__:null,create:Sie,clone:YAe,fromValues:v0,createView:QAe,zeros:Cie,ones:$ie,unitX:Eie,unitY:Iie,ZEROS:XAe,ONES:e3e,UNIT_X:t3e,UNIT_Y:r3e},Symbol.toStringTag,{value:"Module"}));function n3e(e){return e instanceof Float32Array&&e.length>=2}function i3e(e){return Array.isArray(e)&&e.length>=2}function oP(e){return n3e(e)||i3e(e)}var mF;const Uc=[0,0];let Bd=mF=class extends ve{constructor(e){super(e),this._viewpoint2D={center:gn(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new er,this.id=0,this.inverseTransform=Np(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Np(),this.transformNoRotation=Np(),this.displayMat3=b$(),this.displayViewMat3=b$(),this.viewMat3=b$(),this.viewMat2d=Z2(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}copy(e){const t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=Tl(r,e.viewpoint),this._set("size",Y1(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new mF({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,r){return oP(t)?ac(e,t,this.inverseTransform):(Uc[0]=t,Uc[1]=r,ac(e,Uc,this.inverseTransform))}toScreen(e,t,r){return oP(t)?ac(e,t,this.transform):(Uc[0]=t,Uc[1]=r,ac(e,Uc,this.transform))}toScreenNoRotation(e,t,r){return oP(t)?ac(e,t,this.transformNoRotation):(Uc[0]=t,Uc[1]=r,ac(e,Uc,this.transformNoRotation))}getScreenTransform(e,t){const{center:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,i=this._get("size");return R4(e,r,i,t,0,n),e}_update(){const{center:e,spatialReference:t,scale:r,rotation:n}=this._viewpoint2D,i=this._get("pixelRatio")||1,o=this._get("size"),s=new Cl({targetGeometry:new at(e[0],e[1],t),scale:r,rotation:n});if(this._set("viewpoint",s),!o||!t||!r)return;this.resolution=sv(s),this.rotation=n,this.scale=r,this.spatialReference=t,Y1(this.center,e);const a=o[0]!==0?2/o[0]:0,l=o[1]!==0?-2/o[1]:0;bie(this.displayMat3,a,0,0,0,l,0,-1,1,1);const c=wie(this.viewMat3),d=v0(o[0]/2,o[1]/2),p=v0(-o[0]/2,-o[1]/2),f=yD(n);fF(c,c,d),_ie(c,c,f),fF(c,c,p),F4(this.displayViewMat3,this.displayMat3,c);const y=S5(this.viewMat2d,d);return V_(y,y,f),p0(y,y,p),eAe(this.extent,s,o),A4(this.transform,s,o,i),x5(this.inverseTransform,this.transform),aAe(this.transformNoRotation,s,o,i),this.worldScreenWidth=cAe(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};u([h({readOnly:!0})],Bd.prototype,"id",void 0),u([h({value:1,json:{write:!0}})],Bd.prototype,"pixelRatio",null),u([h({json:{write:!0}})],Bd.prototype,"size",null),u([h()],Bd.prototype,"spatialReference",void 0),u([h({type:Cl,json:{write:!0}})],Bd.prototype,"viewpoint",null),Bd=mF=u([B("esri.views.2d.ViewState")],Bd);const xU=Bd;var yF,gF;let xu=yF=class extends Ve{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new yF({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};u([h()],xu.prototype,"left",void 0),u([h()],xu.prototype,"top",void 0),u([h()],xu.prototype,"right",void 0),u([h()],xu.prototype,"bottom",void 0),xu=yF=u([B("esri.views.2d.PaddedViewState.Padding")],xu);let zy=gF=class extends xU{constructor(...e){super(...e),this.paddedViewState=new xU,this._updateContent=(()=>{const t=gn();return()=>{const r=this._get("size"),n=this._get("padding");if(!r||!n)return;const i=this.paddedViewState;li(t,n.left+n.right,n.top+n.bottom),Q1(t,r,t),Y1(i.size,t);const o=i.viewpoint;o&&(this.viewpoint=o)}})(),this.own(fe(()=>[this.size,this.padding],()=>this._updateContent(),r0)),this.padding=new xu,this.size=[0,0]}set padding(e){this._set("padding",e||new xu)}set viewpoint(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,dAe(t,e,this._get("size"),this._get("padding"));const r=this._viewpoint2D,n=t.targetGeometry;r.center[0]=n.x,r.center[1]=n.y,r.rotation=t.rotation,r.scale=t.scale,r.spatialReference=n.spatialReference,this._update()}}clone(){return new gF({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};u([h()],zy.prototype,"paddedViewState",void 0),u([h({type:xu})],zy.prototype,"padding",null),u([h()],zy.prototype,"viewpoint",null),zy=gF=u([B("esri.views.2d.PaddedViewState")],zy);const o3e=zy;class s3e{constructor(t,r){this.item=t,this.controller=r,this.promise=null}}class Mie{constructor(t){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new tE(t.peeker),this.process=t.process;const r=t.scheduler;t.priority&&G(r)&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(t){const r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(r=>r.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,n)=>t(n))}get(t){const r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(t,r){const n=this.get(t);if(n)return n;const i=new AbortController;let o=null;r&&(o=wa(r,()=>i.abort()));const s=()=>{const d=this._processingItems.get(t);d&&d.controller.abort(),a(),c.reject(Zr())},a=()=>{l.remove(),G(o)&&o.remove(),this._deferreds.delete(t),this._controllers.delete(t),this._queue.remove(t),this._processingItems.delete(t),this._scheduleNext()},l=HN(i.signal,s),c=Nu();return this._deferreds.set(t,c),this._controllers.set(t,i),c.promise.then(a,a),this._queue.push(t),this._scheduleNext(),c.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const t=[];this._processingItems.forEach(r=>t.push(r)),this._processingItems.clear();for(const r of t)this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=R0(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(te(t))return;let r;const n=new AbortController,i=new s3e(t,n);this._processingItems.set(t,i);try{r=this.process(t,n.signal)}catch(o){this._processError(i,o)}Wu(r)?(i.promise=r,r.then(o=>this._processResult(i,o),o=>this._processError(i,o))):this._processResult(i,r)}get test(){return{update:t=>this.runTask(t)}}}function a3e(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const sP=new Set,FS=[],qm=new Map,SU=[0,0];let pd=class extends Ve{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t}=this;this._queue=new Mie({concurrency:e,process:(r,n)=>{const i=this._keyToItem.get(r);return t(i,{signal:n})},peeker:r=>r.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t=typeof e=="string"?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t=typeof e=="string"?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e,t){const r=e.key.id+"-"+t;if(this.has(r))return this.get(r);const n=this._queue.push(r),i=()=>{this._keyToItem.delete(r),this.notifyChange("updating")};return this._keyToItem.set(r,e),n.then(i,i),this.notifyChange("updating"),n}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let r=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;e.forEach(c=>{const d=this._keyToItem.get(c),p=this.tileInfoView.getTileScale(d.key);qm.has(p)||(qm.set(p,[]),r=Math.max(p,r),n=Math.min(p,n)),qm.get(p).push(d.key),sP.add(p)});let i=this.state.scale;qm.has(i)||(a3e(FS,sP),FS.sort((c,d)=>c-d),i=FS.reduce((c,d)=>Math.abs(d-i)<Math.abs(c-i)?d:c,FS[0])),i=Math.min(i,r),i=Math.max(i,n);const o=qm.get(i),s=t.getClosestInfoForScale(i),a=s.getColumnForX(this.state.center[0]),l=s.getRowForY(this.state.center[1]);return o.sort((c,d)=>{const p=s.denormalizeCol(c.col,c.world),f=s.denormalizeCol(d.col,d.world);return Math.sqrt((a-p)*(a-p)+(l-c.row)*(l-c.row))-Math.sqrt((a-f)*(a-f)+(l-d.row)*(l-d.row))}),sP.clear(),qm.clear(),o[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,r=this.state.center;let n=Number.POSITIVE_INFINITY,i=null;return e.forEach(o=>{const s=this._keyToItem.get(o);t.getTileCoords(SU,s.key);const a=Q_(SU,r);a<n&&(n=a,i=s.key)}),i.id}};u([h({constructOnly:!0})],pd.prototype,"concurrency",void 0),u([h({constructOnly:!0})],pd.prototype,"process",void 0),u([h()],pd.prototype,"state",void 0),u([h({constructOnly:!0})],pd.prototype,"strategy",void 0),u([h({constructOnly:!0})],pd.prototype,"tileInfoView",void 0),u([h({readOnly:!0})],pd.prototype,"updating",null),pd=u([B("esri.views.2d.tiling.PagedTileQueue")],pd);class Po{constructor(t,r,n,i){this.set(t,r,n,i)}static getId(t,r,n,i){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${n}/${i}`}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,r=4095&this.col,n=63&this.level;return(3&this.world)<<30|r<<22|t<<8|n}acquire(t,r,n,i){this.set(t,r,n,i)}contains(t){const r=t.level-this.level;return this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Po(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,n,i){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[o,s,a,l]=t.split("/");this.level=parseFloat(o),this.row=parseFloat(s),this.col=parseFloat(a),this.world=parseFloat(l)}else this.level=+t,this.row=+r,this.col=+n,this.world=+i||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Po(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,r=this.row<<1,n=this.col<<1,i=this.world;return[new Po(t,r,n,i),new Po(t,r,n+1,i),new Po(t,r+1,n,i),new Po(t,r+1,n+1,i)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}Po.pool=new El(Po,null,null,25,50);function hd(e,t){return[e,t]}function ph(e,t,r){return e[0]=t,e[1]=r,e}function l3e(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}const Na=new Po("0/0/0/0");class N4{constructor(t,r,n,i,o,s,a,l,c,d,p,f){this.level=t,this.resolution=r,this.scale=n,this.origin=i,this.first=o,this.last=s,this.size=a,this.norm=l,this.worldStart=c,this.worldEnd=d,this.worldSize=p,this.wrap=f}static create(t,r,n=null){const i=xl(t.spatialReference),o=r.origin||hd(t.origin.x,t.origin.y),s=hd(t.size[0]*r.resolution,t.size[1]*r.resolution),a=hd(-1/0,-1/0),l=hd(1/0,1/0),c=hd(1/0,1/0);G(n)&&(ph(a,Math.max(0,Math.floor((n.xmin-o[0])/s[0])),Math.max(0,Math.floor((o[1]-n.ymax)/s[1]))),ph(l,Math.max(0,Math.floor((n.xmax-o[0])/s[0])),Math.max(0,Math.floor((o[1]-n.ymin)/s[1]))),ph(c,l[0]-a[0]+1,l[1]-a[1]+1));const{cols:d,rows:p}=r;let f,y,g,v;return!n&&d&&p&&(ph(a,d[0],p[0]),ph(l,d[1],p[1]),ph(c,d[1]-d[0]+1,p[1]-p[0]+1)),t.isWrappable?(f=hd(Math.ceil(Math.round((i.valid[1]-i.valid[0])/r.resolution)/t.size[0]),c[1]),y=hd(Math.floor((i.origin[0]-o[0])/s[0]),a[1]),g=hd(f[0]+y[0]-1,l[1]),v=!0):(y=a,g=l,f=c,v=!1),new N4(r.level,r.resolution,r.scale,o,a,l,c,s,y,g,f,v)}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,n=!1){Na.set(r);const i=n?Na.col:this.denormalizeCol(Na.col,Na.world),o=Na.row;return l3e(t,this.getXForColumn(i),this.getYForRow(o+1),this.getXForColumn(i+1),this.getYForRow(o)),t}getTileCoords(t,r,n=!1){Na.set(r);const i=n?Na.col:this.denormalizeCol(Na.col,Na.world);return Array.isArray(t)?ph(t,this.getXForColumn(i),this.getYForRow(Na.row)):(t.x=this.getXForColumn(i),t.y=this.getYForRow(Na.row)),t}}class b0{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}forEach(t,r){const{spans:n,lodInfo:i}=this,{level:o}=i;if(n.length!==0)for(const{row:s,colFrom:a,colTo:l}of n)for(let c=a;c<=l;c++)t.call(r,o,s,i.normalizeCol(c),i.getWorldForColumn(c))}}b0.pool=new El(b0);class aP{constructor(t,r,n){this.row=t,this.colFrom=r,this.colTo=n}}const Nr=new Po("0/0/0/0");class D4{constructor(t,r,n,i,o,s,a,l){this.x=t,this.ymin=r,this.ymax=n,this.invM=i,this.leftAdjust=o,this.rightAdjust=s,this.leftBound=a,this.rightBound=l}static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);const[n,i]=t,[o,s]=r,a=o-n,l=s-i,c=l!==0?a/l:0,d=(Math.ceil(i)-i)*c,p=(Math.floor(i)-i)*c;return new D4(n,Math.floor(i),Math.ceil(s),c,a<0?d:p,a<0?p:d,a<0?o:n,a<0?n:o)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const as=[[0,0],[0,0],[0,0],[0,0]],c3e=1e-6;class u3e{constructor(t,r=null){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const n=t.lods.slice();n.sort((o,s)=>s.scale-o.scale);const i=this._lodInfos=n.map(o=>N4.create(t,o,r));n.forEach((o,s)=>{this._infoByLevel[o.level]=i[s],this._infoByScale[o.scale]=i[s],this.scales[s]=o.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,r,n=!1){Nr.set(r);const i=this._infoByLevel[Nr.level];return i?i.getTileBounds(t,Nr,n):t}getTileCoords(t,r,n=!1){Nr.set(r);const i=this._infoByLevel[Nr.level];return i?i.getTileCoords(t,Nr,n):t}getTileCoverage(t,r=192,n="closest"){const i=n==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),o=b0.pool.acquire(i),s=this._wrap;let a,l,c,d=1/0,p=-1/0;const f=o.spans;as[0][0]=as[0][1]=as[1][1]=as[3][0]=-r,as[1][0]=as[2][0]=t.size[0]+r,as[2][1]=as[3][1]=t.size[1]+r;for(const b of as)t.toMap(b,b),b[0]=i.getColumnForX(b[0]),b[1]=i.getRowForY(b[1]);const y=[];let g=3;for(let b=0;b<4;b++){if(as[b][1]===as[g][1]){g=b;continue}const w=D4.create(as[b],as[g]);d=Math.min(w.ymin,d),p=Math.max(w.ymax,p),y[w.ymin]===void 0&&(y[w.ymin]=[]),y[w.ymin].push(w),g=b}if(d==null||p==null||p-d>100)return null;let v=[];for(a=d;a<p;){y[a]!=null&&(v=v.concat(y[a])),l=1/0,c=-1/0;for(let b=v.length-1;b>=0;b--){const w=v[b];l=Math.min(l,w.getLeftCol()),c=Math.max(c,w.getRightCol())}if(l=Math.floor(l),c=Math.floor(c),a>=i.first[1]&&a<=i.last[1])if(s)if(i.size[0]<i.worldSize[0]){const b=Math.floor(c/i.worldSize[0]);for(let w=Math.floor(l/i.worldSize[0]);w<=b;w++)f.push(new aP(a,Math.max(i.getFirstColumnForWorld(w),l),Math.min(i.getLastColumnForWorld(w),c)))}else f.push(new aP(a,l,c));else l>i.last[0]||c<i.first[0]||(l=Math.max(l,i.first[0]),c=Math.min(c,i.last[0]),f.push(new aP(a,l,c)));a+=1;for(let b=v.length-1;b>=0;b--){const w=v[b];w.ymax>=a?w.incrRow():v.splice(b,1)}}return o}getTileParentId(t){Nr.set(t);const r=this._infoByLevel[Nr.level],n=this._lodInfos.indexOf(r)-1;return n<0?null:(this._getTileIdAtLOD(Nr,this._lodInfos[n],Nr),Nr.id)}getTileResolution(t){const r=this._infoByLevel[typeof t=="object"?t.level:t];return r?r.resolution:-1}getTileScale(t){const r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){Nr.set(r);const n=this._infoByLevel[Nr.level],i=t.lodInfo;if(i.resolution>n.resolution){this._getTileIdAtLOD(Nr,i,Nr);const s=i.denormalizeCol(Nr.col,Nr.world);for(const a of t.spans)if(a.row===Nr.row&&a.colFrom<=s&&a.colTo>=s)return!0}if(i.resolution<n.resolution){const[s,a,l,c]=t.spans.reduce((v,b)=>(v[0]=Math.min(v[0],b.row),v[1]=Math.max(v[1],b.row),v[2]=Math.min(v[2],b.colFrom),v[3]=Math.max(v[3],b.colTo),v),[1/0,-1/0,1/0,-1/0]),d=n.denormalizeCol(Nr.col,Nr.world),p=i.getColumnForX(n.getXForColumn(d)),f=i.getRowForY(n.getYForRow(Nr.row)),y=i.getColumnForX(n.getXForColumn(d+1))-1,g=i.getRowForY(n.getYForRow(Nr.row+1))-1;return!(p>c||y<l||f>a||g<s)}const o=i.denormalizeCol(Nr.col,Nr.world);return t.spans.some(s=>s.row===Nr.row&&s.colFrom<=o&&s.colTo>=o)}normalizeBounds(t,r,n){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){const i=xl(this.tileInfo.spatialReference),o=-n*(i.valid[1]-i.valid[0]);t[0]+=o,t[2]+=o}return t}getSmallestInfoForScale(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let n=1;n<r.length-1;n++)if(t>r[n]+c3e)return this._infoByScale[r[n-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){const r=this.scales;return this._infoByScale[t]||(t=r.reduce((n,i)=>Math.abs(i-t)<Math.abs(n-t)?i:n,r[0])),this._infoByScale[t]}scaleToLevel(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let n=r.length-1;n>=0;n--)if(t<r[n])return n===r.length-1?this._infoByScale[r[r.length-1]].level:this._infoByScale[r[n]].level+(r[n]-t)/(r[n]-r[n+1]);return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}_getTileIdAtLOD(t,r,n){const i=this._infoByLevel[n.level];return t.set(n),r.resolution<i.resolution?null:(r.resolution===i.resolution||(t.level=r.level,t.col=Math.floor(n.col*i.resolution/r.resolution+.01),t.row=Math.floor(n.row*i.resolution/r.resolution+.01)),t)}}function d3e(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const lP=new Set,NS=[],Wm=new Map,CU=[0,0];let cu=class extends Ve{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t,strategy:r}=this;this._queue=new Mie({concurrency:e,process:(n,i)=>{const o=this._keyToItem.get(n);return t(o,{signal:i})},peeker:r==="scale-first"?n=>this._peekByScaleFirst(n):n=>this._peekByCenterFirst(n)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t=typeof e=="string"?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t=typeof e=="string"?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e){const t=e.key.id;if(this._queue.has(t))return this._queue.get(t);const r=this._queue.push(t),n=()=>{this._keyToItem.delete(t),this.notifyChange("updating")};return this._keyToItem.set(t,e),r.then(n,n),this.notifyChange("updating"),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let r=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;e.forEach(c=>{const d=this._keyToItem.get(c),p=this.tileInfoView.getTileScale(d.key);Wm.has(p)||(Wm.set(p,[]),r=Math.max(p,r),n=Math.min(p,n)),Wm.get(p).push(d.key),lP.add(p)});let i=this.state.scale;Wm.has(i)||(d3e(NS,lP),NS.sort((c,d)=>c-d),i=NS.reduce((c,d)=>Math.abs(d-i)<Math.abs(c-i)?d:c,NS[0])),i=Math.min(i,r),i=Math.max(i,n);const o=Wm.get(i),s=t.getClosestInfoForScale(i),a=s.getColumnForX(this.state.center[0]),l=s.getRowForY(this.state.center[1]);return o.sort((c,d)=>{const p=s.denormalizeCol(c.col,c.world),f=s.denormalizeCol(d.col,d.world);return Math.sqrt((a-p)*(a-p)+(l-c.row)*(l-c.row))-Math.sqrt((a-f)*(a-f)+(l-d.row)*(l-d.row))}),lP.clear(),Wm.clear(),o[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,r=this.state.center;let n=Number.POSITIVE_INFINITY,i=null;return e.forEach(o=>{const s=this._keyToItem.get(o);t.getTileCoords(CU,s.key);const a=Q_(CU,r);a<n&&(n=a,i=s.key)}),i.id}};u([h({constructOnly:!0})],cu.prototype,"concurrency",void 0),u([h({constructOnly:!0})],cu.prototype,"process",void 0),u([h()],cu.prototype,"state",void 0),u([h({constructOnly:!0})],cu.prototype,"strategy",void 0),u([h({constructOnly:!0})],cu.prototype,"tileInfoView",void 0),u([h({readOnly:!0})],cu.prototype,"updating",null),cu=u([B("esri.views.2d.tiling.TileQueue")],cu);const trt=cu;class p3e{constructor(t,r,n){this.maxSize=t,this.tileInfoView=r,this.removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const r=this._tilePerId.get(t);if(!r)return null;const n=r.key.level,i=this._tileKeysPerLevel[n];$U(this._tilePerId,t);for(let o=0;o<i.length;o++)if(i[o].id===t){i.splice(o,1);break}return r.visible=!0,r}add(t){t.visible=!1;const r=t.key,n=r.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,t);const i=r.level;this._tileKeysPerLevel[i]||(this._tileKeysPerLevel[i]=[]),this._tileKeysPerLevel[i].push(r)}prune(t,r,n){let i=this._tilePerId.size;if(i<=this.maxSize)return;let o=this._tileKeysPerLevel.length-1;for(;i>this.maxSize&&o>=0;)o!==t&&(i=this._pruneAroundCenterTile(i,r,n,o)),o--;i>this.maxSize&&(i=this._pruneAroundCenterTile(i,r,n,t))}_pruneAroundCenterTile(t,r,n,i){const o=this._tileKeysPerLevel[i];if(!o||o.length===0)return t;const{size:s,origin:a}=this.tileInfoView.tileInfo,l=n*s[0],c=n*s[1],d=[0,0],p=[0,0];for(o.sort((f,y)=>(d[0]=a.x+l*(f.col+.5),d[1]=a.y-c*(f.row+.5),p[0]=a.x+l*(y.col+.5),p[1]=a.y-c*(y.row+.5),CE(d,r)-CE(p,r)));o.length>0;){const f=o.pop();if(this._removeTile(f.id),--t===this.maxSize)break}return t}_removeTile(t){const r=this._tilePerId.get(t);this.removedFunc&&this.removedFunc(r),$U(this._tilePerId,t)}}function $U(e,t){e.delete(t)}const hh=new Po(0,0,0,0),Vs=new Map,Km=[],DS=[];class rrt{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=t.resampling==null||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new p3e(t.cacheSize,this.tileInfoView,r=>{this.releaseTile(r)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:r,tileIndex:n}=this,i=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.coveragePolicy);if(DS.length=0,Km.length=0,Vs.clear(),!i)return;const{minScale:o,maxScale:s}=this.tileInfoView.tileInfo,{spans:a,lodInfo:l}=i,{level:c}=l,{scale:d,center:p,resolution:f}=t.state,y=!t.stationary&&d>this._previousScale;if(this._previousScale=d,this.tiles.length=0,!r&&(d>o||d<s))return this.tiles.length=0,Vs.clear(),n.forEach(w=>{this.releaseTile(w)}),n.clear(),DS.length=0,Km.length=0,Vs.clear(),b0.pool.release(i),!0;n.forEach(w=>w.visible=!0);let g=0,v=0;if(a.length>0)for(const{row:w,colFrom:x,colTo:S}of a)for(let C=x;C<=S;C++){g++;const $=hh.set(c,w,l.normalizeCol(C),l.getWorldForColumn(C)).id;if(n.has($)){const M=n.get($);M.isReady?(Vs.set($,M),v++):y||this._addParentTile($,Vs)}else{let M;if(this._tileCache&&this._tileCache.has($)){if(M=this._tileCache.pop($),this.tileIndex.set($,M),M.isReady){Vs.set($,M),v++;continue}}else M=this.acquireTile(hh),this.tileIndex.set($,M);y||this._addParentTile($,Vs)}}const b=v===g;n.forEach((w,x)=>{if(hh.set(x),Vs.has(x))return;const S=this.tileInfoView.intersects(i,hh),C=this.cachePolicy==="purge"?hh.level!==c:hh.level>c;!S||!y&&b?!C&&S||Km.push(x):w.isReady?C&&this.cachePolicy==="purge"&&this._hasReadyAncestor(hh,c)?Km.push(x):DS.push(x):C&&Km.push(x)});for(const w of DS){const x=n.get(w);x&&x.isReady&&Vs.set(w,x)}for(const w of Km){const x=n.get(w);this._tileCache?this._tileCache.add(x):this.releaseTile(x),n.delete(w)}return Vs.forEach(w=>this.tiles.push(w)),n.forEach(w=>{Vs.has(w.key.id)||(w.visible=!1)}),this._tileCache&&this._tileCache.prune(c,p,f),b0.pool.release(i),Vs.clear(),b}clear(t=!0){const{tileIndex:r}=this;t&&r.forEach(n=>{this.releaseTile(n)}),r.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){let n=t,i=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(i=this.tileIndex.get(n),i&&i.isReady){r.has(i.key.id)||r.set(i.key.id,i);break}}else if(this._tileCache&&this._tileCache.has(n)&&(i=this._tileCache.pop(n),this.tileIndex.set(n,i),i&&i.isReady)){r.has(i.key.id)||r.set(i.key.id,i);break}}_hasReadyAncestor(t,r){const n=Sa();this.tileInfoView.getTileBounds(n,t,!0);for(const i of this.tileIndex.values())if(i.isReady&&i.key.level>=r&&i.key.level<t.level){const o=Sa();if(this.tileInfoView.getTileBounds(o,i.key,!0),Cbe(o,n))return!0}return!1}}function z4(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}class EU extends hi{constructor(t,r){super(!0),this.view=t,this.registerIncoming("double-click",r,n=>this._handleDoubleClick(n,r))}_handleDoubleClick(t,r){z4(t.data,"primary")&&(t.stopPropagation(),r?this.view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this.view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}}class h3e extends hi{constructor(t,r,n){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",n,i=>this._handleDoubleTapDrag(i))}_handleDoubleTapDrag(t){const{data:r}=t,{pointerType:n}=r;if(n!==this.pointerType)return;t.stopPropagation();const{action:i,delta:o}=r,{view:s}=this,{mapViewNavigation:a}=s;switch(i){case"begin":{const{scale:l}=s;this._startScale=l,this._currentScale=l,this._previousDelta=o,a.begin();break}case"update":{if(this._previousDelta.y===o.y)return;this._previousDelta=o;const l=1.015**o.y,c=this._startScale*l,d=c/this._currentScale;a.setViewpointImmediate(d),this._currentScale=c;break}case"end":{const{constraints:l}=s,{effectiveLODs:c,snapToZoom:d}=l;if(!d||!c)return void a.end();const p=l.snapScale(this._currentScale),f=(o.y>0?Math.max(p,l.snapToPreviousScale(this._startScale)):Math.min(p,l.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(f);break}}}}class dM{constructor(t){this.callbacks=t,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(t){const r=t.data,n=r.pointers.size;switch(r.action){case"start":this.currentCount=n,this._emitStart(t);break;case"added":this._emitEnd(this.previousEvent),this.currentCount=n,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this.startEvent&&this._emitEnd(this.previousEvent),this.currentCount=n,this._emitStart(t);break;case"end":this._emitEnd(t),this.currentCount=0}this.previousEvent=t}_emitStart(t){this.startEvent=t,this.callbacks.condition(this.currentCount,t)&&this.callbacks.start(this.currentCount,t,this.startEvent)}_emitUpdate(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.update(this.currentCount,t,this.startEvent)}_emitEnd(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.end(this.currentCount,t,this.startEvent),this.startEvent=null}}class f3e extends hi{constructor(t,r,n){super(!0),this.view=t,this.pointerAction=r,this.registerIncoming("drag",n,i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this.dragEventSeparator=new dM({start:(r,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(r,n)=>r===1&&z4(n.data,this.pointerAction)})}_handleDrag(t){const r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class m3e extends hi{constructor(t,r,n){super(!0),this.view=t,this.pointerAction=r;const i=this.view.mapViewNavigation;this.dragEventSeparator=new dM({start:(o,s)=>{i.rotate.begin(this.view,s.data),s.stopPropagation()},update:(o,s)=>{i.rotate.update(this.view,s.data),s.stopPropagation()},end:(o,s)=>{i.rotate.end(),s.stopPropagation()},condition:(o,s)=>o===1&&z4(s.data,this.pointerAction)}),this.registerIncoming("drag",n,o=>this.dragEventSeparator.handle(o))}}function Da(e){let t=e*e;return e<0&&(t*=-1),t}function y3e(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function g3e(e,t,r){const n=r,i=e.state,o=e.device,s=t.tiltDirection==="forward-down"?1:-1,a=1;return o.deviceType==="standard"?(n.translation[0]=Da(i.axes[0]),n.translation[1]=Da(i.axes[1]),n.translation[2]=Da(i.buttons[7])-Da(i.buttons[6]),n.heading=Da(i.axes[2]),n.tilt=Da(i.axes[3])):o.deviceType==="spacemouse"&&(n.translation[0]=1.2*Da(i.axes[0]),n.translation[1]=1.2*Da(i.axes[1]),n.translation[2]=2*-Da(i.axes[2]),n.heading=1.2*Da(i.axes[5]),n.tilt=1.2*Da(i.axes[3])),n.tilt*=s,vD(n.translation,n.translation,a),n}function v3e(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}class b3e extends hi{constructor(t){super(!0),this.view=t,this.frameTask=null,this.watchHandles=new bn,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",r=>this._handleGamePadEvent(r)),this.handle.pause()}onInstall(t){super.onInstall(t),this.watchHandles.add([fe(()=>{var r;return(r=this.view.navigation.gamepad)==null?void 0:r.enabled},r=>{r?(this.handle.resume(),this.frameTask||(this.frameTask=e0({update:n=>this._frameUpdate(n.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))},At)])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const r=this.view.navigation.gamepad.device;r&&t.data.device!==r||this.currentDevice&&this.currentDevice!==t.data.device||(t.data.action==="end"?(this.currentDevice=null,y3e(this.transformation)):(this.currentDevice=t.data.device,g3e(t.data,this.view.navigation.gamepad,this.transformation)))}_frameUpdate(t){const r=this.transformation;if(v3e(r))return;const n=this.view.viewpoint.clone(),i=this.view.navigation.gamepad.velocityFactor,o=_3e*i*t;uM(n,n,[r.translation[0]*o,-r.translation[1]*o]);const s=1+r.translation[2]*x3e*t,a=this.view.constraints.rotationEnabled?-r.heading*w3e*t:0,l=this.view.size,c=[l[0]/2,l[1]];hie(n,n,s,a,c,l);const d=this.view.constraints.constrain(n,this.view.viewpoint);this.view.viewpoint=d}}const w3e=.06,_3e=.7,x3e=6e-4;class S3e extends hi{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),this.registerIncoming("key-up",n,i=>this._handleKeyUp(i)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const n=this._keyMap[t.data.key];if(this._pressed=n!=null,this._pressed){if(r)switch(this.view.mapViewNavigation.begin(),n){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}class C3e extends hi{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyToDirection={[r.clockwiseOption1]:"clockwise",[r.clockwiseOption2]:"clockwise",[r.counterClockwiseOption1]:"counterClockwise",[r.counterClockwiseOption2]:"counterClockwise",[r.resetOption1]:"reset",[r.resetOption2]:"reset"},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),this.registerIncoming("key-up",n,i=>this._handleKeyUp(i)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const n=t.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const i=this._keyToDirection[t.data.key];if(this._pressed=i!=null,this._pressed){if(r)switch(this.view.mapViewNavigation.begin(),i){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}var bg;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(bg||(bg={}));class $3e extends hi{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),r.zoomIn.forEach(i=>this._keysToZoomAction[i]=bg.IN),r.zoomOut.forEach(i=>this._keysToZoomAction[i]=bg.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;const{key:n}=t.data;if(!(n in this._keysToZoomAction))return;const i=this._keysToZoomAction[n],{mapViewNavigation:o}=this.view;let s=null;switch(i){case bg.IN:s=o.zoomIn();break;case bg.OUT:s=o.zoomOut();break;default:return}o.begin(),s.then(()=>o.end()),t.stopPropagation()}}const E3e=.6;class I3e extends hi{constructor(t,r){super(!0),this.view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,n=>this._handleMouseWheel(n))}_handleMouseWheel(t){if(!this.view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const r=this.view.mapViewNavigation,{x:n,y:i,deltaY:o}=t.data,s=1/E3e**(1/60*o),a=r.zoom(s,[n,i]);a&&(this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}}class M3e extends hi{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const r=this.view.mapViewNavigation;this.dragEventSeparator=new dM({start:(n,i)=>{r.pinch.begin(this.view,i.data),i.stopPropagation()},update:(n,i)=>{r.pinch.update(this.view,i.data),i.stopPropagation()},end:(n,i)=>{r.pinch.end(this.view),i.stopPropagation()},condition:n=>n>=2})}_handleDrag(t){this.dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function IU(e){const t=e.native;return t?{buttons:t.buttons.map(r=>r.pressed?r.value?r.value:1:0),axes:t.axes.map(r=>P3e(r,e.axisThreshold))}:{buttons:[],axes:[]}}function T3e(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(let r=0;r<e.buttons.length;r++)if(e.buttons[r]!==t.buttons[r])return!1;return!0}function k3e(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function P3e(e,t){const r=Math.abs(e);return r<t?0:Math.sign(e)*(r-t)/(1-t)}class O3e{constructor(t,r){this.element=t,this.input=r,this._hasEventListeners=!1,this._onConnectGamepad=o=>{this._connectGamepad(o.gamepad)},this._onDisconnectGamepad=o=>{const s=o.gamepad,a=s.index,l=this.inputDevices[a];l&&(this._emitGamepadEvent(s,IU(l),!1),this.inputDevices.splice(a,1),this.latestUpdate.splice(a,1),this.input.gamepad.devices.remove(l),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const n="getGamepads"in window.navigator,i=window.isSecureContext;this.supported=n&&i,this.supported&&(this._forEachGamepad(o=>this._connectGamepad(o)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this.callback=t}_connectGamepad(t){const r=new k4(t);r.deviceType!=="unknown"&&(this.inputDevices[t.index]=r,this.input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this.frameTask==null&&(this.frameTask=e0({update:()=>this._readGamepadState()}))}_stopPolling(){this.frameTask!=null&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),r=this.element.contains(document.activeElement),n=this.input.gamepad.enabledFocusMode==="document"&&!t||this.input.gamepad.enabledFocusMode==="view"&&!r;this._forEachGamepad(i=>{const o=this.inputDevices[i.index];if(!o)return;const s=this.latestUpdate[i.index],a=IU(o),l=n||k3e(a);s&&(s.timestamp===i.timestamp||!s.active&&l||T3e(s.state,a))||this._emitGamepadEvent(i,a,!l)})}_forEachGamepad(t){const r=window.navigator.getGamepads();for(let n=0;n<r.length;n++){const i=r[n];this._validate(i)&&t(i)}}_emitGamepadEvent(t,r,n){const i=this.latestUpdate[t.index],o=i&&i.active;if(!o&&!n)return;const s=!o&&n?"start":o&&n?"update":"end";this.latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:n},this.callback&&this.callback({device:this.inputDevices[t.index],state:r,action:s})}_validate(t){if(!t||!t.connected)return!1;for(let r=0;r<t.axes.length;r++)if(isNaN(t.axes[r]))return!1;return!0}}const MU=oe("trident"),TU=oe("edge"),L3e=oe("chrome"),R3e=oe("ff"),A3e=oe("safari"),Jm={touchNone:"esri-view-surface--touch-none",touchPan:"esri-view-surface--touch-pan"};class pM{constructor(t,r){this.input=r,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new O3e(t,this.input),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const r in this._active)if(!t||!t.has(r)){const n=this._active[r];this._element.removeEventListener(cP[r],n),delete this._active[r]}t&&t.forEach(r=>{if(!this._active[r]&&cP[r]){const n=(this._eventHandlers[r]||this._handleDefault).bind(this,r);this._element.addEventListener(cP[r],n),this._active[r]=n}}),this._gamepadSource.hasEventListeners=t&&t.has("gamepad")}setPointerCapture(t,r){r?(this._element.setPointerCapture(t.pointerId),this._activePointerCaptures.add(t.pointerId)):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Jm.touchNone:Jm.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Jm.touchPan:Jm.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Jm.touchNone),this._element.classList.remove(Jm.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,r){const n=Gne(this._element,t);return pM.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),r.x=n.x,r.y=n.y,r}_handleKey(t,r){const n=yLe(r);n&&t==="key-up"&&this._keyDownState.delete(n);const i={native:r,key:n,repeat:n&&this._keyDownState.has(n)};n&&t==="key-down"&&this._keyDownState.add(i.key),this._callback(t,i)}_handlePointer(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,n)}_handlePointerPreventDefault(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,n)}_handleMouseWheel(t,r){let n=r.deltaY;switch(r.deltaMode){case 0:(MU||TU)&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}MU||TU?n*=.7:L3e||A3e?n*=.6:R3e&&(n*=1.375);const i=100,o=Math.abs(n);o>i&&(n=n/o*200/(1+Math.exp(-.02*(o-i))));const s=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:n});this._callback(t,s)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){const n={native:r};r.preventDefault(),this._callback(t,n)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}}pM.test={disableSubpixelCoordinates:!1};const cP={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class F3e extends hi{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}}function V4(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function N3e(e,t){const r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}function D3e(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Ro()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[S,C]=e,[$,M]=[C.x-S.x,C.y-S.y];return t.radius=Math.sqrt($*$+M*M)/2,t.center.x=(S.x+C.x)/2,t.center.y=(S.y+C.y)/2,t}let r=0,n=0;for(let S=0;S<e.length;S++)r+=e[S].x,n+=e[S].y;r/=e.length,n/=e.length;const i=e.map(S=>S.x-r),o=e.map(S=>S.y-n);let s=0,a=0,l=0,c=0,d=0,p=0,f=0;for(let S=0;S<i.length;S++){const C=i[S],$=o[S],M=C*C,I=$*$;s+=M,a+=I,l+=C*$,c+=M*C,d+=I*$,p+=C*I,f+=$*M}const y=.5*(c+p),g=.5*(d+f),v=s*a-l*l,b=(y*a-g*l)/v,w=(s*g-l*y)/v,x=Ro(b+r,w+n);return{radius:Math.sqrt(b*b+w*w+(s+a)/e.length),center:x}}const da={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};class z3e extends hi{constructor(t=da.maximumDoubleClickDelay,r=da.maximumDoubleClickDistance,n=da.maximumDoubleTouchDelay,i=da.maximumDoubleTouchDistance,o=x_){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=r,this.maximumDoubleTouchDelay=n,this.maximumDoubleTouchDistance=i,this._clock=o,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimeout=zo(t.doubleClickTimeout))}get hasPendingInputs(){return pI(this._pointerState,t=>t.doubleClickTimeout!=null)}_pointerId(t){const r=t.native;return r.pointerType==="mouse"?`${r.pointerId}:${r.button}`:`${r.pointerType}`}_handleImmediateClick(t){const r=t.data,n=this._pointerId(r),i=this._pointerState.get(n);if(i){const o=r.native.pointerType==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;V4(i.event.data,r)>o?(this._clearDoubleClickTimeout(n,!0),this._startClick(t)):(this._clearDoubleClickTimeout(n,!1),this._doubleClick.emit(i.event.data,void 0,i.event.modifiers))}else this._startClick(t)}_startClick(t){const r=this._pointerId(t.data),n=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;this._pointerState.set(r,{event:t,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(r),n)}),this.refreshHasPendingInputs()}_handlePointerDrag(t){const r=this._pointerId(t.data.currentEvent);this._clearDoubleClickTimeout(r,!0)}_handleDrag(t){const r=this._pointerId(t.data.pointer);this._clearDoubleClickTimeout(r,!0)}_clearDoubleClickTimeout(t,r){const n=this._pointerState.get(t);n&&(n.doubleClickTimeout.remove(),n.doubleClickTimeout=null,r&&this._doubleClickTimeoutExceeded(t),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const r=this._pointerState.get(t);this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}}class V3e extends hi{constructor(t=da.maximumDoubleClickDelay,r=da.maximumDoubleClickDistance,n=da.maximumDoubleTouchDelay,i=da.maximumDoubleTouchDistance,o=x_){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=r,this.maximumDoubleTouchDelay=n,this.maximumDoubleTouchDistance=i,this._clock=o,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Ro(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new dM({start:(s,a)=>this._dragStart(s,a),update:(s,a)=>this._dragUpdate(a),end:(s,a)=>this._dragEnd(a)}),this.registerIncoming("drag",s=>this._dragEventSeparator.handle(s)),this.registerIncoming("pointer-down",s=>this._handlePointerDown(s)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout!=null&&(t.doubleTapTimeout.remove(),t.doubleTapTimeout=null)})}get hasPendingInputs(){return pI(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const r=this._pointerState.get(t);r&&(r.doubleTapTimeout.remove(),r.doubleTapTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs())}_createDoubleTapDragData(t,r,n){const{button:i,buttons:o,pointer:s,pointers:a,pointerType:l,timestamp:c}=n;return{action:t,delta:r,button:i,buttons:o,pointer:s,pointers:a,pointerType:l,timestamp:c}}_dragStart(t,r){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:i}=r,{center:o}=n;this._dragStartCenter=o;const s=this._createDoubleTapDragData("begin",Ro(0,0),n);this._doubleTapDrag.emit(s,void 0,i),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,o=Ro(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("update",o,r);this._doubleTapDrag.emit(s,void 0,n),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,o=Ro(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("end",o,r);this._doubleTapDrag.emit(s,void 0,n),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:r}=t,n=this._pointerId(r),i=this._pointerState.get(n),{pointerType:o}=r.native;if(i){const s=o==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(n),V4(i.event.data,r)>s?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(t){const{native:r}=t,{pointerId:n,button:i,pointerType:o}=r;return o==="mouse"?`${n}:${i}`:`${o}`}_storePointerDown(t){const{data:r}=t,{pointerType:n}=r.native,i=this._pointerId(r),o=n==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay,s=this._clock.setTimeout(()=>this._clearPointerDown(i),o);this._pointerState.set(i,{event:t,doubleTapTimeout:s}),this.refreshHasPendingInputs()}}class j3e extends hi{constructor(t){super(!1),this.navigationTouch=t,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,n,i){return{action:t,pointerType:this.pointerType,button:this.mouseButton,buttons:r.buttons,timestamp:i,pointers:B3e(this.activePointerMap),pointer:r,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(t){const r=t.native.pointerId,n=zS(this.activePointerMap).angle,i={event:t,initialAngle:0,lastAngle:0};this.activePointerMap.set(r,i);const o=w$(i,Tie(this.activePointerMap));i.initialAngle=o,i.lastAngle=o,this._updatePointerAngles(n)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const r=t.native.pointerId,n=this.activePointerMap.get(r);n?n.event=t:this._addPointer(t)}_removePointer(t){const r=zS(this.activePointerMap).angle;this.activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){const r=zS(this.activePointerMap);this.activePointerMap.forEach(n=>{n.initialAngle=w$(n,r)-t,n.lastAngle=w$(n,r)-t})}_emitEvent(t,r,n){const i=zS(this.activePointerMap);this.drag.emit(this._createPayload(t,r,i,n),void 0,this.startStateModifiers)}_handlePointerUpAndPointerLost(t){const r=t.data.native.pointerId,n=t.timestamp;this.activePointerMap.get(r)&&(this.activePointerMap.size===1?(this._updatePointer(t.data),!this.isCurrentDragSuppressed&&this._emitEvent("end",t.data,n),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const r=t.data,n=r.currentEvent,i=t.timestamp;switch(r.action){case"start":case"update":this.isDragging?this.activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this.isCurrentDragSuppressed&&this._emitEvent("update",n,i)):(this._addPointer(n),this._emitEvent("added",n,i),this.isCurrentDragSuppressed=this.isSuppressed):(this._updatePointer(n),this.pointerType=t.data.startEvent.pointerType,this.mouseButton=t.data.startEvent.button,this.startStateModifiers=t.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this._emitEvent("start",n,i))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&this.pointerType==="touch"&&this.activePointerMap.size===1}}function Tie(e){const t=[];return e.forEach(r=>{t.push(Ro(r.event.x,r.event.y))}),D3e(t)}function zS(e){const t=Tie(e);let r=0;return e.forEach(n=>{let i=w$(n,t),o=i-n.lastAngle;for(;o>Math.PI;)o-=2*Math.PI;for(;o<-Math.PI;)o+=2*Math.PI;i=n.lastAngle+o,n.lastAngle=i,r+=i-n.initialAngle}),r/=e.size||1,{angle:r,radius:t.radius,center:t.center}}function B3e(e){const t=new Map;return e.forEach((r,n)=>t.set(n,r.event)),t}function w$(e,t){const r=e.event,n=r.x-t.center.x,i=r.y-t.center.y;return Math.atan2(i,n)}var kU;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(kU||(kU={}));class U3e extends hi{constructor(t=da.maximumDoubleClickDelay,r=da.maximumDoubleClickDistance,n=da.maximumDoubleTouchDelay,i=da.maximumDoubleTouchDistance,o=x_){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=r,this.maximumDoubleTouchDelay=n,this.maximumDoubleTouchDistance=i,this._clock=o,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",s=>{this._handlePointerLoss(s,"pointer-up")}),this.registerIncoming("pointer-capture-lost",s=>{this._handlePointerLoss(s,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",s=>{this._handlePointerLoss(s,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=this._pointerId(r);if(!this._pointerState.has(n)){const i={downButton:r.native.button,immediateDoubleClick:null};this._pointerState.set(n,i),this.startCapturingPointer(r.native)}}_handlePointerLoss(t,r){const n=t.data,i=this._pointerId(n),o=this._pointerState.get(i);if(o&&r==="pointer-up"&&o.downButton===n.native.button){const s=o.immediateDoubleClick;if(s){s.timeoutHandle.remove();const a=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;V4(s,t.data)>a?this._startImmediateDoubleClick(t,o):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(n))}else this._startImmediateDoubleClick(t,o)}}_startImmediateDoubleClick(t,r){const n=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),n)}}_pointerId(t){const r=t.native;return r.pointerType==="mouse"?`${r.pointerId}:${r.button}`:`${r.pointerType}`}_removeState(t){const r=this._pointerId(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}}const Kv={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};class G3e extends hi{constructor(t=Kv.maximumClickDelay,r=Kv.movementUntilMouseDrag,n=Kv.movementUntilPenDrag,i=Kv.movementUntilTouchDrag,o=Kv.holdDelay,s=x_){super(!1),this.maximumClickDelay=t,this.movementUntilMouseDrag=r,this.movementUntilPenDrag=n,this.movementUntilTouchDrag=i,this.holdDelay=o,this._clock=s,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",a=>{this._handlePointerLoss(a,"pointer-up")}),this.registerIncoming("pointer-capture-lost",a=>{this._handlePointerLoss(a,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",a=>{this._handlePointerLoss(a,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout!=null&&(t.holdTimeout.remove(),t.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=r.native.pointerId;let i=null;this._pointerState.size===0&&(i=this._clock.setTimeout(()=>{const s=this._pointerState.get(n);if(s){if(!s.isDragging){const a=s.previousEvent;this._pointerHold.emit(a,void 0,t.modifiers),s.holdEmitted=!0}s.holdTimeout=null}},this.holdDelay));const o={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:i,modifiers:new Set};this._pointerState.set(n,o),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_createPointerDragData(t,r,n){return{action:t,startEvent:r.startEvent,previousEvent:r.previousEvent,currentEvent:n}}_handlePointerMove(t){const r=t.data,n=r.native.pointerId,i=this._pointerState.get(n);i&&(i.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",i,r),void 0,i.modifiers):N3e(r,i.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),i.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}_startDragging(t){const r=t.data,n=r.native.pointerId;this._pointerState.forEach(i=>{i.holdTimeout!=null&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging||(i.modifiers=t.modifiers,i.isDragging=!0,n===i.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",i,r)):this._pointerDrag.emit(this._createPointerDragData("start",i,i.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){const n=t.data,i=n.native.pointerId,o=this._pointerState.get(i);o&&(o.holdTimeout!=null&&(o.holdTimeout.remove(),o.holdTimeout=null),o.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",o,r==="pointer-up"?n:o.previousEvent),void 0,o.modifiers):r==="pointer-up"&&o.downButton===n.native.button&&t.timestamp-o.startTimestamp<=this.maximumClickDelay&&!o.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(i),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}}const VS={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let Vy=class extends Ve{constructor(){super(...arguments),this._handles=new bn}initialize(){const e=()=>{var t;return(t=this.view)==null?void 0:t.ready};this._handles.add([qi(()=>!e(),()=>this._disconnect()),qi(e,()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}get latestPointerType(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerType}get latestPointerLocation(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerLocation}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const e=this.view.surface,t=new pM(e,this.view.input),r=[new U3e,new G3e,new z3e,new j3e(this.view.navigation),new V3e],n=new Dd({eventSource:t,recognizers:r});n.installHandlers("prevent-context-menu",[new F3e],Fp.INTERNAL),n.installHandlers("navigation",[new M3e(this.view),new b3e(this.view),new I3e(this.view),new EU(this.view),new EU(this.view,[VS.counter]),new f3e(this.view,"primary"),new S3e(this.view,VS.pan),new $3e(this.view,VS.zoom),new C3e(this.view,VS.rotate),new m3e(this.view,"secondary"),new h3e(this.view,"touch")],Fp.INTERNAL),this.view.viewEvents.connect(n),this._source=t,this._inputManager=n,fe(()=>{var i,o;return(o=(i=this.view)==null?void 0:i.navigation)==null?void 0:o.browserTouchPanEnabled},i=>{this._source&&(this._source.browserTouchPanningEnabled=!i)},At)}get test(){return{inputManager:this._inputManager}}};u([h()],Vy.prototype,"view",void 0),u([h()],Vy.prototype,"latestPointerType",null),u([h()],Vy.prototype,"latestPointerLocation",null),Vy=u([B("esri.views.2d.input.MapViewInputManager")],Vy);const H3e=Vy;var PU,OU,LU,kie={exports:{}};PU=kie,OU=function(){function e(i,o,s,a,l){t(i,o,s||0,a||i.length-1,l||n)}function t(i,o,s,a,l){for(;a>s;){if(a-s>600){var c=a-s+1,d=o-s+1,p=Math.log(c),f=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*f*(c-f)/c)*(d-c/2<0?-1:1);t(i,o,Math.max(s,Math.floor(o-d*f/c+y)),Math.min(a,Math.floor(o+(c-d)*f/c+y)),l)}var g=i[o],v=s,b=a;for(r(i,s,o),l(i[a],g)>0&&r(i,s,a);v<b;){for(r(i,v,b),v++,b--;l(i[v],g)<0;)v++;for(;l(i[b],g)>0;)b--}l(i[s],g)===0?r(i,s,b):r(i,++b,a),b<=o&&(s=b+1),o<=b&&(a=b-1)}}function r(i,o,s){var a=i[o];i[o]=i[s],i[s]=a}function n(i,o){return i<o?-1:i>o?1:0}return e},(LU=OU())!==void 0&&(PU.exports=LU);const q3e=kie.exports;function EE(e,t){if(!(this instanceof EE))return new EE(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function W3e(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function Zm(e,t){iw(e,0,e.children.length,t,e)}function iw(e,t,r,n,i){i||(i=jy(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=t;s<r;s++)o=e.children[s],ow(i,e.leaf?n(o):o);return i}function ow(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function RU(e,t){return e.minX-t.minX}function AU(e,t){return e.minY-t.minY}function uP(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function jS(e){return e.maxX-e.minX+(e.maxY-e.minY)}function K3e(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function J3e(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,o-n)}function dP(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function BS(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function jy(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function FU(e,t,r,n,i){for(var o,s=[t,r];s.length;)(r=s.pop())-(t=s.pop())<=n||(o=t+Math.ceil((r-t)/n/2)*n,q3e(e,o,t,r,i),s.push(t,o,o,r))}EE.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!BS(e,t))return r;for(var i,o,s,a,l=[];t;){for(i=0,o=t.children.length;i<o;i++)s=t.children[i],BS(e,a=t.leaf?n(s):s)&&(t.leaf?r.push(s):dP(e,a)?this._all(s,r):l.push(s));t=l.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!BS(e,t))return!1;for(var n,i,o,s,a=[];t;){for(n=0,i=t.children.length;n<i;n++)if(o=t.children[n],BS(e,s=t.leaf?r(o):o)){if(t.leaf||dP(e,s))return!0;a.push(o)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=jy([]),this},remove:function(e,t){if(!e)return this;for(var r,n,i,o,s=this.data,a=this.toBBox(e),l=[],c=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],r=c.pop(),o=!0),s.leaf&&(i=W3e(e,s.children,t))!==-1)return s.children.splice(i,1),l.push(s),this._condense(l),this;o||s.leaf||!dP(s,a)?n?(r++,s=n.children[r],o=!1):s=null:(l.push(s),c.push(r),r=0,n=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:RU,compareMinY:AU,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i,o=r-t+1,s=this._maxEntries;if(o<=s)return Zm(i=jy(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(i=jy([])).leaf=!1,i.height=n;var a,l,c,d,p=Math.ceil(o/s),f=p*Math.ceil(Math.sqrt(s));for(FU(e,t,r,f,this.compareMinX),a=t;a<=r;a+=f)for(FU(e,a,c=Math.min(a+f-1,r),p,this.compareMinY),l=a;l<=c;l+=p)d=Math.min(l+p-1,c),i.children.push(this._build(e,l,d,n-1));return Zm(i,this.toBBox),i},_chooseSubtree:function(e,t,r,n){for(var i,o,s,a,l,c,d,p;n.push(t),!t.leaf&&n.length-1!==r;){for(d=p=1/0,i=0,o=t.children.length;i<o;i++)l=uP(s=t.children[i]),(c=K3e(e,s)-l)<p?(p=c,d=l<d?l:d,a=s):c===p&&l<d&&(d=l,a=s);t=a||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),o=[],s=this._chooseSubtree(i,this.data,t,o);for(s.children.push(e),ow(s,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var o=this._chooseSplitIndex(r,i,n),s=jy(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,Zm(r,this.toBBox),Zm(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(e,t){this.data=jy([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Zm(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,o,s,a,l,c,d;for(l=c=1/0,n=t;n<=r-t;n++)s=J3e(i=iw(e,0,n,this.toBBox),o=iw(e,n,r,this.toBBox)),a=uP(i)+uP(o),s<l?(l=s,d=n,c=a<c?a:c):s===l&&a<c&&(c=a,d=n);return d},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:RU,i=e.leaf?this.compareMinY:AU;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i,o,s=this.toBBox,a=iw(e,0,t,s),l=iw(e,r-t,r,s),c=jS(a)+jS(l);for(i=t;i<r-t;i++)o=e.children[i],ow(a,e.leaf?s(o):o),c+=jS(a);for(i=r-t-1;i>=t;i--)o=e.children[i],ow(l,e.leaf?s(o):o),c+=jS(l);return c},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)ow(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)e[r].children.length===0?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():Zm(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};class IE{constructor(t,r){this.key=new Po(0,0,0,0),this.bounds=Sa(),this.objectIds=new Set,this.key.set(r);const n=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.scale=n.scale,this.level=n.level}get id(){return this.key.id}get extent(){return er.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const t=this.key.getChildKeys(),r=oo.acquire();for(let n=0;n<t.length;n++)r[n]=new IE(this.tileInfoView,t[n]);return r}getQuantizationParameters(){return _te.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}const fh={added:[],removed:[]},pP=new Set,Z3e=new Po(0,0,0,0);class Y3e extends Ku{constructor(t){super(),this._tiles=new Map,this._index=EE(9,oe("esri-csp-restrictions")?r=>({minX:r.bounds[0],minY:r.bounds[1],maxX:r.bounds[2],maxY:r.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const r={added:[],removed:[]};for(const n of t.added)if(!this.has(n)){const i=new IE(this.tileScheme,n);this._tiles.set(n,i),this._index.insert(i),r.added.push(i)}for(const n of t.removed)if(this.has(n)){const i=this.get(n);this._tiles.delete(n),this._index.remove(i),r.removed.push(i)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){const r=this.tileScheme.getTileCoverage(t,0);if(!r)return;const{spans:n,lodInfo:i}=r,{level:o}=i;if(n.length>0)for(const{row:s,colFrom:a,colTo:l}of n)for(let c=a;c<=l;c++){const d=Z3e.set(o,s,i.normalizeCol(c),i.getWorldForColumn(c)).id;if(pP.add(d),!this.has(d)){const p=new IE(this.tileScheme,d);this._tiles.set(d,p),this._index.insert(p),this.tiles.push(p),fh.added.push(p)}}for(let s=this.tiles.length-1;s>=0;s--){const a=this.tiles[s];pP.has(a.id)||(this._tiles.delete(a.id),this.tiles.splice(s,1),this._index.remove(a),fh.removed.push(a))}(fh.added.length||fh.removed.length)&&this.emit("update",fh),b0.pool.release(r),pP.clear(),fh.added.length=0,fh.removed.length=0}}let Q3e=0,Ud=class extends Ve{constructor(){super(...arguments),this.color=new ze([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return Q3e++}};u([h({readOnly:!0})],Ud.prototype,"version",null),u([h({type:ze})],Ud.prototype,"color",void 0),u([h({type:ze})],Ud.prototype,"haloColor",void 0),u([h()],Ud.prototype,"haloOpacity",void 0),u([h()],Ud.prototype,"fillOpacity",void 0),Ud=u([B("esri.views.2d.support.HighlightOptions")],Ud);const Pie=Ud,X3e=e=>e.includes("Brush");class Oie{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),X3e(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}}function eFe(e,t,r,n,i,o,s,a){let l;e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0}),e.width!=null&&e.height!=null?l=[e.width,e.height]:e.width==null&&e.height!=null?l=[e.height,e.height]:e.width!=null&&e.height==null?l=[e.width,e.width]:e.width==null&&e.height==null&&(l=null);const c=r[0]-(n.left+n.right),d=r[1]-(n.top+n.bottom);let p,f,y=e.area||{x:0,y:0,width:c,height:d};if(l){const g=c/d,v=l[0]/l[1];if(v>g){const b=y.width/v;y={x:y.x,y:Math.round(y.y+(y.height-b)/2),width:y.width,height:Math.round(b)}}else{const b=y.height*v;y={x:Math.round(y.x+(y.width-b)/2),y:y.y,width:Math.round(b),height:y.height}}}else l=[y.width,y.height];return l[0]>y.width?(p=Math.min(l[0]/y.width,t),f=l[0]/y.width/p):(p=1,f=l[0]/y.width),{resolutionScale:p,cropArea:{x:Math.round((y.x+n.left)*p),y:Math.round((y.y+n.top)*p),width:Math.round(y.width*p),height:Math.round(y.height*p)},outputScale:f,format:i,quality:o,children:s,rotation:a}}function tFe(e,t,r){const{ctx:n,canvas:i}=Lie(e,r),o=n.getImageData(0,0,e.width,e.height),s=iFe(i,t);return Rie(i),{dataUrl:s,data:o}}function rFe(e,t){const{ctx:r,canvas:n}=Lie(e,t),i=r.getImageData(0,0,e.width,e.height);return Rie(n),i}function Lie(e,t){const r=nFe();t.premultipliedAlpha&&uFe(e),r.width=e.width,r.height=e.height;const n=r.getContext("2d");return n.putImageData(e,0,0),t.flipY&&cFe(n),{ctx:n,canvas:r}}function Rie(e){e.width=0,e.height=0}function nFe(){return te(hP)&&(hP=document.createElement("canvas")),hP}let hP=null;function iFe(e,t){const r=dFe[t.format],n=t.quality/100;return e.toDataURL(r,n)}function oFe(e,t){const r=lFe(e),n=hFe[r];return{format:r,quality:Ko(t!=null?t:n,0,100)}}function sFe(e,t){return t/Math.max(e[0],e[1])}function nrt(e,t,r){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(ME)try{return new ImageData(e,t)}catch{ME=!1}return Aie(e,t,r)}function irt(e,t,r,n){if(!t||!r)throw new Error("Cannot construct image data without dimensions");if(ME)try{return new ImageData(e,t,r)}catch{ME=!1}const i=Aie(t,r,n);return i.data.set(e,0),i}function ort(e,t,r,n=0,i=0,o=e.width-n,s=e.height-i,a=!1){const{data:l}=e,{width:c,height:d,data:p}=t,f=o/c,y=s/d,g=Math.ceil(f/2),v=Math.ceil(y/2),b=e.width;for(let w=0;w<d;w++)for(let x=0;x<c;x++){const S=4*(x+(a?d-w-1:w)*c);let C=0,$=0,M=0,I=0,T=0,O=0;const L=(w+.5)*y;for(let N=Math.floor(w*y);N<(w+1)*y;N++){const H=Math.abs(L-(N+.5))/v,F=(x+.5)*f,k=H*H;for(let P=Math.floor(x*f);P<(x+1)*f;P++){const R=Math.abs(F-(P+.5))/g,j=Math.sqrt(k+R*R);if(j>=1)continue;let A=2*j*j*j-3*j*j+1;const U=4*(n+P+(i+N)*b);O+=A*l[U+3],$+=A,!r&&l[U+3]<255&&(A=A*l[U+3]/255),M+=A*l[U],I+=A*l[U+1],T+=A*l[U+2],C+=A}}p[S]=M/C,p[S+1]=I/C,p[S+2]=T/C,p[S+3]=O/$}return t}function Aie(e,t,r){return r||(r=aFe()),r.getContext("2d").createImageData(e,t)}let Jv=null,ME=!0;function aFe(){return Jv||(Jv=document.createElement("canvas"),Jv.width=1,Jv.height=1),Jv}function lFe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return pFe}}function cFe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function uFe(e){const t=e.data,r=t.length;for(let n=0;n<r;n+=4){const i=t[n+3];if(i!==255&&i>0){const o=255/i;t[n+0]=t[n+0]*o,t[n+1]=t[n+1]*o,t[n+2]=t[n+2]*o}}}const dFe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},NU=98,pFe="png",hFe={png:100,jpg:NU,jpeg:NU};var xn;function srt(e,t,r={}){const n=Fie(e);for(;n.length>1;){const i=TE(t,n.shift(),r);if(G(i))return i}return fFe(t,n.shift(),r)}function Fie(e){const t=oe("esri-force-webgl");if(t===xn.WEBGL1||t===xn.WEBGL2)return[t];switch(e){case"2d":return oe("mac")&&oe("chrome")?[xn.WEBGL1,xn.WEBGL2]:[xn.WEBGL2,xn.WEBGL1];case"3d":return[xn.WEBGL2,xn.WEBGL1]}}function fFe(e,t,r={}){if(!window.WebGLRenderingContext)return DU(e,mFe),null;const n=TE(e,t,r);return te(n)&&DU(e,yFe),n}function TE(e,t,r={}){const n=t===xn.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let i=null;for(const o of n){try{i=e.getContext(o,r)}catch{}if(i)break}return i}function DU(e,t){const r=e.parentNode;r&&(r.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}(function(e){e[e.WEBGL1=1]="WEBGL1",e[e.WEBGL2=2]="WEBGL2"})(xn||(xn={}));const mFe='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',yFe=`It doesn't appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>`;let fP,mP;function gFe(e){const t=Fie(e);for(;t.length>1;){const r=zU(t.shift());if(r.available)return r}return zU(t.shift())}function zU(e){switch(e){case xn.WEBGL1:return vFe();case xn.WEBGL2:return bFe()}}function vFe(){return fP||(fP=xFe()),fP}function bFe(){return mP||(mP=SFe()),mP}class Nie{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}class wFe extends Nie{constructor(){super(...arguments),this.type=xn.WEBGL1}}class _Fe extends Nie{constructor(){super(...arguments),this.type=xn.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function Die(e,t){var o;if(e===xn.WEBGL1&&typeof WebGLRenderingContext===void 0||e===xn.WEBGL2&&typeof WebGL2RenderingContext===void 0)return null;const r=document.createElement("canvas");if(!r)return null;let n=TE(r,e,{failIfMajorPerformanceCaveat:!0});if(te(n)&&(n=TE(r,e),G(n)&&(t.majorPerformanceCaveat=!0)),te(n))return n;if(e===xn.WEBGL1){const s=(o=n.getParameter(n.VERSION))==null?void 0:o.match(/^WebGL\s+([\d.]*)/);if(s){const a=parseFloat(s[1]);t.available=a>=.94}}else t.available=!0;t.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const i=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return i&&(t.supportsHighPrecisionFragment=i.precision>0),n}function xFe(){const e=new wFe,t=Die(xn.WEBGL1,e);return te(t)||(e.supportsElementIndexUint=t.getExtension("OES_element_index_uint")!==null,e.supportsStandardDerivatives=t.getExtension("OES_standard_derivatives")!==null,e.supportsInstancedArrays=t.getExtension("ANGLE_instanced_arrays")!==null,e.supportsTextureFloat=t.getExtension("OES_texture_float")!==null,e.supportsTextureHalfFloat=t.getExtension("OES_texture_half_float")!==null,e.supportsColorBufferFloat=t.getExtension("WEBGL_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=t.getExtension("EXT_color_buffer_half_float")!==null),e}function SFe(){const e=new _Fe,t=Die(xn.WEBGL2,e);return te(t)||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function CFe(e){const t=gFe(e);if(!t.available)return new Z("webgl:required","WebGL is required but not supported.");if(e==="3d"&&t.majorPerformanceCaveat)return new Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!t.supportsHighPrecisionFragment)return new Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!t.supportsVertexShaderSamplers)return new Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(t.type===xn.WEBGL1){if(!t.supportsElementIndexUint)return new Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!t.supportsStandardDerivatives)return new Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!t.supportsInstancedArrays)return new Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}function $Fe(e){return e&&"nodeType"in e}function EFe(e){return e&&typeof e.render=="function"}const VU={component:"esri-component"};let Zh=class extends Ve{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(e){const t=this._get("node");e!==t&&(e&&e.classList.add(VU.component),t&&t.classList.remove(VU.component),this._set("node",e))}castNode(e){return e?typeof e=="string"||$Fe(e)?(this._set("widget",null),OD(e)):(EFe(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};u([h({dependsOn:[]})],Zh.prototype,"id",null),u([h()],Zh.prototype,"node",null),u([zt("node")],Zh.prototype,"castNode",null),u([h({readOnly:!0})],Zh.prototype,"widget",void 0),Zh=u([B("esri.views.ui.Component")],Zh);const _$=Zh,IFe={left:0,top:0,bottom:0,right:0},zie={bottom:30,top:15,right:15,left:15},yP="manual",Ji={ui:"esri-ui",corner:"esri-ui-corner",innerContainer:"esri-ui-inner-container",manualContainer:"esri-ui-manual-container",cornerContainer:"esri-ui-corner-container",topLeft:"esri-ui-top-left",topRight:"esri-ui-top-right",bottomLeft:"esri-ui-bottom-left",bottomRight:"esri-ui-bottom-right"};function MFe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function gP(e){const t=e,r=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(r===null||r===Object.prototype)&&("component"in t||"index"in t||"position"in t)?e:null}function vP(e,{top:t,bottom:r,left:n,right:i}){e.style.top=t,e.style.bottom=r,e.style.left=n,e.style.right=i}let uu=class extends Ku.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new bn,this.view=null,this._applyViewPadding=()=>{const t=this.container;t&&vP(t,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const t=this._innerContainer;t&&vP(t,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this._handles.add([fe(()=>{var e;return[(e=this.view)==null?void 0:e.padding,this.container]},this._applyViewPadding,At),fe(()=>this.padding,this._applyUIPadding,At)])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(e){const t=this._get("container");e!==t&&(e&&(e.classList.add(Ji.ui),n$e(e),this._attachContainers(e)),t&&(t.classList.remove(Ji.ui),vP(t,{top:"",bottom:"",left:"",right:""}),gZ(t)),this._set("container",e))}get height(){const e=this.get("view.height")||0;if(e===0)return e;const t=this._getViewPadding(),r=t.top+t.bottom;return Math.max(e-r,0)}get padding(){return this._get("padding")}set padding(e){e?this._override("padding",e):this._clearOverride("padding")}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:{...zie,...e}}get width(){const e=this.get("view.width")||0;if(e===0)return e;const t=this._getViewPadding(),r=t.left+t.right;return Math.max(e-r,0)}add(e,t){let r,n;if(Array.isArray(e))return void e.forEach(o=>this.add(o,t));const i=gP(e);i&&({index:r,position:t,component:e,key:n}=i),t&&typeof t=="object"&&({index:r,key:n,position:t}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,r,n)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map(n=>this.remove(n,t));const r=this._find(e);if(r){const n=this._componentToKey;if(n.has(e)&&n.get(e)!==t)return;const i=this._components.indexOf(r);return r.node.parentNode&&r.node.parentNode.removeChild(r.node),this._componentToKey.delete(e),this._components.splice(i,1)[0]}}empty(e){return Array.isArray(e)?e.map(t=>this.empty(t)).reduce((t,r)=>t.concat(r)):(e=e||yP)===yP?Array.prototype.slice.call(this._manualContainer.children).filter(t=>!t.classList.contains(Ji.corner)).map(t=>this.remove(t)):this._isValidPosition(e)?Array.prototype.slice.call(this._cornerNameToContainerLookup[e].children).map(this.remove,this):null}move(e,t){if(Array.isArray(e)&&e.forEach(o=>this.move(o,t)),!e)return;let r;const n=gP(e)||gP(t);if(n&&(r=n.index,t=n.position,e=n.component||e),t&&!this._isValidPosition(t))return;const i=this.remove(e);i&&this.add(i,{position:t,index:r})}find(e){if(!e)return null;const t=this._findById(e);return t&&(t.widget||t.node)}getPosition(e){for(const t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}_add(e,t,r,n){e instanceof _$||(e=new _$({node:e})),this._place({component:e,position:t,index:r}),this._components.push(e),n&&this._componentToKey.set(e,n)}_find(e){return e?e instanceof _$?this._findByComponent(e):typeof e=="string"?this._findById(e):this._findByNode(e.domNode||e):null}_getViewPadding(){return this.get("view.padding")||IFe}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(Ji.innerContainer),e.classList.add(Ji.cornerContainer);const t=document.createElement("div");t.classList.add(Ji.innerContainer),t.classList.add(Ji.manualContainer);const r=document.createElement("div");r.classList.add(Ji.topLeft),r.classList.add(Ji.corner),e.appendChild(r);const n=document.createElement("div");n.classList.add(Ji.topRight),n.classList.add(Ji.corner),e.appendChild(n);const i=document.createElement("div");i.classList.add(Ji.bottomLeft),i.classList.add(Ji.corner),e.appendChild(i);const o=document.createElement("div");o.classList.add(Ji.bottomRight),o.classList.add(Ji.corner),e.appendChild(o),this._innerContainer=e,this._manualContainer=t;const s=gl();this._cornerNameToContainerLookup={"top-left":r,"top-right":n,"bottom-left":i,"bottom-right":o,"top-leading":s?n:r,"top-trailing":s?r:n,"bottom-leading":s?o:i,"bottom-trailing":s?i:o},this._positionNameToContainerLookup={manual:t,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const t=e.component,r=e.position||yP,n=e.index,i=this._positionNameToContainerLookup[r],o=n>-1;if(MFe(t.widget)&&t.widget.startup(),!o)return void i.appendChild(t.node);const s=Array.prototype.slice.call(i.children);if(n===0)return void(i.firstChild?cj(t.node,i.firstChild):i.appendChild(t.node));n>=s.length?i.appendChild(t.node):cj(t.node,s[n])}_toPxPosition(e){return{top:this._toPxUnit(e.top),left:this._toPxUnit(e.left),right:this._toPxUnit(e.right),bottom:this._toPxUnit(e.bottom)}}_toPxUnit(e){return e===0?"0":e+"px"}_findByComponent(e){let t,r=null;return this._components.some(n=>(t=n===e,t&&(r=n),t)),r}_findById(e){let t,r=null;return this._components.some(n=>(t=n.id===e,t&&(r=n),t)),r}_findByNode(e){let t,r=null;return this._components.some(n=>(t=n.node===e,t&&(r=n),t)),r}};u([h()],uu.prototype,"container",null),u([h()],uu.prototype,"height",null),u([h({value:zie})],uu.prototype,"padding",null),u([zt("padding")],uu.prototype,"castPadding",null),u([h()],uu.prototype,"view",void 0),u([h()],uu.prototype,"width",null),uu=u([B("esri.views.ui.UI")],uu);const TFe=uu;function jU(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function kFe(e,t){return e.length!==t.length||e.some((r,n)=>r.text!==t[n].text)}function US(e,t,r){!r||!t||e.find(n=>n.layerView===t&&n.text===r)||e.push({text:r,layerView:t})}function PFe(e){return e.type==="bing-maps"}const fd=[];let By=class extends $1{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new We,this.view=null,this._allLayerViewsChange=t=>{this.handles.remove("suspension");const r=this.get("view.allLayerViews");r&&this.handles.add(r.map(n=>fe(()=>{var i;return[n.suspended,(i=n.layer)==null?void 0:i.attributionVisible]},()=>this._updateAttributionItems())),"suspension"),t&&t.removed&&t.removed.forEach(n=>{this._pendingAttributions.delete(n),this._fetchedAttributionData.delete(n)}),this._updateAttributionItems()},this.handles.add([Vo(()=>{var t;return(t=this.view)==null?void 0:t.allLayerViews},"change",t=>this._allLayerViewsChange(t),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),qi(()=>{var t;return((t=this.view)==null?void 0:t.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.get("view.allLayerViews");fd.length=0,e?(e.forEach(t=>{var i;if(t.suspended||!((i=t.layer)!=null&&i.attributionVisible))return;const r=t.layer;if(jU(r,"user"))return void US(fd,t,r.copyright);if(r.hasAttributionData){if(this._fetchedAttributionData.has(t)){const o=this._fetchedAttributionData.get(t);return void(o?US(fd,t,this._getDynamicAttribution(o,this.view,r)):jU(r)&&US(fd,t,r.copyright))}return void this._fetchAttributionData(t)}const n=r.get("portalItem.accessInformation");US(fd,t,n||r.copyright)}),kFe(this.items,fd)&&(this.items.removeAll(),this.items.addMany(fd)),fd.length=0,this.notifyChange("state")):this._clear()}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await fI(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const r=t.ok?this._createContributionIndex(t.value,PFe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,r)}this._updateAttributionItems()}_createContributionIndex(e,t){const r=e.contributors,n={};if(!r)return n;for(let i=0;i<r.length;i++){const o=r[i],s=o.coverageAreas;if(!s)return;for(const a of s){const l=a.bbox,c=a.zoomMin-(t&&a.zoomMin?1:0),d=a.zoomMax-(t&&a.zoomMax?1:0),p={xmin:l[1],ymin:l[0],xmax:l[3],ymax:l[2],spatialReference:mt.WGS84},f={extent:kp(p),attribution:o.attribution||"",score:a.score!=null?a.score:100,id:i};for(let y=c;y<=d;y++)n[y]=n[y]||[],n[y].push(f)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(e,t,r){const{extent:n,scale:i}=t;let o=r.tileInfo.scaleToZoom(i);if(o=Math.min(e.maxKey,Math.round(o)),!n||o==null||o<=-1)return"";const s=e[o],a=gI(n.center.clone().normalize(),t.spatialReference),l={};return s?s.filter(c=>{const d=!l[c.id]&&a&&vI(c.extent,a);return d&&(l[c.id]=!0),d}).sort((c,d)=>d.score-c.score||c.objectId-d.objectId).map(c=>c.attribution).join(", "):""}};u([h({readOnly:!0,type:We})],By.prototype,"items",void 0),u([h({readOnly:!0})],By.prototype,"state",null),u([h()],By.prototype,"view",void 0),By=u([B("esri.widgets.Attribution.AttributionViewModel")],By);const Vie=By,md={base:"esri-attribution esri-widget",poweredBy:"esri-attribution__powered-by",sources:"esri-attribution__sources",open:"esri-attribution--open",sourcesOpen:"esri-attribution__sources--open",link:"esri-attribution__link",widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let Xi=class extends En{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(r=>r.forEach(({target:n})=>this._checkSourceTextOverflow(n))),this.iconClass=md.widgetIcon,this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new Vie}initialize(){this.own(Vo(()=>{var e;return(e=this.viewModel)==null?void 0:e.items},"change",()=>this.scheduleRender()))}destroy(){var e;(e=this._resizeObserver)==null||e.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((e,t)=>(e.includes(t.text)||e.push(t.text),e),[]).join(this.itemDelimiter)}render(){const e={[md.open]:this._isOpen};return V("div",{bind:this,class:this.classes(md.base,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return V("div",{class:md.poweredBy},"Powered by"," ",V("a",{class:md.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,r=t?"0":"",{attributionText:n}=this,i={[md.sourcesOpen]:e,[md.interactive]:t};return V("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(md.sources,i),innerHTML:n,tabindex:r})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let t=!1;const{clientHeight:r,clientWidth:n,scrollWidth:i}=e,o=i>n,s=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,s&&(t=!0),this._isOpen){const a=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,a&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};u([h()],Xi.prototype,"_isOpen",void 0),u([h()],Xi.prototype,"_isInteractive",null),u([h()],Xi.prototype,"_attributionTextOverflowed",void 0),u([h()],Xi.prototype,"_prevSourceNodeHeight",void 0),u([h({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Xi.prototype,"attributionText",null),u([h()],Xi.prototype,"iconClass",void 0),u([h()],Xi.prototype,"itemDelimiter",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Xi.prototype,"label",void 0),u([h(),sn("esri/widgets/Attribution/t9n/Attribution")],Xi.prototype,"messages",void 0),u([Oe("viewModel.view")],Xi.prototype,"view",void 0),u([h({type:Vie})],Xi.prototype,"viewModel",void 0),u([Ni()],Xi.prototype,"_toggleState",null),Xi=u([B("esri.widgets.Attribution")],Xi);const OFe=Xi,LFe="esri.widgets.CompassViewModel";let Yh=class extends T4(Ve){constructor(e){super(e),this._handles=new bn,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add(fe(()=>this.view,this._updateRotationWatcher,At))}destroy(){this._handles=zo(this._handles),this.view=null}get canShowNorth(){const e=this.get("view.spatialReference");return!(!e||!e.isWebMercator&&!e.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const e={};this.view.type==="2d"?e.rotation=0:e.heading=0,this.callGoTo({target:e})}_updateForRotation(e){e!=null&&(this.orientation={z:e})}_updateForCamera(e){if(!e)return;const t=-e.heading;this.orientation={x:0,y:0,z:t}}_updateRotationWatcher(e){this._handles.removeAll(),e&&this._handles.add(e.type==="2d"?fe(()=>e==null?void 0:e.rotation,this._updateForRotation,At):fe(()=>e==null?void 0:e.camera,this._updateForCamera,At))}};u([h({readOnly:!0})],Yh.prototype,"canShowNorth",null),u([h()],Yh.prototype,"orientation",void 0),u([h({readOnly:!0})],Yh.prototype,"state",null),u([h()],Yh.prototype,"view",void 0),Yh=u([B(LFe)],Yh);const jie=Yh,yd={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let Ql=class extends En{constructor(e,t){super(e,t),this.goToOverride=null,this.iconClass=yd.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new jie}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,r=t==="disabled",n=(t==="rotation"?"rotation":"compass")=="compass",i=r?-1:0,o={[yd.disabled]:r,[yd.interactive]:!r},s={[yd.northIcon]:n,[yd.rotationIcon]:!n},{messages:a}=this;return V("div",{bind:this,class:this.classes(yd.base,o),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:i,"aria-label":a.reset,title:a.reset},V("span",{"aria-hidden":"true",class:this.classes(yd.icon,s),styles:this._toRotationTransform(e)}),V("span",{class:yd.text},a.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(e){return{transform:`rotateZ(${e.z}deg)`}}};u([Oe("viewModel.goToOverride")],Ql.prototype,"goToOverride",void 0),u([h()],Ql.prototype,"iconClass",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ql.prototype,"label",void 0),u([h(),sn("esri/widgets/Compass/t9n/Compass")],Ql.prototype,"messages",void 0),u([Oe("viewModel.view")],Ql.prototype,"view",void 0),u([h({type:jie})],Ql.prototype,"viewModel",void 0),u([Ni()],Ql.prototype,"_reset",null),Ql=u([B("esri.widgets.Compass")],Ql);const RFe=Ql;let Uy=class extends Ve{constructor(e){super(e),this._handles=new bn,this.navigationMode="pan",this.view=null}initialize(){this._handles.add(qi(()=>{var e;return(e=this.view)==null?void 0:e.inputManager},()=>this._setNavigationMode()))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&this.view.type==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction=this.navigationMode==="pan"?"pan":"rotate"}};u([h({readOnly:!0})],Uy.prototype,"state",null),u([h()],Uy.prototype,"navigationMode",void 0),u([h()],Uy.prototype,"view",void 0),Uy=u([B("esri.widgets.NavigationToggleViewModel")],Uy);const Bie=Uy,js={base:"esri-navigation-toggle esri-widget",button:"esri-navigation-toggle__button esri-widget--button",activeButton:"esri-navigation-toggle__button--active",panButton:"esri-navigation-toggle__button--pan",rotateButton:"esri-navigation-toggle__button--rotate",isLayoutHorizontal:"esri-navigation-toggle--horizontal",rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let Xl=class extends En{constructor(e,t){super(e,t),this.iconClass=js.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new Bie}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}toggle(){return this.viewModel.toggle()}render(){const e=this.get("viewModel.state")==="disabled",t=this.get("viewModel.navigationMode")==="pan",r={[js.disabled]:e,[js.isLayoutHorizontal]:this.layout==="horizontal"},n={[js.activeButton]:t},i={[js.activeButton]:!t},o=e?-1:0,s=this.messages.toggle;return V("div",{bind:this,class:this.classes(js.base,r),onclick:this._toggle,onkeydown:this._toggle,tabIndex:o,"aria-label":s,title:s},V("div",{class:this.classes(js.button,js.panButton,n)},V("span",{class:js.panIcon})),V("div",{class:this.classes(js.button,js.rotateButton,i)},V("span",{class:js.rotationIcon})))}_toggle(){this.toggle()}};u([h()],Xl.prototype,"iconClass",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Xl.prototype,"label",void 0),u([h({value:"vertical"})],Xl.prototype,"layout",null),u([h(),sn("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Xl.prototype,"messages",void 0),u([Oe("viewModel.view")],Xl.prototype,"view",void 0),u([h({type:Bie})],Xl.prototype,"viewModel",void 0),u([Ni()],Xl.prototype,"_toggle",null),Xl=u([B("esri.widgets.NavigationToggle")],Xl);const AFe=Xl,Zv={button:"esri-widget--button esri-widget",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",icon:"esri-icon"};let Gd=class extends En{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const e=this.enabled?0:-1,t={[Zv.disabled]:!this.enabled,[Zv.interactive]:this.enabled},r={[this.iconClass]:!!this.iconClass};return V("div",{bind:this,class:this.classes(Zv.button,t),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:e,title:this.title},V("span",{"aria-hidden":"true",role:"presentation",class:this.classes(Zv.icon,r)}),V("span",{class:Zv.iconText},this.title))}_triggerAction(){this.action.call(this)}};u([h()],Gd.prototype,"action",void 0),u([h()],Gd.prototype,"enabled",void 0),u([h()],Gd.prototype,"iconClass",void 0),u([h()],Gd.prototype,"title",void 0),u([Ni()],Gd.prototype,"_triggerAction",null),Gd=u([B("esri.widgets.IconButton")],Gd);const BU=Gd;let Gy=class extends Ve{get canZoomIn(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale");return t===0||e>t}get canZoomOut(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale");return t===0||e<t}};u([h({readOnly:!0})],Gy.prototype,"canZoomIn",null),u([h({readOnly:!0})],Gy.prototype,"canZoomOut",null),u([h()],Gy.prototype,"view",void 0),Gy=u([B("esri.widgets.Zoom.ZoomConditions2D")],Gy);const FFe=Gy;let Hy=class extends Ve{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};u([h({readOnly:!0})],Hy.prototype,"canZoomIn",null),u([h({readOnly:!0})],Hy.prototype,"canZoomOut",null),u([h()],Hy.prototype,"view",void 0),Hy=u([B("esri.widgets.Zoom.ZoomConditions3D")],Hy);const NFe=Hy;let Hd=class extends Ve{constructor(e){super(e),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new FFe({view:e}):e.type==="3d"&&(this._zoomConditions=new NFe({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){if(!this.canZoomIn)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomIn():QO(e.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomOut():QO(e.goTo({zoomFactor:.5}))}};u([h()],Hd.prototype,"_zoomConditions",void 0),u([h({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],Hd.prototype,"canZoomIn",void 0),u([h({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],Hd.prototype,"canZoomOut",void 0),u([h({readOnly:!0})],Hd.prototype,"state",null),u([h()],Hd.prototype,"view",null),Hd=u([B("esri.widgets.Zoom.ZoomViewModel")],Hd);const Uie=Hd,Yv={base:"esri-zoom esri-widget",horizontalLayout:"esri-zoom--horizontal",zoomInIcon:"esri-icon-plus",zoomOutIcon:"esri-icon-minus",widgetIcon:"esri-icon-zoom-in-magnifying-glass"};let du=class extends En{constructor(e,t){super(e,t),this.iconClass=Yv.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new Uie}initialize(){this._zoomInButton=new BU({action:this.zoomIn.bind(this),iconClass:Yv.zoomInIcon}),this._zoomOutButton=new BU({action:this.zoomOut.bind(this),iconClass:Yv.zoomOutIcon})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}render(){const e=this.viewModel,t={[Yv.horizontalLayout]:this.layout==="horizontal"};return this._zoomInButton.enabled=e.state==="ready"&&e.canZoomIn,this._zoomOutButton.enabled=e.state==="ready"&&e.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,V("div",{class:this.classes(Yv.base,t)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};u([h()],du.prototype,"iconClass",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],du.prototype,"label",void 0),u([h({value:"vertical"})],du.prototype,"layout",null),u([h(),sn("esri/widgets/Zoom/t9n/Zoom")],du.prototype,"messages",void 0),u([Oe("viewModel.view")],du.prototype,"view",void 0),u([h({type:Uie})],du.prototype,"viewModel",void 0),du=u([B("esri.widgets.Zoom")],du);const Gie=du,Hie="esri.views.ui.DefaultUI";function DFe(e){return e&&e.view!==void 0}Ce.getLogger(Hie);let x$=class extends TFe{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[]}initialize(){this._handles.add([fe(()=>this.components,this._componentsWatcher.bind(this),At),fe(()=>this.view,this._updateViewAwareWidgets.bind(this),At)])}_add(e,t,r,n){if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;e=this._createComponent(e)}super._add(e,t,r,n)}_removeComponents(e){e.forEach(t=>{const r=this._find(t);r&&(this.remove(r),r.destroy())})}_updateViewAwareWidgets(e){this.components.forEach(t=>{const r=this._find(t),n=r&&r.widget;DFe(n)&&(n.view=e)})}_componentsWatcher(e,t){this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:t}=this.padding;this.padding=t}}_addComponents(e){this.initialized&&e.forEach(t=>this.add(this._createComponent(t),this._defaultPositionLookup[t]))}_createComponent(e){const t=this._createWidget(e);if(t)return new _$({id:e,node:t})}_createWidget(e){return e==="attribution"?this._createAttribution():e==="compass"?this._createCompass():e==="navigation-toggle"?this._createNavigationToggle():e==="zoom"?this._createZoom():void 0}_createAttribution(){return new OFe({view:this.view})}_createCompass(){return new RFe({view:this.view})}_createNavigationToggle(){return new AFe({view:this.view})}_createZoom(){return new Gie({view:this.view})}};u([h()],x$.prototype,"components",void 0),x$=u([B(Hie)],x$);const zFe=x$;let S$=class extends zFe{constructor(e){super(e),this.components=["attribution","zoom"]}};u([h()],S$.prototype,"components",void 0),S$=u([B("esri.views.ui.2d.DefaultUI2D")],S$);const qie=S$;var vF;let C$=vF=class extends ve{constructor(e){super(e),this.color=new ze([0,0,0,1])}clone(){return new vF(X({color:this.color}))}};u([h({type:ze,json:{write:!0}})],C$.prototype,"color",void 0),C$=vF=u([B("esri.webmap.background.ColorBackground")],C$);const VFe=C$,Gc=Ce.getLogger("esri.views.MapView");let Wie,Kie,Jie,Zie,Yie,Qie;async function jFe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:n,MagnifierView2D:i,Stage:o}]=await Promise.all([ae(()=>import("./webglDeps.2a3b5057.js"),["webglDeps.2a3b5057.js","VertexArrayObject.61da39b7.js","Texture.df75317b.js","enums.c60b1dad.js","ProgramTemplate.40308da0.js","programUtils.554aa6f6.js"],import.meta.url),ae(()=>import("./mapViewDeps.7fa58017.js"),["mapViewDeps.7fa58017.js","CIMSymbolHelper.6438e485.js","Rect.a122c453.js","definitions.cd8c5521.js","alignmentUtils.84250e5d.js","number.6e30c64a.js","GeometryUtils.f3664fe1.js","utils.ad868521.js","Utils.1f5b6bd7.js","enums.c60b1dad.js","Texture.df75317b.js","VertexElementDescriptor.2400a91d.js","MaterialKey.50628e38.js","WGLContainer.ee4fac61.js","pixelUtils.784e90c3.js","VertexArrayObject.61da39b7.js","ProgramTemplate.40308da0.js","StyleDefinition.51d53a2e.js","config.ded6d251.js","GeometryUtils.b4d0dc88.js","earcut.f65e2fcc.js","enums.58eeda20.js","programUtils.554aa6f6.js","Rasterizer.97157184.js","cimAnalyzer.b547d5ab.js","quantizationUtils.4ec6f0b3.js","commonjsHelpers.ce2b5698.js","imageutils.b2154ea6.js","Matcher.7af2fe62.js","visualVariablesUtils.884d3bde.js","visualVariablesUtils.10b31a9d.js","tileUtils.a755e3d4.js","TileClipper.5bd7dcb4.js","Geometry.f2d62961.js","ExpandedCIM.bbcfc6ca.js","CircularArray.55b20eb7.js","requestImageUtils.ad134a16.js","ComputedAttributeStorage.e1077482.js","centroid.ca7c664b.js","BaseGraphicContainer.476eeaa6.js","normalizeUtilsSync.792f4e40.js","projectionSupport.4aed025e.js","json.8bd707cf.js","FeatureContainer.28dca56e.js","TileContainer.02f65f97.js","schemaUtils.51235f56.js","createSymbolSchema.a8baa8ce.js","MD5.7323a015.js","util.0cc07af3.js","vec3f32.ca7a14c1.js","GraphicContainer.5447100b.js"],import.meta.url)]);Kie=e,Jie=t,Zie=r,Yie=n,Qie=i,Wie=o}const UU=160;function BFe(e){return e&&e.declaredClass==="esri.Viewpoint"}let dt=class extends fEe(zLe(VLe(hRe))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new n0({getCollections:()=>{var t,r;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new gAe(this),this._pePromise=null,this.floors=new We,this.highlightOptions=new Pie,this.inputManager=new H3e({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new Oie,this.type="2d",this.ui=new qie,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new vie,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([fe(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(UU)},r0),this.on("resize",t=>this._resizeHandler(t)),fe(()=>{var t;return(t=this.animationManager)==null?void 0:t.animation},t=>{this.animation=t})]),R2e()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Y3e(this.featuresTilingScheme)}get initialExtentRequired(){var s;const{scale:e,constraints:t,center:r,viewpoint:n,extent:i}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((s=this.map.initialViewProperties)==null?void 0:s.viewpoint))&&!i&&(t!=null&&t.effectiveLODs||(o=-1),(!r||e===0&&o===-1)&&(!n||!G(n.targetGeometry)||n.targetGeometry.type!=="extent"&&!n.scale))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!Hp()||(this._pePromise||(this._pePromise=qp().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=this.spatialReference,r=e.targetGeometry;return!!Vu(r.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e),this.frameTask.animationInProgress=!0;const r=()=>{e===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};e.when(r,r)}get background(){return this.get("map.initialViewProperties.background")||null}set background(e){e===void 0?this._clearOverride("background"):this._override("background",e)}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return new at({x:e[0],y:e[1],spatialReference:t})}set center(e){if(e==null)return;if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(n){return void Gc.error(new Z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:n}))}const r=this.viewpoint;uF(r,r,t),this.viewpoint=r}set constraints(e){const t=this._get("constraints");t&&(this.handles.remove("map-view-constraints"),t.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(fe(()=>e.version,()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))},r0),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void Gc.error(new Z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(n){return void Gc.error(new Z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const r=this.viewpoint;tAe(r,r,t,this.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;hAe(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",-1);const r=this._get("extent");return r&&(this._set("extent",null),this._set("center",r.center)),void this.notifyChange("initialExtentRequired")}const t=this.viewpoint;bU(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){return!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(e=>!e.destroyed&&!("layerViews"in e)&&e.updating===!0))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let t,r;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?r=new Z("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):te(e.targetGeometry)&&(r=new Z("mapview:invalid-viewpoint","geometry not defined"))}catch(i){r=new Z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:i})}if(r)return void Gc.error(r);this._scaleBeforeChangingSpatialReference=null;const n=new Cl({targetGeometry:new at,scale:0,rotation:0});Tl(n,t),this.constraints.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this.frameTask.requestFrame(),this._set("viewpoint",n)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(e){if(e==null)return;if(!this.ready){this._set("zoom",e),this._set("scale",0);const r=this._get("extent");return r&&(this._set("extent",null),this._set("center",r.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const t=this.viewpoint;bU(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),I_(()=>this.ready,t).then(()=>{const r={animate:!0,...t},n=QRe(e,this);return this.animation.update(n),this._gotoTask={},r.animate?this._gotoAnimated(n,r):this._gotoImmediate(n,r)});Gc.error("#goTo()","target cannot be null or undefined")}async hitTest(e,t){const r=hU(e)?pU(this,e):e;if(!this.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let n=new Set,i=!1,o=null,s=null;t!=null&&t.include?HU(t.include,GU(this,d=>n.add(d),d=>{o||(o=new Set),o.add(d)},d=>n.add(d),()=>i=!0)):(i=!0,n=new Set(this.allLayerViews)),t!=null&&t.exclude&&HU(t.exclude,GU(this,d=>n.delete(d),d=>{s||(s=new Set),s.add(d)}));const a=this.allLayerViews.filter(d=>!d.suspended&&n.has(d)).reverse(),l=this.toMap(r);let c=[...i?this.graphicsView.hitTest(l).map(d=>({type:"graphic",graphic:d,layer:null,mapPoint:l})):[],...await Promise.all(a.map(d=>d.hitTest(l,r)).toArray())].filter(G).flat().filter(G);return o&&(c=c.filter(d=>!("graphic"in d)||!d.graphic||o.has(bF(d.graphic)))),s&&(c=c.filter(d=>!("graphic"in d)||!d.graphic||s.has(bF(d.graphic)))),{screenPoint:r,results:c}}async takeScreenshot(e){const t=this._createScreenshotPlan(e),r=await this._stage.takeScreenshot(t);return tFe(r,{format:t.format,quality:t.quality,rotation:0,disableDecorations:!1},this._pixelFormat)}async _takeScreenshot(e){const t=this._createScreenshotPlan(e),r=await this._stage.takeScreenshot(t);return rFe(r,this._pixelFormat)}_createScreenshotPlan(e){e=e||{};const t=this.supersampleScreenshotsEnabled?Math.min(4,sFe(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let r;e.layers?(r=[],e.layers.forEach(o=>{const s=this.allLayerViews.find(a=>a.layer.id===o.id);s&&"container"in s&&s.container&&r.push(s.container)})):r=this._stage.children;const{format:n,quality:i}=oFe(e.format,e.quality);return eFe(e,t,this.size,this.padding,n,i,r,e.rotation)}get test(){return{takeScreenshot:e=>this._takeScreenshot(e)}}toMap(e){if(!this.ready)return null;const t=hU(e)?pU(this,e):e,r=[0,0],[n,i]=this.state.toMap(r,[t.x,t.y]),o=this.spatialReference;return new at({x:n,y:i,spatialReference:o})}toScreen(e){if(!this.ready)return null;const t=this._project(e,this.spatialReference),r=[t.x,t.y];return this.state.toScreen(r,r),Ro(r[0],r[1])}on(e,t,r,n){return this.inputManager&&this.viewEvents.on(e,t,r,n)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e,t,r;return this.map&&"initialViewProperties"in this.map&&((t=(e=this.map)==null?void 0:e.initialViewProperties)==null?void 0:t.spatialReference)||((r=this.defaultsFromMap)==null?void 0:r.spatialReference)||null}hasLayerViewModule(e){return _U.hasLayerViewModule(e)}importLayerView(e){return _U.importLayerView(e)}pixelSizeAt(){return this.ready?this.state.resolution:(Gc.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then(t=>({...t,mapPoint:this.toMap(e)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let e=CFe(this.type);return oe("safari")&&oe("safari")<9&&(e=new Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:oe("safari")})),G(e)?(Gc.warn("#validate()",e.message),Promise.reject(e)):jFe()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new lF),this.animation}_cancellableGoTo(e,t,r){const n=()=>e===this._gotoTask,i=r.then(()=>{n()&&(this.animation=null)}).catch(s=>{throw n()&&(this.animation=null,t.done||(t.stop(),this.frameTask.animationInProgress=!1)),s}),o=new Promise(s=>s(i));return t.when().catch(()=>{n()&&o.cancel&&o.cancel()}),o}_gotoImmediate(e,t){const r=this._gotoTask,n=this.animation,i=e.then(o=>{if(Ar(t),r!==this._gotoTask)throw new Z("view:goto-interrupted","Goto was interrupted");this.viewpoint=n.target=o,n.finish()});return this._cancellableGoTo(r,n,i)}_flipStationary(e){return this._stationaryTimer!==null||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const t=performance.now()-this._lastStationaryEventTimestamp;t<UU&&(this._stationaryTimer=this._flipStationary(t))},e)),this._stationaryTimer}_getDefaultViewpoint(){var b,w,x,S;const{constraints:e,initialExtent:t,map:r,padding:n,size:i}=this;if(!e)return null;const o=r&&"initialViewProperties"in r&&r.initialViewProperties,s={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};e.effectiveLODs?s.zoom!==-1&&(s.scale=e.zoomToScale(s.zoom)):s.zoom=-1;let a=null,l=null,c=0;const d=s.viewpoint&&s.viewpoint.rotation,p=s.viewpoint&&s.viewpoint.targetGeometry;G(p)&&(p.type==="extent"?a=p:p.type==="point"&&(l=p,c=s.viewpoint.scale));const f=s.extent||a||((w=(b=o==null?void 0:o.viewpoint)==null?void 0:b.targetGeometry)==null?void 0:w.extent)||t,y=s.center||l||(f==null?void 0:f.center),g=s.scale||c||((x=o==null?void 0:o.viewpoint)==null?void 0:x.scale)||f&&qw(f,[i[0]-n.left-n.right,i[1]-n.top-n.bottom]),v=s.rotation||d||((S=o==null?void 0:o.viewpoint)==null?void 0:S.rotation)||0;return y&&g?new Cl({targetGeometry:y,scale:g,rotation:v}):null}_gotoAnimated(e,t){const r=this._gotoTask,n=this.animation,i=e.then(o=>{if(Ar(t),r!==this._gotoTask)throw new Z("view:goto-interrupted","Goto was interrupted");return n.update(o),this.animationManager.animate(n,this.viewpoint,t),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,n,i)}_project(e,t){var i;const r=e&&e.targetGeometry||e;if(!t)return e;if(!r)return null;if(t.imageCoordinateSystem||((i=r.spatialReference)==null?void 0:i.imageCoordinateSystem)||Ci(t,r.spatialReference))return e;const n=Q0(r,t);if(!n)throw new Z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:t});return BFe(e)?(e.targetGeometry=n,e):n}_resizeHandler(e){if(!this.ready)return;const t=this.state;let r=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],pAe(r,r,n,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints.constrain(r,null),this.state.viewpoint=r}_startup(){var a,l;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint(),t=e.targetGeometry;try{this._project(e,this.spatialReference)}catch(c){Gc.warn(new ho("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:t.toJSON(),spatialReference:this.spatialReference,error:c})),e.targetGeometry=((a=this.defaultsFromMap.extent)==null?void 0:a.center)||new at({x:0,y:0,spatialReference:this.spatialReference})}(l=this.constraints)==null||l.fit(e),this._set("state",new o3e({padding:this._get("padding"),size:this.size,viewpoint:e})),this.graphics.owner=this;const r=new Wie(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=r,this._magnifierView=new Qie,this._magnifierView.magnifier=this.magnifier;const n=new Zie({view:this});this._set("labelManager",n);const i=new yAe({view:this});this._set("animationManager",i);const o=new Yie({view:this,animationManager:i});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("post-render",()=>this._set("rendering",r.renderRequested)),r.on("will-render",()=>this._set("rendering",r.renderRequested)),r.on("webgl-error",c=>this.fatalError=c.error),fe(()=>this.stationary,c=>r.stationary=c,bh),fe(()=>this.background,c=>{r.background=c,this._magnifierView.background=c},bh),fe(()=>this.magnifier,c=>this._magnifierView.magnifier=c,bh),fe(()=>this.renderingOptions,c=>r.renderingOptions=c,bh),fe(()=>this.highlightOptions,c=>r.highlightOptions=c,bh),fe(()=>this.state.id,()=>r.state=this.state,bh)],"map-view"),this._updateStageChildren();const s=this._resolveWhenReady;this._resolveWhenReady=[],s.forEach(c=>c(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[e,t],spatialReference:r,rotation:n,scale:i}=this.state.paddedViewState,o=new at({x:e,y:t,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",n),this._set("scale",i),this._set("spatialReference",r),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this._stage.addChild(t.container)});const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new u3e(Nw.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new Kie({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new Jie(e)});this.frameTask.graphicsView=t,this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,e.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(e){if(!this.ready)return;this.frameTask.stop();for(const a of this.allLayerViews)a.processDetach();this._destroySpatialReferenceDependentProperties();const t=this.state.paddedViewState.clone();if(te(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale;else{const a=t.viewpoint.clone();a.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=a}const r=t.clone(),[n,i]=t.center;let o=null;try{o=this._project(new at({x:n,y:i,spatialReference:t.spatialReference}),e)}catch(a){Hp()||Gc.warn(new ho("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o.toJSON(),spatialReference:e,error:a}))}o||(o=new at({x:0,y:0,spatialReference:e}));const s=uF(new Cl({targetGeometry:new at,scale:0,rotation:0}),t.viewpoint,o);r.viewpoint=s;try{const l=[t.size[0]/2,t.size[1]/2],c=[l[0]+20,l[1]],d=t.toMap([0,0],c),{x:p,y:f}=this._project(new at({x:d[0],y:d[1],spatialReference:t.spatialReference}),e);d[0]=p,d[1]=f,r.toScreen(d,d);const y=uAe(l,d,c),g=Math.hypot(d[0]-l[0],d[1]-l[1])/20;!Number.isFinite(g)||Math.abs(g)>4?(s.rotation=0,s.targetGeometry=new at({x:0,y:0,spatialReference:e})):(s.scale*=g,s.scale>oe("mapview-srswitch-adjust-rotation-scale-threshold")?s.rotation=0:s.rotation+=Number.isFinite(y)?y:0)}catch{}this._get("constraints").constrain(s,null),this._get("state").viewpoint=s,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const a of this.allLayerViews)a.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};dt.type="2d",u([h({readOnly:!0})],dt.prototype,"animationManager",void 0),u([h({constructOnly:!0})],dt.prototype,"deactivatedWebGLExtensions",void 0),u([h({constructOnly:!0})],dt.prototype,"debugWebGLExtensions",void 0),u([h({readOnly:!0})],dt.prototype,"featuresTilingScheme",void 0),u([h({readOnly:!0})],dt.prototype,"fullOpacity",void 0),u([h({readOnly:!0})],dt.prototype,"graphicsTileStore",null),u([h()],dt.prototype,"graphicsView",void 0),u([h({readOnly:!0})],dt.prototype,"state",void 0),u([h()],dt.prototype,"initialExtentRequired",null),u([h()],dt.prototype,"labelManager",void 0),u([h({readOnly:!0})],dt.prototype,"resourceManager",null),u([h({readOnly:!0})],dt.prototype,"textureManager",null),u([h({readOnly:!0})],dt.prototype,"mapViewNavigation",void 0),u([h({constructOnly:!0})],dt.prototype,"renderCanvas",void 0),u([h()],dt.prototype,"renderingOptions",void 0),u([h({readOnly:!0})],dt.prototype,"rendering",void 0),u([h({constructOnly:!0})],dt.prototype,"supersampleScreenshotsEnabled",void 0),u([h({readOnly:!0})],dt.prototype,"supportsGround",void 0),u([h()],dt.prototype,"_stationaryTimer",void 0),u([h()],dt.prototype,"_defaultsFromMapSettings",null),u([h()],dt.prototype,"_pePromise",void 0),u([h({readOnly:!0})],dt.prototype,"typeSpecificPreconditionsReady",null),u([h()],dt.prototype,"animation",null),u([h({type:VFe})],dt.prototype,"background",null),u([h({value:null,type:at,dependsOn:["state.id","ready"]})],dt.prototype,"center",null),u([h({type:vie})],dt.prototype,"constraints",null),u([h({value:null,type:er,dependsOn:["state.id","ready"]})],dt.prototype,"extent",null),u([h()],dt.prototype,"floors",void 0),u([h({type:Pie})],dt.prototype,"highlightOptions",void 0),u([h({readOnly:!0})],dt.prototype,"inputManager",void 0),u([h()],dt.prototype,"map",void 0),u([h({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],dt.prototype,"padding",null),u([h()],dt.prototype,"resizeAlign",void 0),u([h({readOnly:!0,dependsOn:["state.id"]})],dt.prototype,"resolution",null),u([h({value:0,type:Number,dependsOn:["state.id","ready"]})],dt.prototype,"rotation",null),u([h({value:0,type:Number,dependsOn:["state.id","ready"]})],dt.prototype,"scale",null),u([h({constructOnly:!0})],dt.prototype,"spatialReferenceLocked",void 0),u([h()],dt.prototype,"stationary",null),u([h({type:Oie,readOnly:!0})],dt.prototype,"timeline",void 0),u([h({readOnly:!0})],dt.prototype,"type",void 0),u([h({readOnly:!0})],dt.prototype,"updating",null),u([h({value:null,type:Cl,dependsOn:["state.id","ready"]})],dt.prototype,"viewpoint",null),u([h({value:-1,dependsOn:["state.id","ready"]})],dt.prototype,"zoom",null),u([h({type:Boolean})],dt.prototype,"navigating",null),u([h({type:qie})],dt.prototype,"ui",void 0),dt=u([B("esri.views.MapView")],dt);const UFe=dt;function bF(e){var r,n,i,o;const t=e.getObjectId();return t?`${(o=(i=(r=e.layer)==null?void 0:r.uid)!=null?i:(n=e.sourceLayer)==null?void 0:n.uid)!=null?o:"MapView"}/${t}`:`"MapView/${e.uid}`}function GU(e,t,r,n,i){return o=>{if(o instanceof Jo){if(o.layer===e)i==null||i();else{const s=e.allLayerViews.find(a=>a.layer===o.layer);s&&(n==null||n(s))}r(bF(o))}else{const s=e.allLayerViews.find(a=>a.layer===o);s&&t(s)}}}function HU(e,t){if(e)if(WO(e))for(const r of e)if(WO(r))for(const n of r)t(n);else t(r);else t(e)}const GFe={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};function art(e){return{renderer:{type:"simple",symbol:e==="esriGeometryPoint"||e==="esriGeometryMultipoint"?gne:e==="esriGeometryPolyline"?vne:bne}}}const HFe=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let qFe=1;function lrt(e,t){if(oe("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let r=`this.${t} = null;`;for(const i in e)r+=`this${HFe.test(i)?`.${i}`:`["${i}"]`} = ${JSON.stringify(e[i])};`;const n=new Function(`
      return class AttributesClass$${qFe++} {
        constructor() {
          ${r};
        }
      }
    `)();return()=>new n}catch{return()=>({[t]:null,...e})}}function crt(e={}){return[{name:"New Feature",description:"",prototype:{attributes:X(e)}}]}function WFe(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:GFe,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}const qU=Ce.getLogger("esri.layers.graphics.sources.GeoJSONSource");let Qh=class extends Os{constructor(){super(...arguments),this.type="geojson",this.refresh=uI(async e=>{await this.load();const{extent:t,timeExtent:r}=await this._connection.invoke("refresh",e);return this.sourceJSON.extent=t,r&&(this.sourceJSON.timeInfo.timeExtent=[r.start,r.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}})}load(e){const t=G(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t)).then(r=>H_.fromJSON(r))}queryFeaturesJSON(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t))}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(r=>({count:r.count,extent:er.fromJSON(r.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}_applyEdits(e){if(!this._connection)throw new Z("geojson-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField,r=[],n=[],i=[];if(e.addFeatures)for(const o of e.addFeatures)r.push(this._serializeFeature(o));if(e.deleteFeatures)for(const o of e.deleteFeatures)"objectId"in o&&o.objectId!=null?n.push(o.objectId):"attributes"in o&&o.attributes[t]!=null&&n.push(o.attributes[t]);if(e.updateFeatures)for(const o of e.updateFeatures)i.push(this._serializeFeature(o));return this._connection.invoke("applyEdits",{adds:r,updates:i,deletes:n}).then(({extent:o,timeExtent:s,featureEditResults:a})=>(this.sourceJSON.extent=o,s&&(this.sourceJSON.timeInfo.timeExtent=[s.start,s.end]),this._createEditsResult(a)))}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new Z("geojson-layer-source:edit-failure",t.description,{code:t.code}):null}}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e);return r?{geometry:r.toJSON(),attributes:t}:{attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return te(t)?null:t.type==="mesh"||t.type==="extent"?_a.fromExtent(t.extent):t}async _startWorker(e){this._connection=await Ree("GeoJSONSourceWorker",{strategy:oe("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:r,hasZ:n,geometryType:i,objectIdField:o,url:s,timeInfo:a,customParameters:l}=this.layer,c=this.layer.originOf("spatialReference")==="defaults",d={url:s,customParameters:l,fields:t&&t.map(f=>f.toJSON()),geometryType:CD.toJSON(i),hasZ:n,objectIdField:o,timeInfo:a?a.toJSON():null,spatialReference:c?null:r&&r.toJSON()},p=await this._connection.invoke("load",d,{signal:e});for(const f of p.warnings)qU.warn(f.message,{layer:this.layer,warning:f});p.featureErrors.length&&qU.warn(`Encountered ${p.featureErrors.length} validation errors while loading features`,p.featureErrors),this.sourceJSON=p.layerDefinition,this.capabilities=WFe(this.sourceJSON.hasZ,!0)}};u([h()],Qh.prototype,"capabilities",void 0),u([h()],Qh.prototype,"type",void 0),u([h({constructOnly:!0})],Qh.prototype,"layer",void 0),u([h()],Qh.prototype,"sourceJSON",void 0),Qh=u([B("esri.layers.graphics.sources.GeoJSONSource")],Qh);const KFe=Cne();let kt=class extends ane(nne(ine(_4(pne(x4(une(one(v4(s0))))))))){constructor(e){super(e),this.copyright=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new Qh({layer:this}),this.spatialReference=mt.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson",this.typeIdField=null,this.types=null}destroy(){var e;(e=this.source)==null||e.destroy()}load(e){return this.addResolvingPromise(this.source.load(e).then(()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),D2(this.renderer,this.fieldsIndex),jD(this.timeInfo,this.fieldsIndex)})),Promise.resolve(this)}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&this.geometryType==null}get parsedUrl(){return this.url?vn(this.url):null}set renderer(e){D2(e,this.fieldsIndex),this._set("renderer",e)}set url(e){if(!e)return void this._set("url",e);const t=vn(e);this._set("url",t.path),t.query&&(this.customParameters={...this.customParameters,...t.query})}async applyEdits(e,t){const r=await ae(()=>import("./editingSupport.9c687433.js"),[],import.meta.url);await this.load();const n=await r.applyEdits(this,this.source,e,t);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),n}on(e,t){return super.on(e,t)}createPopupTemplate(e){return $ne(this,e)}createQuery(){const e=new so,t=this.get("capabilities.data");e.returnGeometry=!0,t&&t.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:r,timeExtent:n}=this;return e.timeExtent=r!=null&&n!=null?n.offset(-r.value,r.unit):n||null,e}getFieldDomain(e,t){let r,n=!1;const i=t&&t.feature,o=i&&i.attributes,s=this.typeIdField&&o&&o[this.typeIdField];return s!=null&&this.types&&(n=this.types.some(a=>a.id==s&&(r=a.domains&&a.domains[e],r&&r.type==="inherited"&&(r=this._getLayerDomain(e)),!0))),n||r||(r=this._getLayerDomain(e)),r}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(so.from(e)||this.createQuery(),t)).then(r=>{if(r!=null&&r.features)for(const n of r.features)n.layer=n.sourceLayer=this;return r})}queryObjectIds(e,t){return this.load().then(()=>this.source.queryObjectIds(so.from(e)||this.createQuery(),t))}queryFeatureCount(e,t){return this.load().then(()=>this.source.queryFeatureCount(so.from(e)||this.createQuery(),t))}queryExtent(e,t){return this.load().then(()=>this.source.queryExtent(so.from(e)||this.createQuery(),t))}async hasDataChanged(){try{const{dataChanged:e,updates:t}=await this.source.refresh(this.customParameters);return G(t)&&this.read(t,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}_getLayerDomain(e){if(!this.fields)return null;let t=null;return this.fields.some(r=>(r.name===e&&(t=r.domain),!!t)),t}};u([h({readOnly:!0,json:{read:!1,write:!1}})],kt.prototype,"capabilities",null),u([h({type:String})],kt.prototype,"copyright",void 0),u([h({readOnly:!0})],kt.prototype,"createQueryVersion",null),u([h({readOnly:!0})],kt.prototype,"defaultPopupTemplate",null),u([h({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],kt.prototype,"definitionExpression",void 0),u([h({type:String})],kt.prototype,"displayField",void 0),u([h({type:Boolean})],kt.prototype,"editingEnabled",void 0),u([h(wQ)],kt.prototype,"elevationInfo",void 0),u([h(Sne)],kt.prototype,"featureReduction",void 0),u([h({type:[G_],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],kt.prototype,"fields",void 0),u([h(KFe.fieldsIndex)],kt.prototype,"fieldsIndex",void 0),u([h({type:er,json:{name:"extent"}})],kt.prototype,"fullExtent",void 0),u([h({type:["point","polygon","polyline","multipoint"],json:{read:{reader:CD.read}}})],kt.prototype,"geometryType",void 0),u([h({type:Boolean})],kt.prototype,"hasZ",void 0),u([h(_Q)],kt.prototype,"id",void 0),u([h({type:Boolean,readOnly:!0})],kt.prototype,"isTable",null),u([h(zI)],kt.prototype,"labelsVisible",void 0),u([h({type:[Z_],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:rF},write:!0}})],kt.prototype,"labelingInfo",void 0),u([h(bQ)],kt.prototype,"legendEnabled",void 0),u([h({type:["show","hide"]})],kt.prototype,"listMode",void 0),u([h({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],kt.prototype,"objectIdField",void 0),u([h(Ow)],kt.prototype,"opacity",void 0),u([h({type:["GeoJSON"]})],kt.prototype,"operationalLayerType",void 0),u([h({readOnly:!0})],kt.prototype,"parsedUrl",null),u([h(DI)],kt.prototype,"popupEnabled",void 0),u([h({type:J0,json:{name:"popupInfo",write:!0}})],kt.prototype,"popupTemplate",void 0),u([h({types:D_,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:mX}}}})],kt.prototype,"renderer",null),u([h(gQ)],kt.prototype,"screenSizePerspectiveEnabled",void 0),u([h({readOnly:!0})],kt.prototype,"source",void 0),u([h({type:mt})],kt.prototype,"spatialReference",void 0),u([h({type:[aM]})],kt.prototype,"templates",void 0),u([h()],kt.prototype,"title",void 0),u([h({json:{read:!1},readOnly:!0})],kt.prototype,"type",void 0),u([h({type:String,readOnly:!0})],kt.prototype,"typeIdField",void 0),u([h({type:[E4]})],kt.prototype,"types",void 0),u([h(vQ)],kt.prototype,"url",null),kt=u([B("esri.layers.GeoJSONLayer")],kt);const j4=kt,urt=Object.freeze(Object.defineProperty({__proto__:null,default:j4},Symbol.toStringTag,{value:"Module"})),JFe="#294f89",ZFe="#8db9d4",YFe={FC_BRAND_BLUE_DARK:JFe,FC_BRAND_BLUE_LIGHT:ZFe},{FC_BRAND_BLUE_LIGHT:drt,FC_BRAND_BLUE_DARK:WU}=YFe;function QFe(e){const t=new j4({url:"./Jurisdictional_Boundary.json",title:"Falls Church - Jurisdictional Boundary",id:"Jurisdictional_Boundary",opacity:.125,renderer:{type:"simple",symbol:{type:"simple-fill",style:"solid",color:WU,outline:{color:WU,width:1}}}});e.add(t)}class XFe{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function Xie(e,t){if(!e)throw t=t||"assert",console.log(new Error(t).stack),new XFe(t)}function prt(e,t,r,n){let i,o=(r[0]-e[0])/t[0],s=(n[0]-e[0])/t[0];o>s&&(i=o,o=s,s=i);let a=(r[1]-e[1])/t[1],l=(n[1]-e[1])/t[1];if(a>l&&(i=a,a=l,l=i),o>l||a>s)return!1;a>o&&(o=a),l<s&&(s=l);let c=(r[2]-e[2])/t[2],d=(n[2]-e[2])/t[2];return c>d&&(i=c,c=d,d=i),!(o>d||c>s)&&(d<s&&(s=d),!(s<0))}class eNe{constructor(t){this.client=t,this._cancelled=!1,this.size=0,this.duration=0}}class tNe{constructor(t){this.typeWorkerQuota=t,this.tasks=new Array,this.numWorkers=0,this.statistics=new rNe}}class rNe{constructor(){this.requests=0,this.size=0,this.duration=0,this.speed=0}}class nNe{constructor(t,r,n,i){this._workerFunc=t,this._callbackFunc=r,this._maxTotalNumWorkers=n,this._totalNumWorkers=0,this._clients=i.map(o=>new tNe(o))}hasQuota(t){const r=this._clients[t];return!!r&&(this._totalNumWorkers<this._maxTotalNumWorkers||r.numWorkers+r.tasks.length<r.typeWorkerQuota)}push(t){const r=this._clients[t.client];r&&(this._totalNumWorkers<this._maxTotalNumWorkers?(r.numWorkers++,this._totalNumWorkers++,this._workerFunc(t,(n,i)=>this._taskCallback(n,i))):r.tasks.push(t))}cancel(t){this._taskFinished(t),t._cancelled=!0}destroy(){this._clients.length=0}_taskFinished(t){const r=this._clients[t.client];this._totalNumWorkers--,r.numWorkers--,r.statistics.requests++,r.statistics.size+=t.size||0,r.statistics.duration+=t.duration||0,r.statistics.speed=r.statistics.duration>0?r.statistics.size/r.statistics.duration:0,Xie(r.numWorkers>=0),this._next()}_next(){for(const t of this._clients)if(t&&t.numWorkers<t.typeWorkerQuota&&this._processQueue(t))return;for(const t of this._clients)if(t&&this._processQueue(t))return}_processQueue(t){for(;t.tasks.length>0;)if(this._workerFunc(t.tasks.shift(),(r,n)=>this._taskCallback(r,n)))return t.numWorkers++,this._totalNumWorkers++,!0;return!1}_taskCallback(t,r){t._cancelled||(this._callbackFunc(t,r),this._taskFinished(t))}getStatsForType(t){const r=this._clients[t];return r?{quota:r.typeWorkerQuota,workers:r.numWorkers,queueSize:r.tasks.length,requestStats:r.statistics}:null}get test(){const t=this;return{set workerFunc(r){t._workerFunc=r}}}}let bP=class extends Ve{constructor(){super(...arguments),this._tasks=new Map,this._onLoadQueue=new Array,this._doneQueue=new Array,this.updating=!1}setup(e,t,r){this._loadQueue=new nNe((n,i)=>this._startLoading(n,i),(n,i)=>this._doneLoadingCB(n,i),e,t),r&&(this._frameTask=r.registerTask(Pt.STREAM_DATA_LOADER,this))}destroy(){this._frameTask=zo(this._frameTask),this._tasks.forEach(e=>i2(e.abortController)),this._loadQueue=ko(this._loadQueue),this._onLoadQueue=null,this._doneQueue=null,this._tasks=null}hasDownloadSlots(e){return this._loadQueue.hasQuota(e)}request(e,t,r,n={}){const i=pK();i.__signal=G(n)?n.signal:null;const o=this._createOrUpdateTask(e,t,r,n,i);return wa(n,()=>this._cancelRequest(o,i)),i.promise}_createTask(e,t,r,n,i,o){const s=new aNe(e,t,r,n,i);return this._updateTask(s,o),this._tasks.set(i,s),this._tasks.size===1&&this._set("updating",!0),this._loadQueue.push(s),s}_cancelRequest(e,t){VN(e.resolvers,t),t.reject(Zr()),e.resolvers.length===0&&(e.status===Xs.DOWNLOADING&&(e.status=Xs.CANCELLED,this._loadQueue.cancel(e),e.abortController.abort(),e.request=null,e.abortController=null),e.status=Xs.CANCELLED,this._tasks.delete(e.key),this._tasks.size===0&&this._set("updating",!1))}_updateTask(e,t){e.resolvers.push(t)}_createOrUpdateTask(e,t,r,n,i){const o=lNe(G(n)&&n.uid||e,t,r),s=this._tasks.get(o);return s?(this._updateTask(s,i),s):this._createTask(e,n,t,r,o,i)}_doneLoadingCB(e,t){this._loadQueue&&(Xie(e.status===Xs.DOWNLOADING),e.status=Xs.DOWNLOADED,this._frameTask?this._doneQueue.push({task:e,err:t}):this._doneLoading(e,t))}get running(){return this._doneQueue.length>0||this._onLoadQueue.length>0}runTask(e){for(;!e.done&&this._onLoadQueue.length>0;){const t=this._onLoadQueue.shift();Ar(t.task.abortController),t.task.abortController=null,t.callback(t.task),e.madeProgress()}for(;!e.done&&this._doneQueue.length>0;){const t=this._doneQueue.shift();t.task.status!==Xs.DOWNLOADED&&(t.err=t.err||Zr()),this._doneLoading(t.task,t.err),e.madeProgress()}}_doneLoading(e,t){if(t&&!Gi(t)&&e.numRetries>0)return--e.numRetries,void this._loadQueue.push(e);let r=e.result instanceof HTMLImageElement?0:e.resolvers.length;for(const n of e.resolvers)if(t)Gi(t)?n.reject(t):n.reject(new Z("stream-data-loader:request-error",`Failed to request resource at '${e.url}'. ${t}`,{url:e.url,error:t}));else{--r;const i=r<=0?e.result:X(e.result);n.resolve(i)}this._tasks.delete(e.key),this._tasks.size===0&&this._set("updating",!1)}_startLoading(e,t){if(e.status===Xs.CANCELLED)return!1;let r,n;switch(e.startTime=performance.now(),e.status=Xs.DOWNLOADING,e.docType){case"binary":n="array-buffer",r=0;break;case"image":n="image";break;case"image+type":n="array-buffer";break;default:n="json"}e.abortController=new AbortController;const i=e.abortController.signal;e.request=_r(e.url,{...e.options,responseType:n,timeout:r,signal:i});let o=()=>{};const s=l=>{e.duration=performance.now()-e.startTime,e.size=l instanceof ArrayBuffer?l.byteLength:e.size||0,e.result=l,this._frameTask?this._onLoadQueue.push({callback:t,task:e}):(e.abortController=null,t(e))},a=l=>{e.status===Xs.DOWNLOADING&&t(e,l),o()};return e.docType!=="image+type"?(e.request.then(l=>s(l.data),a),!0):(e.request.then(l=>{const c=l.data,d=oNe(c);if(n="image",e.size=c.byteLength,d==="unknown")return e.request=_r(e.url,{responseType:n,timeout:r,signal:i}),void e.request.then(y=>s(y.data),a);const p=new Blob([c],{type:d}),f=window.URL.createObjectURL(p);o=()=>window.URL.revokeObjectURL(f),e.request=_r(f,{responseType:n,timeout:r,signal:i}),e.request.then(y=>s(new sNe(y.data,d,o)),a)},a),!0)}get test(){return{loadQueue:this._loadQueue}}};u([h({readOnly:!0})],bP.prototype,"updating",void 0),bP=u([B("esri.views.3d.support.StreamDataLoader")],bP);const iNe={numRetries:0};function oNe(e){if(e.byteLength<2)return"unknown";const t=new Uint8Array(e,0,e.byteLength);return t[0]===137&&t[1]===80?"image/png":t[0]===71&&t[1]===73?"image/gif":t[0]===66&&t[1]===77?"image/bmp":t[0]===255&&t[1]===216?"image/jpeg":"unknown"}class sNe{constructor(t,r,n){this.image=t,this.type=r,this.release=n}get isOpaque(){return this.type==="image/jpeg"}}class aNe extends eNe{constructor(t,r,n,i,o){super(i),this.url=t,this.options=r,this.docType=n,this.key=o,this.result=null,this.status=Xs.QUEUED,this.request=null,this.abortController=null,this.resolvers=new Array,this.startTime=0,this.numRetries=iNe.numRetries}}function lNe(e,t,r){return`${e}:${t}:${r}`}var Xs;(function(e){e[e.QUEUED=1]="QUEUED",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.DOWNLOADED=3]="DOWNLOADED",e[e.CANCELLED=4]="CANCELLED"})(Xs||(Xs={}));var KU,JU,yc,ZU,YU,QU;(function(e){e[e.INNER=0]="INNER",e[e.OUTER=1]="OUTER"})(KU||(KU={})),function(e){e[e.REGULAR=0]="REGULAR",e[e.HAS_NORTH_POLE=1]="HAS_NORTH_POLE",e[e.HAS_SOUTH_POLE=2]="HAS_SOUTH_POLE",e[e.HAS_BOTH_POLES=3]="HAS_BOTH_POLES"}(JU||(JU={})),function(e){e[e.NORTH=0]="NORTH",e[e.NORTH_EAST=1]="NORTH_EAST",e[e.EAST=2]="EAST",e[e.SOUTH_EAST=3]="SOUTH_EAST",e[e.SOUTH=4]="SOUTH",e[e.SOUTH_WEST=5]="SOUTH_WEST",e[e.WEST=6]="WEST",e[e.NORTH_WEST=7]="NORTH_WEST"}(yc||(yc={})),function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON"}(ZU||(ZU={})),function(e){e[e.Color=0]="Color",e[e.ColorNoRasterImage=1]="ColorNoRasterImage",e[e.Highlight=2]="Highlight",e[e.Water=3]="Water",e[e.Occluded=4]="Occluded"}(YU||(YU={})),function(e){e[e.FADING=0]="FADING",e[e.IMMEDIATE=1]="IMMEDIATE",e[e.UNFADED=2]="UNFADED"}(QU||(QU={}));const cNe=12;class Kr{constructor(t){const r=Kr.checkUnsupported(t);if(G(r))throw r;const n=t;this.spatialReference=n.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=V5(this.spatialReference)||N0(this.spatialReference)||D0(this.spatialReference),this.origin=[n.origin.x,n.origin.y],this.pixelSize=n.size[0],this.dpi=n.dpi;const i=n.lods.reduce((c,d,p)=>(d.level<c.min&&(c.min=d.level,c.minIndex=p),c.max=Math.max(c.max,d.level),c),{min:1/0,minIndex:0,max:-1/0}),o=n.lods[i.minIndex],s=2**o.level;let a=o.resolution*s,l=o.scale*s;this.levels=new Array(i.max+1);for(let c=0;c<this.levels.length;c++)this.levels[c]={resolution:a,scale:l,tileSize:[a*n.size[0],a*n.size[1]]},a/=2,l/=2}clone(){return new Kr(this.toTileInfo())}toTileInfo(){return new Nw({dpi:this.dpi,origin:{x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference},size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((t,r)=>({level:r,scale:t.scale,resolution:t.resolution}))})}getExtent(t,r,n,i){const o=this.levels[t],s=o.tileSize[0],a=o.tileSize[1];i[0]=this.origin[0]+n*s,i[2]=this.origin[0]+(n+1)*s,i[3]=this.origin[1]-r*a,i[1]=this.origin[1]-(r+1)*a}convertExtentToRadians(t,r){this._isWebMercator?(r[0]=F6(t[0]),r[1]=N6(t[1]),r[2]=F6(t[2]),r[3]=N6(t[3])):this._isGCS&&(r[0]=gb(t[0]),r[1]=gb(t[1]),r[2]=gb(t[2]),r[3]=gb(t[3]))}getExtentGeometry(t,r,n,i=new er){return this.getExtent(t,r,n,Fl),i.spatialReference=this.spatialReference,i.xmin=Fl[0],i.ymin=Fl[1],i.xmax=Fl[2],i.ymax=Fl[3],i.zmin=void 0,i.zmax=void 0,i}ensureMaxLod(t){if(t==null)return!1;let r=!1;for(;this.levels.length<=t;){const n=this.levels[this.levels.length-1],i=n.resolution/2;this.levels.push({resolution:i,scale:n.scale/2,tileSize:[i*this.pixelSize,i*this.pixelSize]}),r=!0}return r}capMaxLod(t){this.levels.length>t+1&&(this.levels.length=t+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(t){return this.levels[0].scale/2**t}levelAtScale(t){const r=this.levels[0].scale;return t>=r?0:Math.log(r/t)*Math.LOG2E}resolutionAtLevel(t){return this.levels[0].resolution/2**t}compatibleWith(t){if(!(t instanceof Kr)){if(Kr.checkUnsupported(t))return!1;t=new Kr(t)}if(!t.spatialReference.equals(this.spatialReference)||t.pixelSize!==this.pixelSize)return!1;const r=Math.min(this.levels.length,t.levels.length)-1,n=this.levels[r].resolution;let i=.5*n;return!Pg(t.origin[0],this.origin[0],i)||!Pg(t.origin[1],this.origin[1],i)?!1:(i=.5*n/2**r/this.pixelSize*cNe,Pg(n,t.levels[r].resolution,i))}rootTilesInExtent(t,r=null,n=1/0){const i=new Array,o=this.levels[0].tileSize;if(te(t)||o[0]===0||o[1]===0)return i;Kr.computeRowColExtent(t,o,this.origin,Fl);let s=Fl[1],a=Fl[3],l=Fl[0],c=Fl[2];const d=c-l,p=a-s;if(d*p>n){const f=Math.floor(Math.sqrt(n));p>f&&(s=s+Math.floor(.5*p)-Math.floor(.5*f),a=s+f),d>f&&(l=l+Math.floor(.5*d)-Math.floor(.5*f),c=l+f)}for(let f=s;f<a;f++)for(let y=l;y<c;y++)i.push([0,f,y]);return G(r)&&(r[0]=this.origin[0]+l*o[0],r[1]=this.origin[1]-a*o[1],r[2]=this.origin[0]+c*o[0],r[3]=this.origin[1]-s*o[1]),i}static computeRowColExtent(t,r,n,i){const o=.001*(t[2]-t[0]+(t[3]-t[1]));i[0]=Math.max(0,Math.floor((t[0]+o-n[0])/r[0])),i[2]=Math.max(0,Math.ceil((t[2]-o-n[0])/r[0])),i[1]=Math.max(0,Math.floor((n[1]-t[3]+o)/r[1])),i[3]=Math.max(0,Math.ceil((n[1]-t[1]-o)/r[1]))}static isPowerOfTwo(t){const r=t.lods,n=r[0].resolution*2**r[0].level;return!r.some(i=>!tye(i.resolution,n/2**i.level))}static hasGapInLevels(t){const r=t.lods.map(n=>n.level);r.sort((n,i)=>n-i);for(let n=1;n<r.length;n++)if(r[n]!==r[0]+n)return!0;return!1}static tileSizeSupported(t){const r=t.size[1];return r===t.size[0]&&(r&r-1)==0&&r>=128&&r<=512}static hasOriginPerLODs(t){const r=t.origin;return t.lods.some(n=>n.origin!=null&&(n.origin[0]!==r.x||n.origin[1]!==r.y))}static getMissingTileInfoError(){return new Z("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(t){return te(t)?B4():t.lods.length<1?new Z("tilingscheme:generic","Tiling scheme must have at least one level"):Kr.isPowerOfTwo(t)?Kr.hasGapInLevels(t)?new Z("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):Kr.tileSizeSupported(t)?Kr.hasOriginPerLODs(t)?new Z("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new Z("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new Z("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(t,r){const n=t[2]-t[0],i=t[3]-t[1],o=W0(r),s=1.2*Math.max(n,i),a=256,l=96,c=.0254,d=new Kr(new Nw({size:[a,a],origin:{x:t[0]-.5*(s-n),y:t[3]+.5*(s-i)},lods:[{level:0,resolution:s/a,scale:1/(a/l*c/(s*o))}],spatialReference:r}));return d.ensureMaxLod(20),d}static makeWebMercatorAuxiliarySphere(t){const r=new Kr(Kr.WebMercatorAuxiliarySphereTileInfo);return r.ensureMaxLod(t),r}static makeGCSWithTileSize(t,r=256,n=16){const i=256/r,o=new Kr(new Nw({size:[r,r],origin:{x:-180,y:90,spatialReference:t},spatialReference:t,lods:[{level:0,resolution:.703125*i,scale:295497598570834e-6*i}]}));return o.ensureMaxLod(n),o}get test(){return{isWebMercator:this._isWebMercator,isGCS:this._isGCS}}}function B4(){return new Z("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}Kr.WebMercatorAuxiliarySphereTileInfo=new Nw({size:[256,256],origin:{x:-20037508342787e-6,y:20037508342787e-6,spatialReference:mt.WebMercator},spatialReference:mt.WebMercator,lods:[{level:0,resolution:156543.03392800014,scale:591657527591555e-6}]}),Kr.WebMercatorAuxiliarySphere=Kr.makeWebMercatorAuxiliarySphere(19);const Fl=Sa(),XU=64;rye(CL/10);const uNe=Sa();Kr.WebMercatorAuxiliarySphere.getExtent(0,0,0,uNe);Sa([-180,-90,180,90]);const Ym=Qo(),dNe=Qo(),Hc=Qo(),qc=Qo();function pNe(e,t,r=0){const n=e.extent;if(te(n))return!1;if(r===0)return _be(n,t);const i=Math.min(n[2]-n[0],n[3]-n[1]);return Sbe(n,t,r*i)}function GS(e,t,r,n){E2(Ym,r),Ym[n]=t[n];const i=Iw(Ym,Ym,t),o=Iw(dNe,e,t),s=I2(o,i),a=I2(i,i);let l;l=s<=0?t:a<=s?r:PJ(Ym,t,vD(i,i,s/a));const c=Iw(Ym,e,l);return Math.PI/2-Math.atan(c[2]/Math.sqrt(c[0]*c[0]+c[1]*c[1]))}function hNe(e,t,r){const n=e.extent;if(te(n))return 0;Hc[0]=n[0],Hc[1]=n[1],Hc[2]=r,qc[0]=n[2],qc[1]=n[3],qc[2]=r;let i=1/0,o=1/0;return t[0]<Hc[0]?i=GS(t,Hc,qc,0):t[0]>qc[0]&&(i=GS(t,qc,Hc,0)),t[1]<Hc[1]?o=GS(t,Hc,qc,1):t[1]>qc[1]&&(o=GS(t,qc,Hc,1)),Math.min(i,o)}function fNe(e,t,r){if(te(e))return B4();if(e.spatialReference.isGeographic&&!V5(e.spatialReference))return new Z("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const n=Kr.checkUnsupported(e);if(G(n))return n;if(te(r))return new Z("tilingscheme:extent-not-exist","The layer does not provide a layer extent.");const i=mNe(e,r);if(i)return i;const o=e.spatialReference;return G(t)&&!(o.equals(t)||t.isWGS84&&o.isWebMercator)?new Z("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene"):null}function mNe(e,t){const r=e.lods,n=r[0].resolution*2**r[0].level,i=[n*e.size[0],n*e.size[1]],o=[e.origin.x,e.origin.y],s=vbe(t),a=Sa();Kr.computeRowColExtent(s,i,o,a);const l=(a[2]-a[0])*(a[3]-a[1]);if(l>XU){const c=r[0].scale*2**r[0].level;let d=Math.max((s[3]-s[1])/e.size[1],(s[2]-s[0])/e.size[0])*c/n;const p=Math.floor(Math.log(d)/Math.log(10));return d=Math.ceil(d/10**p)*10**p,new Z("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(c).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+d.toLocaleString()+".",{level0Scale:c,suggestedLevel0Scale:d,requiredNumRootTiles:l,allowedNumRootTiles:XU})}return null}const yNe=Object.freeze(Object.defineProperty({__proto__:null,isInsideExtent:pNe,tiltToExtentEdge:hNe,checkIfTileInfoSupportedForViewSR:fNe},Symbol.toStringTag,{value:"Module"}));function gNe(){return!0}function vNe(){return 0}function bNe(e,t){if(te(e))return B4();const r=e.lods.length-1,n=e.spatialReference,i=V5(n)||N0(n)||D0(n);if(n.isWebMercator){if(!Kr.makeWebMercatorAuxiliarySphere(r).compatibleWith(e))return new Z("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!i)return new Z("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!Kr.makeGCSWithTileSize(e.spatialReference,e.size[0],r).compatibleWith(e))return e.spatialReference.isWGS84?new Z("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new Z("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return G(t)&&!e.spatialReference.equals(t)?new Z("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene"):void 0}const wNe=Object.freeze(Object.defineProperty({__proto__:null,isInsideExtent:gNe,tiltToExtentEdge:vNe,checkIfTileInfoSupportedForViewSR:bNe},Symbol.toStringTag,{value:"Module"})),_Ne={[Bu.Global]:wNe,[Bu.Local]:yNe};function wF(e,t,r,n){return _Ne[n].checkIfTileInfoSupportedForViewSR(e,r,t)}function xNe(e,t,r){const n=Ife(e);if(G(n)){if(!We.isCollection(n))return{tileInfo:n.tileInfo,fullExtent:n.fullExtent};{const i=n.find(o=>wF(o.tileInfo,o.fullExtent,t,r)==null);if(i)return{tileInfo:i.tileInfo,fullExtent:i.fullExtent}}}return{tileInfo:null,fullExtent:null}}yc.NORTH,yc.EAST,yc.SOUTH,yc.WEST;yc.NORTH_EAST,yc.SOUTH_EAST,yc.SOUTH_WEST,yc.NORTH_WEST;function SNe(e,t){return e!=null&&(t==null||(t===Bu.Local?!e.isGeographic||e.isWGS84||e.wkid===la.CGCS2000:e.isWebMercator||e.isWGS84||e.wkid===la.CGCS2000||e.wkid===la.GCSMARS2000||e.wkid===la.GCSMARS2000_SPHERE||e.wkid===la.GCSMOON2000))}async function CNe(e,t={}){await ENe(e,t),Ar(t)}async function $Ne(e,t={}){const{basemap:r,view:n}=e;if(Ar(t),"spatialReferenceLocked"in n&&!n.spatialReferenceLocked||(await r.load(t),Ar(t),r.baseLayers.length===0))return;const i=r.baseLayers.getItemAt(0);if(!Efe(i))return;if(r.spatialReference){if(n.spatialReference.equals(r.spatialReference))return;e7()}await i.load(t),Ar(t);const o=(("supportedSpatialReferences"in i?i.supportedSpatialReferences:null)||["tileInfo"in i?i.tileInfo.spatialReference:null]).filter(Boolean);o.length!==0&&o.every(s=>!n.spatialReference.equals(s))&&e7()}function e7(){throw new Z("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}async function ENe(e,t){const{basemap:r,view:n}=e;if(await r.load(t),r.baseLayers.length===0)return;const i=r.baseLayers.concat(r.referenceLayers).toArray().filter(s=>!G6(s)).map(s=>new Z("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:s,operationalLayerType:s.operationalLayerType||"unknown"}));if(i.length)throw i[0];const o=r.baseLayers.getItemAt(0);if(G6(o)){try{await o.load(t)}catch(s){const a="basemap-compatibility:unknown-error",l="Unknown basemap compatibility error",{name:c=a,message:d=l,details:p}=s;throw new Z(c,d,p)}INe(o,n)}}function INe(e,t){const r=t.state.viewingMode;if(!r)return;let n,i;if((e==null?void 0:e.type)==="wmts"){const l=xNe(e,t.spatialReference,r);if(te(l.tileInfo))throw new Z("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");n=l.tileInfo,i=l.fullExtent}else n=e.tileInfo,i=e.fullExtent;if(te(n))return;if(!SNe(n.spatialReference,r))throw new Z(`basemapgalleryitem:spatial-reference-unsupported-${vU(r)}`,`Basemap spatial reference is unsupported in ${vU(r)} mode`);const o=n.spatialReference.isGeographic,s=(e==null?void 0:e.type)==="vector-tile"?n.getOrCreateCompatible(256,o?1:2):null;if(r===Bu.Global){let l=wF(n,i,null,r);if(l&&(e==null?void 0:e.type)==="vector-tile"&&G(i)&&s&&!wF(s,i,null,r)&&(l=null),l){const c=n.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new Z(`basemapgalleryitem:tiling-scheme-unsupported-${c}-global`,"Basemap tiling scheme is unsupported in global mode",{error:l})}}else if(Kr.checkUnsupported(n))throw new Z("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const a=t.get("basemapTerrain.tilingScheme");if(a&&!a.compatibleWith(n)&&((e==null?void 0:e.type)!=="vector-tile"||!s||!a.compatibleWith(s)))throw new Z("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let ec=class extends Pc(Ve){constructor(e){super(e),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const e=()=>this.refresh();this.handles.add([fe(()=>{var t;return(t=this.basemap)==null?void 0:t.loadStatus},e),fe(()=>this.compatibilityFunction,e),fe(()=>{var t;return this.view&&"basemapTerrain"in this.view&&((t=this.view.basemapTerrain)==null?void 0:t.tilingScheme)},e),fe(()=>{var t;return(t=this.view)==null?void 0:t.ready},e),fe(()=>{var t;return(t=this.view)==null?void 0:t.spatialReference},e)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return pye(this.view,this.basemap)}set basemap(e){const t=this._get("basemap");t&&t.cancelLoad(),e&&e.load().catch(()=>{}),this._set("basemap",e)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){var n;this._cancelRefresh(),this._set("state","loading");const e=(n=this.basemap)==null?void 0:n.loadStatus;if(e!=="loaded"&&e!=="failed")return;if(!this.compatibilityFunction)return void(e==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const t=new AbortController,{signal:r}=t;this.compatibilityFunction(this,{signal:r}).then(()=>I_(()=>!this._spatialReferenceTask.updating,r)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(i=>{Gi(i)||(this._set("state","error"),this._set("error",i))}),this._refreshController=t}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};u([h({readOnly:!0})],ec.prototype,"_spatialReferenceTask",null),u([h()],ec.prototype,"basemap",null),u([h()],ec.prototype,"compatibilityFunction",void 0),u([h({readOnly:!0})],ec.prototype,"error",void 0),u([h({readOnly:!0})],ec.prototype,"spatialReference",null),u([h({readOnly:!0})],ec.prototype,"state",void 0),u([h()],ec.prototype,"view",void 0),ec=u([B("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],ec);const eoe=ec,toe=We.ofType(wc);let sw=class extends Ve{constructor(e){super(e),this.basemaps=new toe}get state(){return"ready"}refresh(){}};u([h({type:toe})],sw.prototype,"basemaps",void 0),u([h({readOnly:!0})],sw.prototype,"state",null),sw=u([B("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],sw);const roe=sw,noe=We.ofType(wc),ioe="esri.widgets.BasemapGallery.support.PortalBasemapsSource",MNe=Ce.getLogger(ioe);let pu=class extends Os.LoadableMixin(E_(roe)){constructor(e){super(e),this._handles=new bn,this.basemaps=new noe,this.filterFunction=null,this.portal=di.getDefault(),this.query=null,this.updateBasemapsCallback=null}initialize(){this._handles.add([fe(()=>{var e,t;return[this.filterFunction,this.loadStatus,(e=this.portal)==null?void 0:e.basemapGalleryGroupQuery,(t=this.portal)==null?void 0:t.user,this.query,this.updateBasemapsCallback]},()=>this.refresh(),At)])}destroy(){this._handles.destroy(),this._handles=null,this.filterFunction=null,this.portal=null}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(e){return this.addResolvingPromise(this.portal.load(e)),this.notifyChange("state"),Promise.resolve(this)}async refresh(){if(this.state!=="ready")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const e=this.portal,t=new AbortController;this._lastPortalBasemapFetchController=t,this.notifyChange("state");try{const r=await e.fetchBasemaps(this._toQueryString(this.query),t);this._updateBasemaps(r)}catch(r){if(Gi(r))throw r;MNe.warn(new Z("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:r})),this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(e){return e&&typeof e!="string"?Object.keys(e).map(t=>`${t}:${e[t]}`).join(" AND "):e}_updateBasemaps(e=[]){let t=this.filterFunction?e.filter(this.filterFunction):e;t=this.updateBasemapsCallback?this.updateBasemapsCallback(t):t,this.basemaps.removeAll(),this.basemaps.addMany(t)}};u([h({readOnly:!0,type:noe})],pu.prototype,"basemaps",void 0),u([h()],pu.prototype,"filterFunction",void 0),u([h({type:di})],pu.prototype,"portal",void 0),u([h()],pu.prototype,"query",void 0),u([h({readOnly:!0})],pu.prototype,"state",null),u([h()],pu.prototype,"updateBasemapsCallback",void 0),pu=u([B(ioe)],pu);const $$=pu,ooe=We.ofType(eoe);function TNe(e){return e&&e.declaredClass==="esri.portal.Portal"}function kNe(e){return e&&!(e instanceof $$)&&(!!e.portal||!!e.query)}function PNe(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}let rl=class extends Pc(Os){constructor(e){super(e),this._loadingProjectionEngine=!1,this.items=new ooe,this.source=new $$,this.view=null}initialize(){const e=()=>this._recreateItems();this.handles.add([fe(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),Vo(()=>{var t;return(t=this.source)==null?void 0:t.basemaps},"change",e,{onListenerAdd:e})])}get activeBasemap(){var e,t,r;return(r=(t=(e=this.view)==null?void 0:e.map)==null?void 0:t.basemap)!=null?r:null}set activeBasemap(e){var n,i;if(!this.view.map)return;const t=typeof e=="string"?wc.fromId(e):e;if(!t||!this.view.ready)return this.view.map.basemap=t,void this._clearOverride("activeBasemap");const r=t.spatialReference||((i=(n=this.items)==null?void 0:n.find(o=>this.basemapEquals(t,o.basemap)))==null?void 0:i.spatialReference);if(r&&"spatialReferenceLocked"in this.view&&!this.view.spatialReferenceLocked){const o=this.view.spatialReference;if(G(r)&&!Ci(o,r)&&!Vu(this.view.spatialReference,r)&&!Hp())return this._override("activeBasemap",t),this._loadingProjectionEngine=!0,void qp().then(()=>{this._get("activeBasemap")===e&&(this.view.map.basemap=e,this.view.spatialReference=r,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});this.view.map.basemap=t,this._clearOverride("activeBasemap"),G(r)&&!Ci(this.view.spatialReference,r)&&(this.view.spatialReference=r)}else this.view.map.basemap=t,this._clearOverride("activeBasemap")}get compatibilityFunction(){var e;return((e=this.view)==null?void 0:e.type)==="3d"?CNe:$Ne}set compatibilityFunction(e){G(e)?this._override("compatibilityFunction",e):this._clearOverride("compatibilityFunction")}castSource(e){return Array.isArray(e)||We.isCollection(e)?new roe({basemaps:e}):TNe(e)?new $$({portal:e}):kNe(e)?new $$(e):PNe(e)?e:null}get state(){var e;return((e=this.view)==null?void 0:e.ready)&&this.source?this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(e,t){return dye(e,t)}refresh(){this._recreateItems()}load(e){return this.addResolvingPromise(Os.isLoadable(this.source)?this.source.load(e):null),Promise.resolve(this)}_recreateItems(){var n;const e=(n=this.source)==null?void 0:n.basemaps,{view:t,compatibilityFunction:r}=this;this.items.removeAll().forEach(i=>i.destroy()),e&&this.items.addMany(e.map(i=>new eoe({basemap:i,compatibilityFunction:r,view:t})))}_updateItems(){for(const e of this.items)e.compatibilityFunction=this.compatibilityFunction,e.view=this.view}};u([h()],rl.prototype,"_loadingProjectionEngine",void 0),u([h()],rl.prototype,"activeBasemap",null),u([h()],rl.prototype,"compatibilityFunction",null),u([h({readOnly:!0,type:ooe})],rl.prototype,"items",void 0),u([h()],rl.prototype,"source",void 0),u([zt("source")],rl.prototype,"castSource",null),u([h({readOnly:!0})],rl.prototype,"state",null),u([h()],rl.prototype,"view",void 0),rl=u([B("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],rl);const ONe=rl,ls={base:"esri-basemap-gallery esri-widget esri-widget--panel-height-only",sourceLoading:"esri-basemap-gallery--source-loading",loader:"esri-basemap-gallery__loader",item:"esri-basemap-gallery__item",itemContainer:"esri-basemap-gallery__item-container",itemTitle:"esri-basemap-gallery__item-title",itemThumbnail:"esri-basemap-gallery__item-thumbnail",selectedItem:"esri-basemap-gallery__item--selected",itemError:"esri-basemap-gallery__item--error",emptyMessage:"esri-widget__content--empty",widgetIcon:"esri-icon-basemap",disabled:"esri-disabled",loaderAnimation:"esri-widget__loader-animation"};let ys=class extends En{constructor(e,t){super(e,t),this._handles=new bn,this.activeBasemap=null,this.disabled=!1,this.headingLevel=2,this.iconClass=ls.widgetIcon,this.label=void 0,this.messages=null,this.source=null,this.view=null,this.viewModel=new ONe}initialize(){const e=this._handles;this.own([Vo(()=>this.viewModel.items,"change",t=>{const r="basemap-gallery-item-changes",{added:n,moved:i}=t;e.remove(r),e.add([...n,...i].map(o=>fe(()=>o.state,()=>this.scheduleRender())),r),this.scheduleRender()}),e,qi(()=>this.source,()=>this.viewModel.load(),{initial:!0,once:!0})])}destroy(){this._handles.destroy()}loadDependencies(){return ae(()=>import("./calcite-scrim.88abbd22.js"),[],import.meta.url)}render(){const e=this.get("source.state")==="loading",t=this.disabled||this.get("viewModel.state")==="disabled",r=this.get("viewModel.items").toArray().map(this._renderBasemapGalleryItem,this),n={[ls.sourceLoading]:e,[ls.disabled]:t},i=e?V("div",{class:ls.loader,key:"esri-basemap-gallery__loader"}):null,o=e?null:r.length>0?V("ul",{class:ls.itemContainer,key:"esri-basemap-gallery__item-container",role:"menu"},r):V("div",{class:ls.emptyMessage,key:"esri-basemap-gallery__empty-message"},V(Op,{level:this.headingLevel},this.messages.noBasemaps));return V("div",{class:this.classes(ls.base,n)},i,o)}_handleClick(e){const t=e.currentTarget["data-item"];t.state==="ready"&&(this.viewModel.activeBasemap=t.basemap)}_renderBasemapGalleryItem(e){const t=e.get("basemap.thumbnailUrl")||Nt("esri/themes/base/images/basemap-toggle-64.svg"),r=e.get("basemap.title"),n=e.get("basemap.portalItem.snippet"),i=e.get("error.message")||n||r,{viewModel:o}=this,s=!this.disabled&&o.state!=="disabled"&&e.state==="ready"?0:-1,a=o.basemapEquals(e.basemap,this.activeBasemap),l=o.state==="loading",c={[ls.selectedItem]:a,[ls.itemError]:e.state==="error"};return V("li",{"aria-selected":a.toString(),bind:this,class:this.classes(ls.item,c),"data-item":e,onkeydown:this._handleClick,onclick:this._handleClick,role:"menuitem",tabIndex:s,title:i},V("img",{alt:"",class:ls.itemThumbnail,src:t}),V("div",{class:ls.itemTitle},r),e.state==="loading"||a&&l?V("calcite-scrim",null,V("span",{"aria-hidden":"true",role:"presentation",class:ls.loaderAnimation})):null)}};u([Oe("viewModel.activeBasemap")],ys.prototype,"activeBasemap",void 0),u([h()],ys.prototype,"disabled",void 0),u([h()],ys.prototype,"headingLevel",void 0),u([h()],ys.prototype,"iconClass",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ys.prototype,"label",void 0),u([h(),sn("esri/widgets/BasemapGallery/t9n/BasemapGallery")],ys.prototype,"messages",void 0),u([Oe("viewModel.source")],ys.prototype,"source",void 0),u([Oe("viewModel.view")],ys.prototype,"view",void 0),u([h()],ys.prototype,"viewModel",void 0),u([Ni()],ys.prototype,"_handleClick",null),ys=u([B("esri.widgets.BasemapGallery")],ys);const LNe=ys;let hu=class extends T4(Ku.EventedAccessor){constructor(e){super(e),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){return this.get("view.ready")?this._goingHomeController?"going-home":"ready":"disabled"}set view(e){this._initialViewpoint=null,this._set("view",e),e&&e.when().then(()=>{this.view===e&&(this._initialViewpoint=e.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(e){this._set("viewpoint",e)}async go(){if(!this.get("view.ready"))throw new Z("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const e=new AbortController;this._goingHomeController=e;try{await this.view.when(),await this.callGoTo({target:this.viewpoint,options:{signal:e.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:e}=this;e&&e.abort(),this._goingHomeController=null}};u([h()],hu.prototype,"_goingHomeController",void 0),u([h({readOnly:!0})],hu.prototype,"state",null),u([h()],hu.prototype,"view",null),u([h({type:Cl})],hu.prototype,"viewpoint",null),u([h()],hu.prototype,"go",null),u([h()],hu.prototype,"cancelGo",null),hu=u([B("esri.widgets.Home.HomeViewModel")],hu);const soe=hu,mh={base:"esri-home esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",homeIcon:"esri-icon esri-icon-home",loadingIcon:"esri-icon-loading-indicator",rotatingIcon:"esri-rotating",widgetIcon:"esri-icon-home",disabled:"esri-disabled"};let eo=class extends En{constructor(e,t){super(e,t),this.goToOverride=null,this.iconClass=mh.widgetIcon,this.label=void 0,this.messages=null,this.messagesCommon=null,this.view=null,this.viewModel=new soe,this.viewpoint=null}get homeTitle(){var n;const e=(n=this.viewModel)==null?void 0:n.state,{messagesCommon:t,messages:r}=this;return e==="going-home"?t.cancel:r.title}cancelGo(){return null}go(){return null}render(){var n;const e=(n=this.viewModel)==null?void 0:n.state,{homeTitle:t}=this,r={[mh.disabled]:e==="disabled"};return V("div",{bind:this,class:this.classes(mh.base,r),role:"button",tabIndex:0,onclick:this._go,onkeydown:this._go,"aria-label":t,title:t},this.renderIcon(),this.renderText())}renderIcon(){var r;const e=(r=this.viewModel)==null?void 0:r.state,t={[mh.loadingIcon]:e==="going-home",[mh.rotatingIcon]:e==="going-home"};return V("span",{"aria-hidden":"true",class:this.classes(mh.homeIcon,t)})}renderText(){const{messages:e}=this;return V("span",{class:mh.text},e.button)}_go(){const{viewModel:e}=this;e.state==="going-home"?e.cancelGo():e.go()}};u([Oe("viewModel.goToOverride")],eo.prototype,"goToOverride",void 0),u([h({readOnly:!0})],eo.prototype,"homeTitle",null),u([h()],eo.prototype,"iconClass",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],eo.prototype,"label",void 0),u([h(),sn("esri/widgets/Home/t9n/Home")],eo.prototype,"messages",void 0),u([h(),sn("esri/t9n/common")],eo.prototype,"messagesCommon",void 0),u([Oe("viewModel.view")],eo.prototype,"view",void 0),u([h({type:soe}),ote("go")],eo.prototype,"viewModel",void 0),u([Oe("viewModel.viewpoint")],eo.prototype,"viewpoint",void 0),u([Oe("viewModel.cancelGo")],eo.prototype,"cancelGo",null),u([Oe("viewModel.go")],eo.prototype,"go",null),u([Ni()],eo.prototype,"_go",null),eo=u([B("esri.widgets.Home")],eo);const RNe=eo;let qd=class extends Ve{constructor(e){super(e),this._viewpointHandle=null,this._handles=new bn,this.group=null}initialize(){this._handles.add(Vo(()=>{var e;return(e=this.view)==null?void 0:e.ui},"expand",e=>{const{target:t}=e;t&&t!==this&&t.expanded&&t.group&&t.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null,this._handles.destroy(),this._handles=null}set autoCollapse(e){this._set("autoCollapse",e),this._watchViewpoint()}set expanded(e){const t=!!e;this._set("expanded",t);const r=this.get("view.ui");r&&r.emit("expand",{target:this}),this._viewpointHandleChange(t)}get state(){return this.get("view.ready")?"ready":"disabled"}set view(e){this._get("view")!==e&&(this._set("view",e),e&&qi(()=>e.ready,()=>{this.view===e&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(e){this._viewpointHandle&&(e?qi(()=>this.view.stationary,()=>this._viewpointHandle.resume(),{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const e="viewpoint";this._handles.remove(e),this._viewpointHandle=null;const{autoCollapse:t,view:r}=this;if(r&&t){const n=sye(()=>r.type==="3d"?r.camera:r.viewpoint,()=>this._collapse());this._handles.add(n,e),this._viewpointHandle=n}}_collapse(){this.expanded=!1}};u([h({value:!1})],qd.prototype,"autoCollapse",null),u([h({value:!1})],qd.prototype,"expanded",null),u([h()],qd.prototype,"group",void 0),u([h({readOnly:!0})],qd.prototype,"state",null),u([h({value:null})],qd.prototype,"view",null),qd=u([B("esri.widgets.Expand.ExpandViewModel")],qd);const aoe=qd,Mn={base:"esri-expand esri-widget",modeAuto:"esri-expand--auto",modeDrawer:"esri-expand--drawer",modeFloating:"esri-expand--floating",container:"esri-expand__container",containerExpanded:"esri-expand__container--expanded",panel:"esri-expand__panel",button:"esri-widget--button",text:"esri-icon-font-fallback-text",icon:"esri-collapse__icon",iconExpanded:"esri-expand__icon--expanded",iconNumber:"esri-expand__icon-number",iconNumberExpanded:"esri-expand__icon-number--expanded",expandIcon:"esri-icon-expand",collapseIcon:"esri-icon-collapse",content:"esri-expand__content",contentExpanded:"esri-expand__content--expanded",expandMask:"esri-expand__mask",expandMaskExpanded:"esri-expand__mask--expanded"};let pn=class extends En{constructor(e,t){super(e,t),this.autoCollapse=null,this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expanded=null,this.expandTooltip="",this.group=null,this.iconNumber=0,this.label=void 0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.view=null,this.viewModel=new aoe,this._handleKeyDown=r=>{const{closeOnEsc:n,_toggleButtonEl:i,expanded:o}=this;!o||!n||r.target===i||r.key!=="Escape"||(typeof n=="function"?n(r):n)&&(this.expanded=!1,i==null||i.focus())}}get contentId(){return`${this.id}_controls_content`}get expandTitle(){const{expanded:e,messagesCommon:t,collapseTooltip:r,expandTooltip:n}=this;return e?r||t.collapse:n||t.expand}get collapseIconClass(){return Mn.collapseIcon}set collapseIconClass(e){e?this._override("collapseIconClass",e):this._clearOverride("collapseIconClass")}get expandIconClass(){return pE(this.content)?this.content.iconClass:Mn.expandIcon}set expandIconClass(e){e?this._override("expandIconClass",e):this._clearOverride("expandIconClass")}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}toggle(){this.viewModel.expanded=!this.viewModel.expanded}render(){const{mode:e}=this,t={[Mn.modeAuto]:e==="auto",[Mn.modeDrawer]:e==="drawer",[Mn.modeFloating]:e==="floating"};return V("div",{class:this.classes(Mn.base,t),onkeydown:this._handleKeyDown},this.renderMask(),this.renderContainer())}renderContainer(){const{expanded:e}=this,t={[Mn.containerExpanded]:e};return V("div",{class:this.classes(Mn.container,t)},this.renderPanel(),this.renderContent())}renderMask(){const{expanded:e}=this,t={[Mn.expandMaskExpanded]:e};return V("div",{bind:this,onclick:this._toggle,class:this.classes(Mn.expandMask,t)})}renderBadgeNumber(){const{expanded:e,iconNumber:t}=this;return t&&!e?V("span",{key:"expand__icon-number",class:Mn.iconNumber},t):null}renderPanelNumber(){const{iconNumber:e,expanded:t}=this;return e&&t?V("span",{key:"expand__expand-icon-number",class:this.classes(Mn.iconNumber,Mn.iconNumberExpanded)},e):null}renderIcon(){const{collapseIconClass:e,expandIconClass:t,expanded:r}=this,n={[Mn.iconExpanded]:r,[e]:r,[t]:!r};return e===t&&(n[e]=!0),V("span",{"aria-hidden":"true",class:this.classes(Mn.icon,n)})}renderTitle(){return V("span",{class:Mn.text},this.expandTitle)}renderExpandButton(){const{expanded:e,expandTitle:t,contentId:r}=this;return V("div",{afterCreate:this._storeToggleButtonEl,"aria-controls":r,"aria-expanded":e?"true":"false",bind:this,class:Mn.button,onclick:this._toggle,onkeydown:this._toggle,role:"button",tabindex:"0",title:t},this.renderBadgeNumber(),this.renderIcon(),this.renderTitle())}renderPanel(){return V("div",{class:Mn.panel},this.renderExpandButton(),this.renderPanelNumber())}renderContent(){const{expanded:e,contentId:t,content:r}=this,n={[Mn.contentExpanded]:e},i={id:t,role:"region",class:this.classes(Mn.content,n)};return typeof r=="string"?V("div",{key:"content__string",innerHTML:r,...i}):pE(r)?V("div",{key:"content__widget",...i},r.render()):r instanceof HTMLElement?V("div",{key:"content__html-element",bind:r,afterCreate:this._attachToNode,...i}):ste(r)?V("div",{key:"content__node",bind:r.domNode,afterCreate:this._attachToNode,...i}):null}_toggle(){this.toggle()}_attachToNode(e){const t=this;e.appendChild(t)}_storeToggleButtonEl(e){this._toggleButtonEl=e}};u([h({readOnly:!0})],pn.prototype,"contentId",null),u([h({readOnly:!0})],pn.prototype,"expandTitle",null),u([Oe("viewModel.autoCollapse")],pn.prototype,"autoCollapse",void 0),u([h()],pn.prototype,"closeOnEsc",void 0),u([h()],pn.prototype,"collapseIconClass",null),u([h()],pn.prototype,"collapseTooltip",void 0),u([h()],pn.prototype,"content",void 0),u([Oe("viewModel.expanded")],pn.prototype,"expanded",void 0),u([h()],pn.prototype,"expandIconClass",null),u([h()],pn.prototype,"expandTooltip",void 0),u([Oe("viewModel.group")],pn.prototype,"group",void 0),u([h()],pn.prototype,"iconNumber",void 0),u([h({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],pn.prototype,"label",void 0),u([h(),sn("esri/widgets/Expand/t9n/Expand")],pn.prototype,"messages",void 0),u([h(),sn("esri/t9n/common")],pn.prototype,"messagesCommon",void 0),u([h()],pn.prototype,"mode",void 0),u([Oe("viewModel.view")],pn.prototype,"view",void 0),u([h({type:aoe})],pn.prototype,"viewModel",void 0),u([Ni()],pn.prototype,"_toggle",null),pn=u([B("esri.widgets.Expand")],pn);const ANe=pn,wP="top-right";function FNe(e){const t=new LNe({view:e,source:[wc.fromId("topo-vector"),wc.fromId("streets-vector"),wc.fromId("satellite")]});e.ui.components=["attribution"],e.ui.add(new ANe({view:e,content:t,expandTooltip:"Basemap Gallery"}),wP),e.ui.add(new RNe({view:e}),wP),e.ui.add(new Gie({view:e}),wP)}const NNe=""+new URL("restaurant_ui_icon.453c3eff.svg",import.meta.url).href;function DNe(e){const t={title:"{Business_N}",content:[{type:"fields",fieldInfos:[{fieldName:"Cuisine",label:"Cuisine"},{fieldName:"Meal",label:"Meal Types"},{fieldName:"Website",label:"Website"},{fieldName:"Phone",label:"Phone"},{fieldName:"Address",label:"Address"}]}]},r=new j4({url:"./FallsChurchRestaurants.json",title:"Restaurant",id:"FallsChurchRestaurants",popupTemplate:t,renderer:{type:"simple",symbol:{type:"picture-marker",url:NNe,width:"20px",height:"20px"}},labelingInfo:[{symbol:{type:"text",color:"#000",haloSize:.25,haloColor:"#fff",font:{family:"Arial",size:"14px"}},labelExpressionInfo:{expression:"Text($feature.Business_N)"}}]});e.add(r)}const loe=_.exports.createContext(void 0);function ft(){const e=_.exports.useContext(loe);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const zNe=()=>_.exports.useRef({}),coe=_.exports.createContext(void 0),Ze=()=>{const e=_.exports.useContext(coe);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};var ie={exports:{}},VNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jNe=VNe,BNe=jNe;function uoe(){}function doe(){}doe.resetWarningCache=uoe;var UNe=function(){function e(n,i,o,s,a,l){if(l!==BNe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:doe,resetWarningCache:uoe};return r.PropTypes=r,r};ie.exports=UNe();function _P(e,t){return()=>null}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}function aw(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function ma(e,t,r={clone:!0}){const n=r.clone?E({},e):e;return aw(e)&&aw(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(aw(t[i])&&i in e&&aw(e[i])?n[i]=ma(e[i],t[i],r):n[i]=t[i])}),n}function Wp(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}var GNe={exports:{}},xr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U4=Symbol.for("react.element"),G4=Symbol.for("react.portal"),hM=Symbol.for("react.fragment"),fM=Symbol.for("react.strict_mode"),mM=Symbol.for("react.profiler"),yM=Symbol.for("react.provider"),gM=Symbol.for("react.context"),HNe=Symbol.for("react.server_context"),vM=Symbol.for("react.forward_ref"),bM=Symbol.for("react.suspense"),wM=Symbol.for("react.suspense_list"),_M=Symbol.for("react.memo"),xM=Symbol.for("react.lazy"),qNe=Symbol.for("react.offscreen"),poe;poe=Symbol.for("react.module.reference");function Ia(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case U4:switch(e=e.type,e){case hM:case mM:case fM:case bM:case wM:return e;default:switch(e=e&&e.$$typeof,e){case HNe:case gM:case vM:case xM:case _M:case yM:return e;default:return t}}case G4:return t}}}xr.ContextConsumer=gM;xr.ContextProvider=yM;xr.Element=U4;xr.ForwardRef=vM;xr.Fragment=hM;xr.Lazy=xM;xr.Memo=_M;xr.Portal=G4;xr.Profiler=mM;xr.StrictMode=fM;xr.Suspense=bM;xr.SuspenseList=wM;xr.isAsyncMode=function(){return!1};xr.isConcurrentMode=function(){return!1};xr.isContextConsumer=function(e){return Ia(e)===gM};xr.isContextProvider=function(e){return Ia(e)===yM};xr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===U4};xr.isForwardRef=function(e){return Ia(e)===vM};xr.isFragment=function(e){return Ia(e)===hM};xr.isLazy=function(e){return Ia(e)===xM};xr.isMemo=function(e){return Ia(e)===_M};xr.isPortal=function(e){return Ia(e)===G4};xr.isProfiler=function(e){return Ia(e)===mM};xr.isStrictMode=function(e){return Ia(e)===fM};xr.isSuspense=function(e){return Ia(e)===bM};xr.isSuspenseList=function(e){return Ia(e)===wM};xr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hM||e===mM||e===fM||e===bM||e===wM||e===qNe||typeof e=="object"&&e!==null&&(e.$$typeof===xM||e.$$typeof===_M||e.$$typeof===yM||e.$$typeof===gM||e.$$typeof===vM||e.$$typeof===poe||e.getModuleId!==void 0)};xr.typeOf=Ia;(function(e){e.exports=xr})(GNe);function be(e){if(typeof e!="string")throw new Error(Wp(7));return e.charAt(0).toUpperCase()+e.slice(1)}function t7(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function ex(e,t=166){let r;function n(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function xP(e,t){return _.exports.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function Cn(e){return e&&e.ownerDocument||document}function Uu(e){return Cn(e).defaultView||window}function X1(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const WNe=typeof window<"u"?_.exports.useLayoutEffect:_.exports.useEffect,pi=WNe;let r7=0;function KNe(e){const[t,r]=_.exports.useState(e),n=e||t;return _.exports.useEffect(()=>{t==null&&(r7+=1,r(`mui-${r7}`))},[t]),n}const n7=Jf["useId"];function ei(e){if(n7!==void 0){const t=n7();return e!=null?e:t}return KNe(e)}function Hf({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=_.exports.useRef(e!==void 0),[o,s]=_.exports.useState(t),a=i?e:o,l=_.exports.useCallback(c=>{i||s(c)},[]);return[a,l]}function wi(e){const t=_.exports.useRef(e);return pi(()=>{t.current=e}),_.exports.useCallback((...r)=>(0,t.current)(...r),[])}function Xt(e,t){return _.exports.useMemo(()=>e==null&&t==null?null:r=>{X1(e,r),X1(t,r)},[e,t])}let SM=!0,_F=!1,i7;const JNe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ZNe(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&JNe[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function YNe(e){e.metaKey||e.altKey||e.ctrlKey||(SM=!0)}function SP(){SM=!1}function QNe(){this.visibilityState==="hidden"&&_F&&(SM=!0)}function XNe(e){e.addEventListener("keydown",YNe,!0),e.addEventListener("mousedown",SP,!0),e.addEventListener("pointerdown",SP,!0),e.addEventListener("touchstart",SP,!0),e.addEventListener("visibilitychange",QNe,!0)}function eDe(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return SM||ZNe(t)}function hoe(){const e=_.exports.useCallback(i=>{i!=null&&XNe(i.ownerDocument)},[]),t=_.exports.useRef(!1);function r(){return t.current?(_F=!0,window.clearTimeout(i7),i7=window.setTimeout(()=>{_F=!1},100),t.current=!1,!0):!1}function n(i){return eDe(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function foe(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const tDe=e=>{const t=_.exports.useRef({});return _.exports.useEffect(()=>{t.current=e}),t.current},moe=tDe;function yoe(e,t){const r=E({},t);return Object.keys(e).forEach(n=>{r[n]===void 0&&(r[n]=e[n])}),r}function Fe(e,t,r){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((o,s)=>(s&&(o.push(t(s)),r&&r[s]&&o.push(r[s])),o),[]).join(" ")}),n}const o7=e=>e,rDe=()=>{let e=o7;return{configure(t){e=t},generate(t){return e(t)},reset(){e=o7}}},nDe=rDe(),iDe=nDe,oDe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function It(e,t,r="Mui"){const n=oDe[t];return n?`${r}-${n}`:`${iDe.generate(e)}-${t}`}function _t(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=It(e,i,r)}),n}const sDe={black:"#000",white:"#fff"},e_=sDe,aDe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Qm=aDe,lDe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Xm=lDe,cDe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ey=cDe,uDe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ty=uDe,dDe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ry=dDe,pDe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Qv=pDe,hDe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},fDe=hDe;function de(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function goe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var mDe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,yDe=goe(function(e){return mDe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function gDe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function vDe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var bDe=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vDe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=gDe(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Ai="-ms-",kE="-moz-",ar="-webkit-",voe="comm",H4="rule",q4="decl",wDe="@import",boe="@keyframes",_De=Math.abs,CM=String.fromCharCode,xDe=Object.assign;function SDe(e,t){return(((t<<2^Mo(e,0))<<2^Mo(e,1))<<2^Mo(e,2))<<2^Mo(e,3)}function woe(e){return e.trim()}function CDe(e,t){return(e=t.exec(e))?e[0]:e}function mr(e,t,r){return e.replace(t,r)}function xF(e,t){return e.indexOf(t)}function Mo(e,t){return e.charCodeAt(t)|0}function t_(e,t,r){return e.slice(t,r)}function lc(e){return e.length}function W4(e){return e.length}function HS(e,t){return t.push(e),e}function $De(e,t){return e.map(t).join("")}var $M=1,w0=1,_oe=0,Zo=0,Nn=0,av="";function EM(e,t,r,n,i,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:$M,column:w0,length:s,return:""}}function Xv(e,t){return xDe(EM("",null,null,"",null,null,0),e,{length:-e.length},t)}function EDe(){return Nn}function IDe(){return Nn=Zo>0?Mo(av,--Zo):0,w0--,Nn===10&&(w0=1,$M--),Nn}function ks(){return Nn=Zo<_oe?Mo(av,Zo++):0,w0++,Nn===10&&(w0=1,$M++),Nn}function _c(){return Mo(av,Zo)}function E$(){return Zo}function tx(e,t){return t_(av,e,t)}function r_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xoe(e){return $M=w0=1,_oe=lc(av=e),Zo=0,[]}function Soe(e){return av="",e}function I$(e){return woe(tx(Zo-1,SF(e===91?e+2:e===40?e+1:e)))}function MDe(e){for(;(Nn=_c())&&Nn<33;)ks();return r_(e)>2||r_(Nn)>3?"":" "}function TDe(e,t){for(;--t&&ks()&&!(Nn<48||Nn>102||Nn>57&&Nn<65||Nn>70&&Nn<97););return tx(e,E$()+(t<6&&_c()==32&&ks()==32))}function SF(e){for(;ks();)switch(Nn){case e:return Zo;case 34:case 39:e!==34&&e!==39&&SF(Nn);break;case 40:e===41&&SF(e);break;case 92:ks();break}return Zo}function kDe(e,t){for(;ks()&&e+Nn!==47+10;)if(e+Nn===42+42&&_c()===47)break;return"/*"+tx(t,Zo-1)+"*"+CM(e===47?e:ks())}function PDe(e){for(;!r_(_c());)ks();return tx(e,Zo)}function ODe(e){return Soe(M$("",null,null,null,[""],e=xoe(e),0,[0],e))}function M$(e,t,r,n,i,o,s,a,l){for(var c=0,d=0,p=s,f=0,y=0,g=0,v=1,b=1,w=1,x=0,S="",C=i,$=o,M=n,I=S;b;)switch(g=x,x=ks()){case 40:if(g!=108&&I.charCodeAt(p-1)==58){xF(I+=mr(I$(x),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:I+=I$(x);break;case 9:case 10:case 13:case 32:I+=MDe(g);break;case 92:I+=TDe(E$()-1,7);continue;case 47:switch(_c()){case 42:case 47:HS(LDe(kDe(ks(),E$()),t,r),l);break;default:I+="/"}break;case 123*v:a[c++]=lc(I)*w;case 125*v:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+d:y>0&&lc(I)-p&&HS(y>32?a7(I+";",n,r,p-1):a7(mr(I," ","")+";",n,r,p-2),l);break;case 59:I+=";";default:if(HS(M=s7(I,t,r,c,d,i,a,S,C=[],$=[],p),o),x===123)if(d===0)M$(I,t,M,M,C,o,p,a,$);else switch(f){case 100:case 109:case 115:M$(e,M,M,n&&HS(s7(e,M,M,0,0,i,a,S,i,C=[],p),$),i,$,p,a,n?C:$);break;default:M$(I,M,M,M,[""],$,0,a,$)}}c=d=y=0,v=w=1,S=I="",p=s;break;case 58:p=1+lc(I),y=g;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&IDe()==125)continue}switch(I+=CM(x),x*v){case 38:w=d>0?1:(I+="\f",-1);break;case 44:a[c++]=(lc(I)-1)*w,w=1;break;case 64:_c()===45&&(I+=I$(ks())),f=_c(),d=p=lc(S=I+=PDe(E$())),x++;break;case 45:g===45&&lc(I)==2&&(v=0)}}return o}function s7(e,t,r,n,i,o,s,a,l,c,d){for(var p=i-1,f=i===0?o:[""],y=W4(f),g=0,v=0,b=0;g<n;++g)for(var w=0,x=t_(e,p+1,p=_De(v=s[g])),S=e;w<y;++w)(S=woe(v>0?f[w]+" "+x:mr(x,/&\f/g,f[w])))&&(l[b++]=S);return EM(e,t,r,i===0?H4:a,l,c,d)}function LDe(e,t,r){return EM(e,t,r,voe,CM(EDe()),t_(e,2,-2),0)}function a7(e,t,r,n){return EM(e,t,r,q4,t_(e,0,n),t_(e,n+1,-1),n)}function Coe(e,t){switch(SDe(e,t)){case 5103:return ar+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ar+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ar+e+kE+e+Ai+e+e;case 6828:case 4268:return ar+e+Ai+e+e;case 6165:return ar+e+Ai+"flex-"+e+e;case 5187:return ar+e+mr(e,/(\w+).+(:[^]+)/,ar+"box-$1$2"+Ai+"flex-$1$2")+e;case 5443:return ar+e+Ai+"flex-item-"+mr(e,/flex-|-self/,"")+e;case 4675:return ar+e+Ai+"flex-line-pack"+mr(e,/align-content|flex-|-self/,"")+e;case 5548:return ar+e+Ai+mr(e,"shrink","negative")+e;case 5292:return ar+e+Ai+mr(e,"basis","preferred-size")+e;case 6060:return ar+"box-"+mr(e,"-grow","")+ar+e+Ai+mr(e,"grow","positive")+e;case 4554:return ar+mr(e,/([^-])(transform)/g,"$1"+ar+"$2")+e;case 6187:return mr(mr(mr(e,/(zoom-|grab)/,ar+"$1"),/(image-set)/,ar+"$1"),e,"")+e;case 5495:case 3959:return mr(e,/(image-set\([^]*)/,ar+"$1$`$1");case 4968:return mr(mr(e,/(.+:)(flex-)?(.*)/,ar+"box-pack:$3"+Ai+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ar+e+e;case 4095:case 3583:case 4068:case 2532:return mr(e,/(.+)-inline(.+)/,ar+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(lc(e)-1-t>6)switch(Mo(e,t+1)){case 109:if(Mo(e,t+4)!==45)break;case 102:return mr(e,/(.+:)(.+)-([^]+)/,"$1"+ar+"$2-$3$1"+kE+(Mo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~xF(e,"stretch")?Coe(mr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Mo(e,t+1)!==115)break;case 6444:switch(Mo(e,lc(e)-3-(~xF(e,"!important")&&10))){case 107:return mr(e,":",":"+ar)+e;case 101:return mr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ar+(Mo(e,14)===45?"inline-":"")+"box$3$1"+ar+"$2$3$1"+Ai+"$2box$3")+e}break;case 5936:switch(Mo(e,t+11)){case 114:return ar+e+Ai+mr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ar+e+Ai+mr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ar+e+Ai+mr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ar+e+Ai+e+e}return e}function Ug(e,t){for(var r="",n=W4(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function RDe(e,t,r,n){switch(e.type){case wDe:case q4:return e.return=e.return||e.value;case voe:return"";case boe:return e.return=e.value+"{"+Ug(e.children,n)+"}";case H4:e.value=e.props.join(",")}return lc(r=Ug(e.children,n))?e.return=e.value+"{"+r+"}":""}function ADe(e){var t=W4(e);return function(r,n,i,o){for(var s="",a=0;a<t;a++)s+=e[a](r,n,i,o)||"";return s}}function FDe(e){return function(t){t.root||(t=t.return)&&e(t)}}function NDe(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case q4:e.return=Coe(e.value,e.length);break;case boe:return Ug([Xv(e,{value:mr(e.value,"@","@"+ar)})],n);case H4:if(e.length)return $De(e.props,function(i){switch(CDe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ug([Xv(e,{props:[mr(i,/:(read-\w+)/,":"+kE+"$1")]})],n);case"::placeholder":return Ug([Xv(e,{props:[mr(i,/:(plac\w+)/,":"+ar+"input-$1")]}),Xv(e,{props:[mr(i,/:(plac\w+)/,":"+kE+"$1")]}),Xv(e,{props:[mr(i,/:(plac\w+)/,Ai+"input-$1")]})],n)}return""})}}var DDe=function(t,r,n){for(var i=0,o=0;i=o,o=_c(),i===38&&o===12&&(r[n]=1),!r_(o);)ks();return tx(t,Zo)},zDe=function(t,r){var n=-1,i=44;do switch(r_(i)){case 0:i===38&&_c()===12&&(r[n]=1),t[n]+=DDe(Zo-1,r,n);break;case 2:t[n]+=I$(i);break;case 4:if(i===44){t[++n]=_c()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=CM(i)}while(i=ks());return t},VDe=function(t,r){return Soe(zDe(xoe(t),r))},l7=new WeakMap,jDe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!l7.get(n))&&!i){l7.set(t,!0);for(var o=[],s=VDe(r,o),a=n.props,l=0,c=0;l<s.length;l++)for(var d=0;d<a.length;d++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[d]):a[d]+" "+s[l]}}},BDe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}},UDe=[NDe],GDe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=t.stylisPlugins||UDe,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)o[b[w]]=!0;a.push(v)});var l,c=[jDe,BDe];{var d,p=[RDe,FDe(function(v){d.insert(v)})],f=ADe(c.concat(i,p)),y=function(b){return Ug(ODe(b),f)};l=function(b,w,x,S){d=x,y(b?b+"{"+w.styles+"}":w.styles),S&&(g.inserted[w.name]=!0)}}var g={key:r,sheet:new bDe({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},$oe={exports:{}},Sr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=typeof Symbol=="function"&&Symbol.for,K4=fi?Symbol.for("react.element"):60103,J4=fi?Symbol.for("react.portal"):60106,IM=fi?Symbol.for("react.fragment"):60107,MM=fi?Symbol.for("react.strict_mode"):60108,TM=fi?Symbol.for("react.profiler"):60114,kM=fi?Symbol.for("react.provider"):60109,PM=fi?Symbol.for("react.context"):60110,Z4=fi?Symbol.for("react.async_mode"):60111,OM=fi?Symbol.for("react.concurrent_mode"):60111,LM=fi?Symbol.for("react.forward_ref"):60112,RM=fi?Symbol.for("react.suspense"):60113,HDe=fi?Symbol.for("react.suspense_list"):60120,AM=fi?Symbol.for("react.memo"):60115,FM=fi?Symbol.for("react.lazy"):60116,qDe=fi?Symbol.for("react.block"):60121,WDe=fi?Symbol.for("react.fundamental"):60117,KDe=fi?Symbol.for("react.responder"):60118,JDe=fi?Symbol.for("react.scope"):60119;function As(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case K4:switch(e=e.type,e){case Z4:case OM:case IM:case TM:case MM:case RM:return e;default:switch(e=e&&e.$$typeof,e){case PM:case LM:case FM:case AM:case kM:return e;default:return t}}case J4:return t}}}function Eoe(e){return As(e)===OM}Sr.AsyncMode=Z4;Sr.ConcurrentMode=OM;Sr.ContextConsumer=PM;Sr.ContextProvider=kM;Sr.Element=K4;Sr.ForwardRef=LM;Sr.Fragment=IM;Sr.Lazy=FM;Sr.Memo=AM;Sr.Portal=J4;Sr.Profiler=TM;Sr.StrictMode=MM;Sr.Suspense=RM;Sr.isAsyncMode=function(e){return Eoe(e)||As(e)===Z4};Sr.isConcurrentMode=Eoe;Sr.isContextConsumer=function(e){return As(e)===PM};Sr.isContextProvider=function(e){return As(e)===kM};Sr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===K4};Sr.isForwardRef=function(e){return As(e)===LM};Sr.isFragment=function(e){return As(e)===IM};Sr.isLazy=function(e){return As(e)===FM};Sr.isMemo=function(e){return As(e)===AM};Sr.isPortal=function(e){return As(e)===J4};Sr.isProfiler=function(e){return As(e)===TM};Sr.isStrictMode=function(e){return As(e)===MM};Sr.isSuspense=function(e){return As(e)===RM};Sr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===IM||e===OM||e===TM||e===MM||e===RM||e===HDe||typeof e=="object"&&e!==null&&(e.$$typeof===FM||e.$$typeof===AM||e.$$typeof===kM||e.$$typeof===PM||e.$$typeof===LM||e.$$typeof===WDe||e.$$typeof===KDe||e.$$typeof===JDe||e.$$typeof===qDe)};Sr.typeOf=As;(function(e){e.exports=Sr})($oe);var Ioe=$oe.exports,ZDe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},YDe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Moe={};Moe[Ioe.ForwardRef]=ZDe;Moe[Ioe.Memo]=YDe;var QDe=!0;function XDe(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var Toe=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||QDe===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},koe=function(t,r,n){Toe(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function e5e(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var t5e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},r5e=/[A-Z]|^ms/g,n5e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Poe=function(t){return t.charCodeAt(1)===45},c7=function(t){return t!=null&&typeof t!="boolean"},CP=goe(function(e){return Poe(e)?e:e.replace(r5e,"-$&").toLowerCase()}),u7=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(n5e,function(n,i,o){return cc={name:i,styles:o,next:cc},i})}return t5e[t]!==1&&!Poe(t)&&typeof r=="number"&&r!==0?r+"px":r};function n_(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return cc={name:r.name,styles:r.styles,next:cc},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)cc={name:n.name,styles:n.styles,next:cc},n=n.next;var i=r.styles+";";return i}return i5e(e,t,r)}case"function":{if(e!==void 0){var o=cc,s=r(e);return cc=o,n_(e,t,s)}break}}if(t==null)return r;var a=t[r];return a!==void 0?a:r}function i5e(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=n_(e,t,r[i])+";";else for(var o in r){var s=r[o];if(typeof s!="object")t!=null&&t[s]!==void 0?n+=o+"{"+t[s]+"}":c7(s)&&(n+=CP(o)+":"+u7(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)c7(s[a])&&(n+=CP(o)+":"+u7(o,s[a])+";");else{var l=n_(e,t,s);switch(o){case"animation":case"animationName":{n+=CP(o)+":"+l+";";break}default:n+=o+"{"+l+"}"}}}return n}var d7=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cc,Y4=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";cc=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=n_(n,r,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=n_(n,r,t[a]),i&&(o+=s[a]);d7.lastIndex=0;for(var l="",c;(c=d7.exec(o))!==null;)l+="-"+c[1];var d=e5e(o)+l;return{name:d,styles:o,next:cc}},Ooe=_.exports.createContext(typeof HTMLElement<"u"?GDe({key:"css"}):null);Ooe.Provider;var Loe=function(t){return _.exports.forwardRef(function(r,n){var i=_.exports.useContext(Ooe);return t(r,i,n)})},Roe=_.exports.createContext({});Jf["useInsertionEffect"]&&Jf["useInsertionEffect"];var p7=Jf["useInsertionEffect"]?Jf["useInsertionEffect"]:_.exports.useLayoutEffect,o5e=Loe(function(e,t){var r=e.styles,n=Y4([r],void 0,_.exports.useContext(Roe)),i=_.exports.useRef();return p7(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),p7(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(n.next!==void 0&&koe(t,n.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",n,s,!1)},[t,n.name]),null});function Q4(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Y4(t)}var rx=function(){var t=Q4.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},s5e=yDe,a5e=function(t){return t!=="theme"},h7=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?s5e:a5e},f7=function(t,r,n){var i;if(r){var o=r.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},l5e=Jf["useInsertionEffect"]?Jf["useInsertionEffect"]:function(t){t()};function c5e(e){l5e(e)}var u5e=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return Toe(r,n,i),c5e(function(){return koe(r,n,i)}),null},d5e=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,o,s;r!==void 0&&(o=r.label,s=r.target);var a=f7(t,r,n),l=a||h7(i),c=!l("as");return function(){var d=arguments,p=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&p.push("label:"+o+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{p.push(d[0][0]);for(var f=d.length,y=1;y<f;y++)p.push(d[y],d[0][y])}var g=Loe(function(v,b,w){var x=c&&v.as||i,S="",C=[],$=v;if(v.theme==null){$={};for(var M in v)$[M]=v[M];$.theme=_.exports.useContext(Roe)}typeof v.className=="string"?S=XDe(b.registered,C,v.className):v.className!=null&&(S=v.className+" ");var I=Y4(p.concat(C),b.registered,$);S+=b.key+"-"+I.name,s!==void 0&&(S+=" "+s);var T=c&&a===void 0?h7(x):l,O={};for(var L in v)c&&L==="as"||T(L)&&(O[L]=v[L]);return O.className=S,O.ref=w,_.exports.createElement(_.exports.Fragment,null,_.exports.createElement(u5e,{cache:b,serialized:I,isStringTag:typeof x=="string"}),_.exports.createElement(x,O))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=p,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(v,b){return e(v,E({},r,b,{shouldForwardProp:f7(g,b,!0)})).apply(void 0,p)},g}},p5e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],CF=d5e.bind();p5e.forEach(function(e){CF[e]=CF(e)});const h5e=CF;var X4={exports:{}},NM={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5e=_.exports,m5e=Symbol.for("react.element"),y5e=Symbol.for("react.fragment"),g5e=Object.prototype.hasOwnProperty,v5e=f5e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b5e={key:!0,ref:!0,__self:!0,__source:!0};function Aoe(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)g5e.call(t,n)&&!b5e.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:m5e,type:e,key:o,ref:s,props:i,_owner:v5e.current}}NM.Fragment=y5e;NM.jsx=Aoe;NM.jsxs=Aoe;(function(e){e.exports=NM})(X4);const z=X4.exports.jsx,ot=X4.exports.jsxs;function w5e(e){return e==null||Object.keys(e).length===0}function _5e(e){const{styles:t,defaultTheme:r={}}=e;return z(o5e,{styles:typeof t=="function"?i=>t(w5e(i)?r:i):t})}/** @license MUI v5.10.2
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function x5e(e,t){return h5e(e,t)}const S5e=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function Ww(e,t){return t?ma(e,t,{clone:!1}):e}const ez={xs:0,sm:600,md:900,lg:1200,xl:1536},m7={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${ez[e]}px)`};function eh(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const o=n.breakpoints||m7;return t.reduce((s,a,l)=>(s[o.up(o.keys[l])]=r(t[l]),s),{})}if(typeof t=="object"){const o=n.breakpoints||m7;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||ez).indexOf(a)!==-1){const l=o.up(a);s[l]=r(t[a],a)}else{const l=a;s[l]=t[l]}return s},{})}return r(t)}function C5e(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const o=e.up(i);return n[o]={},n},{}))||{}}function $5e(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function tz(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function y7(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=tz(e,r)||n,t&&(i=t(i)),i}function qe(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],l=s.theme,c=tz(l,n)||{};return eh(s,a,p=>{let f=y7(c,i,p);return p===f&&typeof p=="string"&&(f=y7(c,i,`${t}${p==="default"?"":be(p)}`,p)),r===!1?f:{[r]:f}})};return o.propTypes={},o.filterProps=[t],o}function th(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>t[o]?Ww(i,t[o](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function E5e(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const I5e={m:"margin",p:"padding"},M5e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},g7={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},T5e=E5e(e=>{if(e.length>2)if(g7[e])e=g7[e];else return[e];const[t,r]=e.split(""),n=I5e[t],i=M5e[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),k5e=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],P5e=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Foe=[...k5e,...P5e];function nx(e,t,r,n){var i;const o=(i=tz(e,t,!1))!=null?i:r;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function Noe(e){return nx(e,"spacing",8)}function ix(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function O5e(e,t){return r=>e.reduce((n,i)=>(n[i]=ix(t,r),n),{})}function L5e(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=T5e(r),o=O5e(i,n),s=e[r];return eh(e,s,o)}function R5e(e,t){const r=Noe(e.theme);return Object.keys(e).map(n=>L5e(e,t,n,r)).reduce(Ww,{})}function DM(e){return R5e(e,Foe)}DM.propTypes={};DM.filterProps=Foe;function ox(e){return typeof e!="number"?e:`${e}px solid`}const A5e=qe({prop:"border",themeKey:"borders",transform:ox}),F5e=qe({prop:"borderTop",themeKey:"borders",transform:ox}),N5e=qe({prop:"borderRight",themeKey:"borders",transform:ox}),D5e=qe({prop:"borderBottom",themeKey:"borders",transform:ox}),z5e=qe({prop:"borderLeft",themeKey:"borders",transform:ox}),V5e=qe({prop:"borderColor",themeKey:"palette"}),j5e=qe({prop:"borderTopColor",themeKey:"palette"}),B5e=qe({prop:"borderRightColor",themeKey:"palette"}),U5e=qe({prop:"borderBottomColor",themeKey:"palette"}),G5e=qe({prop:"borderLeftColor",themeKey:"palette"}),rz=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=nx(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:ix(t,n)});return eh(e,e.borderRadius,r)}return null};rz.propTypes={};rz.filterProps=["borderRadius"];const H5e=th(A5e,F5e,N5e,D5e,z5e,V5e,j5e,B5e,U5e,G5e,rz),Doe=H5e,q5e=qe({prop:"displayPrint",cssProperty:!1,transform:e=>({"@media print":{display:e}})}),W5e=qe({prop:"display"}),K5e=qe({prop:"overflow"}),J5e=qe({prop:"textOverflow"}),Z5e=qe({prop:"visibility"}),Y5e=qe({prop:"whiteSpace"}),zoe=th(q5e,W5e,K5e,J5e,Z5e,Y5e),Q5e=qe({prop:"flexBasis"}),X5e=qe({prop:"flexDirection"}),e4e=qe({prop:"flexWrap"}),t4e=qe({prop:"justifyContent"}),r4e=qe({prop:"alignItems"}),n4e=qe({prop:"alignContent"}),i4e=qe({prop:"order"}),o4e=qe({prop:"flex"}),s4e=qe({prop:"flexGrow"}),a4e=qe({prop:"flexShrink"}),l4e=qe({prop:"alignSelf"}),c4e=qe({prop:"justifyItems"}),u4e=qe({prop:"justifySelf"}),d4e=th(Q5e,X5e,e4e,t4e,r4e,n4e,i4e,o4e,s4e,a4e,l4e,c4e,u4e),Voe=d4e,nz=e=>{if(e.gap!==void 0&&e.gap!==null){const t=nx(e.theme,"spacing",8),r=n=>({gap:ix(t,n)});return eh(e,e.gap,r)}return null};nz.propTypes={};nz.filterProps=["gap"];const iz=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=nx(e.theme,"spacing",8),r=n=>({columnGap:ix(t,n)});return eh(e,e.columnGap,r)}return null};iz.propTypes={};iz.filterProps=["columnGap"];const oz=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=nx(e.theme,"spacing",8),r=n=>({rowGap:ix(t,n)});return eh(e,e.rowGap,r)}return null};oz.propTypes={};oz.filterProps=["rowGap"];const p4e=qe({prop:"gridColumn"}),h4e=qe({prop:"gridRow"}),f4e=qe({prop:"gridAutoFlow"}),m4e=qe({prop:"gridAutoColumns"}),y4e=qe({prop:"gridAutoRows"}),g4e=qe({prop:"gridTemplateColumns"}),v4e=qe({prop:"gridTemplateRows"}),b4e=qe({prop:"gridTemplateAreas"}),w4e=qe({prop:"gridArea"}),_4e=th(nz,iz,oz,p4e,h4e,f4e,m4e,y4e,g4e,v4e,b4e,w4e),joe=_4e,x4e=qe({prop:"color",themeKey:"palette"}),S4e=qe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),C4e=qe({prop:"backgroundColor",themeKey:"palette"}),$4e=th(x4e,S4e,C4e),Boe=$4e,E4e=qe({prop:"position"}),I4e=qe({prop:"zIndex",themeKey:"zIndex"}),M4e=qe({prop:"top"}),T4e=qe({prop:"right"}),k4e=qe({prop:"bottom"}),P4e=qe({prop:"left"}),Uoe=th(E4e,I4e,M4e,T4e,k4e,P4e),O4e=qe({prop:"boxShadow",themeKey:"shadows"}),Goe=O4e;function rh(e){return e<=1&&e!==0?`${e*100}%`:e}const L4e=qe({prop:"width",transform:rh}),Hoe=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,i,o;return{maxWidth:((n=e.theme)==null||(i=n.breakpoints)==null||(o=i.values)==null?void 0:o[r])||ez[r]||rh(r)}};return eh(e,e.maxWidth,t)}return null};Hoe.filterProps=["maxWidth"];const R4e=qe({prop:"minWidth",transform:rh}),A4e=qe({prop:"height",transform:rh}),F4e=qe({prop:"maxHeight",transform:rh}),N4e=qe({prop:"minHeight",transform:rh});qe({prop:"size",cssProperty:"width",transform:rh});qe({prop:"size",cssProperty:"height",transform:rh});const D4e=qe({prop:"boxSizing"}),z4e=th(L4e,Hoe,R4e,A4e,F4e,N4e,D4e),qoe=z4e,V4e=qe({prop:"fontFamily",themeKey:"typography"}),j4e=qe({prop:"fontSize",themeKey:"typography"}),B4e=qe({prop:"fontStyle",themeKey:"typography"}),U4e=qe({prop:"fontWeight",themeKey:"typography"}),G4e=qe({prop:"letterSpacing"}),H4e=qe({prop:"textTransform"}),q4e=qe({prop:"lineHeight"}),W4e=qe({prop:"textAlign"}),K4e=qe({prop:"typography",cssProperty:!1,themeKey:"typography"}),J4e=th(K4e,V4e,j4e,B4e,U4e,G4e,q4e,W4e,H4e),Woe=J4e,v7={borders:Doe.filterProps,display:zoe.filterProps,flexbox:Voe.filterProps,grid:joe.filterProps,positions:Uoe.filterProps,palette:Boe.filterProps,shadows:Goe.filterProps,sizing:qoe.filterProps,spacing:DM.filterProps,typography:Woe.filterProps},Koe={borders:Doe,display:zoe,flexbox:Voe,grid:joe,positions:Uoe,palette:Boe,shadows:Goe,sizing:qoe,spacing:DM,typography:Woe},Z4e=Object.keys(v7).reduce((e,t)=>(v7[t].forEach(r=>{e[r]=Koe[t]}),e),{});function Y4e(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function Q4e(e,t){return typeof e=="function"?e(t):e}function X4e(e=Koe){const t=Object.keys(e).reduce((i,o)=>(e[o].filterProps.forEach(s=>{i[s]=e[o]}),i),{});function r(i,o,s){const a={[i]:o,theme:s},l=t[i];return l?l(a):{[i]:o}}function n(i){const{sx:o,theme:s={}}=i||{};if(!o)return null;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const d=C5e(s.breakpoints),p=Object.keys(d);let f=d;return Object.keys(c).forEach(y=>{const g=Q4e(c[y],s);if(g!=null)if(typeof g=="object")if(t[y])f=Ww(f,r(y,g,s));else{const v=eh({theme:s},g,b=>({[y]:b}));Y4e(v,g)?f[y]=n({sx:g,theme:s}):f=Ww(f,v)}else f=Ww(f,r(y,g,s))}),$5e(p,f)}return Array.isArray(o)?o.map(a):a(o)}return n}const Joe=X4e();Joe.filterProps=["sx"];const eze=Joe,tze=["sx"],rze=e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach(r=>{Z4e[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function nze(e){const{sx:t}=e,r=de(e,tze),{systemProps:n,otherProps:i}=rze(r);let o;return Array.isArray(t)?o=[n,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return aw(a)?E({},n,a):n}:o=E({},n,t),E({},i,{sx:o})}function Zoe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Zoe(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Se(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Zoe(e))&&(n&&(n+=" "),n+=t);return n}const ize=["values","unit","step"],oze=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>E({},r,{[n.key]:n.val}),{})};function sze(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=de(e,ize),o=oze(t),s=Object.keys(o);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${r})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-n/100}${r})`}function c(f,y){const g=s.indexOf(y);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${r}) and (max-width:${(g!==-1&&typeof t[s[g]]=="number"?t[s[g]]:y)-n/100}${r})`}function d(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function p(f){const y=s.indexOf(f);return y===0?a(s[1]):y===s.length-1?l(s[y]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return E({keys:s,values:o,up:a,down:l,between:c,only:d,not:p,unit:r},i)}const aze={borderRadius:4},lze=aze;function cze(e=8){if(e.mui)return e;const t=Noe({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}const uze=["breakpoints","palette","spacing","shape"];function sz(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:o={}}=e,s=de(e,uze),a=sze(r),l=cze(i);let c=ma({breakpoints:a,direction:"ltr",components:{},palette:E({mode:"light"},n),spacing:l,shape:E({},lze,o)},s);return c=t.reduce((d,p)=>ma(d,p),c),c}const dze=_.exports.createContext(null),pze=dze;function hze(){return _.exports.useContext(pze)}function fze(e){return Object.keys(e).length===0}function Yoe(e=null){const t=hze();return!t||fze(t)?e:t}const mze=sz();function Qoe(e=mze){return Yoe(e)}const yze=["variant"];function b7(e){return e.length===0}function Xoe(e){const{variant:t}=e,r=de(e,yze);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=b7(n)?e[i]:be(e[i]):n+=`${b7(n)?i:be(i)}${be(e[i].toString())}`}),n}const gze=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],vze=["theme"],bze=["theme"];function eb(e){return Object.keys(e).length===0}function wze(e){return typeof e=="string"&&e.charCodeAt(0)>96}const _ze=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,xze=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const n={};return r.forEach(i=>{const o=Xoe(i.props);n[o]=i.style}),n},Sze=(e,t,r,n)=>{var i,o;const{ownerState:s={}}=e,a=[],l=r==null||(i=r.components)==null||(o=i[n])==null?void 0:o.variants;return l&&l.forEach(c=>{let d=!0;Object.keys(c.props).forEach(p=>{s[p]!==c.props[p]&&e[p]!==c.props[p]&&(d=!1)}),d&&a.push(t[Xoe(c.props)])}),a};function Kw(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Cze=sz();function $ze(e={}){const{defaultTheme:t=Cze,rootShouldForwardProp:r=Kw,slotShouldForwardProp:n=Kw,styleFunctionSx:i=eze}=e,o=s=>{const a=eb(s.theme)?t:s.theme;return i(E({},s,{theme:a}))};return o.__mui_systemSx=!0,(s,a={})=>{S5e(s,C=>C.filter($=>!($!=null&&$.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:d,skipSx:p,overridesResolver:f}=a,y=de(a,gze),g=d!==void 0?d:c&&c!=="Root"||!1,v=p||!1;let b,w=Kw;c==="Root"?w=r:c?w=n:wze(s)&&(w=void 0);const x=x5e(s,E({shouldForwardProp:w,label:b},y)),S=(C,...$)=>{const M=$?$.map(L=>typeof L=="function"&&L.__emotion_real!==L?N=>{let{theme:H}=N,F=de(N,vze);return L(E({theme:eb(H)?t:H},F))}:L):[];let I=C;l&&f&&M.push(L=>{const N=eb(L.theme)?t:L.theme,H=_ze(l,N);if(H){const F={};return Object.entries(H).forEach(([k,P])=>{F[k]=typeof P=="function"?P(E({},L,{theme:N})):P}),f(L,F)}return null}),l&&!g&&M.push(L=>{const N=eb(L.theme)?t:L.theme;return Sze(L,xze(l,N),N,l)}),v||M.push(o);const T=M.length-$.length;if(Array.isArray(C)&&T>0){const L=new Array(T).fill("");I=[...C,...L],I.raw=[...C.raw,...L]}else typeof C=="function"&&C.__emotion_real!==C&&(I=L=>{let{theme:N}=L,H=de(L,bze);return C(E({theme:eb(N)?t:N},H))});return x(I,...M)};return x.withConfig&&(S.withConfig=x.withConfig),S}}function Eze(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:yoe(t.components[r].defaultProps,n)}function Ize({props:e,name:t,defaultTheme:r}){const n=Qoe(r);return Eze({theme:n,name:t,props:e})}function az(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function Mze(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function hm(e){if(e.type)return e;if(e.charAt(0)==="#")return hm(Mze(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Wp(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Wp(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}function zM(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function Tze(e){e=hm(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),s=(c,d=(c+r/30)%12)=>i-o*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),zM({type:a,values:l})}function w7(e){e=hm(e);let t=e.type==="hsl"?hm(Tze(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function kze(e,t){const r=w7(e),n=w7(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function St(e,t){return e=hm(e),t=az(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,zM(e)}function lv(e,t){if(e=hm(e),t=az(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return zM(e)}function cv(e,t){if(e=hm(e),t=az(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return zM(e)}function _0(e){return typeof e=="string"}function lw(e,t={},r){return _0(e)?t:E({},t,{ownerState:E({},t.ownerState,r)})}function Pze(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function $F(e,t){return typeof e=="function"?e(t):e}function _7(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function Oze(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){const y=Se(i==null?void 0:i.className,n==null?void 0:n.className,o,r==null?void 0:r.className),g=E({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),v=E({},r,i,n);return y.length>0&&(v.className=y),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const s=Pze(E({},i,n)),a=_7(n),l=_7(i),c=t(s),d=Se(c==null?void 0:c.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),p=E({},c==null?void 0:c.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),f=E({},c,r,l,a);return d.length>0&&(f.className=d),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:c.ref}}const Lze=["elementType","externalSlotProps","ownerState"];function i_(e){var t;const{elementType:r,externalSlotProps:n,ownerState:i}=e,o=de(e,Lze),s=$F(n,i),{props:a,internalRef:l}=Oze(E({},o,{externalSlotProps:s})),c=Xt(l,Xt(s==null?void 0:s.ref,(t=e.additionalProps)==null?void 0:t.ref));return lw(r,E({},a,{ref:c}),i)}function x7(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function ese(e={}){const{ignoreAccents:t=!0,ignoreCase:r=!0,limit:n,matchFrom:i="any",stringify:o,trim:s=!1}=e;return(a,{inputValue:l,getOptionLabel:c})=>{let d=s?l.trim():l;r&&(d=d.toLowerCase()),t&&(d=x7(d));const p=a.filter(f=>{let y=(o||c)(f);return r&&(y=y.toLowerCase()),t&&(y=x7(y)),i==="start"?y.indexOf(d)===0:y.indexOf(d)>-1});return typeof n=="number"?p.slice(0,n):p}}function $P(e,t){for(let r=0;r<e.length;r+=1)if(t(e[r]))return r;return-1}const Rze=ese(),S7=5;function Aze(e){const{autoComplete:t=!1,autoHighlight:r=!1,autoSelect:n=!1,blurOnSelect:i=!1,clearOnBlur:o=!e.freeSolo,clearOnEscape:s=!1,componentName:a="useAutocomplete",defaultValue:l=e.multiple?[]:null,disableClearable:c=!1,disableCloseOnSelect:d=!1,disabled:p,disabledItemsFocusable:f=!1,disableListWrap:y=!1,filterOptions:g=Rze,filterSelectedOptions:v=!1,freeSolo:b=!1,getOptionDisabled:w,getOptionLabel:x=ge=>{var ee;return(ee=ge.label)!=null?ee:ge},groupBy:S,handleHomeEndKeys:C=!e.freeSolo,id:$,includeInputInList:M=!1,inputValue:I,isOptionEqualToValue:T=(ge,ee)=>ge===ee,multiple:O=!1,onChange:L,onClose:N,onHighlightChange:H,onInputChange:F,onOpen:k,open:P,openOnFocus:R=!1,options:j,readOnly:A=!1,selectOnFocus:U=!e.freeSolo,value:q}=e,J=ei($);let Q=x;Q=ge=>{const ee=x(ge);return typeof ee!="string"?String(ee):ee};const se=_.exports.useRef(!1),ce=_.exports.useRef(!0),le=_.exports.useRef(null),Ie=_.exports.useRef(null),[Ue,pe]=_.exports.useState(null),[ye,he]=_.exports.useState(-1),Me=r?0:-1,Ge=_.exports.useRef(Me),[Ee,tt]=Hf({controlled:q,default:l,name:a}),[Ye,je]=Hf({controlled:I,default:"",name:a,state:"inputValue"}),[Ke,Ct]=_.exports.useState(!1),Ft=_.exports.useCallback((ge,ee)=>{if(!(O?Ee.length<ee.length:ee!==null)&&!o)return;let Xe;if(O)Xe="";else if(ee==null)Xe="";else{const or=Q(ee);Xe=typeof or=="string"?or:""}Ye!==Xe&&(je(Xe),F&&F(ge,Xe,"reset"))},[Q,Ye,O,F,je,o,Ee]),yt=_.exports.useRef();_.exports.useEffect(()=>{const ge=Ee!==yt.current;yt.current=Ee,!(Ke&&!ge)&&(b&&!ge||Ft(null,Ee))},[Ee,Ft,Ke,yt,b]);const[Lt,yr]=Hf({controlled:P,default:!1,name:a,state:"open"}),[Gr,Mr]=_.exports.useState(!0),Cr=!O&&Ee!=null&&Ye===Q(Ee),Gt=Lt&&!A,Ne=Gt?g(j.filter(ge=>!(v&&(O?Ee:[Ee]).some(ee=>ee!==null&&T(ge,ee)))),{inputValue:Cr&&Gr?"":Ye,getOptionLabel:Q}):[],ke=Lt&&Ne.length>0&&!A,Rt=wi(ge=>{ge===-1?le.current.focus():Ue.querySelector(`[data-tag-index="${ge}"]`).focus()});_.exports.useEffect(()=>{O&&ye>Ee.length-1&&(he(-1),Rt(-1))},[Ee,O,ye,Rt]);function Be(ge,ee){if(!Ie.current||ge===-1)return-1;let it=ge;for(;;){if(ee==="next"&&it===Ne.length||ee==="previous"&&it===-1)return-1;const Xe=Ie.current.querySelector(`[data-option-index="${it}"]`),or=f?!1:!Xe||Xe.disabled||Xe.getAttribute("aria-disabled")==="true";if(Xe&&!Xe.hasAttribute("tabindex")||or)it+=ee==="next"?1:-1;else return it}}const Mt=wi(({event:ge,index:ee,reason:it="auto"})=>{if(Ge.current=ee,ee===-1?le.current.removeAttribute("aria-activedescendant"):le.current.setAttribute("aria-activedescendant",`${J}-option-${ee}`),H&&H(ge,ee===-1?null:Ne[ee],it),!Ie.current)return;const Xe=Ie.current.querySelector('[role="option"].Mui-focused');Xe&&(Xe.classList.remove("Mui-focused"),Xe.classList.remove("Mui-focusVisible"));const or=Ie.current.parentElement.querySelector('[role="listbox"]');if(!or)return;if(ee===-1){or.scrollTop=0;return}const Bn=Ie.current.querySelector(`[data-option-index="${ee}"]`);if(!!Bn&&(Bn.classList.add("Mui-focused"),it==="keyboard"&&Bn.classList.add("Mui-focusVisible"),or.scrollHeight>or.clientHeight&&it!=="mouse")){const gr=Bn,os=or.clientHeight+or.scrollTop,gv=gr.offsetTop+gr.offsetHeight;gv>os?or.scrollTop=gv-or.clientHeight:gr.offsetTop-gr.offsetHeight*(S?1.3:0)<or.scrollTop&&(or.scrollTop=gr.offsetTop-gr.offsetHeight*(S?1.3:0))}}),Tr=wi(({event:ge,diff:ee,direction:it="next",reason:Xe="auto"})=>{if(!Gt)return;const Bn=Be((()=>{const gr=Ne.length-1;if(ee==="reset")return Me;if(ee==="start")return 0;if(ee==="end")return gr;const os=Ge.current+ee;return os<0?os===-1&&M?-1:y&&Ge.current!==-1||Math.abs(ee)>1?0:gr:os>gr?os===gr+1&&M?-1:y||Math.abs(ee)>1?gr:0:os})(),it);if(Mt({index:Bn,reason:Xe,event:ge}),t&&ee!=="reset")if(Bn===-1)le.current.value=Ye;else{const gr=Q(Ne[Bn]);le.current.value=gr,gr.toLowerCase().indexOf(Ye.toLowerCase())===0&&Ye.length>0&&le.current.setSelectionRange(Ye.length,gr.length)}}),In=_.exports.useCallback(()=>{if(!Gt)return;const ge=O?Ee[0]:Ee;if(Ne.length===0||ge==null){Tr({diff:"reset"});return}if(!!Ie.current){if(ge!=null){const ee=Ne[Ge.current];if(O&&ee&&$P(Ee,Xe=>T(ee,Xe))!==-1)return;const it=$P(Ne,Xe=>T(Xe,ge));it===-1?Tr({diff:"reset"}):Mt({index:it});return}if(Ge.current>=Ne.length-1){Mt({index:Ne.length-1});return}Mt({index:Ge.current})}},[Ne.length,O?!1:Ee,v,Tr,Mt,Gt,Ye,O]),go=wi(ge=>{X1(Ie,ge),ge&&In()});_.exports.useEffect(()=>{In()},[In]);const rs=ge=>{Lt||(yr(!0),Mr(!0),k&&k(ge))},Ta=(ge,ee)=>{!Lt||(yr(!1),N&&N(ge,ee))},ti=(ge,ee,it,Xe)=>{if(O){if(Ee.length===ee.length&&Ee.every((or,Bn)=>or===ee[Bn]))return}else if(Ee===ee)return;L&&L(ge,ee,it,Xe),tt(ee)},vo=_.exports.useRef(!1),ns=(ge,ee,it="selectOption",Xe="options")=>{let or=it,Bn=ee;if(O){Bn=Array.isArray(Ee)?Ee.slice():[];const gr=$P(Bn,os=>T(ee,os));gr===-1?Bn.push(ee):Xe!=="freeSolo"&&(Bn.splice(gr,1),or="removeOption")}Ft(ge,Bn),ti(ge,Bn,or,{option:ee}),!d&&(!ge||!ge.ctrlKey&&!ge.metaKey)&&Ta(ge,or),(i===!0||i==="touch"&&vo.current||i==="mouse"&&!vo.current)&&le.current.blur()};function Yr(ge,ee){if(ge===-1)return-1;let it=ge;for(;;){if(ee==="next"&&it===Ee.length||ee==="previous"&&it===-1)return-1;const Xe=Ue.querySelector(`[data-tag-index="${it}"]`);if(!Xe||!Xe.hasAttribute("tabindex")||Xe.disabled||Xe.getAttribute("aria-disabled")==="true")it+=ee==="next"?1:-1;else return it}}const Fr=(ge,ee)=>{if(!O)return;Ye===""&&Ta(ge,"toggleInput");let it=ye;ye===-1?Ye===""&&ee==="previous"&&(it=Ee.length-1):(it+=ee==="next"?1:-1,it<0&&(it=0),it===Ee.length&&(it=-1)),it=Yr(it,ee),he(it),Rt(it)},Pr=ge=>{se.current=!0,je(""),F&&F(ge,"","clear"),ti(ge,O?[]:null,"clear")},Ol=ge=>ee=>{if(ge.onKeyDown&&ge.onKeyDown(ee),!ee.defaultMuiPrevented&&(ye!==-1&&["ArrowLeft","ArrowRight"].indexOf(ee.key)===-1&&(he(-1),Rt(-1)),ee.which!==229))switch(ee.key){case"Home":Gt&&C&&(ee.preventDefault(),Tr({diff:"start",direction:"next",reason:"keyboard",event:ee}));break;case"End":Gt&&C&&(ee.preventDefault(),Tr({diff:"end",direction:"previous",reason:"keyboard",event:ee}));break;case"PageUp":ee.preventDefault(),Tr({diff:-S7,direction:"previous",reason:"keyboard",event:ee}),rs(ee);break;case"PageDown":ee.preventDefault(),Tr({diff:S7,direction:"next",reason:"keyboard",event:ee}),rs(ee);break;case"ArrowDown":ee.preventDefault(),Tr({diff:1,direction:"next",reason:"keyboard",event:ee}),rs(ee);break;case"ArrowUp":ee.preventDefault(),Tr({diff:-1,direction:"previous",reason:"keyboard",event:ee}),rs(ee);break;case"ArrowLeft":Fr(ee,"previous");break;case"ArrowRight":Fr(ee,"next");break;case"Enter":if(Ge.current!==-1&&Gt){const it=Ne[Ge.current],Xe=w?w(it):!1;if(ee.preventDefault(),Xe)return;ns(ee,it,"selectOption"),t&&le.current.setSelectionRange(le.current.value.length,le.current.value.length)}else b&&Ye!==""&&Cr===!1&&(O&&ee.preventDefault(),ns(ee,Ye,"createOption","freeSolo"));break;case"Escape":Gt?(ee.preventDefault(),ee.stopPropagation(),Ta(ee,"escape")):s&&(Ye!==""||O&&Ee.length>0)&&(ee.preventDefault(),ee.stopPropagation(),Pr(ee));break;case"Backspace":if(O&&!A&&Ye===""&&Ee.length>0){const it=ye===-1?Ee.length-1:ye,Xe=Ee.slice();Xe.splice(it,1),ti(ee,Xe,"removeOption",{option:Ee[it]})}break}},oh=ge=>{Ct(!0),R&&!se.current&&rs(ge)},ka=ge=>{if(Ie.current!==null&&Ie.current.parentElement.contains(document.activeElement)){le.current.focus();return}Ct(!1),ce.current=!0,se.current=!1,n&&Ge.current!==-1&&Gt?ns(ge,Ne[Ge.current],"blur"):n&&b&&Ye!==""?ns(ge,Ye,"blur","freeSolo"):o&&Ft(ge,Ee),Ta(ge,"blur")},Nc=ge=>{const ee=ge.target.value;Ye!==ee&&(je(ee),Mr(!1),F&&F(ge,ee,"input")),ee===""?!c&&!O&&ti(ge,null,"clear"):rs(ge)},Dc=ge=>{Mt({event:ge,index:Number(ge.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},Wt=()=>{vo.current=!0},jn=ge=>{const ee=Number(ge.currentTarget.getAttribute("data-option-index"));ns(ge,Ne[ee],"selectOption"),vo.current=!1},is=ge=>ee=>{const it=Ee.slice();it.splice(ge,1),ti(ee,it,"removeOption",{option:Ee[ge]})},Xu=ge=>{Lt?Ta(ge,"toggleInput"):rs(ge)},yv=ge=>{ge.target.getAttribute("id")!==J&&ge.preventDefault()},ne=()=>{le.current.focus(),U&&ce.current&&le.current.selectionEnd-le.current.selectionStart===0&&le.current.select(),ce.current=!1},$r=ge=>{(Ye===""||!Lt)&&Xu(ge)};let gt=b&&Ye.length>0;gt=gt||(O?Ee.length>0:Ee!==null);let dr=Ne;return S&&(dr=Ne.reduce((ge,ee,it)=>{const Xe=S(ee);return ge.length>0&&ge[ge.length-1].group===Xe?ge[ge.length-1].options.push(ee):ge.push({key:it,index:it,group:Xe,options:[ee]}),ge},[])),p&&Ke&&ka(),{getRootProps:(ge={})=>E({"aria-owns":ke?`${J}-listbox`:null},ge,{onKeyDown:Ol(ge),onMouseDown:yv,onClick:ne}),getInputLabelProps:()=>({id:`${J}-label`,htmlFor:J}),getInputProps:()=>({id:J,value:Ye,onBlur:ka,onFocus:oh,onChange:Nc,onMouseDown:$r,"aria-activedescendant":Gt?"":null,"aria-autocomplete":t?"both":"list","aria-controls":ke?`${J}-listbox`:void 0,"aria-expanded":ke,autoComplete:"off",ref:le,autoCapitalize:"none",spellCheck:"false",role:"combobox"}),getClearProps:()=>({tabIndex:-1,onClick:Pr}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:Xu}),getTagProps:({index:ge})=>E({key:ge,"data-tag-index":ge,tabIndex:-1},!A&&{onDelete:is(ge)}),getListboxProps:()=>({role:"listbox",id:`${J}-listbox`,"aria-labelledby":`${J}-label`,ref:go,onMouseDown:ge=>{ge.preventDefault()}}),getOptionProps:({index:ge,option:ee})=>{const it=(O?Ee:[Ee]).some(or=>or!=null&&T(ee,or)),Xe=w?w(ee):!1;return{key:Q(ee),tabIndex:-1,role:"option",id:`${J}-option-${ge}`,onMouseOver:Dc,onClick:jn,onTouchStart:Wt,"data-option-index":ge,"aria-disabled":Xe,"aria-selected":it}},id:J,inputValue:Ye,value:Ee,dirty:gt,popupOpen:Gt,focused:Ke||ye!==-1,anchorEl:Ue,setAnchorEl:pe,focusedTag:ye,groupedOptions:dr}}function Fze(e){const{badgeContent:t,invisible:r=!1,max:n=99,showZero:i=!1}=e,o=moe({badgeContent:t,max:n});let s=r;r===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:l=n}=s?o:e,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:s,max:l,displayValue:c}}function Nze(e){return It("BaseBadge",e)}_t("BaseBadge",["root","badge","invisible"]);const Dze=["badgeContent","component","children","components","componentsProps","invisible","max","showZero"],zze=e=>{const{invisible:t}=e;return Fe({root:["root"],badge:["badge",t&&"invisible"]},Nze,void 0)},Vze=_.exports.forwardRef(function(t,r){const{component:n,children:i,components:o={},componentsProps:s={},max:a=99,showZero:l=!1}=t,c=de(t,Dze),{badgeContent:d,max:p,displayValue:f,invisible:y}=Fze(E({},t,{max:a})),g=E({},t,{badgeContent:d,invisible:y,max:p,showZero:l}),v=zze(g),b=n||o.Root||"span",w=i_({elementType:b,externalSlotProps:s.root,externalForwardedProps:c,additionalProps:{ref:r},ownerState:g,className:v.root}),x=o.Badge||"span",S=i_({elementType:x,externalSlotProps:s.badge,ownerState:g,className:v.badge});return ot(b,E({},w,{children:[i,z(x,E({},S,{children:f}))]}))}),jze=Vze;function C7(e){return e.substring(2).toLowerCase()}function Bze(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function tse(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=_.exports.useRef(!1),a=_.exports.useRef(null),l=_.exports.useRef(!1),c=_.exports.useRef(!1);_.exports.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const d=Xt(t.ref,a),p=wi(g=>{const v=c.current;c.current=!1;const b=Cn(a.current);if(!l.current||!a.current||"clientX"in g&&Bze(g,b))return;if(s.current){s.current=!1;return}let w;g.composedPath?w=g.composedPath().indexOf(a.current)>-1:w=!b.documentElement.contains(g.target)||a.current.contains(g.target),!w&&(r||!v)&&i(g)}),f=g=>v=>{c.current=!0;const b=t.props[g];b&&b(v)},y={ref:d};return o!==!1&&(y[o]=f(o)),_.exports.useEffect(()=>{if(o!==!1){const g=C7(o),v=Cn(a.current),b=()=>{s.current=!0};return v.addEventListener(g,p),v.addEventListener("touchmove",b),()=>{v.removeEventListener(g,p),v.removeEventListener("touchmove",b)}}},[p,o]),n!==!1&&(y[n]=f(n)),_.exports.useEffect(()=>{if(n!==!1){const g=C7(n),v=Cn(a.current);return v.addEventListener(g,p),()=>{v.removeEventListener(g,p)}}},[p,n]),z(_.exports.Fragment,{children:_.exports.cloneElement(t,y)})}var Uo="top",$a="bottom",Ea="right",Go="left",lz="auto",sx=[Uo,$a,Ea,Go],x0="start",o_="end",Uze="clippingParents",rse="viewport",tb="popper",Gze="reference",$7=sx.reduce(function(e,t){return e.concat([t+"-"+x0,t+"-"+o_])},[]),nse=[].concat(sx,[lz]).reduce(function(e,t){return e.concat([t,t+"-"+x0,t+"-"+o_])},[]),Hze="beforeRead",qze="read",Wze="afterRead",Kze="beforeMain",Jze="main",Zze="afterMain",Yze="beforeWrite",Qze="write",Xze="afterWrite",eVe=[Hze,qze,Wze,Kze,Jze,Zze,Yze,Qze,Xze];function kc(e){return e?(e.nodeName||"").toLowerCase():null}function Ma(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function fm(e){var t=Ma(e).Element;return e instanceof t||e instanceof Element}function ya(e){var t=Ma(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function cz(e){if(typeof ShadowRoot>"u")return!1;var t=Ma(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function tVe(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!ya(o)||!kc(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function rVe(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),a=s.reduce(function(l,c){return l[c]="",l},{});!ya(i)||!kc(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const nVe={name:"applyStyles",enabled:!0,phase:"write",fn:tVe,effect:rVe,requires:["computeStyles"]};function xc(e){return e.split("-")[0]}var qf=Math.max,PE=Math.min,S0=Math.round;function EF(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ise(){return!/^((?!chrome|android).)*safari/i.test(EF())}function C0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&ya(e)&&(i=e.offsetWidth>0&&S0(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&S0(n.height)/e.offsetHeight||1);var s=fm(e)?Ma(e):window,a=s.visualViewport,l=!ise()&&r,c=(n.left+(l&&a?a.offsetLeft:0))/i,d=(n.top+(l&&a?a.offsetTop:0))/o,p=n.width/i,f=n.height/o;return{width:p,height:f,top:d,right:c+p,bottom:d+f,left:c,x:c,y:d}}function uz(e){var t=C0(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function ose(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&cz(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Gu(e){return Ma(e).getComputedStyle(e)}function iVe(e){return["table","td","th"].indexOf(kc(e))>=0}function nh(e){return((fm(e)?e.ownerDocument:e.document)||window.document).documentElement}function VM(e){return kc(e)==="html"?e:e.assignedSlot||e.parentNode||(cz(e)?e.host:null)||nh(e)}function E7(e){return!ya(e)||Gu(e).position==="fixed"?null:e.offsetParent}function oVe(e){var t=/firefox/i.test(EF()),r=/Trident/i.test(EF());if(r&&ya(e)){var n=Gu(e);if(n.position==="fixed")return null}var i=VM(e);for(cz(i)&&(i=i.host);ya(i)&&["html","body"].indexOf(kc(i))<0;){var o=Gu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ax(e){for(var t=Ma(e),r=E7(e);r&&iVe(r)&&Gu(r).position==="static";)r=E7(r);return r&&(kc(r)==="html"||kc(r)==="body"&&Gu(r).position==="static")?t:r||oVe(e)||t}function dz(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Jw(e,t,r){return qf(e,PE(t,r))}function sVe(e,t,r){var n=Jw(e,t,r);return n>r?r:n}function sse(){return{top:0,right:0,bottom:0,left:0}}function ase(e){return Object.assign({},sse(),e)}function lse(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var aVe=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,ase(typeof t!="number"?t:lse(t,sx))};function lVe(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=xc(r.placement),l=dz(a),c=[Go,Ea].indexOf(a)>=0,d=c?"height":"width";if(!(!o||!s)){var p=aVe(i.padding,r),f=uz(o),y=l==="y"?Uo:Go,g=l==="y"?$a:Ea,v=r.rects.reference[d]+r.rects.reference[l]-s[l]-r.rects.popper[d],b=s[l]-r.rects.reference[l],w=ax(o),x=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,S=v/2-b/2,C=p[y],$=x-f[d]-p[g],M=x/2-f[d]/2+S,I=Jw(C,M,$),T=l;r.modifiersData[n]=(t={},t[T]=I,t.centerOffset=I-M,t)}}function cVe(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!ose(t.elements.popper,i)||(t.elements.arrow=i))}const uVe={name:"arrow",enabled:!0,phase:"main",fn:lVe,effect:cVe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $0(e){return e.split("-")[1]}var dVe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pVe(e){var t=e.x,r=e.y,n=window,i=n.devicePixelRatio||1;return{x:S0(t*i)/i||0,y:S0(r*i)/i||0}}function I7(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,p=e.isFixed,f=s.x,y=f===void 0?0:f,g=s.y,v=g===void 0?0:g,b=typeof d=="function"?d({x:y,y:v}):{x:y,y:v};y=b.x,v=b.y;var w=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),S=Go,C=Uo,$=window;if(c){var M=ax(r),I="clientHeight",T="clientWidth";if(M===Ma(r)&&(M=nh(r),Gu(M).position!=="static"&&a==="absolute"&&(I="scrollHeight",T="scrollWidth")),M=M,i===Uo||(i===Go||i===Ea)&&o===o_){C=$a;var O=p&&M===$&&$.visualViewport?$.visualViewport.height:M[I];v-=O-n.height,v*=l?1:-1}if(i===Go||(i===Uo||i===$a)&&o===o_){S=Ea;var L=p&&M===$&&$.visualViewport?$.visualViewport.width:M[T];y-=L-n.width,y*=l?1:-1}}var N=Object.assign({position:a},c&&dVe),H=d===!0?pVe({x:y,y:v}):{x:y,y:v};if(y=H.x,v=H.y,l){var F;return Object.assign({},N,(F={},F[C]=x?"0":"",F[S]=w?"0":"",F.transform=($.devicePixelRatio||1)<=1?"translate("+y+"px, "+v+"px)":"translate3d("+y+"px, "+v+"px, 0)",F))}return Object.assign({},N,(t={},t[C]=x?v+"px":"",t[S]=w?y+"px":"",t.transform="",t))}function hVe(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:xc(t.placement),variation:$0(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,I7(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,I7(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const fVe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hVe,data:{}};var qS={passive:!0};function mVe(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,a=s===void 0?!0:s,l=Ma(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",r.update,qS)}),a&&l.addEventListener("resize",r.update,qS),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",r.update,qS)}),a&&l.removeEventListener("resize",r.update,qS)}}const yVe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mVe,data:{}};var gVe={left:"right",right:"left",bottom:"top",top:"bottom"};function T$(e){return e.replace(/left|right|bottom|top/g,function(t){return gVe[t]})}var vVe={start:"end",end:"start"};function M7(e){return e.replace(/start|end/g,function(t){return vVe[t]})}function pz(e){var t=Ma(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function hz(e){return C0(nh(e)).left+pz(e).scrollLeft}function bVe(e,t){var r=Ma(e),n=nh(e),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=ise();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+hz(e),y:l}}function wVe(e){var t,r=nh(e),n=pz(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=qf(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=qf(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+hz(e),l=-n.scrollTop;return Gu(i||r).direction==="rtl"&&(a+=qf(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function fz(e){var t=Gu(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function cse(e){return["html","body","#document"].indexOf(kc(e))>=0?e.ownerDocument.body:ya(e)&&fz(e)?e:cse(VM(e))}function Zw(e,t){var r;t===void 0&&(t=[]);var n=cse(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=Ma(n),s=i?[o].concat(o.visualViewport||[],fz(n)?n:[]):n,a=t.concat(s);return i?a:a.concat(Zw(VM(s)))}function IF(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _Ve(e,t){var r=C0(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function T7(e,t,r){return t===rse?IF(bVe(e,r)):fm(t)?_Ve(t,r):IF(wVe(nh(e)))}function xVe(e){var t=Zw(VM(e)),r=["absolute","fixed"].indexOf(Gu(e).position)>=0,n=r&&ya(e)?ax(e):e;return fm(n)?t.filter(function(i){return fm(i)&&ose(i,n)&&kc(i)!=="body"}):[]}function SVe(e,t,r,n){var i=t==="clippingParents"?xVe(e):[].concat(t),o=[].concat(i,[r]),s=o[0],a=o.reduce(function(l,c){var d=T7(e,c,n);return l.top=qf(d.top,l.top),l.right=PE(d.right,l.right),l.bottom=PE(d.bottom,l.bottom),l.left=qf(d.left,l.left),l},T7(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function use(e){var t=e.reference,r=e.element,n=e.placement,i=n?xc(n):null,o=n?$0(n):null,s=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,l;switch(i){case Uo:l={x:s,y:t.y-r.height};break;case $a:l={x:s,y:t.y+t.height};break;case Ea:l={x:t.x+t.width,y:a};break;case Go:l={x:t.x-r.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?dz(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case x0:l[c]=l[c]-(t[d]/2-r[d]/2);break;case o_:l[c]=l[c]+(t[d]/2-r[d]/2);break}}return l}function s_(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,s=o===void 0?e.strategy:o,a=r.boundary,l=a===void 0?Uze:a,c=r.rootBoundary,d=c===void 0?rse:c,p=r.elementContext,f=p===void 0?tb:p,y=r.altBoundary,g=y===void 0?!1:y,v=r.padding,b=v===void 0?0:v,w=ase(typeof b!="number"?b:lse(b,sx)),x=f===tb?Gze:tb,S=e.rects.popper,C=e.elements[g?x:f],$=SVe(fm(C)?C:C.contextElement||nh(e.elements.popper),l,d,s),M=C0(e.elements.reference),I=use({reference:M,element:S,strategy:"absolute",placement:i}),T=IF(Object.assign({},S,I)),O=f===tb?T:M,L={top:$.top-O.top+w.top,bottom:O.bottom-$.bottom+w.bottom,left:$.left-O.left+w.left,right:O.right-$.right+w.right},N=e.modifiersData.offset;if(f===tb&&N){var H=N[i];Object.keys(L).forEach(function(F){var k=[Ea,$a].indexOf(F)>=0?1:-1,P=[Uo,$a].indexOf(F)>=0?"y":"x";L[F]+=H[P]*k})}return L}function CVe(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?nse:l,d=$0(n),p=d?a?$7:$7.filter(function(g){return $0(g)===d}):sx,f=p.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=p);var y=f.reduce(function(g,v){return g[v]=s_(e,{placement:v,boundary:i,rootBoundary:o,padding:s})[xc(v)],g},{});return Object.keys(y).sort(function(g,v){return y[g]-y[v]})}function $Ve(e){if(xc(e)===lz)return[];var t=T$(e);return[M7(e),t,M7(t)]}function EVe(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!0:s,l=r.fallbackPlacements,c=r.padding,d=r.boundary,p=r.rootBoundary,f=r.altBoundary,y=r.flipVariations,g=y===void 0?!0:y,v=r.allowedAutoPlacements,b=t.options.placement,w=xc(b),x=w===b,S=l||(x||!g?[T$(b)]:$Ve(b)),C=[b].concat(S).reduce(function(ce,le){return ce.concat(xc(le)===lz?CVe(t,{placement:le,boundary:d,rootBoundary:p,padding:c,flipVariations:g,allowedAutoPlacements:v}):le)},[]),$=t.rects.reference,M=t.rects.popper,I=new Map,T=!0,O=C[0],L=0;L<C.length;L++){var N=C[L],H=xc(N),F=$0(N)===x0,k=[Uo,$a].indexOf(H)>=0,P=k?"width":"height",R=s_(t,{placement:N,boundary:d,rootBoundary:p,altBoundary:f,padding:c}),j=k?F?Ea:Go:F?$a:Uo;$[P]>M[P]&&(j=T$(j));var A=T$(j),U=[];if(o&&U.push(R[H]<=0),a&&U.push(R[j]<=0,R[A]<=0),U.every(function(ce){return ce})){O=N,T=!1;break}I.set(N,U)}if(T)for(var q=g?3:1,J=function(le){var Ie=C.find(function(Ue){var pe=I.get(Ue);if(pe)return pe.slice(0,le).every(function(ye){return ye})});if(Ie)return O=Ie,"break"},Q=q;Q>0;Q--){var se=J(Q);if(se==="break")break}t.placement!==O&&(t.modifiersData[n]._skip=!0,t.placement=O,t.reset=!0)}}const IVe={name:"flip",enabled:!0,phase:"main",fn:EVe,requiresIfExists:["offset"],data:{_skip:!1}};function k7(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function P7(e){return[Uo,Ea,$a,Go].some(function(t){return e[t]>=0})}function MVe(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=s_(t,{elementContext:"reference"}),a=s_(t,{altBoundary:!0}),l=k7(s,n),c=k7(a,i,o),d=P7(l),p=P7(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const TVe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:MVe};function kVe(e,t,r){var n=xc(e),i=[Go,Uo].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Go,Ea].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function PVe(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,s=nse.reduce(function(d,p){return d[p]=kVe(p,t.rects,o),d},{}),a=s[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}const OVe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:PVe};function LVe(e){var t=e.state,r=e.name;t.modifiersData[r]=use({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const RVe={name:"popperOffsets",enabled:!0,phase:"read",fn:LVe,data:{}};function AVe(e){return e==="x"?"y":"x"}function FVe(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!1:s,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,p=r.padding,f=r.tether,y=f===void 0?!0:f,g=r.tetherOffset,v=g===void 0?0:g,b=s_(t,{boundary:l,rootBoundary:c,padding:p,altBoundary:d}),w=xc(t.placement),x=$0(t.placement),S=!x,C=dz(w),$=AVe(C),M=t.modifiersData.popperOffsets,I=t.rects.reference,T=t.rects.popper,O=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,L=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(!!M){if(o){var F,k=C==="y"?Uo:Go,P=C==="y"?$a:Ea,R=C==="y"?"height":"width",j=M[C],A=j+b[k],U=j-b[P],q=y?-T[R]/2:0,J=x===x0?I[R]:T[R],Q=x===x0?-T[R]:-I[R],se=t.elements.arrow,ce=y&&se?uz(se):{width:0,height:0},le=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:sse(),Ie=le[k],Ue=le[P],pe=Jw(0,I[R],ce[R]),ye=S?I[R]/2-q-pe-Ie-L.mainAxis:J-pe-Ie-L.mainAxis,he=S?-I[R]/2+q+pe+Ue+L.mainAxis:Q+pe+Ue+L.mainAxis,Me=t.elements.arrow&&ax(t.elements.arrow),Ge=Me?C==="y"?Me.clientTop||0:Me.clientLeft||0:0,Ee=(F=N==null?void 0:N[C])!=null?F:0,tt=j+ye-Ee-Ge,Ye=j+he-Ee,je=Jw(y?PE(A,tt):A,j,y?qf(U,Ye):U);M[C]=je,H[C]=je-j}if(a){var Ke,Ct=C==="x"?Uo:Go,Ft=C==="x"?$a:Ea,yt=M[$],Lt=$==="y"?"height":"width",yr=yt+b[Ct],Gr=yt-b[Ft],Mr=[Uo,Go].indexOf(w)!==-1,Cr=(Ke=N==null?void 0:N[$])!=null?Ke:0,Gt=Mr?yr:yt-I[Lt]-T[Lt]-Cr+L.altAxis,Ne=Mr?yt+I[Lt]+T[Lt]-Cr-L.altAxis:Gr,ke=y&&Mr?sVe(Gt,yt,Ne):Jw(y?Gt:yr,yt,y?Ne:Gr);M[$]=ke,H[$]=ke-yt}t.modifiersData[n]=H}}const NVe={name:"preventOverflow",enabled:!0,phase:"main",fn:FVe,requiresIfExists:["offset"]};function DVe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function zVe(e){return e===Ma(e)||!ya(e)?pz(e):DVe(e)}function VVe(e){var t=e.getBoundingClientRect(),r=S0(t.width)/e.offsetWidth||1,n=S0(t.height)/e.offsetHeight||1;return r!==1||n!==1}function jVe(e,t,r){r===void 0&&(r=!1);var n=ya(t),i=ya(t)&&VVe(t),o=nh(t),s=C0(e,i,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((kc(t)!=="body"||fz(o))&&(a=zVe(t)),ya(t)?(l=C0(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=hz(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function BVe(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var l=t.get(a);l&&i(l)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function UVe(e){var t=BVe(e);return eVe.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function GVe(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function HVe(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var O7={placement:"bottom",modifiers:[],strategy:"absolute"};function L7(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function qVe(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?O7:i;return function(a,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},O7,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],f=!1,y={state:d,setOptions:function(w){var x=typeof w=="function"?w(d.options):w;v(),d.options=Object.assign({},o,d.options,x),d.scrollParents={reference:fm(a)?Zw(a):a.contextElement?Zw(a.contextElement):[],popper:Zw(l)};var S=UVe(HVe([].concat(n,d.options.modifiers)));return d.orderedModifiers=S.filter(function(C){return C.enabled}),g(),y.update()},forceUpdate:function(){if(!f){var w=d.elements,x=w.reference,S=w.popper;if(!!L7(x,S)){d.rects={reference:jVe(x,ax(S),d.options.strategy==="fixed"),popper:uz(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(L){return d.modifiersData[L.name]=Object.assign({},L.data)});for(var C=0;C<d.orderedModifiers.length;C++){if(d.reset===!0){d.reset=!1,C=-1;continue}var $=d.orderedModifiers[C],M=$.fn,I=$.options,T=I===void 0?{}:I,O=$.name;typeof M=="function"&&(d=M({state:d,options:T,name:O,instance:y})||d)}}}},update:GVe(function(){return new Promise(function(b){y.forceUpdate(),b(d)})}),destroy:function(){v(),f=!0}};if(!L7(a,l))return y;y.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function g(){d.orderedModifiers.forEach(function(b){var w=b.name,x=b.options,S=x===void 0?{}:x,C=b.effect;if(typeof C=="function"){var $=C({state:d,name:w,instance:y,options:S}),M=function(){};p.push($||M)}})}function v(){p.forEach(function(b){return b()}),p=[]}return y}}var WVe=[yVe,RVe,fVe,nVe,OVe,IVe,NVe,uVe,TVe],KVe=qVe({defaultModifiers:WVe});function JVe(e){return typeof e=="function"?e():e}const ZVe=_.exports.forwardRef(function(t,r){const{children:n,container:i,disablePortal:o=!1}=t,[s,a]=_.exports.useState(null),l=Xt(_.exports.isValidElement(n)?n.ref:null,r);return pi(()=>{o||a(JVe(i)||document.body)},[i,o]),pi(()=>{if(s&&!o)return X1(r,s),()=>{X1(r,null)}},[r,s,o]),o?_.exports.isValidElement(n)?_.exports.cloneElement(n,{ref:l}):n:s&&bm.exports.createPortal(n,s)}),dse=ZVe;function YVe(e){return It("MuiPopperUnstyled",e)}_t("MuiPopperUnstyled",["root"]);const QVe=["anchorEl","children","component","components","componentsProps","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","TransitionProps"],XVe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function e6e(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function MF(e){return typeof e=="function"?e():e}const t6e=()=>Fe({root:["root"]},YVe,{}),r6e={},n6e=_.exports.forwardRef(function(t,r){var n;const{anchorEl:i,children:o,component:s,components:a={},componentsProps:l={},direction:c,disablePortal:d,modifiers:p,open:f,ownerState:y,placement:g,popperOptions:v,popperRef:b,TransitionProps:w}=t,x=de(t,QVe),S=_.exports.useRef(null),C=Xt(S,r),$=_.exports.useRef(null),M=Xt($,b),I=_.exports.useRef(M);pi(()=>{I.current=M},[M]),_.exports.useImperativeHandle(b,()=>$.current,[]);const T=e6e(g,c),[O,L]=_.exports.useState(T);_.exports.useEffect(()=>{$.current&&$.current.forceUpdate()}),pi(()=>{if(!i||!f)return;const P=A=>{L(A.placement)};MF(i);let R=[{name:"preventOverflow",options:{altBoundary:d}},{name:"flip",options:{altBoundary:d}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:A})=>{P(A)}}];p!=null&&(R=R.concat(p)),v&&v.modifiers!=null&&(R=R.concat(v.modifiers));const j=KVe(MF(i),S.current,E({placement:T},v,{modifiers:R}));return I.current(j),()=>{j.destroy(),I.current(null)}},[i,d,p,f,v,T]);const N={placement:O};w!==null&&(N.TransitionProps=w);const H=t6e(),F=(n=s!=null?s:a.Root)!=null?n:"div",k=i_({elementType:F,externalSlotProps:l.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:C},ownerState:E({},t,y),className:H.root});return z(F,E({},k,{children:typeof o=="function"?o(N):o}))}),i6e=_.exports.forwardRef(function(t,r){const{anchorEl:n,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:d,placement:p="bottom",popperOptions:f=r6e,popperRef:y,style:g,transition:v=!1}=t,b=de(t,XVe),[w,x]=_.exports.useState(!0),S=()=>{x(!1)},C=()=>{x(!0)};if(!l&&!d&&(!v||w))return null;const $=o||(n?Cn(MF(n)).body:void 0);return z(dse,{disablePortal:a,container:$,children:z(n6e,E({anchorEl:n,direction:s,disablePortal:a,modifiers:c,ref:r,open:v?!w:d,placement:p,popperOptions:f,popperRef:y},b,{style:E({position:"fixed",top:0,left:0,display:!d&&l&&(!v||w)?"none":null},g),TransitionProps:v?{in:d,onEnter:S,onExited:C}:null,children:i}))})}),o6e=i6e;function s6e(e){const t=Cn(e);return t.body===e?Uu(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Yw(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function R7(e){return parseInt(Uu(e).getComputedStyle(e).paddingRight,10)||0}function a6e(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function A7(e,t,r,n=[],i){const o=[t,r,...n];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,l=!a6e(s);a&&l&&Yw(s,i)})}function EP(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function l6e(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(s6e(n)){const s=foe(Cn(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${R7(n)+s}px`;const a=Cn(n).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${R7(l)+s}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=Cn(n).body;else{const s=n.parentElement,a=Uu(n);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function c6e(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class u6e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Yw(t.modalRef,!1);const i=c6e(r);A7(r,t.mount,t.modalRef,i,!0);const o=EP(this.containers,s=>s.container===r);return o!==-1?(this.containers[o].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=EP(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[n];i.restore||(i.restore=l6e(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=EP(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&Yw(t.modalRef,r),A7(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Yw(s.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const d6e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function p6e(e){const t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function h6e(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function f6e(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||h6e(e))}function m6e(e){const t=[],r=[];return Array.from(e.querySelectorAll(d6e)).forEach((n,i)=>{const o=p6e(n);o===-1||!f6e(n)||(o===0?t.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function y6e(){return!0}function pse(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=m6e,isEnabled:s=y6e,open:a}=e,l=_.exports.useRef(),c=_.exports.useRef(null),d=_.exports.useRef(null),p=_.exports.useRef(null),f=_.exports.useRef(null),y=_.exports.useRef(!1),g=_.exports.useRef(null),v=Xt(t.ref,g),b=_.exports.useRef(null);_.exports.useEffect(()=>{!a||!g.current||(y.current=!r)},[r,a]),_.exports.useEffect(()=>{if(!a||!g.current)return;const S=Cn(g.current);return g.current.contains(S.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),y.current&&g.current.focus()),()=>{i||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[a]),_.exports.useEffect(()=>{if(!a||!g.current)return;const S=Cn(g.current),C=I=>{const{current:T}=g;if(T!==null){if(!S.hasFocus()||n||!s()||l.current){l.current=!1;return}if(!T.contains(S.activeElement)){if(I&&f.current!==I.target||S.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!y.current)return;let N=[];if((S.activeElement===c.current||S.activeElement===d.current)&&(N=o(g.current)),N.length>0){var O,L;const H=Boolean(((O=b.current)==null?void 0:O.shiftKey)&&((L=b.current)==null?void 0:L.key)==="Tab"),F=N[0],k=N[N.length-1];H?k.focus():F.focus()}else T.focus()}}},$=I=>{b.current=I,!(n||!s()||I.key!=="Tab")&&S.activeElement===g.current&&I.shiftKey&&(l.current=!0,d.current.focus())};S.addEventListener("focusin",C),S.addEventListener("keydown",$,!0);const M=setInterval(()=>{S.activeElement.tagName==="BODY"&&C()},50);return()=>{clearInterval(M),S.removeEventListener("focusin",C),S.removeEventListener("keydown",$,!0)}},[r,n,i,s,a,o]);const w=S=>{p.current===null&&(p.current=S.relatedTarget),y.current=!0,f.current=S.target;const C=t.props.onFocus;C&&C(S)},x=S=>{p.current===null&&(p.current=S.relatedTarget),y.current=!0};return ot(_.exports.Fragment,{children:[z("div",{tabIndex:a?0:-1,onFocus:x,ref:c,"data-testid":"sentinelStart"}),_.exports.cloneElement(t,{ref:v,onFocus:w}),z("div",{tabIndex:a?0:-1,onFocus:x,ref:d,"data-testid":"sentinelEnd"})]})}function g6e(e){return It("MuiModal",e)}_t("MuiModal",["root","hidden"]);const v6e=["children","classes","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"],b6e=e=>{const{open:t,exited:r,classes:n}=e;return Fe({root:["root",!t&&r&&"hidden"]},g6e,n)};function w6e(e){return typeof e=="function"?e():e}function _6e(e){return e.children?e.children.props.hasOwnProperty("in"):!1}const x6e=new u6e,S6e=_.exports.forwardRef(function(t,r){var n;const{children:i,classes:o,closeAfterTransition:s=!1,component:a="div",components:l={},componentsProps:c={},container:d,disableAutoFocus:p=!1,disableEnforceFocus:f=!1,disableEscapeKeyDown:y=!1,disablePortal:g=!1,disableRestoreFocus:v=!1,disableScrollLock:b=!1,hideBackdrop:w=!1,keepMounted:x=!1,manager:S=x6e,onBackdropClick:C,onClose:$,onKeyDown:M,open:I,onTransitionEnter:T,onTransitionExited:O}=t,L=de(t,v6e),[N,H]=_.exports.useState(!0),F=_.exports.useRef({}),k=_.exports.useRef(null),P=_.exports.useRef(null),R=Xt(P,r),j=_6e(t),A=(n=t["aria-hidden"])!=null?n:!0,U=()=>Cn(k.current),q=()=>(F.current.modalRef=P.current,F.current.mountNode=k.current,F.current),J=()=>{S.mount(q(),{disableScrollLock:b}),P.current.scrollTop=0},Q=wi(()=>{const Ke=w6e(d)||U().body;S.add(q(),Ke),P.current&&J()}),se=_.exports.useCallback(()=>S.isTopModal(q()),[S]),ce=wi(Ke=>{k.current=Ke,Ke&&(I&&se()?J():Yw(P.current,A))}),le=_.exports.useCallback(()=>{S.remove(q(),A)},[S,A]);_.exports.useEffect(()=>()=>{le()},[le]),_.exports.useEffect(()=>{I?Q():(!j||!s)&&le()},[I,le,j,s,Q]);const Ie=E({},t,{classes:o,closeAfterTransition:s,disableAutoFocus:p,disableEnforceFocus:f,disableEscapeKeyDown:y,disablePortal:g,disableRestoreFocus:v,disableScrollLock:b,exited:N,hideBackdrop:w,keepMounted:x}),Ue=b6e(Ie),pe=()=>{H(!1),T&&T()},ye=()=>{H(!0),O&&O(),s&&le()},he=Ke=>{Ke.target===Ke.currentTarget&&(C&&C(Ke),$&&$(Ke,"backdropClick"))},Me=Ke=>{M&&M(Ke),!(Ke.key!=="Escape"||!se())&&(y||(Ke.stopPropagation(),$&&$(Ke,"escapeKeyDown")))},Ge={};i.props.tabIndex===void 0&&(Ge.tabIndex="-1"),j&&(Ge.onEnter=t7(pe,i.props.onEnter),Ge.onExited=t7(ye,i.props.onExited));const Ee=l.Root||a,tt=i_({elementType:Ee,externalSlotProps:c.root,externalForwardedProps:L,additionalProps:{ref:R,role:"presentation",onKeyDown:Me},className:Ue.root,ownerState:Ie}),Ye=l.Backdrop,je=i_({elementType:Ye,externalSlotProps:c.backdrop,additionalProps:{"aria-hidden":!0,onClick:he,open:I},ownerState:Ie});return!x&&!I&&(!j||N)?null:z(dse,{ref:ce,container:d,disablePortal:g,children:ot(Ee,E({},tt,{children:[!w&&Ye?z(Ye,E({},je)):null,z(pse,{disableEnforceFocus:f,disableAutoFocus:p,disableRestoreFocus:v,isEnabled:se,open:I,children:_.exports.cloneElement(i,Ge)})]}))})}),C6e=S6e,$6e=["onChange","maxRows","minRows","style","value"];function WS(e,t){return parseInt(e[t],10)||0}const E6e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function F7(e){return e==null||Object.keys(e).length===0}const I6e=_.exports.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:o=1,style:s,value:a}=t,l=de(t,$6e),{current:c}=_.exports.useRef(a!=null),d=_.exports.useRef(null),p=Xt(r,d),f=_.exports.useRef(null),y=_.exports.useRef(0),[g,v]=_.exports.useState({}),b=_.exports.useCallback(()=>{const $=d.current,I=Uu($).getComputedStyle($);if(I.width==="0px")return{};const T=f.current;T.style.width=I.width,T.value=$.value||t.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const O=I["box-sizing"],L=WS(I,"padding-bottom")+WS(I,"padding-top"),N=WS(I,"border-bottom-width")+WS(I,"border-top-width"),H=T.scrollHeight;T.value="x";const F=T.scrollHeight;let k=H;o&&(k=Math.max(Number(o)*F,k)),i&&(k=Math.min(Number(i)*F,k)),k=Math.max(k,F);const P=k+(O==="border-box"?L+N:0),R=Math.abs(k-H)<=1;return{outerHeightStyle:P,overflow:R}},[i,o,t.placeholder]),w=($,M)=>{const{outerHeightStyle:I,overflow:T}=M;return y.current<20&&(I>0&&Math.abs(($.outerHeightStyle||0)-I)>1||$.overflow!==T)?(y.current+=1,{overflow:T,outerHeightStyle:I}):$},x=_.exports.useCallback(()=>{const $=b();F7($)||v(M=>w(M,$))},[b]),S=()=>{const $=b();F7($)||bm.exports.flushSync(()=>{v(M=>w(M,$))})};_.exports.useEffect(()=>{const $=ex(()=>{y.current=0,d.current&&S()}),M=Uu(d.current);M.addEventListener("resize",$);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver($),I.observe(d.current)),()=>{$.clear(),M.removeEventListener("resize",$),I&&I.disconnect()}}),pi(()=>{x()}),_.exports.useEffect(()=>{y.current=0},[a]);const C=$=>{y.current=0,c||x(),n&&n($)};return ot(_.exports.Fragment,{children:[z("textarea",E({value:a,onChange:C,ref:p,rows:o,style:E({height:g.outerHeightStyle,overflow:g.overflow?"hidden":null},s)},l)),z("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:f,tabIndex:-1,style:E({},E6e.shadow,s,{padding:0})})]})}),M6e=I6e;function T6e(e,t){return E({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const k6e=["mode","contrastThreshold","tonalOffset"],N7={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:e_.white,default:e_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},IP={text:{primary:e_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:e_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function D7(e,t,r,n){const i=n.light||n,o=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=cv(e.main,i):t==="dark"&&(e.dark=lv(e.main,o)))}function P6e(e="light"){return e==="dark"?{main:ey[200],light:ey[50],dark:ey[400]}:{main:ey[700],light:ey[400],dark:ey[800]}}function O6e(e="light"){return e==="dark"?{main:Xm[200],light:Xm[50],dark:Xm[400]}:{main:Xm[500],light:Xm[300],dark:Xm[700]}}function L6e(e="light"){return e==="dark"?{main:Qm[500],light:Qm[300],dark:Qm[700]}:{main:Qm[700],light:Qm[400],dark:Qm[800]}}function R6e(e="light"){return e==="dark"?{main:ty[400],light:ty[300],dark:ty[700]}:{main:ty[700],light:ty[500],dark:ty[900]}}function A6e(e="light"){return e==="dark"?{main:ry[400],light:ry[300],dark:ry[700]}:{main:ry[800],light:ry[500],dark:ry[900]}}function F6e(e="light"){return e==="dark"?{main:Qv[400],light:Qv[300],dark:Qv[700]}:{main:"#ed6c02",light:Qv[500],dark:Qv[900]}}function N6e(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=de(e,k6e),o=e.primary||P6e(t),s=e.secondary||O6e(t),a=e.error||L6e(t),l=e.info||R6e(t),c=e.success||A6e(t),d=e.warning||F6e(t);function p(v){return kze(v,IP.text.primary)>=r?IP.text.primary:N7.text.primary}const f=({color:v,name:b,mainShade:w=500,lightShade:x=300,darkShade:S=700})=>{if(v=E({},v),!v.main&&v[w]&&(v.main=v[w]),!v.hasOwnProperty("main"))throw new Error(Wp(11,b?` (${b})`:"",w));if(typeof v.main!="string")throw new Error(Wp(12,b?` (${b})`:"",JSON.stringify(v.main)));return D7(v,"light",x,n),D7(v,"dark",S,n),v.contrastText||(v.contrastText=p(v.main)),v},y={dark:IP,light:N7};return ma(E({common:E({},e_),mode:t,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:fDe,contrastThreshold:r,getContrastText:p,augmentColor:f,tonalOffset:n},y[t]),i)}const D6e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function z6e(e){return Math.round(e*1e5)/1e5}const z7={textTransform:"uppercase"},V7='"Roboto", "Helvetica", "Arial", sans-serif';function V6e(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=V7,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:p}=r,f=de(r,D6e),y=i/14,g=p||(w=>`${w/c*y}rem`),v=(w,x,S,C,$)=>E({fontFamily:n,fontWeight:w,fontSize:g(x),lineHeight:S},n===V7?{letterSpacing:`${z6e(C/x)}em`}:{},$,d),b={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,z7),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,z7)};return ma(E({htmlFontSize:c,pxToRem:g,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},b),f,{clone:!1})}const j6e=.2,B6e=.14,U6e=.12;function Hr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${j6e})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${B6e})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${U6e})`].join(",")}const G6e=["none",Hr(0,2,1,-1,0,1,1,0,0,1,3,0),Hr(0,3,1,-2,0,2,2,0,0,1,5,0),Hr(0,3,3,-2,0,3,4,0,0,1,8,0),Hr(0,2,4,-1,0,4,5,0,0,1,10,0),Hr(0,3,5,-1,0,5,8,0,0,1,14,0),Hr(0,3,5,-1,0,6,10,0,0,1,18,0),Hr(0,4,5,-2,0,7,10,1,0,2,16,1),Hr(0,5,5,-3,0,8,10,1,0,3,14,2),Hr(0,5,6,-3,0,9,12,1,0,3,16,2),Hr(0,6,6,-3,0,10,14,1,0,4,18,3),Hr(0,6,7,-4,0,11,15,1,0,4,20,3),Hr(0,7,8,-4,0,12,17,2,0,5,22,4),Hr(0,7,8,-4,0,13,19,2,0,5,24,4),Hr(0,7,9,-4,0,14,21,2,0,5,26,4),Hr(0,8,9,-5,0,15,22,2,0,6,28,5),Hr(0,8,10,-5,0,16,24,2,0,6,30,5),Hr(0,8,11,-5,0,17,26,2,0,6,32,5),Hr(0,9,11,-5,0,18,28,2,0,7,34,6),Hr(0,9,12,-6,0,19,29,2,0,7,36,6),Hr(0,10,13,-6,0,20,31,3,0,8,38,7),Hr(0,10,13,-6,0,21,33,3,0,8,40,7),Hr(0,10,14,-6,0,22,35,3,0,8,42,7),Hr(0,11,14,-7,0,23,36,3,0,9,44,8),Hr(0,11,15,-7,0,24,38,3,0,9,46,8)],H6e=G6e,q6e=["duration","easing","delay"],W6e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},K6e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function j7(e){return`${Math.round(e)}ms`}function J6e(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Z6e(e){const t=E({},W6e,e.easing),r=E({},K6e,e.duration);return E({getAutoHeightDuration:J6e,create:(i=["all"],o={})=>{const{duration:s=r.standard,easing:a=t.easeInOut,delay:l=0}=o;return de(o,q6e),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:j7(s)} ${a} ${typeof l=="string"?l:j7(l)}`).join(",")}},e,{easing:t,duration:r})}const Y6e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Q6e=Y6e,X6e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function eje(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:o={}}=e,s=de(e,X6e);if(e.vars)throw new Error(Wp(18));const a=N6e(n),l=sz(e);let c=ma(l,{mixins:T6e(l.breakpoints,r),palette:a,shadows:H6e.slice(),typography:V6e(a,o),transitions:Z6e(i),zIndex:E({},Q6e)});return c=ma(c,s),c=t.reduce((d,p)=>ma(d,p),c),c}const tje=eje(),jM=tje;function lx(){return Qoe(jM)}function Vt({props:e,name:t}){return Ize({props:e,name:t,defaultTheme:jM})}const kl=e=>Kw(e)&&e!=="classes",rje=Kw,nje=$ze({defaultTheme:jM,rootShouldForwardProp:kl}),me=nje;function ije(e){return It("MuiPaper",e)}_t("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const oje=["className","component","elevation","square","variant"],B7=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},sje=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return Fe(o,ije,i)},aje=me("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return E({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&E({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${St("#fff",B7(t.elevation))}, ${St("#fff",B7(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),lje=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=n,c=de(n,oje),d=E({},n,{component:o,elevation:s,square:a,variant:l}),p=sje(d);return z(aje,E({as:o,ownerState:d,className:Se(p.root,i),ref:r},c))}),uv=lje;function cje(e){return It("MuiSvgIcon",e)}_t("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const uje=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],dje=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${be(t)}`,`fontSize${be(r)}`]};return Fe(i,cje,n)},pje=me("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${be(r.color)}`],t[`fontSize${be(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,o,s,a,l,c,d,p,f,y,g,v,b,w,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(o=i.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(p=d.pxToRem)==null?void 0:p.call(d,35))||"2.1875"}[t.fontSize],color:(f=(y=(e.vars||e).palette)==null||(g=y[t.color])==null?void 0:g.main)!=null?f:{action:(v=(e.vars||e).palette)==null||(b=v.action)==null?void 0:b.active,disabled:(w=(e.vars||e).palette)==null||(x=w.action)==null?void 0:x.disabled,inherit:void 0}[t.color]}}),hse=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:p,viewBox:f="0 0 24 24"}=n,y=de(n,uje),g=E({},n,{color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:f}),v={};d||(v.viewBox=f);const b=dje(g);return ot(pje,E({as:a,className:Se(b.root,o),ownerState:g,focusable:"false",color:c,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:r},v,y,{children:[i,p?z("title",{children:p}):null]}))});hse.muiName="SvgIcon";const U7=hse;function tr(e,t){const r=(n,i)=>z(U7,E({"data-testid":`${t}Icon`,ref:i},n,{children:e}));return r.muiName=U7.muiName,_.exports.memo(_.exports.forwardRef(r))}function TF(e,t){return TF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TF(e,t)}function fse(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,TF(e,t)}const G7={disabled:!1},OE=fl.createContext(null);var hje=function(t){return t.scrollTop},cw="unmounted",Xh="exited",ef="entering",qy="entered",kF="exiting",Yu=function(e){fse(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=i,a=s&&!s.isMounting?n.enter:n.appear,l;return o.appearStatus=null,n.in?a?(l=Xh,o.appearStatus=ef):l=qy:n.unmountOnExit||n.mountOnEnter?l=cw:l=Xh,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===cw?{status:Xh}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==ef&&s!==qy&&(o=ef):(s===ef||s===qy)&&(o=kF)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===ef){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Ax.findDOMNode(this);s&&hje(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xh&&this.setState({status:cw})},r.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ax.findDOMNode(this),a],c=l[0],d=l[1],p=this.getTimeouts(),f=a?p.appear:p.enter;if(!i&&!s||G7.disabled){this.safeSetState({status:qy},function(){o.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:ef},function(){o.props.onEntering(c,d),o.onTransitionEnd(f,function(){o.safeSetState({status:qy},function(){o.props.onEntered(c,d)})})})},r.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Ax.findDOMNode(this);if(!o||G7.disabled){this.safeSetState({status:Xh},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:kF},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Xh},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Ax.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===cw)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=de(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fl.createElement(OE.Provider,{value:null},typeof s=="function"?s(i,a):fl.cloneElement(fl.Children.only(s),a))},t}(fl.Component);Yu.contextType=OE;Yu.propTypes={};function ny(){}Yu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ny,onEntering:ny,onEntered:ny,onExit:ny,onExiting:ny,onExited:ny};Yu.UNMOUNTED=cw;Yu.EXITED=Xh;Yu.ENTERING=ef;Yu.ENTERED=qy;Yu.EXITING=kF;const mse=Yu;function fje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mz(e,t){var r=function(o){return t&&_.exports.isValidElement(o)?t(o):o},n=Object.create(null);return e&&_.exports.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function mje(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(n[l])for(s=0;s<n[l].length;s++){var c=n[l][s];a[n[l][s]]=r(c)}a[l]=r(l)}for(s=0;s<i.length;s++)a[i[s]]=r(i[s]);return a}function Of(e,t,r){return r[t]!=null?r[t]:e.props[t]}function yje(e,t){return mz(e.children,function(r){return _.exports.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Of(r,"appear",e),enter:Of(r,"enter",e),exit:Of(r,"exit",e)})})}function gje(e,t,r){var n=mz(e.children),i=mje(t,n);return Object.keys(i).forEach(function(o){var s=i[o];if(!!_.exports.isValidElement(s)){var a=o in t,l=o in n,c=t[o],d=_.exports.isValidElement(c)&&!c.props.in;l&&(!a||d)?i[o]=_.exports.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:Of(s,"exit",e),enter:Of(s,"enter",e)}):!l&&a&&!d?i[o]=_.exports.cloneElement(s,{in:!1}):l&&a&&_.exports.isValidElement(c)&&(i[o]=_.exports.cloneElement(s,{onExited:r.bind(null,s),in:c.props.in,exit:Of(s,"exit",e),enter:Of(s,"enter",e)}))}}),i}var vje=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},bje={component:"div",childFactory:function(t){return t}},yz=function(e){fse(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=o.handleExited.bind(fje(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?yje(i,a):gje(i,s,a),firstRender:!1}},r.handleExited=function(i,o){var s=mz(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=E({},a.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=de(i,["component","childFactory"]),l=this.state.contextValue,c=vje(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?fl.createElement(OE.Provider,{value:l},c):fl.createElement(OE.Provider,{value:l},fl.createElement(o,a,c))},t}(fl.Component);yz.propTypes={};yz.defaultProps=bje;const wje=yz,yse=e=>e.scrollTop;function LE(e,t){var r,n;const{timeout:i,easing:o,style:s={}}=e;return{duration:(r=s.transitionDuration)!=null?r:typeof i=="number"?i:i[t.mode]||0,easing:(n=s.transitionTimingFunction)!=null?n:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function _je(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=e,[d,p]=_.exports.useState(!1),f=Se(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),y={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=Se(r.child,d&&r.childLeaving,n&&r.childPulsate);return!a&&!d&&p(!0),_.exports.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,c);return()=>{clearTimeout(v)}}},[l,a,c]),z("span",{className:f,style:y,children:z("span",{className:g})})}const xje=_t("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),na=xje,Sje=["center","classes","className"];let BM=e=>e,H7,q7,W7,K7;const PF=550,Cje=80,$je=rx(H7||(H7=BM`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Eje=rx(q7||(q7=BM`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Ije=rx(W7||(W7=BM`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Mje=me("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Tje=me(_je,{name:"MuiTouchRipple",slot:"Ripple"})(K7||(K7=BM`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),na.rippleVisible,$je,PF,({theme:e})=>e.transitions.easing.easeInOut,na.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,na.child,na.childLeaving,Eje,PF,({theme:e})=>e.transitions.easing.easeInOut,na.childPulsate,Ije,({theme:e})=>e.transitions.easing.easeInOut),kje=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=n,a=de(n,Sje),[l,c]=_.exports.useState([]),d=_.exports.useRef(0),p=_.exports.useRef(null);_.exports.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const f=_.exports.useRef(!1),y=_.exports.useRef(null),g=_.exports.useRef(null),v=_.exports.useRef(null);_.exports.useEffect(()=>()=>{clearTimeout(y.current)},[]);const b=_.exports.useCallback(C=>{const{pulsate:$,rippleX:M,rippleY:I,rippleSize:T,cb:O}=C;c(L=>[...L,z(Tje,{classes:{ripple:Se(o.ripple,na.ripple),rippleVisible:Se(o.rippleVisible,na.rippleVisible),ripplePulsate:Se(o.ripplePulsate,na.ripplePulsate),child:Se(o.child,na.child),childLeaving:Se(o.childLeaving,na.childLeaving),childPulsate:Se(o.childPulsate,na.childPulsate)},timeout:PF,pulsate:$,rippleX:M,rippleY:I,rippleSize:T},d.current)]),d.current+=1,p.current=O},[o]),w=_.exports.useCallback((C={},$={},M)=>{const{pulsate:I=!1,center:T=i||$.pulsate,fakeElement:O=!1}=$;if((C==null?void 0:C.type)==="mousedown"&&f.current){f.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(f.current=!0);const L=O?null:v.current,N=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,F,k;if(T||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)H=Math.round(N.width/2),F=Math.round(N.height/2);else{const{clientX:P,clientY:R}=C.touches&&C.touches.length>0?C.touches[0]:C;H=Math.round(P-N.left),F=Math.round(R-N.top)}if(T)k=Math.sqrt((2*N.width**2+N.height**2)/3),k%2===0&&(k+=1);else{const P=Math.max(Math.abs((L?L.clientWidth:0)-H),H)*2+2,R=Math.max(Math.abs((L?L.clientHeight:0)-F),F)*2+2;k=Math.sqrt(P**2+R**2)}C!=null&&C.touches?g.current===null&&(g.current=()=>{b({pulsate:I,rippleX:H,rippleY:F,rippleSize:k,cb:M})},y.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},Cje)):b({pulsate:I,rippleX:H,rippleY:F,rippleSize:k,cb:M})},[i,b]),x=_.exports.useCallback(()=>{w({},{pulsate:!0})},[w]),S=_.exports.useCallback((C,$)=>{if(clearTimeout(y.current),(C==null?void 0:C.type)==="touchend"&&g.current){g.current(),g.current=null,y.current=setTimeout(()=>{S(C,$)});return}g.current=null,c(M=>M.length>0?M.slice(1):M),p.current=$},[]);return _.exports.useImperativeHandle(r,()=>({pulsate:x,start:w,stop:S}),[x,w,S]),z(Mje,E({className:Se(na.root,o.root,s),ref:v},a,{children:z(wje,{component:null,exit:!0,children:l})}))}),Pje=kje;function Oje(e){return It("MuiButtonBase",e)}const Lje=_t("MuiButtonBase",["root","disabled","focusVisible"]),Rje=Lje,Aje=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Fje=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,s=Fe({root:["root",t&&"disabled",r&&"focusVisible"]},Oje,i);return r&&n&&(s.root+=` ${n}`),s},Nje=me("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Rje.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Dje=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:f=!1,LinkComponent:y="a",onBlur:g,onClick:v,onContextMenu:b,onDragLeave:w,onFocus:x,onFocusVisible:S,onKeyDown:C,onKeyUp:$,onMouseDown:M,onMouseLeave:I,onMouseUp:T,onTouchEnd:O,onTouchMove:L,onTouchStart:N,tabIndex:H=0,TouchRippleProps:F,touchRippleRef:k,type:P}=n,R=de(n,Aje),j=_.exports.useRef(null),A=_.exports.useRef(null),U=Xt(A,k),{isFocusVisibleRef:q,onFocus:J,onBlur:Q,ref:se}=hoe(),[ce,le]=_.exports.useState(!1);c&&ce&&le(!1),_.exports.useImperativeHandle(i,()=>({focusVisible:()=>{le(!0),j.current.focus()}}),[]);const[Ie,Ue]=_.exports.useState(!1);_.exports.useEffect(()=>{Ue(!0)},[]);const pe=Ie&&!d&&!c;_.exports.useEffect(()=>{ce&&f&&!d&&Ie&&A.current.pulsate()},[d,f,ce,Ie]);function ye(Be,Mt,Tr=p){return wi(In=>(Mt&&Mt(In),!Tr&&A.current&&A.current[Be](In),!0))}const he=ye("start",M),Me=ye("stop",b),Ge=ye("stop",w),Ee=ye("stop",T),tt=ye("stop",Be=>{ce&&Be.preventDefault(),I&&I(Be)}),Ye=ye("start",N),je=ye("stop",O),Ke=ye("stop",L),Ct=ye("stop",Be=>{Q(Be),q.current===!1&&le(!1),g&&g(Be)},!1),Ft=wi(Be=>{j.current||(j.current=Be.currentTarget),J(Be),q.current===!0&&(le(!0),S&&S(Be)),x&&x(Be)}),yt=()=>{const Be=j.current;return l&&l!=="button"&&!(Be.tagName==="A"&&Be.href)},Lt=_.exports.useRef(!1),yr=wi(Be=>{f&&!Lt.current&&ce&&A.current&&Be.key===" "&&(Lt.current=!0,A.current.stop(Be,()=>{A.current.start(Be)})),Be.target===Be.currentTarget&&yt()&&Be.key===" "&&Be.preventDefault(),C&&C(Be),Be.target===Be.currentTarget&&yt()&&Be.key==="Enter"&&!c&&(Be.preventDefault(),v&&v(Be))}),Gr=wi(Be=>{f&&Be.key===" "&&A.current&&ce&&!Be.defaultPrevented&&(Lt.current=!1,A.current.stop(Be,()=>{A.current.pulsate(Be)})),$&&$(Be),v&&Be.target===Be.currentTarget&&yt()&&Be.key===" "&&!Be.defaultPrevented&&v(Be)});let Mr=l;Mr==="button"&&(R.href||R.to)&&(Mr=y);const Cr={};Mr==="button"?(Cr.type=P===void 0?"button":P,Cr.disabled=c):(!R.href&&!R.to&&(Cr.role="button"),c&&(Cr["aria-disabled"]=c));const Gt=Xt(se,j),Ne=Xt(r,Gt),ke=E({},n,{centerRipple:o,component:l,disabled:c,disableRipple:d,disableTouchRipple:p,focusRipple:f,tabIndex:H,focusVisible:ce}),Rt=Fje(ke);return ot(Nje,E({as:Mr,className:Se(Rt.root,a),ownerState:ke,onBlur:Ct,onClick:v,onContextMenu:Me,onFocus:Ft,onKeyDown:yr,onKeyUp:Gr,onMouseDown:he,onMouseLeave:tt,onMouseUp:Ee,onDragLeave:Ge,onTouchEnd:je,onTouchMove:Ke,onTouchStart:Ye,ref:Ne,tabIndex:c?-1:H,type:P},Cr,R,{children:[s,pe?z(Pje,E({ref:U,center:o},F)):null]}))}),E0=Dje;function zje(e){return It("MuiIconButton",e)}const Vje=_t("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),jje=Vje,Bje=["edge","children","className","color","disabled","disableFocusRipple","size"],Uje=e=>{const{classes:t,disabled:r,color:n,edge:i,size:o}=e,s={root:["root",r&&"disabled",n!=="default"&&`color${be(n)}`,i&&`edge${be(i)}`,`size${be(o)}`]};return Fe(s,zje,t)},Gje=me(E0,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${be(r.color)}`],r.edge&&t[`edge${be(r.edge)}`],t[`size${be(r.size)}`]]}})(({theme:e,ownerState:t})=>E({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:St(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>E({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&E({color:(e.vars||e).palette[t.color].main},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:St(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${jje.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})),Hje=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:d="medium"}=n,p=de(n,Bje),f=E({},n,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:d}),y=Uje(f);return z(Gje,E({className:Se(y.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:r,ownerState:f},p,{children:o}))}),Cs=Hje,qje=tr(z("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function Wje(e){return It("MuiTypography",e)}_t("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Kje=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Jje=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${be(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return Fe(a,Wje,s)},Zje=me("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${be(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>E({margin:0},t.variant&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),J7={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Yje={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Qje=e=>Yje[e]||e,Xje=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiTypography"}),i=Qje(n.color),o=nze(E({},n,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:d=!1,paragraph:p=!1,variant:f="body1",variantMapping:y=J7}=o,g=de(o,Kje),v=E({},o,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:d,paragraph:p,variant:f,variantMapping:y}),b=l||(p?"p":y[f]||J7[f])||"span",w=Jje(v);return z(Zje,E({as:b,ref:r,ownerState:v,className:Se(w.root,a)},g))}),Z7=Xje,e8e=me(o6e,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),t8e=_.exports.forwardRef(function(t,r){const n=Yoe(),i=Vt({props:t,name:"MuiPopper"});return z(e8e,E({direction:n==null?void 0:n.direction},i,{ref:r}))}),km=t8e;function r8e(e){return It("MuiListSubheader",e)}_t("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const n8e=["className","color","component","disableGutters","disableSticky","inset"],i8e=e=>{const{classes:t,color:r,disableGutters:n,inset:i,disableSticky:o}=e,s={root:["root",r!=="default"&&`color${be(r)}`,!n&&"gutters",i&&"inset",!o&&"sticky"]};return Fe(s,r8e,t)},o8e=me("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${be(r.color)}`],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>E({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),s8e=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1}=n,d=de(n,n8e),p=E({},n,{color:o,component:s,disableGutters:a,disableSticky:l,inset:c}),f=i8e(p);return z(o8e,E({as:s,className:Se(f.root,i),ref:r,ownerState:p},d))}),a8e=s8e,l8e=tr(z("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function c8e(e){return It("MuiChip",e)}const u8e=_t("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),rr=u8e,d8e=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],p8e=e=>{const{classes:t,disabled:r,size:n,color:i,onDelete:o,clickable:s,variant:a}=e,l={root:["root",a,r&&"disabled",`size${be(n)}`,`color${be(i)}`,s&&"clickable",s&&`clickableColor${be(i)}`,o&&"deletable",o&&`deletableColor${be(i)}`,`${a}${be(i)}`],label:["label",`label${be(n)}`],avatar:["avatar",`avatar${be(n)}`,`avatarColor${be(i)}`],icon:["icon",`icon${be(n)}`,`iconColor${be(i)}`],deleteIcon:["deleteIcon",`deleteIcon${be(n)}`,`deleteIconColor${be(i)}`,`deleteIcon${be(a)}Color${be(i)}`]};return Fe(l,c8e,t)},h8e=me("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,clickable:i,onDelete:o,size:s,variant:a}=r;return[{[`& .${rr.avatar}`]:t.avatar},{[`& .${rr.avatar}`]:t[`avatar${be(s)}`]},{[`& .${rr.avatar}`]:t[`avatarColor${be(n)}`]},{[`& .${rr.icon}`]:t.icon},{[`& .${rr.icon}`]:t[`icon${be(s)}`]},{[`& .${rr.icon}`]:t[`iconColor${be(n)}`]},{[`& .${rr.deleteIcon}`]:t.deleteIcon},{[`& .${rr.deleteIcon}`]:t[`deleteIcon${be(s)}`]},{[`& .${rr.deleteIcon}`]:t[`deleteIconColor${be(n)}`]},{[`& .${rr.deleteIcon}`]:t[`deleteIcon${be(a)}Color${be(n)}`]},t.root,t[`size${be(s)}`],t[`color${be(n)}`],i&&t.clickable,i&&n!=="default"&&t[`clickableColor${be(n)})`],o&&t.deletable,o&&n!=="default"&&t[`deletableColor${be(n)}`],t[a],t[`${a}${be(n)}`]]}})(({theme:e,ownerState:t})=>{const r=St(e.palette.text.primary,.26),n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return E({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${rr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${rr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${rr.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${rr.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${rr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${rr.icon}`]:E({color:e.vars?e.vars.palette.Chip.defaultIconColor:n,marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.color!=="default"&&{color:"inherit"}),[`& .${rr.deleteIcon}`]:E({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:r,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:St(r,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:St(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${rr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.focusOpacity}))`:St(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${rr.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>E({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.hoverOpacity}))`:St(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${rr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.focusOpacity}))`:St(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${rr.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>E({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${rr.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${rr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${rr.avatar}`]:{marginLeft:4},[`& .${rr.avatarSmall}`]:{marginLeft:2},[`& .${rr.icon}`]:{marginLeft:4},[`& .${rr.iconSmall}`]:{marginLeft:2},[`& .${rr.deleteIcon}`]:{marginRight:5},[`& .${rr.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:St(e.palette[t.color].main,.7)}`,[`&.${rr.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:St(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${rr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:St(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${rr.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:St(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),f8e=me("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${be(n)}`]]}})(({ownerState:e})=>E({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.size==="small"&&{paddingLeft:8,paddingRight:8}));function Y7(e){return e.key==="Backspace"||e.key==="Delete"}const m8e=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:d=!1,icon:p,label:f,onClick:y,onDelete:g,onKeyDown:v,onKeyUp:b,size:w="medium",variant:x="filled"}=n,S=de(n,d8e),C=_.exports.useRef(null),$=Xt(C,r),M=j=>{j.stopPropagation(),g&&g(j)},I=j=>{j.currentTarget===j.target&&Y7(j)&&j.preventDefault(),v&&v(j)},T=j=>{j.currentTarget===j.target&&(g&&Y7(j)?g(j):j.key==="Escape"&&C.current&&C.current.blur()),b&&b(j)},O=s!==!1&&y?!0:s,L=O||g?E0:l||"div",N=E({},n,{component:L,disabled:d,size:w,color:a,onDelete:!!g,clickable:O,variant:x}),H=p8e(N),F=L===E0?E({component:l||"div",focusVisibleClassName:H.focusVisible},g&&{disableRipple:!0}):{};let k=null;g&&(k=c&&_.exports.isValidElement(c)?_.exports.cloneElement(c,{className:Se(c.props.className,H.deleteIcon),onClick:M}):z(l8e,{className:Se(H.deleteIcon),onClick:M}));let P=null;i&&_.exports.isValidElement(i)&&(P=_.exports.cloneElement(i,{className:Se(H.avatar,i.props.className)}));let R=null;return p&&_.exports.isValidElement(p)&&(R=_.exports.cloneElement(p,{className:Se(H.icon,p.props.className)})),ot(h8e,E({as:L,className:Se(H.root,o),disabled:O&&d?!0:void 0,onClick:y,onKeyDown:I,onKeyUp:T,ref:$,ownerState:N},F,S,{children:[P||R,z(f8e,{className:Se(H.label),ownerState:N,children:f}),k]}))}),gz=m8e;function Pm({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const y8e=_.exports.createContext(),vz=y8e;function ih(){return _.exports.useContext(vz)}function g8e(e){return z(_5e,E({},e,{defaultTheme:jM}))}function Q7(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function bz(e,t=!1){return e&&(Q7(e.value)&&e.value!==""||t&&Q7(e.defaultValue)&&e.defaultValue!=="")}function v8e(e){return e.startAdornment}function b8e(e){return It("MuiInputBase",e)}const w8e=_t("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),gc=w8e,_8e=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],UM=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${be(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},GM=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},x8e=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:p,size:f,startAdornment:y,type:g}=e,v={root:["root",`color${be(r)}`,n&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f==="small"&&"sizeSmall",d&&"multiline",y&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",p&&"readOnly"],input:["input",n&&"disabled",g==="search"&&"inputTypeSearch",d&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",y&&"inputAdornedStart",o&&"inputAdornedEnd",p&&"readOnly"]};return Fe(v,b8e,t)},HM=me("div",{name:"MuiInputBase",slot:"Root",overridesResolver:UM})(({theme:e,ownerState:t})=>E({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${gc.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&E({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),qM=me("input",{name:"MuiInputBase",slot:"Input",overridesResolver:GM})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",n=E({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return E({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${gc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${gc.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),S8e=z(g8e,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),C8e=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,components:l={},componentsProps:c={},defaultValue:d,disabled:p,disableInjectingGlobalStyles:f,endAdornment:y,fullWidth:g=!1,id:v,inputComponent:b="input",inputProps:w={},inputRef:x,maxRows:S,minRows:C,multiline:$=!1,name:M,onBlur:I,onChange:T,onClick:O,onFocus:L,onKeyDown:N,onKeyUp:H,placeholder:F,readOnly:k,renderSuffix:P,rows:R,startAdornment:j,type:A="text",value:U}=n,q=de(n,_8e),J=w.value!=null?w.value:U,{current:Q}=_.exports.useRef(J!=null),se=_.exports.useRef(),ce=_.exports.useCallback(Ne=>{},[]),le=Xt(w.ref,ce),Ie=Xt(x,le),Ue=Xt(se,Ie),[pe,ye]=_.exports.useState(!1),he=ih(),Me=Pm({props:n,muiFormControl:he,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Me.focused=he?he.focused:pe,_.exports.useEffect(()=>{!he&&p&&pe&&(ye(!1),I&&I())},[he,p,pe,I]);const Ge=he&&he.onFilled,Ee=he&&he.onEmpty,tt=_.exports.useCallback(Ne=>{bz(Ne)?Ge&&Ge():Ee&&Ee()},[Ge,Ee]);pi(()=>{Q&&tt({value:J})},[J,tt,Q]);const Ye=Ne=>{if(Me.disabled){Ne.stopPropagation();return}L&&L(Ne),w.onFocus&&w.onFocus(Ne),he&&he.onFocus?he.onFocus(Ne):ye(!0)},je=Ne=>{I&&I(Ne),w.onBlur&&w.onBlur(Ne),he&&he.onBlur?he.onBlur(Ne):ye(!1)},Ke=(Ne,...ke)=>{if(!Q){const Rt=Ne.target||se.current;if(Rt==null)throw new Error(Wp(1));tt({value:Rt.value})}w.onChange&&w.onChange(Ne,...ke),T&&T(Ne,...ke)};_.exports.useEffect(()=>{tt(se.current)},[]);const Ct=Ne=>{se.current&&Ne.currentTarget===Ne.target&&se.current.focus(),O&&O(Ne)};let Ft=b,yt=w;$&&Ft==="input"&&(R?yt=E({type:void 0,minRows:R,maxRows:R},yt):yt=E({type:void 0,maxRows:S,minRows:C},yt),Ft=M6e);const Lt=Ne=>{tt(Ne.animationName==="mui-auto-fill-cancel"?se.current:{value:"x"})};_.exports.useEffect(()=>{he&&he.setAdornedStart(Boolean(j))},[he,j]);const yr=E({},n,{color:Me.color||"primary",disabled:Me.disabled,endAdornment:y,error:Me.error,focused:Me.focused,formControl:he,fullWidth:g,hiddenLabel:Me.hiddenLabel,multiline:$,size:Me.size,startAdornment:j,type:A}),Gr=x8e(yr),Mr=l.Root||HM,Cr=c.root||{},Gt=l.Input||qM;return yt=E({},yt,c.input),ot(_.exports.Fragment,{children:[!f&&S8e,ot(Mr,E({},Cr,!_0(Mr)&&{ownerState:E({},yr,Cr.ownerState)},{ref:r,onClick:Ct},q,{className:Se(Gr.root,Cr.className,a),children:[j,z(vz.Provider,{value:null,children:z(Gt,E({ownerState:yr,"aria-invalid":Me.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:d,disabled:Me.disabled,id:v,onAnimationStart:Lt,name:M,placeholder:F,readOnly:k,required:Me.required,rows:R,value:J,onKeyDown:N,onKeyUp:H,type:A},yt,!_0(Gt)&&{as:Ft,ownerState:E({},yr,yt.ownerState)},{ref:Ue,className:Se(Gr.input,yt.className),onBlur:je,onChange:Ke,onFocus:Ye}))}),y,P?P(E({},Me,{startAdornment:j})):null]}))]})}),dv=C8e;function $8e(e){return It("MuiInput",e)}const E8e=E({},gc,_t("MuiInput",["root","underline","input"])),Lf=E8e;function I8e(e){return It("MuiOutlinedInput",e)}const M8e=E({},gc,_t("MuiOutlinedInput",["root","notchedOutline","input"])),nc=M8e;function T8e(e){return It("MuiFilledInput",e)}const k8e=E({},gc,_t("MuiFilledInput",["root","underline","input"])),uc=k8e,gse=tr(z("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function P8e(e){return It("MuiAutocomplete",e)}const O8e=_t("MuiAutocomplete",["root","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),Ht=O8e;var X7,eG;const L8e=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"],R8e=e=>{const{classes:t,disablePortal:r,focused:n,fullWidth:i,hasClearIcon:o,hasPopupIcon:s,inputFocused:a,popupOpen:l,size:c}=e,d={root:["root",n&&"focused",i&&"fullWidth",o&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",a&&"inputFocused"],tag:["tag",`tagSize${be(c)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",l&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Fe(d,P8e,t)},A8e=me("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{fullWidth:n,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=r;return[{[`& .${Ht.tag}`]:t.tag},{[`& .${Ht.tag}`]:t[`tagSize${be(a)}`]},{[`& .${Ht.inputRoot}`]:t.inputRoot},{[`& .${Ht.input}`]:t.input},{[`& .${Ht.input}`]:s&&t.inputFocused},t.root,n&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})(({ownerState:e})=>E({[`&.${Ht.focused} .${Ht.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Ht.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${Ht.tag}`]:E({margin:3,maxWidth:"calc(100% - 6px)"},e.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${Ht.inputRoot}`]:{flexWrap:"wrap",[`.${Ht.hasPopupIcon}&, .${Ht.hasClearIcon}&`]:{paddingRight:26+4},[`.${Ht.hasPopupIcon}.${Ht.hasClearIcon}&`]:{paddingRight:52+4},[`& .${Ht.input}`]:{width:0,minWidth:30}},[`& .${Lf.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Lf.root}.${gc.sizeSmall}`]:{[`& .${Lf.input}`]:{padding:"2px 4px 3px 0"}},[`& .${nc.root}`]:{padding:9,[`.${Ht.hasPopupIcon}&, .${Ht.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${Ht.hasPopupIcon}.${Ht.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Ht.input}`]:{padding:"7.5px 4px 7.5px 6px"},[`& .${Ht.endAdornment}`]:{right:9}},[`& .${nc.root}.${gc.sizeSmall}`]:{padding:6,[`& .${Ht.input}`]:{padding:"2.5px 4px 2.5px 6px"}},[`& .${uc.root}`]:{paddingTop:19,paddingLeft:8,[`.${Ht.hasPopupIcon}&, .${Ht.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${Ht.hasPopupIcon}.${Ht.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${uc.input}`]:{padding:"7px 4px"},[`& .${Ht.endAdornment}`]:{right:9}},[`& .${uc.root}.${gc.sizeSmall}`]:{paddingBottom:1,[`& .${uc.input}`]:{padding:"2.5px 4px"}},[`& .${gc.hiddenLabel}`]:{paddingTop:8},[`& .${Ht.input}`]:E({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})})),F8e=me("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),N8e=me(Cs,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),D8e=me(Cs,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>E({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})(({ownerState:e})=>E({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"})),z8e=me(km,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Ht.option}`]:t.option},t.popper,r.disablePortal&&t.popperDisablePortal]}})(({theme:e,ownerState:t})=>E({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"})),V8e=me(uv,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>E({},e.typography.body1,{overflow:"auto"})),j8e=me("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),B8e=me("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),U8e=me("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",[`& .${Ht.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Ht.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Ht.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:St(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Ht.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:St(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Ht.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:St(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),G8e=me(a8e,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),H8e=me("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${Ht.option}`]:{paddingLeft:24}}),q8e=_.exports.forwardRef(function(t,r){var n,i,o,s;const a=Vt({props:t,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:c=!1,autoSelect:d=!1,blurOnSelect:p=!1,ChipProps:f,className:y,clearIcon:g=X7||(X7=z(qje,{fontSize:"small"})),clearOnBlur:v=!a.freeSolo,clearOnEscape:b=!1,clearText:w="Clear",closeText:x="Close",componentsProps:S={},defaultValue:C=a.multiple?[]:null,disableClearable:$=!1,disableCloseOnSelect:M=!1,disabled:I=!1,disabledItemsFocusable:T=!1,disableListWrap:O=!1,disablePortal:L=!1,filterSelectedOptions:N=!1,forcePopupIcon:H="auto",freeSolo:F=!1,fullWidth:k=!1,getLimitTagsText:P=Wt=>`+${Wt}`,getOptionLabel:R=Wt=>{var jn;return(jn=Wt.label)!=null?jn:Wt},groupBy:j,handleHomeEndKeys:A=!a.freeSolo,includeInputInList:U=!1,limitTags:q=-1,ListboxComponent:J="ul",ListboxProps:Q,loading:se=!1,loadingText:ce="Loading\u2026",multiple:le=!1,noOptionsText:Ie="No options",openOnFocus:Ue=!1,openText:pe="Open",PaperComponent:ye=uv,PopperComponent:he=km,popupIcon:Me=eG||(eG=z(gse,{})),readOnly:Ge=!1,renderGroup:Ee,renderInput:tt,renderOption:Ye,renderTags:je,selectOnFocus:Ke=!a.freeSolo,size:Ct="medium"}=a,Ft=de(a,L8e),{getRootProps:yt,getInputProps:Lt,getInputLabelProps:yr,getPopupIndicatorProps:Gr,getClearProps:Mr,getTagProps:Cr,getListboxProps:Gt,getOptionProps:Ne,value:ke,dirty:Rt,id:Be,popupOpen:Mt,focused:Tr,focusedTag:In,anchorEl:go,setAnchorEl:rs,inputValue:Ta,groupedOptions:ti}=Aze(E({},a,{componentName:"Autocomplete"})),vo=!$&&!I&&Rt&&!Ge,ns=(!F||H===!0)&&H!==!1,Yr=E({},a,{disablePortal:L,focused:Tr,fullWidth:k,hasClearIcon:vo,hasPopupIcon:ns,inputFocused:In===-1,popupOpen:Mt,size:Ct}),Fr=R8e(Yr);let Pr;if(le&&ke.length>0){const Wt=jn=>E({className:Fr.tag,disabled:I},Cr(jn));je?Pr=je(ke,Wt,Yr):Pr=ke.map((jn,is)=>z(gz,E({label:R(jn),size:Ct},Wt({index:is}),f)))}if(q>-1&&Array.isArray(Pr)){const Wt=Pr.length-q;!Tr&&Wt>0&&(Pr=Pr.splice(0,q),Pr.push(z("span",{className:Fr.tag,children:P(Wt)},Pr.length)))}const oh=Ee||(Wt=>ot("li",{children:[z(G8e,{className:Fr.groupLabel,ownerState:Yr,component:"div",children:Wt.group}),z(H8e,{className:Fr.groupUl,ownerState:Yr,children:Wt.children})]},Wt.key)),Nc=Ye||((Wt,jn)=>z("li",E({},Wt,{children:R(jn)}))),Dc=(Wt,jn)=>{const is=Ne({option:Wt,index:jn});return Nc(E({},is,{className:Fr.option}),Wt,{selected:is["aria-selected"],inputValue:Ta})};return ot(_.exports.Fragment,{children:[z(A8e,E({ref:r,className:Se(Fr.root,y),ownerState:Yr},yt(Ft),{children:tt({id:Be,disabled:I,fullWidth:!0,size:Ct==="small"?"small":void 0,InputLabelProps:yr(),InputProps:E({ref:rs,className:Fr.inputRoot,startAdornment:Pr},(vo||ns)&&{endAdornment:ot(F8e,{className:Fr.endAdornment,ownerState:Yr,children:[vo?z(N8e,E({},Mr(),{"aria-label":w,title:w,ownerState:Yr},S.clearIndicator,{className:Se(Fr.clearIndicator,(n=S.clearIndicator)==null?void 0:n.className),children:g})):null,ns?z(D8e,E({},Gr(),{disabled:I,"aria-label":Mt?x:pe,title:Mt?x:pe,ownerState:Yr},S.popupIndicator,{className:Se(Fr.popupIndicator,(i=S.popupIndicator)==null?void 0:i.className),children:Me})):null]})}),inputProps:E({className:Fr.input,disabled:I,readOnly:Ge},Lt())})})),go?z(z8e,E({as:he,disablePortal:L,style:{width:go?go.clientWidth:null},ownerState:Yr,role:"presentation",anchorEl:go,open:Mt},S.popper,{className:Se(Fr.popper,(o=S.popper)==null?void 0:o.className),children:ot(V8e,E({ownerState:Yr,as:ye},S.paper,{className:Se(Fr.paper,(s=S.paper)==null?void 0:s.className),children:[se&&ti.length===0?z(j8e,{className:Fr.loading,ownerState:Yr,children:ce}):null,ti.length===0&&!F&&!se?z(B8e,{className:Fr.noOptions,ownerState:Yr,role:"presentation",onMouseDown:Wt=>{Wt.preventDefault()},children:Ie}):null,ti.length>0?z(U8e,E({as:J,className:Fr.listbox,ownerState:Yr},Gt(),Q,{children:ti.map((Wt,jn)=>j?oh({key:Wt.key,group:Wt.group,children:Wt.options.map((is,Xu)=>Dc(is,Wt.index+Xu))}):Dc(Wt,jn))})):null]}))})):null]})}),vse=q8e,W8e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],K8e={entering:{opacity:1},entered:{opacity:1}},J8e=_.exports.forwardRef(function(t,r){const n=lx(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:d,onEntered:p,onEntering:f,onExit:y,onExited:g,onExiting:v,style:b,timeout:w=i,TransitionComponent:x=mse}=t,S=de(t,W8e),C=_.exports.useRef(null),$=Xt(a.ref,r),M=Xt(C,$),I=P=>R=>{if(P){const j=C.current;R===void 0?P(j):P(j,R)}},T=I(f),O=I((P,R)=>{yse(P);const j=LE({style:b,timeout:w,easing:l},{mode:"enter"});P.style.webkitTransition=n.transitions.create("opacity",j),P.style.transition=n.transitions.create("opacity",j),d&&d(P,R)}),L=I(p),N=I(v),H=I(P=>{const R=LE({style:b,timeout:w,easing:l},{mode:"exit"});P.style.webkitTransition=n.transitions.create("opacity",R),P.style.transition=n.transitions.create("opacity",R),y&&y(P)}),F=I(g);return z(x,E({appear:s,in:c,nodeRef:C,onEnter:O,onEntered:L,onEntering:T,onExit:H,onExited:F,onExiting:N,addEndListener:P=>{o&&o(C.current,P)},timeout:w},S,{children:(P,R)=>_.exports.cloneElement(a,E({style:E({opacity:0,visibility:P==="exited"&&!c?"hidden":void 0},K8e[P],b,a.props.style),ref:M},R))}))}),Z8e=J8e;function Y8e(e){return It("MuiBackdrop",e)}_t("MuiBackdrop",["root","invisible"]);const Q8e=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],X8e=e=>{const{classes:t,invisible:r}=e;return Fe({root:["root",r&&"invisible"]},Y8e,t)},e9e=me("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>E({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),t9e=_.exports.forwardRef(function(t,r){var n,i;const o=Vt({props:t,name:"MuiBackdrop"}),{children:s,component:a="div",components:l={},componentsProps:c={},className:d,invisible:p=!1,open:f,transitionDuration:y,TransitionComponent:g=Z8e}=o,v=de(o,Q8e),b=E({},o,{component:a,invisible:p}),w=X8e(b);return z(g,E({in:f,timeout:y},v,{children:z(e9e,{"aria-hidden":!0,as:(n=l.Root)!=null?n:a,className:Se(w.root,d),ownerState:E({},b,(i=c.root)==null?void 0:i.ownerState),classes:w,ref:r,children:s})}))}),r9e=t9e,n9e=e=>!e||!_0(e),tG=n9e;function i9e(e){return It("MuiBadge",e)}const o9e=_t("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),gd=o9e,s9e=["anchorOrigin","className","component","components","componentsProps","overlap","color","invisible","max","badgeContent","showZero","variant"],MP=10,TP=4,a9e=e=>{const{color:t,anchorOrigin:r,invisible:n,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,n&&"invisible",`anchorOrigin${be(r.vertical)}${be(r.horizontal)}`,`anchorOrigin${be(r.vertical)}${be(r.horizontal)}${be(i)}`,`overlap${be(i)}`,t!=="default"&&`color${be(t)}`]};return Fe(a,i9e,s)},l9e=me("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),c9e=me("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.badge,t[r.variant],t[`anchorOrigin${be(r.anchorOrigin.vertical)}${be(r.anchorOrigin.horizontal)}${be(r.overlap)}`],r.color!=="default"&&t[`color${be(r.color)}`],r.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>E({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:MP*2,lineHeight:1,padding:"0 6px",height:MP*2,borderRadius:MP,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:TP,height:TP*2,minWidth:TP*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${gd.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${gd.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${gd.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${gd.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${gd.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${gd.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${gd.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${gd.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),u9e=_.exports.forwardRef(function(t,r){var n,i,o,s;const a=Vt({props:t,name:"MuiBadge"}),{anchorOrigin:l={vertical:"top",horizontal:"right"},className:c,component:d="span",components:p={},componentsProps:f={},overlap:y="rectangular",color:g="default",invisible:v=!1,max:b,badgeContent:w,showZero:x=!1,variant:S="standard"}=a,C=de(a,s9e),$=moe({anchorOrigin:l,color:g,overlap:y,variant:S});let M=v;v===!1&&(w===0&&!x||w==null&&S!=="dot")&&(M=!0);const{color:I=g,overlap:T=y,anchorOrigin:O=l,variant:L=S}=M?$:a,N=E({},a,{anchorOrigin:O,invisible:M,color:I,overlap:T,variant:L}),H=a9e(N);let F;return L!=="dot"&&(F=w&&Number(w)>b?`${b}+`:w),z(jze,E({invisible:v,badgeContent:F,showZero:x,max:b},C,{components:E({Root:l9e,Badge:c9e},p),className:Se((n=f.root)==null?void 0:n.className,H.root,c),componentsProps:{root:E({},f.root,tG(p.Root)&&{as:d,ownerState:E({},(i=f.root)==null?void 0:i.ownerState,{anchorOrigin:O,color:I,overlap:T,variant:L})}),badge:E({},f.badge,{className:Se(H.badge,(o=f.badge)==null?void 0:o.className)},tG(p.Badge)&&{ownerState:E({},(s=f.badge)==null?void 0:s.ownerState,{anchorOrigin:O,color:I,overlap:T,variant:L})})},ref:r}))}),wz=u9e;function d9e(e){return It("MuiButton",e)}const p9e=_t("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),KS=p9e,h9e=_.exports.createContext({}),f9e=h9e,m9e=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],y9e=["root"],g9e=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${be(t)}`,`size${be(i)}`,`${o}Size${be(i)}`,t==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${be(i)}`],endIcon:["endIcon",`iconSize${be(i)}`]},l=Fe(a,d9e,s);return E({},s,l)},bse=e=>E({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),v9e=me(E0,{shouldForwardProp:e=>kl(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${be(r.color)}`],t[`size${be(r.size)}`],t[`${r.variant}Size${be(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;return E({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":E({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:St(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:St(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:St(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:(e.vars||e).palette.grey.A100,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":E({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${KS.focusVisible}`]:E({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${KS.disabled}`]:E({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="outlined"&&t.color==="secondary"&&{border:`1px solid ${(e.vars||e).palette.action.disabled}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${St(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${KS.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${KS.disabled}`]:{boxShadow:"none"}}),b9e=me("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${be(r.size)}`]]}})(({ownerState:e})=>E({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},bse(e))),w9e=me("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${be(r.size)}`]]}})(({ownerState:e})=>E({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},bse(e))),_9e=_.exports.forwardRef(function(t,r){const n=_.exports.useContext(f9e),i=yoe(n,t),o=Vt({props:i,name:"MuiButton"}),{children:s,color:a="primary",component:l="button",className:c,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:y,focusVisibleClassName:g,fullWidth:v=!1,size:b="medium",startIcon:w,type:x,variant:S="text"}=o,C=de(o,m9e),$=E({},o,{color:a,component:l,disabled:d,disableElevation:p,disableFocusRipple:f,fullWidth:v,size:b,type:x,variant:S}),M=g9e($),{root:I}=M,T=de(M,y9e),O=w&&z(b9e,{className:T.startIcon,ownerState:$,children:w}),L=y&&z(w9e,{className:T.endIcon,ownerState:$,children:y});return ot(v9e,E({ownerState:$,className:Se(n.className,I,c),component:l,disabled:d,focusRipple:!f,focusVisibleClassName:Se(T.focusVisible,g),ref:r,type:x},C,{classes:T,children:[O,s,L]}))}),x9e=_9e;function S9e(e){return It("PrivateSwitchBase",e)}_t("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const C9e=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],$9e=e=>{const{classes:t,checked:r,disabled:n,edge:i}=e,o={root:["root",r&&"checked",n&&"disabled",i&&`edge${be(i)}`],input:["input"]};return Fe(o,S9e,t)},E9e=me(E0)(({ownerState:e})=>E({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),I9e=me("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),M9e=_.exports.forwardRef(function(t,r){const{autoFocus:n,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:d=!1,icon:p,id:f,inputProps:y,inputRef:g,name:v,onBlur:b,onChange:w,onFocus:x,readOnly:S,required:C,tabIndex:$,type:M,value:I}=t,T=de(t,C9e),[O,L]=Hf({controlled:i,default:Boolean(a),name:"SwitchBase",state:"checked"}),N=ih(),H=U=>{x&&x(U),N&&N.onFocus&&N.onFocus(U)},F=U=>{b&&b(U),N&&N.onBlur&&N.onBlur(U)},k=U=>{if(U.nativeEvent.defaultPrevented)return;const q=U.target.checked;L(q),w&&w(U,q)};let P=l;N&&typeof P>"u"&&(P=N.disabled);const R=M==="checkbox"||M==="radio",j=E({},t,{checked:O,disabled:P,disableFocusRipple:c,edge:d}),A=$9e(j);return ot(E9e,E({component:"span",className:Se(A.root,s),centerRipple:!0,focusRipple:!c,disabled:P,tabIndex:null,role:void 0,onFocus:H,onBlur:F,ownerState:j,ref:r},T,{children:[z(I9e,E({autoFocus:n,checked:i,defaultChecked:a,className:A.input,disabled:P,id:R&&f,name:v,onChange:k,readOnly:S,ref:g,required:C,ownerState:j,tabIndex:$,type:M},M==="checkbox"&&I===void 0?{}:{value:I},y)),O?o:p]}))}),wse=M9e,T9e=tr(z("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),k9e=tr(z("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),P9e=tr(z("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function O9e(e){return It("MuiCheckbox",e)}const L9e=_t("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),kP=L9e,R9e=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],A9e=e=>{const{classes:t,indeterminate:r,color:n}=e,i={root:["root",r&&"indeterminate",`color${be(n)}`]},o=Fe(i,O9e,t);return E({},t,o)},F9e=me(wse,{shouldForwardProp:e=>kl(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,r.color!=="default"&&t[`color${be(r.color)}`]]}})(({theme:e,ownerState:t})=>E({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:St(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${kP.checked}, &.${kP.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${kP.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),N9e=z(k9e,{}),D9e=z(T9e,{}),z9e=z(P9e,{}),V9e=_.exports.forwardRef(function(t,r){var n,i;const o=Vt({props:t,name:"MuiCheckbox"}),{checkedIcon:s=N9e,color:a="primary",icon:l=D9e,indeterminate:c=!1,indeterminateIcon:d=z9e,inputProps:p,size:f="medium"}=o,y=de(o,R9e),g=c?d:l,v=c?d:s,b=E({},o,{color:a,indeterminate:c,size:f}),w=A9e(b);return z(F9e,E({type:"checkbox",inputProps:E({"data-indeterminate":c},p),icon:_.exports.cloneElement(g,{fontSize:(n=g.props.fontSize)!=null?n:f}),checkedIcon:_.exports.cloneElement(v,{fontSize:(i=v.props.fontSize)!=null?i:f}),ownerState:b,ref:r},y,{classes:w}))}),j9e=V9e;function B9e(e){return It("MuiCircularProgress",e)}_t("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const U9e=["className","color","disableShrink","size","style","thickness","value","variant"];let WM=e=>e,rG,nG,iG,oG;const vd=44,G9e=rx(rG||(rG=WM`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),H9e=rx(nG||(nG=WM`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),q9e=e=>{const{classes:t,variant:r,color:n,disableShrink:i}=e,o={root:["root",r,`color${be(n)}`],svg:["svg"],circle:["circle",`circle${be(r)}`,i&&"circleDisableShrink"]};return Fe(o,B9e,t)},W9e=me("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${be(r.color)}`]]}})(({ownerState:e,theme:t})=>E({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Q4(iG||(iG=WM`
      animation: ${0} 1.4s linear infinite;
    `),G9e)),K9e=me("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),J9e=me("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${be(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>E({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Q4(oG||(oG=WM`
      animation: ${0} 1.4s ease-in-out infinite;
    `),H9e)),Z9e=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:d=0,variant:p="indeterminate"}=n,f=de(n,U9e),y=E({},n,{color:o,disableShrink:s,size:a,thickness:c,value:d,variant:p}),g=q9e(y),v={},b={},w={};if(p==="determinate"){const x=2*Math.PI*((vd-c)/2);v.strokeDasharray=x.toFixed(3),w["aria-valuenow"]=Math.round(d),v.strokeDashoffset=`${((100-d)/100*x).toFixed(3)}px`,b.transform="rotate(-90deg)"}return z(W9e,E({className:Se(g.root,i),style:E({width:a,height:a},b,l),ownerState:y,ref:r,role:"progressbar"},w,f,{children:z(K9e,{className:g.svg,ownerState:y,viewBox:`${vd/2} ${vd/2} ${vd} ${vd}`,children:z(J9e,{className:g.circle,style:v,ownerState:y,cx:vd,cy:vd,r:(vd-c)/2,fill:"none",strokeWidth:c})})}))}),Y9e=Z9e,Q9e=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],X9e=e=>e.classes,eBe=me("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>E({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),tBe=me(r9e,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),rBe=_.exports.forwardRef(function(t,r){var n,i;const o=Vt({name:"MuiModal",props:t}),{BackdropComponent:s=tBe,BackdropProps:a,closeAfterTransition:l=!1,children:c,component:d,components:p={},componentsProps:f={},disableAutoFocus:y=!1,disableEnforceFocus:g=!1,disableEscapeKeyDown:v=!1,disablePortal:b=!1,disableRestoreFocus:w=!1,disableScrollLock:x=!1,hideBackdrop:S=!1,keepMounted:C=!1,theme:$}=o,M=de(o,Q9e),[I,T]=_.exports.useState(!0),O={closeAfterTransition:l,disableAutoFocus:y,disableEnforceFocus:g,disableEscapeKeyDown:v,disablePortal:b,disableRestoreFocus:w,disableScrollLock:x,hideBackdrop:S,keepMounted:C},L=E({},o,O,{exited:I}),N=X9e(L),H=(n=(i=p.Root)!=null?i:d)!=null?n:eBe;return z(C6e,E({components:E({Root:H,Backdrop:s},p),componentsProps:{root:()=>E({},$F(f.root,L),!_0(H)&&{as:d,theme:$}),backdrop:()=>E({},a,$F(f.backdrop,L))},onTransitionEnter:()=>T(!1),onTransitionExited:()=>T(!0),ref:r},M,{classes:N},O,{children:c}))}),nBe=rBe,iBe=_t("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),sG=iBe,oBe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],sBe=e=>{const{classes:t,disableUnderline:r}=e,i=Fe({root:["root",!r&&"underline"],input:["input"]},T8e,t);return E({},t,i)},aBe=me(HM,{shouldForwardProp:e=>kl(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...UM(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const n=e.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return E({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${uc.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${uc.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${uc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${uc.error}:after`]:{borderBottomColor:(e.vars||e).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${uc.disabled}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${uc.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&E({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),lBe=me(qM,{name:"MuiFilledInput",slot:"Input",overridesResolver:GM})(({theme:e,ownerState:t})=>E({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),_se=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiFilledInput"}),{components:i={},componentsProps:o,fullWidth:s=!1,inputComponent:a="input",multiline:l=!1,type:c="text"}=n,d=de(n,oBe),p=E({},n,{fullWidth:s,inputComponent:a,multiline:l,type:c}),f=sBe(n),y={root:{ownerState:p},input:{ownerState:p}},g=o?ma(o,y):y;return z(dv,E({components:E({Root:aBe,Input:lBe},i),componentsProps:g,fullWidth:s,inputComponent:a,multiline:l,ref:r,type:c},d,{classes:f}))});_se.muiName="Input";const xse=_se;function cBe(e){return It("MuiFormControl",e)}_t("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const uBe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],dBe=e=>{const{classes:t,margin:r,fullWidth:n}=e,i={root:["root",r!=="none"&&`margin${be(r)}`,n&&"fullWidth"]};return Fe(i,cBe,t)},pBe=me("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>E({},t.root,t[`margin${be(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>E({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),hBe=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:p=!1,hiddenLabel:f=!1,margin:y="none",required:g=!1,size:v="medium",variant:b="outlined"}=n,w=de(n,uBe),x=E({},n,{color:s,component:a,disabled:l,error:c,fullWidth:p,hiddenLabel:f,margin:y,required:g,size:v,variant:b}),S=dBe(x),[C,$]=_.exports.useState(()=>{let P=!1;return i&&_.exports.Children.forEach(i,R=>{if(!xP(R,["Input","Select"]))return;const j=xP(R,["Select"])?R.props.input:R;j&&v8e(j.props)&&(P=!0)}),P}),[M,I]=_.exports.useState(()=>{let P=!1;return i&&_.exports.Children.forEach(i,R=>{!xP(R,["Input","Select"])||bz(R.props,!0)&&(P=!0)}),P}),[T,O]=_.exports.useState(!1);l&&T&&O(!1);const L=d!==void 0&&!l?d:T;let N;const H=_.exports.useCallback(()=>{I(!0)},[]),F=_.exports.useCallback(()=>{I(!1)},[]),k={adornedStart:C,setAdornedStart:$,color:s,disabled:l,error:c,filled:M,focused:L,fullWidth:p,hiddenLabel:f,size:v,onBlur:()=>{O(!1)},onEmpty:F,onFilled:H,onFocus:()=>{O(!0)},registerEffect:N,required:g,variant:b};return z(vz.Provider,{value:k,children:z(pBe,E({as:a,ownerState:x,className:Se(S.root,o),ref:r},w,{children:i}))})}),Om=hBe;function fBe(e){return It("MuiFormControlLabel",e)}const mBe=_t("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),JS=mBe,yBe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],gBe=e=>{const{classes:t,disabled:r,labelPlacement:n,error:i}=e,o={root:["root",r&&"disabled",`labelPlacement${be(n)}`,i&&"error"],label:["label",r&&"disabled"]};return Fe(o,fBe,t)},vBe=me("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${JS.label}`]:t.label},t.root,t[`labelPlacement${be(r.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>E({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${JS.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${JS.label}`]:{[`&.${JS.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),bBe=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiFormControlLabel"}),{className:i,componentsProps:o={},control:s,disabled:a,disableTypography:l,label:c,labelPlacement:d="end"}=n,p=de(n,yBe),f=ih();let y=a;typeof y>"u"&&typeof s.props.disabled<"u"&&(y=s.props.disabled),typeof y>"u"&&f&&(y=f.disabled);const g={disabled:y};["checked","name","onChange","value","inputRef"].forEach(S=>{typeof s.props[S]>"u"&&typeof n[S]<"u"&&(g[S]=n[S])});const v=Pm({props:n,muiFormControl:f,states:["error"]}),b=E({},n,{disabled:y,labelPlacement:d,error:v.error}),w=gBe(b);let x=c;return x!=null&&x.type!==Z7&&!l&&(x=z(Z7,E({component:"span",className:w.label},o.typography,{children:x}))),ot(vBe,E({className:Se(w.root,i),ownerState:b,ref:r},p,{children:[_.exports.cloneElement(s,g),x]}))}),wBe=bBe;function _Be(e){return It("MuiFormHelperText",e)}const xBe=_t("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),aG=xBe;var lG;const SBe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],CBe=e=>{const{classes:t,contained:r,size:n,disabled:i,error:o,filled:s,focused:a,required:l}=e,c={root:["root",i&&"disabled",o&&"error",n&&`size${be(n)}`,r&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Fe(c,_Be,t)},$Be=me("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${be(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>E({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${aG.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${aG.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),EBe=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=n,a=de(n,SBe),l=ih(),c=Pm({props:n,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),d=E({},n,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=CBe(d);return z($Be,E({as:s,ownerState:d,className:Se(p.root,o),ref:r},a,{children:i===" "?lG||(lG=z("span",{className:"notranslate",children:"\u200B"})):i}))}),IBe=EBe;function MBe(e){return It("MuiFormLabel",e)}const TBe=_t("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Qw=TBe,kBe=["children","className","color","component","disabled","error","filled","focused","required"],PBe=e=>{const{classes:t,color:r,focused:n,disabled:i,error:o,filled:s,required:a}=e,l={root:["root",`color${be(r)}`,i&&"disabled",o&&"error",s&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Fe(l,MBe,t)},OBe=me("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>E({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>E({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Qw.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Qw.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Qw.error}`]:{color:(e.vars||e).palette.error.main}})),LBe=me("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Qw.error}`]:{color:(e.vars||e).palette.error.main}})),RBe=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=n,a=de(n,kBe),l=ih(),c=Pm({props:n,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),d=E({},n,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=PBe(d);return ot(OBe,E({as:s,ownerState:d,className:Se(p.root,o),ref:r},a,{children:[i,c.required&&ot(LBe,{ownerState:d,"aria-hidden":!0,className:p.asterisk,children:["\u2009","*"]})]}))}),ABe=RBe,FBe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function OF(e){return`scale(${e}, ${e**2})`}const NBe={entering:{opacity:1,transform:OF(1)},entered:{opacity:1,transform:"none"}},PP=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Sse=_.exports.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:d,onExit:p,onExited:f,onExiting:y,style:g,timeout:v="auto",TransitionComponent:b=mse}=t,w=de(t,FBe),x=_.exports.useRef(),S=_.exports.useRef(),C=lx(),$=_.exports.useRef(null),M=Xt(o.ref,r),I=Xt($,M),T=R=>j=>{if(R){const A=$.current;j===void 0?R(A):R(A,j)}},O=T(d),L=T((R,j)=>{yse(R);const{duration:A,delay:U,easing:q}=LE({style:g,timeout:v,easing:s},{mode:"enter"});let J;v==="auto"?(J=C.transitions.getAutoHeightDuration(R.clientHeight),S.current=J):J=A,R.style.transition=[C.transitions.create("opacity",{duration:J,delay:U}),C.transitions.create("transform",{duration:PP?J:J*.666,delay:U,easing:q})].join(","),l&&l(R,j)}),N=T(c),H=T(y),F=T(R=>{const{duration:j,delay:A,easing:U}=LE({style:g,timeout:v,easing:s},{mode:"exit"});let q;v==="auto"?(q=C.transitions.getAutoHeightDuration(R.clientHeight),S.current=q):q=j,R.style.transition=[C.transitions.create("opacity",{duration:q,delay:A}),C.transitions.create("transform",{duration:PP?q:q*.666,delay:PP?A:A||q*.333,easing:U})].join(","),R.style.opacity=0,R.style.transform=OF(.75),p&&p(R)}),k=T(f),P=R=>{v==="auto"&&(x.current=setTimeout(R,S.current||0)),n&&n($.current,R)};return _.exports.useEffect(()=>()=>{clearTimeout(x.current)},[]),z(b,E({appear:i,in:a,nodeRef:$,onEnter:L,onEntered:N,onEntering:O,onExit:F,onExited:k,onExiting:H,addEndListener:P,timeout:v==="auto"?null:v},w,{children:(R,j)=>_.exports.cloneElement(o,E({style:E({opacity:0,transform:OF(.75),visibility:R==="exited"&&!a?"hidden":void 0},NBe[R],g,o.props.style),ref:I},j))}))});Sse.muiSupportAuto=!0;const RE=Sse,DBe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],zBe=e=>{const{classes:t,disableUnderline:r}=e,i=Fe({root:["root",!r&&"underline"],input:["input"]},$8e,t);return E({},t,i)},VBe=me(HM,{shouldForwardProp:e=>kl(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...UM(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),E({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Lf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Lf.error}:after`]:{borderBottomColor:(e.vars||e).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Lf.disabled}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Lf.disabled}:before`]:{borderBottomStyle:"dotted"}})}),jBe=me(qM,{name:"MuiInput",slot:"Input",overridesResolver:GM})({}),Cse=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiInput"}),{disableUnderline:i,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,type:d="text"}=n,p=de(n,DBe),f=zBe(n),g={root:{ownerState:{disableUnderline:i}}},v=s?ma(s,g):g;return z(dv,E({components:E({Root:VBe,Input:jBe},o),componentsProps:v,fullWidth:a,inputComponent:l,multiline:c,ref:r,type:d},p,{classes:f}))});Cse.muiName="Input";const $se=Cse;function BBe(e){return It("MuiInputLabel",e)}_t("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const UBe=["disableAnimation","margin","shrink","variant"],GBe=e=>{const{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:s,required:a}=e,c=Fe({root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n==="small"&&"sizeSmall",s],asterisk:[a&&"asterisk"]},BBe,t);return E({},t,c)},HBe=me(ABe,{shouldForwardProp:e=>kl(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Qw.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,t[r.variant]]}})(({theme:e,ownerState:t})=>E({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&E({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&E({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&E({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))),qBe=_.exports.forwardRef(function(t,r){const n=Vt({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o}=n,s=de(n,UBe),a=ih();let l=o;typeof l>"u"&&a&&(l=a.filled||a.focused||a.adornedStart);const c=Pm({props:n,muiFormControl:a,states:["size","variant","required"]}),d=E({},n,{disableAnimation:i,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required}),p=GBe(d);return z(HBe,E({"data-shrink":l,ownerState:d,ref:r},s,{classes:p}))}),LF=qBe,WBe=_.exports.createContext({}),RF=WBe;function KBe(e){return It("MuiList",e)}_t("MuiList",["root","padding","dense","subheader"]);const JBe=["children","className","component","dense","disablePadding","subheader"],ZBe=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return Fe({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},KBe,t)},YBe=me("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>E({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),QBe=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=n,d=de(n,JBe),p=_.exports.useMemo(()=>({dense:a}),[a]),f=E({},n,{component:s,dense:a,disablePadding:l}),y=ZBe(f);return z(RF.Provider,{value:p,children:ot(YBe,E({as:s,className:Se(y.root,o),ref:r,ownerState:f},d,{children:[c,i]}))})}),XBe=QBe,eUe=_t("MuiListItemIcon",["root","alignItemsFlexStart"]),cG=eUe,tUe=_t("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),uG=tUe,rUe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function OP(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function dG(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function Ese(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function rb(e,t,r,n,i,o){let s=!1,a=i(e,t,t?r:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const l=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Ese(a,o)||l)a=i(e,a,r);else return a.focus(),!0}return!1}const nUe=_.exports.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:p="selectedMenu"}=t,f=de(t,rUe),y=_.exports.useRef(null),g=_.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});pi(()=>{i&&y.current.focus()},[i]),_.exports.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(S,C)=>{const $=!y.current.style.width;if(S.clientHeight<y.current.clientHeight&&$){const M=`${foe(Cn(S))}px`;y.current.style[C.direction==="rtl"?"paddingLeft":"paddingRight"]=M,y.current.style.width=`calc(100% + ${M})`}return y.current}}),[]);const v=S=>{const C=y.current,$=S.key,M=Cn(C).activeElement;if($==="ArrowDown")S.preventDefault(),rb(C,M,c,l,OP);else if($==="ArrowUp")S.preventDefault(),rb(C,M,c,l,dG);else if($==="Home")S.preventDefault(),rb(C,null,c,l,OP);else if($==="End")S.preventDefault(),rb(C,null,c,l,dG);else if($.length===1){const I=g.current,T=$.toLowerCase(),O=performance.now();I.keys.length>0&&(O-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&T!==I.keys[0]&&(I.repeating=!1)),I.lastTime=O,I.keys.push(T);const L=M&&!I.repeating&&Ese(M,I);I.previousKeyMatched&&(L||rb(C,M,!1,l,OP,I))?S.preventDefault():I.previousKeyMatched=!1}d&&d(S)},b=Xt(y,r);let w=-1;_.exports.Children.forEach(s,(S,C)=>{!_.exports.isValidElement(S)||S.props.disabled||(p==="selectedMenu"&&S.props.selected||w===-1)&&(w=C)});const x=_.exports.Children.map(s,(S,C)=>{if(C===w){const $={};return o&&($.autoFocus=!0),S.props.tabIndex===void 0&&p==="selectedMenu"&&($.tabIndex=0),_.exports.cloneElement(S,$)}return S});return z(XBe,E({role:"menu",ref:b,className:a,onKeyDown:v,tabIndex:i?0:-1},f,{children:x}))}),_z=nUe;function iUe(e){return It("MuiPopover",e)}_t("MuiPopover",["root","paper"]);const oUe=["onEntering"],sUe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function pG(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function hG(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function fG(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function LP(e){return typeof e=="function"?e():e}const aUe=e=>{const{classes:t}=e;return Fe({root:["root"],paper:["paper"]},iUe,t)},lUe=me(nBe,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),cUe=me(uv,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),uUe=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:d,container:p,elevation:f=8,marginThreshold:y=16,open:g,PaperProps:v={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:w=RE,transitionDuration:x="auto",TransitionProps:{onEntering:S}={}}=n,C=de(n.TransitionProps,oUe),$=de(n,sUe),M=_.exports.useRef(),I=Xt(M,v.ref),T=E({},n,{anchorOrigin:s,anchorReference:l,elevation:f,marginThreshold:y,PaperProps:v,transformOrigin:b,TransitionComponent:w,transitionDuration:x,TransitionProps:C}),O=aUe(T),L=_.exports.useCallback(()=>{if(l==="anchorPosition")return a;const j=LP(o),U=(j&&j.nodeType===1?j:Cn(M.current).body).getBoundingClientRect();return{top:U.top+pG(U,s.vertical),left:U.left+hG(U,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),N=_.exports.useCallback(j=>({vertical:pG(j,b.vertical),horizontal:hG(j,b.horizontal)}),[b.horizontal,b.vertical]),H=_.exports.useCallback(j=>{const A={width:j.offsetWidth,height:j.offsetHeight},U=N(A);if(l==="none")return{top:null,left:null,transformOrigin:fG(U)};const q=L();let J=q.top-U.vertical,Q=q.left-U.horizontal;const se=J+A.height,ce=Q+A.width,le=Uu(LP(o)),Ie=le.innerHeight-y,Ue=le.innerWidth-y;if(J<y){const pe=J-y;J-=pe,U.vertical+=pe}else if(se>Ie){const pe=se-Ie;J-=pe,U.vertical+=pe}if(Q<y){const pe=Q-y;Q-=pe,U.horizontal+=pe}else if(ce>Ue){const pe=ce-Ue;Q-=pe,U.horizontal+=pe}return{top:`${Math.round(J)}px`,left:`${Math.round(Q)}px`,transformOrigin:fG(U)}},[o,l,L,N,y]),F=_.exports.useCallback(()=>{const j=M.current;if(!j)return;const A=H(j);A.top!==null&&(j.style.top=A.top),A.left!==null&&(j.style.left=A.left),j.style.transformOrigin=A.transformOrigin},[H]),k=(j,A)=>{S&&S(j,A),F()};_.exports.useEffect(()=>{g&&F()}),_.exports.useImperativeHandle(i,()=>g?{updatePosition:()=>{F()}}:null,[g,F]),_.exports.useEffect(()=>{if(!g)return;const j=ex(()=>{F()}),A=Uu(o);return A.addEventListener("resize",j),()=>{j.clear(),A.removeEventListener("resize",j)}},[o,g,F]);let P=x;x==="auto"&&!w.muiSupportAuto&&(P=void 0);const R=p||(o?Cn(LP(o)).body:void 0);return z(lUe,E({BackdropProps:{invisible:!0},className:Se(O.root,d),container:R,open:g,ref:r,ownerState:T},$,{children:z(w,E({appear:!0,in:g,onEntering:k,timeout:P},C,{children:z(cUe,E({elevation:f},v,{ref:I,className:Se(O.paper,v.className),children:c}))}))}))}),dUe=uUe;function pUe(e){return It("MuiMenu",e)}_t("MuiMenu",["root","paper","list"]);const hUe=["onEntering"],fUe=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],mUe={vertical:"top",horizontal:"right"},yUe={vertical:"top",horizontal:"left"},gUe=e=>{const{classes:t}=e;return Fe({root:["root"],paper:["paper"],list:["list"]},pUe,t)},vUe=me(dUe,{shouldForwardProp:e=>kl(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),bUe=me(uv,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),wUe=me(_z,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),_Ue=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,disableAutoFocusItem:s=!1,MenuListProps:a={},onClose:l,open:c,PaperProps:d={},PopoverClasses:p,transitionDuration:f="auto",TransitionProps:{onEntering:y}={},variant:g="selectedMenu"}=n,v=de(n.TransitionProps,hUe),b=de(n,fUe),w=lx(),x=w.direction==="rtl",S=E({},n,{autoFocus:i,disableAutoFocusItem:s,MenuListProps:a,onEntering:y,PaperProps:d,transitionDuration:f,TransitionProps:v,variant:g}),C=gUe(S),$=i&&!s&&c,M=_.exports.useRef(null),I=(L,N)=>{M.current&&M.current.adjustStyleForScrollbar(L,w),y&&y(L,N)},T=L=>{L.key==="Tab"&&(L.preventDefault(),l&&l(L,"tabKeyDown"))};let O=-1;return _.exports.Children.map(o,(L,N)=>{!_.exports.isValidElement(L)||L.props.disabled||(g==="selectedMenu"&&L.props.selected||O===-1)&&(O=N)}),z(vUe,E({classes:p,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?mUe:yUe,PaperProps:E({component:bUe},d,{classes:E({},d.classes,{root:C.paper})}),className:C.root,open:c,ref:r,transitionDuration:f,TransitionProps:E({onEntering:I},v),ownerState:S},b,{children:z(wUe,E({onKeyDown:T,actions:M,autoFocus:i&&(O===-1||s),autoFocusItem:$,variant:g},a,{className:Se(C.list,a.className),children:o}))}))}),xUe=_Ue;function SUe(e){return It("MuiMenuItem",e)}const CUe=_t("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),nb=CUe,$Ue=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],EUe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},IUe=e=>{const{disabled:t,dense:r,divider:n,disableGutters:i,selected:o,classes:s}=e,l=Fe({root:["root",r&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",o&&"selected"]},SUe,s);return E({},s,l)},MUe=me(E0,{shouldForwardProp:e=>kl(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:EUe})(({theme:e,ownerState:t})=>E({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${nb.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:St(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${nb.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:St(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${nb.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:St(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:St(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${nb.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${nb.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${sG.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${sG.inset}`]:{marginLeft:52},[`& .${uG.root}`]:{marginTop:0,marginBottom:0},[`& .${uG.inset}`]:{paddingLeft:36},[`& .${cG.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&E({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${cG.root} svg`]:{fontSize:"1.25rem"}}))),TUe=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:p}=n,f=de(n,$Ue),y=_.exports.useContext(RF),g={dense:s||y.dense||!1,disableGutters:l},v=_.exports.useRef(null);pi(()=>{i&&v.current&&v.current.focus()},[i]);const b=E({},n,{dense:g.dense,divider:a,disableGutters:l}),w=IUe(n),x=Xt(v,r);let S;return n.disabled||(S=p!==void 0?p:-1),z(RF.Provider,{value:g,children:z(MUe,E({ref:x,role:d,tabIndex:S,component:o,focusVisibleClassName:Se(w.focusVisible,c)},f,{ownerState:b,classes:w}))})}),Ho=TUe;function kUe(e){return It("MuiNativeSelect",e)}const PUe=_t("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),xz=PUe,OUe=["className","disabled","IconComponent","inputRef","variant"],LUe=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o}=e,s={select:["select",r,n&&"disabled",i&&"multiple"],icon:["icon",`icon${be(r)}`,o&&"iconOpen",n&&"disabled"]};return Fe(s,kUe,t)},Ise=({ownerState:e,theme:t})=>E({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},[`&.${xz.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:t.palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:t.shape.borderRadius,"&:focus":{borderRadius:t.shape.borderRadius},"&&&":{paddingRight:32}}),RUe=me("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:kl,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],{[`&.${xz.multiple}`]:t.multiple}]}})(Ise),Mse=({ownerState:e,theme:t})=>E({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:t.palette.action.active,[`&.${xz.disabled}`]:{color:t.palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),AUe=me("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${be(r.variant)}`],r.open&&t.iconOpen]}})(Mse),FUe=_.exports.forwardRef(function(t,r){const{className:n,disabled:i,IconComponent:o,inputRef:s,variant:a="standard"}=t,l=de(t,OUe),c=E({},t,{disabled:i,variant:a}),d=LUe(c);return ot(_.exports.Fragment,{children:[z(RUe,E({ownerState:c,className:Se(d.select,n),disabled:i,ref:s||r},l)),t.multiple?null:z(AUe,{as:o,ownerState:c,className:d.icon})]})}),NUe=FUe;var mG;const DUe=["children","classes","className","label","notched"],zUe=me("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),VUe=me("legend")(({ownerState:e,theme:t})=>E({float:"unset",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&E({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function jUe(e){const{className:t,label:r,notched:n}=e,i=de(e,DUe),o=r!=null&&r!=="",s=E({},e,{notched:n,withLabel:o});return z(zUe,E({"aria-hidden":!0,className:t,ownerState:s},i,{children:z(VUe,{ownerState:s,children:o?z("span",{children:r}):mG||(mG=z("span",{className:"notranslate",children:"\u200B"}))})}))}const BUe=["components","fullWidth","inputComponent","label","multiline","notched","type"],UUe=e=>{const{classes:t}=e,n=Fe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},I8e,t);return E({},t,n)},GUe=me(HM,{shouldForwardProp:e=>kl(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:UM})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return E({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${nc.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${nc.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${nc.focused} .${nc.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${nc.error} .${nc.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${nc.disabled} .${nc.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&E({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),HUe=me(jUe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),qUe=me(qM,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:GM})(({theme:e,ownerState:t})=>E({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),Tse=_.exports.forwardRef(function(t,r){var n;const i=Vt({props:t,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:d,type:p="text"}=i,f=de(i,BUe),y=UUe(i),g=ih(),v=Pm({props:i,muiFormControl:g,states:["required"]}),b=E({},i,{color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:g,fullWidth:s,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:p});return z(dv,E({components:E({Root:GUe,Input:qUe},o),renderSuffix:w=>z(HUe,{ownerState:b,className:y.notchedOutline,label:l!=null&&l!==""&&v.required?n||(n=ot(_.exports.Fragment,{children:[l,"\xA0","*"]})):l,notched:typeof d<"u"?d:Boolean(w.startAdornment||w.filled||w.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:r,type:p},f,{classes:E({},y,{notchedOutline:null})}))});Tse.muiName="Input";const kse=Tse,yG=tr(z("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),gG=tr(z("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");function WUe(e){return It("MuiSelect",e)}const KUe=_t("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),ZS=KUe;var vG;const JUe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],ZUe=me("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${ZS.select}`]:t.select},{[`&.${ZS.select}`]:t[r.variant]},{[`&.${ZS.multiple}`]:t.multiple}]}})(Ise,{[`&.${ZS.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),YUe=me("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${be(r.variant)}`],r.open&&t.iconOpen]}})(Mse),QUe=me("input",{shouldForwardProp:e=>rje(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function bG(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function XUe(e){return e==null||typeof e=="string"&&!e.trim()}const e7e=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o}=e,s={select:["select",r,n&&"disabled",i&&"multiple"],icon:["icon",`icon${be(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return Fe(s,WUe,t)},t7e=_.exports.forwardRef(function(t,r){const{"aria-describedby":n,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:d,disabled:p,displayEmpty:f,IconComponent:y,inputRef:g,labelId:v,MenuProps:b={},multiple:w,name:x,onBlur:S,onChange:C,onClose:$,onFocus:M,onOpen:I,open:T,readOnly:O,renderValue:L,SelectDisplayProps:N={},tabIndex:H,value:F,variant:k="standard"}=t,P=de(t,JUe),[R,j]=Hf({controlled:F,default:d,name:"Select"}),[A,U]=Hf({controlled:T,default:c,name:"Select"}),q=_.exports.useRef(null),J=_.exports.useRef(null),[Q,se]=_.exports.useState(null),{current:ce}=_.exports.useRef(T!=null),[le,Ie]=_.exports.useState(),Ue=Xt(r,g),pe=_.exports.useCallback(ke=>{J.current=ke,ke&&se(ke)},[]);_.exports.useImperativeHandle(Ue,()=>({focus:()=>{J.current.focus()},node:q.current,value:R}),[R]),_.exports.useEffect(()=>{c&&A&&Q&&!ce&&(Ie(s?null:Q.clientWidth),J.current.focus())},[Q,s]),_.exports.useEffect(()=>{o&&J.current.focus()},[o]),_.exports.useEffect(()=>{if(!v)return;const ke=Cn(J.current).getElementById(v);if(ke){const Rt=()=>{getSelection().isCollapsed&&J.current.focus()};return ke.addEventListener("click",Rt),()=>{ke.removeEventListener("click",Rt)}}},[v]);const ye=(ke,Rt)=>{ke?I&&I(Rt):$&&$(Rt),ce||(Ie(s?null:Q.clientWidth),U(ke))},he=ke=>{ke.button===0&&(ke.preventDefault(),J.current.focus(),ye(!0,ke))},Me=ke=>{ye(!1,ke)},Ge=_.exports.Children.toArray(a),Ee=ke=>{const Rt=Ge.map(Mt=>Mt.props.value).indexOf(ke.target.value);if(Rt===-1)return;const Be=Ge[Rt];j(Be.props.value),C&&C(ke,Be)},tt=ke=>Rt=>{let Be;if(!!Rt.currentTarget.hasAttribute("tabindex")){if(w){Be=Array.isArray(R)?R.slice():[];const Mt=R.indexOf(ke.props.value);Mt===-1?Be.push(ke.props.value):Be.splice(Mt,1)}else Be=ke.props.value;if(ke.props.onClick&&ke.props.onClick(Rt),R!==Be&&(j(Be),C)){const Mt=Rt.nativeEvent||Rt,Tr=new Mt.constructor(Mt.type,Mt);Object.defineProperty(Tr,"target",{writable:!0,value:{value:Be,name:x}}),C(Tr,ke)}w||ye(!1,Rt)}},Ye=ke=>{O||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ke.key)!==-1&&(ke.preventDefault(),ye(!0,ke))},je=Q!==null&&A,Ke=ke=>{!je&&S&&(Object.defineProperty(ke,"target",{writable:!0,value:{value:R,name:x}}),S(ke))};delete P["aria-invalid"];let Ct,Ft;const yt=[];let Lt=!1;(bz({value:R})||f)&&(L?Ct=L(R):Lt=!0);const yr=Ge.map((ke,Rt,Be)=>{if(!_.exports.isValidElement(ke))return null;let Mt;if(w){if(!Array.isArray(R))throw new Error(Wp(2));Mt=R.some(In=>bG(In,ke.props.value)),Mt&&Lt&&yt.push(ke.props.children)}else Mt=bG(R,ke.props.value),Mt&&Lt&&(Ft=ke.props.children);if(ke.props.value===void 0)return _.exports.cloneElement(ke,{"aria-readonly":!0,role:"option"});const Tr=()=>{if(R)return Mt;const In=Be.find(go=>go.props.value!==void 0&&go.props.disabled!==!0);return ke===In?!0:Mt};return _.exports.cloneElement(ke,{"aria-selected":Mt?"true":"false",onClick:tt(ke),onKeyUp:In=>{In.key===" "&&In.preventDefault(),ke.props.onKeyUp&&ke.props.onKeyUp(In)},role:"option",selected:Be[0].props.value===void 0||Be[0].props.disabled===!0?Tr():Mt,value:void 0,"data-value":ke.props.value})});Lt&&(w?yt.length===0?Ct=null:Ct=yt.reduce((ke,Rt,Be)=>(ke.push(Rt),Be<yt.length-1&&ke.push(", "),ke),[]):Ct=Ft);let Gr=le;!s&&ce&&Q&&(Gr=Q.clientWidth);let Mr;typeof H<"u"?Mr=H:Mr=p?null:0;const Cr=N.id||(x?`mui-component-select-${x}`:void 0),Gt=E({},t,{variant:k,value:R,open:je}),Ne=e7e(Gt);return ot(_.exports.Fragment,{children:[z(ZUe,E({ref:pe,tabIndex:Mr,role:"button","aria-disabled":p?"true":void 0,"aria-expanded":je?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,Cr].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:Ye,onMouseDown:p||O?null:he,onBlur:Ke,onFocus:M},N,{ownerState:Gt,className:Se(N.className,Ne.select,l),id:Cr,children:XUe(Ct)?vG||(vG=z("span",{className:"notranslate",children:"\u200B"})):Ct})),z(QUe,E({value:Array.isArray(R)?R.join(","):R,name:x,ref:q,"aria-hidden":!0,onChange:Ee,tabIndex:-1,disabled:p,className:Ne.nativeInput,autoFocus:o,ownerState:Gt},P)),z(YUe,{as:y,className:Ne.icon,ownerState:Gt}),z(xUe,E({id:`menu-${x||""}`,anchorEl:Q,open:je,onClose:Me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:E({"aria-labelledby":v,role:"listbox",disableListWrap:!0},b.MenuListProps),PaperProps:E({},b.PaperProps,{style:E({minWidth:Gr},b.PaperProps!=null?b.PaperProps.style:null)}),children:yr}))]})}),r7e=t7e;var wG,_G;const n7e=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],i7e=e=>{const{classes:t}=e;return t},Sz={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>kl(e)&&e!=="variant",slot:"Root"},o7e=me($se,Sz)(""),s7e=me(kse,Sz)(""),a7e=me(xse,Sz)(""),Pse=_.exports.forwardRef(function(t,r){const n=Vt({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=gse,id:p,input:f,inputProps:y,label:g,labelId:v,MenuProps:b,multiple:w=!1,native:x=!1,onClose:S,onOpen:C,open:$,renderValue:M,SelectDisplayProps:I,variant:T="outlined"}=n,O=de(n,n7e),L=x?NUe:r7e,N=ih(),F=Pm({props:n,muiFormControl:N,states:["variant"]}).variant||T,k=f||{standard:wG||(wG=z(o7e,{})),outlined:z(s7e,{label:g}),filled:_G||(_G=z(a7e,{}))}[F],P=E({},n,{variant:F,classes:s}),R=i7e(P),j=Xt(r,k.ref);return _.exports.cloneElement(k,E({inputComponent:L,inputProps:E({children:o,IconComponent:d,variant:F,type:void 0,multiple:w},x?{id:p}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:v,MenuProps:b,onClose:S,onOpen:C,open:$,renderValue:M,SelectDisplayProps:E({id:p},I)},y,{classes:y?ma(R,y.classes):R},f?f.props.inputProps:{})},w&&x&&F==="outlined"?{notched:!0}:{},{ref:j,className:Se(k.props.className,a),variant:F},O))});Pse.muiName="Select";const Cz=Pse;function l7e(e){return It("MuiTooltip",e)}const c7e=_t("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),bp=c7e,u7e=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];function d7e(e){return Math.round(e*1e5)/1e5}const p7e=e=>{const{classes:t,disableInteractive:r,arrow:n,touch:i,placement:o}=e,s={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${be(o.split("-")[0])}`],arrow:["arrow"]};return Fe(s,l7e,t)},h7e=me(km,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(({theme:e,ownerState:t,open:r})=>E({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${bp.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${bp.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${bp.arrow}`]:E({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${bp.arrow}`]:E({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),f7e=me("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${be(r.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>E({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:St(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${d7e(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${bp.popper}[data-popper-placement*="left"] &`]:E({transformOrigin:"right center"},t.isRtl?E({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):E({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${bp.popper}[data-popper-placement*="right"] &`]:E({transformOrigin:"left center"},t.isRtl?E({marginRight:"14px"},t.touch&&{marginRight:"24px"}):E({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${bp.popper}[data-popper-placement*="top"] &`]:E({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${bp.popper}[data-popper-placement*="bottom"] &`]:E({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),m7e=me("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:St(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let YS=!1,RP=null;function QS(e,t){return r=>{t&&t(r),e(r)}}const y7e=_.exports.forwardRef(function(t,r){var n,i,o,s,a,l;const c=Vt({props:t,name:"MuiTooltip"}),{arrow:d=!1,children:p,components:f={},componentsProps:y={},describeChild:g=!1,disableFocusListener:v=!1,disableHoverListener:b=!1,disableInteractive:w=!1,disableTouchListener:x=!1,enterDelay:S=100,enterNextDelay:C=0,enterTouchDelay:$=700,followCursor:M=!1,id:I,leaveDelay:T=0,leaveTouchDelay:O=1500,onClose:L,onOpen:N,open:H,placement:F="bottom",PopperComponent:k,PopperProps:P={},title:R,TransitionComponent:j=RE,TransitionProps:A}=c,U=de(c,u7e),q=lx(),J=q.direction==="rtl",[Q,se]=_.exports.useState(),[ce,le]=_.exports.useState(null),Ie=_.exports.useRef(!1),Ue=w||M,pe=_.exports.useRef(),ye=_.exports.useRef(),he=_.exports.useRef(),Me=_.exports.useRef(),[Ge,Ee]=Hf({controlled:H,default:!1,name:"Tooltip",state:"open"});let tt=Ge;const Ye=ei(I),je=_.exports.useRef(),Ke=_.exports.useCallback(()=>{je.current!==void 0&&(document.body.style.WebkitUserSelect=je.current,je.current=void 0),clearTimeout(Me.current)},[]);_.exports.useEffect(()=>()=>{clearTimeout(pe.current),clearTimeout(ye.current),clearTimeout(he.current),Ke()},[Ke]);const Ct=gt=>{clearTimeout(RP),YS=!0,Ee(!0),N&&!tt&&N(gt)},Ft=wi(gt=>{clearTimeout(RP),RP=setTimeout(()=>{YS=!1},800+T),Ee(!1),L&&tt&&L(gt),clearTimeout(pe.current),pe.current=setTimeout(()=>{Ie.current=!1},q.transitions.duration.shortest)}),yt=gt=>{Ie.current&&gt.type!=="touchstart"||(Q&&Q.removeAttribute("title"),clearTimeout(ye.current),clearTimeout(he.current),S||YS&&C?ye.current=setTimeout(()=>{Ct(gt)},YS?C:S):Ct(gt))},Lt=gt=>{clearTimeout(ye.current),clearTimeout(he.current),he.current=setTimeout(()=>{Ft(gt)},T)},{isFocusVisibleRef:yr,onBlur:Gr,onFocus:Mr,ref:Cr}=hoe(),[,Gt]=_.exports.useState(!1),Ne=gt=>{Gr(gt),yr.current===!1&&(Gt(!1),Lt(gt))},ke=gt=>{Q||se(gt.currentTarget),Mr(gt),yr.current===!0&&(Gt(!0),yt(gt))},Rt=gt=>{Ie.current=!0;const dr=p.props;dr.onTouchStart&&dr.onTouchStart(gt)},Be=yt,Mt=Lt,Tr=gt=>{Rt(gt),clearTimeout(he.current),clearTimeout(pe.current),Ke(),je.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Me.current=setTimeout(()=>{document.body.style.WebkitUserSelect=je.current,yt(gt)},$)},In=gt=>{p.props.onTouchEnd&&p.props.onTouchEnd(gt),Ke(),clearTimeout(he.current),he.current=setTimeout(()=>{Ft(gt)},O)};_.exports.useEffect(()=>{if(!tt)return;function gt(dr){(dr.key==="Escape"||dr.key==="Esc")&&Ft(dr)}return document.addEventListener("keydown",gt),()=>{document.removeEventListener("keydown",gt)}},[Ft,tt]);const go=Xt(se,r),rs=Xt(Cr,go),Ta=Xt(p.ref,rs);R===""&&(tt=!1);const ti=_.exports.useRef({x:0,y:0}),vo=_.exports.useRef(),ns=gt=>{const dr=p.props;dr.onMouseMove&&dr.onMouseMove(gt),ti.current={x:gt.clientX,y:gt.clientY},vo.current&&vo.current.update()},Yr={},Fr=typeof R=="string";g?(Yr.title=!tt&&Fr&&!b?R:null,Yr["aria-describedby"]=tt?Ye:null):(Yr["aria-label"]=Fr?R:null,Yr["aria-labelledby"]=tt&&!Fr?Ye:null);const Pr=E({},Yr,U,p.props,{className:Se(U.className,p.props.className),onTouchStart:Rt,ref:Ta},M?{onMouseMove:ns}:{}),Ol={};x||(Pr.onTouchStart=Tr,Pr.onTouchEnd=In),b||(Pr.onMouseOver=QS(Be,Pr.onMouseOver),Pr.onMouseLeave=QS(Mt,Pr.onMouseLeave),Ue||(Ol.onMouseOver=Be,Ol.onMouseLeave=Mt)),v||(Pr.onFocus=QS(ke,Pr.onFocus),Pr.onBlur=QS(Ne,Pr.onBlur),Ue||(Ol.onFocus=ke,Ol.onBlur=Ne));const oh=_.exports.useMemo(()=>{var gt;let dr=[{name:"arrow",enabled:Boolean(ce),options:{element:ce,padding:4}}];return(gt=P.popperOptions)!=null&&gt.modifiers&&(dr=dr.concat(P.popperOptions.modifiers)),E({},P.popperOptions,{modifiers:dr})},[ce,P]),ka=E({},c,{isRtl:J,arrow:d,disableInteractive:Ue,placement:F,PopperComponentProp:k,touch:Ie.current}),Nc=p7e(ka),Dc=(n=f.Popper)!=null?n:h7e,Wt=(i=(o=f.Transition)!=null?o:j)!=null?i:RE,jn=(s=f.Tooltip)!=null?s:f7e,is=(a=f.Arrow)!=null?a:m7e,Xu=lw(Dc,E({},P,y.popper),ka),yv=lw(Wt,E({},A,y.transition),ka),ne=lw(jn,E({},y.tooltip),ka),$r=lw(is,E({},y.arrow),ka);return ot(_.exports.Fragment,{children:[_.exports.cloneElement(p,Pr),z(Dc,E({as:k!=null?k:km,placement:F,anchorEl:M?{getBoundingClientRect:()=>({top:ti.current.y,left:ti.current.x,right:ti.current.x,bottom:ti.current.y,width:0,height:0})}:Q,popperRef:vo,open:Q?tt:!1,id:Ye,transition:!0},Ol,Xu,{className:Se(Nc.popper,P==null?void 0:P.className,(l=y.popper)==null?void 0:l.className),popperOptions:oh,children:({TransitionProps:gt})=>{var dr,ge;return z(Wt,E({timeout:q.transitions.duration.shorter},gt,yv,{children:ot(jn,E({},ne,{className:Se(Nc.tooltip,(dr=y.tooltip)==null?void 0:dr.className),children:[R,d?z(is,E({},$r,{className:Se(Nc.arrow,(ge=y.arrow)==null?void 0:ge.className),ref:le})):null]}))}))}}))]})}),g7e=y7e;function v7e(e){return It("MuiSwitch",e)}const b7e=_t("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Fi=b7e,w7e=["className","color","edge","size","sx"],_7e=e=>{const{classes:t,edge:r,size:n,color:i,checked:o,disabled:s}=e,a={root:["root",r&&`edge${be(r)}`,`size${be(n)}`],switchBase:["switchBase",`color${be(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Fe(a,v7e,t);return E({},t,l)},x7e=me("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${be(r.edge)}`],t[`size${be(r.size)}`]]}})(({ownerState:e})=>E({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${Fi.thumb}`]:{width:16,height:16},[`& .${Fi.switchBase}`]:{padding:4,[`&.${Fi.checked}`]:{transform:"translateX(16px)"}}})),S7e=me(wse,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${Fi.input}`]:t.input},r.color!=="default"&&t[`color${be(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Fi.checked}`]:{transform:"translateX(20px)"},[`&.${Fi.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Fi.checked} + .${Fi.track}`]:{opacity:.5},[`&.${Fi.disabled} + .${Fi.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Fi.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>E({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:St(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Fi.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:St(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fi.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?cv(e.palette[t.color].main,.62):lv(e.palette[t.color].main,.55)}`}},[`&.${Fi.checked} + .${Fi.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),C7e=me("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),$7e=me("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),E7e=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:l}=n,c=de(n,w7e),d=E({},n,{color:o,edge:s,size:a}),p=_7e(d),f=z($7e,{className:p.thumb,ownerState:d});return ot(x7e,{className:Se(p.root,i),sx:l,ownerState:d,children:[z(S7e,E({type:"checkbox",icon:f,checkedIcon:f,ref:r,ownerState:d},c,{classes:E({},p,{root:p.switchBase})})),z(C7e,{className:p.track,ownerState:d})]})}),I7e=E7e,M7e=_.exports.createContext(),T7e=M7e,k7e=_.exports.createContext(),P7e=k7e;function O7e(e){return It("MuiTableCell",e)}const L7e=_t("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),R7e=L7e,A7e=["align","className","component","padding","scope","size","sortDirection","variant"],F7e=e=>{const{classes:t,variant:r,align:n,padding:i,size:o,stickyHeader:s}=e,a={root:["root",r,s&&"stickyHeader",n!=="inherit"&&`align${be(n)}`,i!=="normal"&&`padding${be(i)}`,`size${be(o)}`]};return Fe(a,O7e,t)},N7e=me("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${be(r.size)}`],r.padding!=="normal"&&t[`padding${be(r.padding)}`],r.align!=="inherit"&&t[`align${be(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>E({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?cv(St(e.palette.divider,1),.88):lv(St(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${R7e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),D7e=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:c,sortDirection:d,variant:p}=n,f=de(n,A7e),y=_.exports.useContext(T7e),g=_.exports.useContext(P7e),v=g&&g.variant==="head";let b;s?b=s:b=v?"th":"td";let w=l;!w&&v&&(w="col");const x=p||g&&g.variant,S=E({},n,{align:i,component:b,padding:a||(y&&y.padding?y.padding:"normal"),size:c||(y&&y.size?y.size:"medium"),sortDirection:d,stickyHeader:x==="head"&&y&&y.stickyHeader,variant:x}),C=F7e(S);let $=null;return d&&($=d==="asc"?"ascending":"descending"),z(N7e,E({as:b,ref:r,className:Se(C.root,o),"aria-sort":$,scope:w,ownerState:S},f))}),AF=D7e;function z7e(e){return It("MuiToolbar",e)}_t("MuiToolbar",["root","gutters","regular","dense"]);const V7e=["className","component","disableGutters","variant"],j7e=e=>{const{classes:t,disableGutters:r,variant:n}=e;return Fe({root:["root",!r&&"gutters",n]},z7e,t)},B7e=me("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(({theme:e,ownerState:t})=>E({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),U7e=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=n,l=de(n,V7e),c=E({},n,{component:o,disableGutters:s,variant:a}),d=j7e(c);return z(B7e,E({as:o,className:Se(d.root,i),ref:r,ownerState:c},l))}),G7e=U7e,xG=tr(z("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),SG=tr(z("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var CG,$G,EG,IG,MG,TG,kG,PG;const H7e=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],q7e=_.exports.forwardRef(function(t,r){const{backIconButtonProps:n,count:i,getItemAriaLabel:o,nextIconButtonProps:s,onPageChange:a,page:l,rowsPerPage:c,showFirstButton:d,showLastButton:p}=t,f=de(t,H7e),y=lx(),g=x=>{a(x,0)},v=x=>{a(x,l-1)},b=x=>{a(x,l+1)},w=x=>{a(x,Math.max(0,Math.ceil(i/c)-1))};return ot("div",E({ref:r},f,{children:[d&&z(Cs,{onClick:g,disabled:l===0,"aria-label":o("first",l),title:o("first",l),children:y.direction==="rtl"?CG||(CG=z(gG,{})):$G||($G=z(yG,{}))}),z(Cs,E({onClick:v,disabled:l===0,color:"inherit","aria-label":o("previous",l),title:o("previous",l)},n,{children:y.direction==="rtl"?EG||(EG=z(SG,{})):IG||(IG=z(xG,{}))})),z(Cs,E({onClick:b,disabled:i!==-1?l>=Math.ceil(i/c)-1:!1,color:"inherit","aria-label":o("next",l),title:o("next",l)},s,{children:y.direction==="rtl"?MG||(MG=z(xG,{})):TG||(TG=z(SG,{}))})),p&&z(Cs,{onClick:w,disabled:l>=Math.ceil(i/c)-1,"aria-label":o("last",l),title:o("last",l),children:y.direction==="rtl"?kG||(kG=z(yG,{})):PG||(PG=z(gG,{}))})]}))}),W7e=q7e;function K7e(e){return It("MuiTablePagination",e)}const J7e=_t("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),Wf=J7e;var OG;const Z7e=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],Y7e=me(AF,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}})),Q7e=me(G7e,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>E({[`& .${Wf.actions}`]:t.actions},t.toolbar)})(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Wf.actions}`]:{flexShrink:0,marginLeft:20}})),X7e=me("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),eGe=me("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(({theme:e})=>E({},e.typography.body2,{flexShrink:0})),tGe=me(Cz,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>E({[`& .${Wf.selectIcon}`]:t.selectIcon,[`& .${Wf.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Wf.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),rGe=me(Ho,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),nGe=me("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(({theme:e})=>E({},e.typography.body2,{flexShrink:0}));function iGe({from:e,to:t,count:r}){return`${e}\u2013${t} of ${r!==-1?r:`more than ${t}`}`}function oGe(e){return`Go to ${e} page`}const sGe=e=>{const{classes:t}=e;return Fe({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},K7e,t)},aGe=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiTablePagination"}),{ActionsComponent:i=W7e,backIconButtonProps:o,className:s,colSpan:a,component:l=AF,count:c,getItemAriaLabel:d=oGe,labelDisplayedRows:p=iGe,labelRowsPerPage:f="Rows per page:",nextIconButtonProps:y,onPageChange:g,onRowsPerPageChange:v,page:b,rowsPerPage:w,rowsPerPageOptions:x=[10,25,50,100],SelectProps:S={},showFirstButton:C=!1,showLastButton:$=!1}=n,M=de(n,Z7e),I=n,T=sGe(I),O=S.native?"option":rGe;let L;(l===AF||l==="td")&&(L=a||1e3);const N=ei(S.id),H=ei(S.labelId),F=()=>c===-1?(b+1)*w:w===-1?c:Math.min(c,(b+1)*w);return z(Y7e,E({colSpan:L,ref:r,as:l,ownerState:I,className:Se(T.root,s)},M,{children:ot(Q7e,{className:T.toolbar,children:[z(X7e,{className:T.spacer}),x.length>1&&z(eGe,{className:T.selectLabel,id:H,children:f}),x.length>1&&z(tGe,E({variant:"standard",input:OG||(OG=z(dv,{})),value:w,onChange:v,id:N,labelId:H},S,{classes:E({},S.classes,{root:Se(T.input,T.selectRoot,(S.classes||{}).root),select:Se(T.select,(S.classes||{}).select),icon:Se(T.selectIcon,(S.classes||{}).icon)}),children:x.map(k=>_.exports.createElement(O,E({},!_0(O)&&{ownerState:I},{className:T.menuItem,key:k.label?k.label:k,value:k.value?k.value:k}),k.label?k.label:k))})),z(nGe,{className:T.displayedRows,children:p({from:c===0?0:b*w+1,to:F(),count:c===-1?-1:c,page:b})}),z(i,{className:T.actions,backIconButtonProps:o,count:c,nextIconButtonProps:y,onPageChange:g,page:b,rowsPerPage:w,showFirstButton:C,showLastButton:$,getItemAriaLabel:d})]})}))}),lGe=aGe;function cGe(e){return It("MuiTextField",e)}_t("MuiTextField",["root"]);const uGe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],dGe={standard:$se,filled:xse,outlined:kse},pGe=e=>{const{classes:t}=e;return Fe({root:["root"]},cGe,t)},hGe=me(Om,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),fGe=_.exports.forwardRef(function(t,r){const n=Vt({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:d=!1,error:p=!1,FormHelperTextProps:f,fullWidth:y=!1,helperText:g,id:v,InputLabelProps:b,inputProps:w,InputProps:x,inputRef:S,label:C,maxRows:$,minRows:M,multiline:I=!1,name:T,onBlur:O,onChange:L,onFocus:N,placeholder:H,required:F=!1,rows:k,select:P=!1,SelectProps:R,type:j,value:A,variant:U="outlined"}=n,q=de(n,uGe),J=E({},n,{autoFocus:o,color:l,disabled:d,error:p,fullWidth:y,multiline:I,required:F,select:P,variant:U}),Q=pGe(J),se={};U==="outlined"&&(b&&typeof b.shrink<"u"&&(se.notched=b.shrink),se.label=C),P&&((!R||!R.native)&&(se.id=void 0),se["aria-describedby"]=void 0);const ce=ei(v),le=g&&ce?`${ce}-helper-text`:void 0,Ie=C&&ce?`${ce}-label`:void 0,Ue=dGe[U],pe=z(Ue,E({"aria-describedby":le,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:y,multiline:I,name:T,rows:k,maxRows:$,minRows:M,type:j,value:A,id:ce,inputRef:S,onBlur:O,onChange:L,onFocus:N,placeholder:H,inputProps:w},se,x));return ot(hGe,E({className:Se(Q.root,a),disabled:d,error:p,fullWidth:y,ref:r,required:F,color:l,variant:U,ownerState:J},q,{children:[C!=null&&C!==""&&z(LF,E({htmlFor:ce,id:Ie},b,{children:C})),P?z(Cz,E({"aria-describedby":le,id:ce,labelId:Ie,value:A,input:pe},R,{children:s})):pe,g&&z(IBe,E({id:le},f,{children:g}))]}))}),Ose=fGe;function jt(e){return It("MuiDataGrid",e)}const re=_t("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","autoHeight","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell","cellContent","cellCheckbox","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLinkOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","root","root--densityStandard","root--densityComfortable","root--densityCompact","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),mGe=e=>{const{classes:t}=e;return Fe({root:["main"]},jt,t)},yGe=me("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"}));function Lse(e){const r={classes:Ze().classes},n=mGe(r);return z(yGe,{className:n.root,children:e.children})}function gGe(e,t){var r=function(C){var $=C.__resizeTriggers__,M=$.firstElementChild,I=$.lastElementChild,T=M.firstElementChild;I.scrollLeft=I.scrollWidth,I.scrollTop=I.scrollHeight,T.style.width=M.offsetWidth+1+"px",T.style.height=M.offsetHeight+1+"px",M.scrollLeft=M.scrollWidth,M.scrollTop=M.scrollHeight},n=function(C){return C.offsetWidth!=C.__resizeLast__.width||C.offsetHeight!=C.__resizeLast__.height},i=function(C){if(!(C.target.className.indexOf("contract-trigger")<0&&C.target.className.indexOf("expand-trigger")<0)){var $=this;r(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame(function(){n($)&&($.__resizeLast__.width=$.offsetWidth,$.__resizeLast__.height=$.offsetHeight,$.__resizeListeners__.forEach(function(M){M.call($,C)}))})}},o=!1,s="",a="animationstart",l="Webkit Moz O ms".split(" "),c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="";{var p=document.createElement("fakeelement");if(p.style.animationName!==void 0&&(o=!0),o===!1){for(var f=0;f<l.length;f++)if(p.style[l[f]+"AnimationName"]!==void 0){d=l[f],s="-"+d.toLowerCase()+"-",a=c[f],o=!0;break}}}var y="resizeanim",g="@"+s+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",v=s+"animation: 1ms "+y+"; ",b=function(C){if(!C.getElementById("muiDetectElementResize")){var $=(g||"")+".Mui-resizeTriggers { "+(v||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',M=C.head||C.getElementsByTagName("head")[0],I=C.createElement("style");I.id="muiDetectElementResize",I.type="text/css",e!=null&&I.setAttribute("nonce",e),I.styleSheet?I.styleSheet.cssText=$:I.appendChild(C.createTextNode($)),M.appendChild(I)}},w=function(C,$){if(!C.__resizeTriggers__){var M=C.ownerDocument,I=t.getComputedStyle(C);I&&I.position=="static"&&(C.style.position="relative"),b(M),C.__resizeLast__={},C.__resizeListeners__=[],(C.__resizeTriggers__=M.createElement("div")).className="Mui-resizeTriggers",C.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',C.appendChild(C.__resizeTriggers__),r(C),C.addEventListener("scroll",i,!0),a&&(C.__resizeTriggers__.__animationListener__=function(O){O.animationName==y&&r(C)},C.__resizeTriggers__.addEventListener(a,C.__resizeTriggers__.__animationListener__))}C.__resizeListeners__.push($)},x=function(C,$){if(C.__resizeListeners__.splice(C.__resizeListeners__.indexOf($),1),!C.__resizeListeners__.length){C.removeEventListener("scroll",i,!0),C.__resizeTriggers__.__animationListener__&&(C.__resizeTriggers__.removeEventListener(a,C.__resizeTriggers__.__animationListener__),C.__resizeTriggers__.__animationListener__=null);try{C.__resizeTriggers__=!C.removeChild(C.__resizeTriggers__)}catch{}}};return{addResizeListener:w,removeResizeListener:x}}const vGe=["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"],bGe=_.exports.forwardRef(function(t,r){const{children:n,defaultHeight:i=null,defaultWidth:o=null,disableHeight:s=!1,disableWidth:a=!1,nonce:l,onResize:c,style:d}=t,p=de(t,vGe),[f,y]=_.exports.useState({height:i,width:o}),g=_.exports.useRef(null),v=_.exports.useRef(null),b=wi(()=>{if(v.current){const C=v.current.offsetHeight||0,$=v.current.offsetWidth||0,I=Uu(v.current).getComputedStyle(v.current),T=parseInt(I.paddingLeft,10)||0,O=parseInt(I.paddingRight,10)||0,L=parseInt(I.paddingTop,10)||0,N=parseInt(I.paddingBottom,10)||0,H=C-L-N,F=$-T-O;(!s&&f.height!==H||!a&&f.width!==F)&&(y({height:H,width:F}),c&&c({height:H,width:F}))}});pi(()=>{var C;if(v.current=g.current.parentElement,!v)return;const $=Uu((C=v.current)!=null?C:void 0),M=gGe(l,$);return M.addResizeListener(v.current,b),b(),()=>{M.removeResizeListener(v.current,b)}},[l,b]);const w={overflow:"visible"},x={};s||(w.height=0,x.height=f.height),a||(w.width=0,x.width=f.width);const S=Xt(g,r);return z("div",E({ref:S,style:E({},w,d)},p,{children:f.height===null&&f.width===null?null:n(x)}))}),Pl=(e,t="warning")=>{let r=!1;const n=Array.isArray(e)?e.join(`
`):e;return()=>{r||(r=!0,t==="error"?console.error(n):console.warn(n))}},Lm=(e,t)=>e;function wGe(e){return e.acceptsApiRef}Pl(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);const Je=(e,t)=>wGe(t)?t(e):t(e.current.state);var AE="NOT_FOUND";function _Ge(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:AE},put:function(n,i){t={key:n,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function xGe(e,t){var r=[];function n(a){var l=r.findIndex(function(d){return t(a,d.key)});if(l>-1){var c=r[l];return l>0&&(r.splice(l,1),r.unshift(c)),c.value}return AE}function i(a,l){n(a)===AE&&(r.unshift({key:a,value:l}),r.length>e&&r.pop())}function o(){return r}function s(){r=[]}return{get:n,put:i,getEntries:o,clear:s}}var SGe=function(t,r){return t===r};function CGe(e){return function(r,n){if(r===null||n===null||r.length!==n.length)return!1;for(var i=r.length,o=0;o<i;o++)if(!e(r[o],n[o]))return!1;return!0}}function Rse(e,t){var r=typeof t=="object"?t:{equalityCheck:t},n=r.equalityCheck,i=n===void 0?SGe:n,o=r.maxSize,s=o===void 0?1:o,a=r.resultEqualityCheck,l=CGe(i),c=s===1?_Ge(l):xGe(s,l);function d(){var p=c.get(arguments);if(p===AE){if(p=e.apply(null,arguments),a){var f=c.getEntries(),y=f.find(function(g){return a(g.value,p)});y&&(p=y.value)}c.put(arguments,p)}return p}return d.clearCache=function(){return c.clear()},d}function $Ge(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(n){return typeof n=="function"})){var r=t.map(function(n){return typeof n=="function"?"function "+(n.name||"unnamed")+"()":typeof n}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}function EGe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var c=0,d,p={memoizeOptions:void 0},f=a.pop();if(typeof f=="object"&&(p=f,f=a.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var y=p,g=y.memoizeOptions,v=g===void 0?r:g,b=Array.isArray(v)?v:[v],w=$Ge(a),x=e.apply(void 0,[function(){return c++,f.apply(null,arguments)}].concat(b)),S=e(function(){for(var $=[],M=w.length,I=0;I<M;I++)$.push(w[I].apply(null,arguments));return d=x.apply(null,$),d});return Object.assign(S,{resultFunc:f,memoizedResultFunc:x,dependencies:w,lastResult:function(){return d},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),S};return i}var IGe=EGe(Rse);const ib={cache:null};Pl(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g `mySelector(state, apiRef.current.instanceId)`."]);const et=(...e)=>{ib.cache===null&&(ib.cache={});const t=(...r)=>{const[n,i]=r,o=!!n.current,s=o?n.current.instanceId:i!=null?i:"default",a=o?n.current.state:n;ib.cache===null&&(ib.cache={});const{cache:l}=ib;if(l[s]&&l[s].get(e))return l[s].get(e)(a,s);const c=IGe(...e);return l[s]||(l[s]=new Map),l[s].set(e,c),c(a,s)};return t.acceptsApiRef=!0,t},Fc=e=>e.rows,KM=et(Fc,e=>e.totalRowCount),MGe=et(Fc,e=>e.loading),TGe=et(Fc,e=>e.totalTopLevelRowCount),a_=et(Fc,e=>e.idRowsLookup),Ase=et(Fc,e=>e.idToIdLookup),Kf=et(Fc,e=>e.tree),kGe=et(Fc,e=>e.groupingName),$z=et(Fc,e=>e.treeDepth),Gg=et(Fc,e=>e.ids),PGe=et(Fc,e=>e==null?void 0:e.additionalRowGroups),cx=et(PGe,e=>e==null?void 0:e.pinnedRows),OGe=et(cx,e=>{var t,r;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(r=e.bottom)==null?void 0:r.length)||0)}),Ez=e=>e.sorting,Iz=et(Ez,e=>e.sortedRows),Mz=et(Iz,a_,(e,t)=>e.map(r=>({id:r,model:t[r]}))),ol=et(Ez,e=>e.sortModel),LGe=et(ol,e=>e.reduce((r,n,i)=>(r[n.field]={sortDirection:n.sort,sortIndex:e.length>1?i+1:void 0},r),{})),mm=e=>e.columns,ym=et(mm,e=>e.all),pv=et(mm,e=>e.lookup),ga=et(ym,pv,(e,t)=>e.map(r=>t[r])),wp=et(mm,e=>e.columnVisibilityModel),Wi=et(ga,wp,(e,t)=>e.filter(r=>t[r.field]!==!1));et(Wi,e=>e.map(t=>t.field));const gm=et(Wi,e=>{const t=[];let r=0;for(let n=0;n<e.length;n+=1)t.push(r),r+=e[n].computedWidth;return t}),JM=et(Wi,gm,(e,t)=>{const r=e.length;return r===0?0:t[r-1]+e[r-1].computedWidth}),ZM=et(ga,e=>e.filter(t=>t.filterable)),RGe=et(ga,e=>e.reduce((t,r)=>(r.filterable&&(t[r.field]=r),t),{}));Lm(ym);Lm(ga);Lm(Wi);Lm(ZM);Lm(et(ZM,e=>e.map(t=>t.field)));Lm(et(Wi,e=>e.length));const AGe=Lm(et(gm,JM,(e,t)=>({totalWidth:t,positions:e}))),ux=e=>e.filter,Eo=et(ux,e=>e.filterModel),FGe=et(Eo,e=>e.quickFilterValues),NGe=et(ux,e=>e.visibleRowsLookup),Fse=et(ux,e=>e.filteredRowsLookup);et(ux,e=>e.filteredDescendantCountLookup);const Qu=et(NGe,Mz,(e,t)=>t.filter(r=>e[r.id]!==!1)),Xw=et(Qu,e=>e.map(t=>t.id)),DGe=et(Fse,Mz,(e,t)=>t.filter(r=>e[r.id]!==!1)),zGe=et(DGe,e=>e.map(t=>t.id)),Nse=et(Qu,Kf,$z,(e,t,r)=>r<2?e:e.filter(n=>{var i;return((i=t[n.id])==null?void 0:i.depth)===0})),Dse=et(Qu,e=>e.length),zse=et(Nse,e=>e.length),Vse=et(Eo,pv,(e,t)=>{var r;return(r=e.items)==null?void 0:r.filter(n=>{var i,o;if(!n.columnField)return!1;const s=t[n.columnField];if(!(s!=null&&s.filterOperators)||(s==null||(i=s.filterOperators)==null?void 0:i.length)===0)return!1;const a=s.filterOperators.find(l=>l.value===n.operatorValue);return a?!a.InputComponent||n.value!=null&&((o=n.value)==null?void 0:o.toString())!=="":!1})}),VGe=et(Vse,e=>e.reduce((r,n)=>(r[n.columnField]?r[n.columnField].push(n):r[n.columnField]=[n],r),{})),dx=e=>e.density,jGe=et(dx,e=>e.value),px=et(dx,e=>e.rowHeight),hv=et(dx,e=>e.headerHeight),BGe=et(dx,e=>e.factor);function UGe(e){var t,r;const n=ft(),i=Ze(),o=Je(n,hv),[s,a]=_.exports.useState(()=>{var d,p;return(d=(p=n.current.getRootDimensions())==null?void 0:p.viewportInnerSize)!=null?d:null}),l=_.exports.useCallback(()=>{var d,p;a((d=(p=n.current.getRootDimensions())==null?void 0:p.viewportInnerSize)!=null?d:null)},[n]);pi(()=>n.current.subscribeEvent("viewportInnerSizeChange",l),[n,l]);let c=(t=s==null?void 0:s.height)!=null?t:0;return i.autoHeight&&c===0&&(c="auto"),s?z("div",E({style:{height:c,width:(r=s==null?void 0:s.width)!=null?r:0,position:"absolute",top:o,bottom:c==="auto"?0:void 0}},e)):null}function GGe(){const e=ft(),t=Ze(),r=Je(e,KM),n=Je(e,Dse),i=Je(e,MGe),o=!i&&r===0,s=!i&&r>0&&n===0;let a=null;if(o){var l;a=z(t.components.NoRowsOverlay,E({},(l=t.componentsProps)==null?void 0:l.noRowsOverlay))}if(s){var c;a=z(t.components.NoResultsOverlay,E({},(c=t.componentsProps)==null?void 0:c.noResultsOverlay))}if(i){var d;a=z(t.components.LoadingOverlay,E({},(d=t.componentsProps)==null?void 0:d.loadingOverlay))}return a===null?null:z(UGe,{children:a})}function HGe(e){const{children:t,VirtualScrollerComponent:r,ColumnHeadersComponent:n}=e,i=ft(),o=Ze(),s=Je(i,hv),[a,l]=_.exports.useState(o.disableVirtualization),c=_.exports.useCallback(()=>{l(!0)},[]),d=_.exports.useCallback(()=>{l(!1)},[]);i.current.unstable_disableVirtualization=c,i.current.unstable_enableVirtualization=d;const p=_.exports.useRef(null),f=_.exports.useRef(null),y=_.exports.useRef(null),g=_.exports.useRef(null);i.current.columnHeadersContainerElementRef=f,i.current.columnHeadersElementRef=p,i.current.windowRef=y,i.current.renderingZoneRef=g;const v=_.exports.useCallback(b=>{i.current.publishEvent("resize",b)},[i]);return ot(Lse,{children:[z(GGe,{}),z(n,{ref:f,innerRef:p}),z(bGe,{nonce:o.nonce,disableHeight:o.autoHeight,onResize:v,children:b=>{const w={width:b.width,height:b.height?b.height-s:"auto",marginTop:s};return z(r,{ref:y,style:w,disableVirtualization:a})}}),t]})}function Vn(e,t){const r=_.exports.useRef(null);if(r.current)return r.current;const n=e.current.getLogger(t);return r.current=n,n}class qGe extends _.exports.Component{static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){this.props.api.current&&(this.logError(t),this.props.api.current.showError({error:t,errorInfo:r}))}logError(t,r){this.props.logger.error(`An unexpected error occurred. Error: ${t&&t.message}. `,t,r)}render(){var t;return this.props.hasError||(t=this.state)!=null&&t.hasError?this.props.render(this.props.componentProps||this.state):this.props.children}}function WGe(e){const{children:t}=e,r=ft(),n=Vn(r,"GridErrorHandler"),i=Ze(),o=r.current.state.error;return z(qGe,{hasError:o!=null,componentProps:o,api:r,logger:n,render:s=>{var a;return z(Lse,{children:z(i.components.ErrorOverlay,E({},s,(a=i.componentsProps)==null?void 0:a.errorOverlay))})},children:t})}function KGe(){var e;const t=ft(),r=Ze(),n=_.exports.useRef(null);return t.current.footerRef=n,r.hideFooter?null:z("div",{ref:n,children:z(r.components.Footer,E({},(e=r.componentsProps)==null?void 0:e.footer))})}function JGe(){var e;const t=ft(),r=Ze(),n=_.exports.useRef(null);return t.current.headerRef=n,z("div",{ref:n,children:z(r.components.Header,E({},(e=r.componentsProps)==null?void 0:e.header))})}var ji;(function(e){e.Cell="cell",e.Row="row"})(ji||(ji={}));var Dt;(function(e){e.Edit="edit",e.View="view"})(Dt||(Dt={}));var lr;(function(e){e.Edit="edit",e.View="view"})(lr||(lr={}));const Hg={client:"client",server:"server"};var ao;(function(e){e.And="and",e.Or="or"})(ao||(ao={}));var vu;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(vu||(vu={}));var ic;(function(e){e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(ic||(ic={}));var bu;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(bu||(bu={}));var oc;(function(e){e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(oc||(oc={}));var l_;(function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"})(l_||(l_={}));const jse=e=>e.focus,hl=et(jse,e=>e.cell),ZGe=et(jse,e=>e.columnHeader),Bse=e=>e.tabIndex,FE=et(Bse,e=>e.cell),Use=et(Bse,e=>e.columnHeader),YGe=["align","children","colIndex","colDef","cellMode","field","formattedValue","hasFocus","height","isEditable","rowId","tabIndex","value","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","onClick","onDoubleClick","onMouseDown","onMouseUp","onKeyDown","onDragEnter","onDragOver"];let AP;function QGe(){return AP===void 0&&document.createElement("div").focus({get preventScroll(){return AP=!0,!1}}),AP}const XGe=e=>{const{align:t,showRightBorder:r,isEditable:n,classes:i}=e,o={root:["cell",`cell--text${be(t)}`,n&&"cell--editable",r&&"withBorder"],content:["cellContent"]};return Fe(o,jt,i)};function eHe(e){const{align:t,children:r,colIndex:n,cellMode:i,field:o,formattedValue:s,hasFocus:a,height:l,isEditable:c,rowId:d,tabIndex:p,value:f,width:y,className:g,showRightBorder:v,colSpan:b,disableDragEvents:w,onClick:x,onDoubleClick:S,onMouseDown:C,onMouseUp:$,onKeyDown:M,onDragEnter:I,onDragOver:T}=e,O=de(e,YGe),L=s==null?f:s,N=_.exports.useRef(null),H=_.exports.useRef(null),F=ft(),k=Ze(),P={align:t,showRightBorder:v,isEditable:c,classes:k.classes},R=XGe(P),j=_.exports.useCallback(le=>Ie=>{const Ue=F.current.getCellParams(d,o||"");F.current.publishEvent(le,Ue,Ie),$&&$(Ie)},[F,o,$,d]),A=_.exports.useCallback((le,Ie)=>Ue=>{if(!Ue.currentTarget.contains(Ue.target)||!F.current.getRow(d))return;const pe=F.current.getCellParams(d,o||"");F.current.publishEvent(le,pe,Ue),Ie&&Ie(Ue)},[F,o,d]),U={minWidth:y,maxWidth:y,minHeight:l,maxHeight:l==="auto"?"none":l};_.exports.useLayoutEffect(()=>{if(!a||i===Dt.Edit)return;const le=Cn(F.current.rootElementRef.current);if(N.current&&!N.current.contains(le.activeElement)){const Ie=N.current.querySelector('[tabindex="0"]'),Ue=H.current||Ie||N.current;if(QGe())Ue.focus({preventScroll:!0});else{const pe=F.current.getScrollPosition();Ue.focus(),F.current.scroll(pe)}}},[a,i,F]);let q=O.onFocus;const Q=F.current.getColumn(o).type==="actions",se=()=>r==null?z("div",{className:R.content,children:L==null?void 0:L.toString()}):_.exports.isValidElement(r)&&Q?_.exports.cloneElement(r,{focusElementRef:H}):r,ce=w?null:{onDragEnter:A("cellDragEnter",I),onDragOver:A("cellDragOver",T)};return z("div",E({ref:N,className:Se(g,R.root),role:"cell","data-field":o,"data-colindex":n,"aria-colindex":n+1,"aria-colspan":b,style:U,tabIndex:(i==="view"||!c)&&!Q?p:-1,onClick:A("cellClick",x),onDoubleClick:A("cellDoubleClick",S),onMouseDown:A("cellMouseDown",C),onMouseUp:j("cellMouseUp"),onKeyDown:A("cellKeyDown",M)},ce,O,{onFocus:q,children:se()}))}const tHe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"],rHe=e=>{const{classes:t}=e;return Fe({root:["booleanCell"]},jt,t)},nHe=e=>{const{value:t}=e,r=de(e,tHe),n=ft(),i=Ze(),o={classes:i.classes},s=rHe(o),a=_.exports.useMemo(()=>t?i.components.BooleanCellTrueIcon:i.components.BooleanCellFalseIcon,[i.components.BooleanCellFalseIcon,i.components.BooleanCellTrueIcon,t]);return z(a,E({fontSize:"small",className:s.root,titleAccess:n.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(t)},r))},iHe=_.exports.memo(nHe),oHe=e=>e.rowNode.isAutoGenerated?"":z(iHe,E({},e)),sHe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange"],aHe=e=>{const{classes:t}=e;return Fe({root:["editBooleanCell"]},jt,t)};function lHe(e){var t;const{id:r,value:n,field:i,className:o,hasFocus:s,onValueChange:a}=e,l=de(e,sHe),c=ft(),d=_.exports.useRef(null),p=ei(),[f,y]=_.exports.useState(n),g=Ze(),v={classes:g.classes},b=aHe(v),w=_.exports.useCallback(async x=>{const S=x.target.checked;a&&await a(x,S),y(S),await c.current.setEditCellValue({id:r,field:i,value:S},x)},[c,i,r,a]);return _.exports.useEffect(()=>{y(n)},[n]),pi(()=>{s&&d.current.focus()},[s]),z("label",E({htmlFor:p,className:Se(b.root,o)},l,{children:z(g.components.BaseCheckbox,E({id:p,inputRef:d,checked:Boolean(f),onChange:w,size:"small"},(t=g.componentsProps)==null?void 0:t.baseCheckbox))}))}const cHe=e=>z(lHe,E({},e)),uHe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","inputProps","isValidating","isProcessingProps","onValueChange"],dHe=me(dv)({fontSize:"inherit"}),pHe=e=>{const{classes:t}=e;return Fe({root:["editInputCell"]},jt,t)};function hHe(e){const{id:t,value:r,field:n,colDef:i,hasFocus:o,inputProps:s,onValueChange:a}=e,l=de(e,uHe),c=i.type==="dateTime",d=ft(),p=_.exports.useRef(),f=_.exports.useMemo(()=>{let S;r==null?S=null:r instanceof Date?S=r:S=new Date((r!=null?r:"").toString());let C;return S==null||Number.isNaN(S.getTime())?C="":C=new Date(S.getTime()-S.getTimezoneOffset()*60*1e3).toISOString().substr(0,c?16:10),{parsed:S,formatted:C}},[r,c]),[y,g]=_.exports.useState(f),b={classes:Ze().classes},w=pHe(b),x=_.exports.useCallback(async S=>{const C=S.target.value;let $;if(C==="")$=null;else{const[M,I]=C.split("T"),[T,O,L]=M.split("-");if($=new Date,$.setFullYear(Number(T),Number(O)-1,Number(L)),$.setHours(0,0,0,0),I){const[N,H]=I.split(":");$.setHours(Number(N),Number(H),0,0)}}a&&await a(S,$),g({parsed:$,formatted:C}),d.current.setEditCellValue({id:t,field:n,value:$},S)},[d,n,t,a]);return _.exports.useEffect(()=>{g(S=>{var C,$;return f.parsed!==S.parsed&&((C=f.parsed)==null?void 0:C.getTime())!==(($=S.parsed)==null?void 0:$.getTime())?f:S})},[f]),pi(()=>{o&&p.current.focus()},[o]),z(dHe,E({inputRef:p,fullWidth:!0,className:w.root,type:c?"datetime-local":"date",inputProps:E({max:c?"9999-12-31T23:59":"9999-12-31"},s),value:y.formatted,onChange:x},l))}const Gse=e=>z(hHe,E({},e)),fHe=tr(z("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),mHe=tr(z("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),LG=tr(z("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),RG=tr(z("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),yHe=tr(z("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),gHe=tr(z("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),vHe=tr(z("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");tr(z("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");tr(z("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const bHe=tr(z("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),wHe=tr(z("path",{d:"M11 19V5h2v14z"}),"Separator"),_He=tr(z("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),xHe=tr(z("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),SHe=tr(z("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),CHe=tr(z("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),FP=tr(z("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Hse=tr(z("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),$He=tr(z("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),Tz=tr(z("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),qse=tr(z("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),EHe=tr(z("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),IHe=tr(z("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),MHe=tr(z("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function _p(e){return typeof e=="object"&&e!==null?e.value:e}function NE(e,t){if(t===void 0)return;const r=t.find(n=>{const i=_p(n);return String(i)===String(e)});return _p(r)}const THe=["item","applyValue","type","apiRef","focusElementRef"],kHe=({valueOptions:e,valueFormatter:t,field:r},n,i)=>(typeof e=="function"?["",...e({field:r})]:["",...e||[]]).map(s=>{const a=typeof s=="object",l=a?s.value:s,c=a?s.value:s,d=t&&s!==""?t({value:s,field:r,api:n}):s,p=a?s.label:d;return z(i,{value:c,children:p},l)}),Wse=500;function dc(e){var t,r,n,i,o;const{item:s,applyValue:a,type:l,apiRef:c,focusElementRef:d}=e,p=de(e,THe),f=_.exports.useRef(),[y,g]=_.exports.useState((t=s.value)!=null?t:""),[v,b]=_.exports.useState(!1),w=ei(),x=Ze(),C=(n=(((r=x.componentsProps)==null?void 0:r.baseSelect)||{}).native)!=null?n:!0,$=l==="singleSelect"?{select:!0,SelectProps:E({native:C},(i=x.componentsProps)==null?void 0:i.baseSelect),children:kHe(c.current.getColumn(s.columnField),c.current,C?"option":Ho)}:{},M=_.exports.useCallback(T=>{let O=T.target.value;if(l==="singleSelect"){const L=c.current.getColumn(s.columnField),N=typeof L.valueOptions=="function"?L.valueOptions({field:L.field}):L.valueOptions;O=NE(O,N)}clearTimeout(f.current),g(String(O)),b(!0),f.current=setTimeout(()=>{a(E({},s,{value:O})),b(!1)},Wse)},[c,a,s,l]);_.exports.useEffect(()=>()=>{clearTimeout(f.current)},[]),_.exports.useEffect(()=>{var T;const O=(T=s.value)!=null?T:"";g(String(O))},[s.value]);const I=v?{endAdornment:z(Tz,{})}:p.InputProps;return z(x.components.BaseTextField,E({id:w,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:y,onChange:M,variant:"standard",type:l||"text",InputProps:I,InputLabelProps:{shrink:!0},inputRef:d},$,p,(o=x.componentsProps)==null?void 0:o.baseTextField))}const PHe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","isValidating","debounceMs","isProcessingProps","onValueChange"],OHe=e=>{const{classes:t}=e;return Fe({root:["editInputCell"]},jt,t)},LHe=me(dv,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>E({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),RHe=_.exports.forwardRef((e,t)=>{var r;const n=Ze(),{id:i,value:o,field:s,colDef:a,hasFocus:l,debounceMs:c=(r=n.experimentalFeatures)!=null&&r.newEditingApi?200:Wse,isProcessingProps:d,onValueChange:p}=e,f=de(e,PHe),y=ft(),g=_.exports.useRef(),[v,b]=_.exports.useState(o),w={classes:n.classes},x=OHe(w),S=_.exports.useCallback(async C=>{const $=C.target.value;p&&await p(C,$),b($),y.current.setEditCellValue({id:i,field:s,value:$,debounceMs:c},C)},[y,c,s,i,p]);return _.exports.useEffect(()=>{b(o)},[o]),pi(()=>{l&&g.current.focus()},[l]),z(LHe,E({ref:t,inputRef:g,className:x.root,fullWidth:!0,type:a.type==="number"?a.type:"text",value:v!=null?v:"",onChange:S,endAdornment:d?z(Tz,{}):void 0},f))}),AHe=e=>z(RHe,E({},e)),kz=e=>e==="Escape",Kse=e=>e==="Enter",Jse=e=>e==="Tab",Zse=e=>e===" ",FHe=e=>e.indexOf("Arrow")===0,NHe=e=>e==="Home"||e==="End",DHe=e=>e.indexOf("Page")===0,FF=e=>e==="Delete"||e==="Backspace";function YM(e){return e.key.length===1&&e.ctrlKey===!1&&e.metaKey===!1}const zHe=["Enter","Escape","Tab"],VHe=["Enter","Tab"],jHe=e=>Kse(e.key)||FF(e.key)||YM(e),BHe=e=>zHe.indexOf(e)>-1,AG=e=>VHe.indexOf(e)>-1,hx=e=>NHe(e)||FHe(e)||DHe(e)||Zse(e),NF=e=>!!e.key,UHe=e=>Jse(e)||kz(e),GHe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],HHe=(e,t)=>{const r=typeof e=="object",n=r?e.value:e,i=r?e.value:e,o=r?e.label:e;return z(t,{value:i,children:o},n)};function qHe(e){return!!e.key}function WHe(e){var t,r,n;const i=Ze(),{id:o,value:s,api:a,field:l,row:c,colDef:d,hasFocus:p,error:f,onValueChange:y,initialOpen:g=i.editMode===ji.Cell}=e,v=de(e,GHe),b=ft(),w=_.exports.useRef(),x=_.exports.useRef(),[S,C]=_.exports.useState(g),M=(r=(((t=i.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?r:!1;let I;typeof d.valueOptions=="function"?I=d.valueOptions({id:o,row:c,field:l}):I=d.valueOptions,d.valueFormatter&&(I=I.map(N=>{if(typeof N=="object")return N;const H={field:l,api:a,value:N};return{value:N,label:String(d.valueFormatter(H))}}));const T=async N=>{var H;C(!1);const F=N.target,k=NE(F.value,I);y&&await y(N,k);const P=await b.current.setEditCellValue({id:o,field:l,value:k},N);if((H=i.experimentalFeatures)!=null&&H.newEditingApi||i.editMode===ji.Row||P===!1)return;if(await Promise.resolve(b.current.commitCellChange({id:o,field:l},N))&&(b.current.setCellMode(o,l,"view"),N.key)){const j=b.current.getCellParams(o,l);b.current.publishEvent("cellNavigationKeyDown",j,N)}},O=(N,H)=>{if(i.editMode===ji.Row){C(!1);return}if(H==="backdropClick"||kz(N.key)){var F;(F=i.experimentalFeatures)!=null&&F.newEditingApi?b.current.stopCellEditMode({id:o,field:l,ignoreModifications:!0}):b.current.setCellMode(o,l,"view")}},L=N=>{qHe(N)&&N.key==="Enter"||C(!0)};return pi(()=>{p&&x.current.focus()},[p]),z(i.components.BaseSelect,E({ref:w,inputRef:x,value:s,onChange:T,open:S,onOpen:L,MenuProps:{onClose:O},error:f,native:M,fullWidth:!0},v,(n=i.componentsProps)==null?void 0:n.baseSelect,{children:I.map(N=>HHe(N,M?"option":Ho))}))}const KHe=e=>z(WHe,E({},e)),JHe=["open","target","onClickAway","children","position","className","onExited"],ZHe=e=>{const{classes:t}=e;return Fe({root:["menu"]},jt,t)},YHe=me(km,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${re.menuList}`]:{outline:0}})),QHe={"bottom-start":"top left","bottom-end":"top right"},Yse=e=>{var t;const{open:r,target:n,onClickAway:i,children:o,position:s,className:a,onExited:l}=e,c=de(e,JHe),d=ft(),p=_.exports.useRef(n),f=_.exports.useRef(r),y=Ze(),g={classes:y.classes},v=ZHe(g);_.exports.useEffect(()=>{f.current&&p.current&&p.current.focus();const w=r?"menuOpen":"menuClose";d.current.publishEvent(w,{target:n}),f.current=r,p.current=n},[d,r,n]);const b=w=>x=>{w&&w(),l&&l(x)};return z(YHe,E({as:y.components.BasePopper,className:Se(a,v.root),open:r,anchorEl:n,transition:!0,placement:s},c,(t=y.componentsProps)==null?void 0:t.basePopper,{children:({TransitionProps:w,placement:x})=>z(tse,{onClickAway:i,mouseEvent:"onMouseDown",children:z(RE,E({},w,{style:{transformOrigin:QHe[x]},onExited:b(w==null?void 0:w.onExited),children:z(uv,{children:o})}))})}))},XHe=["colDef","id","api","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","getValue","tabIndex","position","focusElementRef"],eqe=e=>typeof e.getActions=="function",tqe=e=>{const{colDef:t,id:r,hasFocus:n,tabIndex:i,position:o="bottom-end",focusElementRef:s}=e,a=de(e,XHe),[l,c]=_.exports.useState(-1),[d,p]=_.exports.useState(!1),f=ft(),y=_.exports.useRef(null),g=_.exports.useRef(null),v=_.exports.useRef(!1),b=_.exports.useRef({}),w=ei(),x=ei(),S=Ze();if(_.exports.useLayoutEffect(()=>{n||Object.entries(b.current).forEach(([k,P])=>{P==null||P.stop({},()=>{delete b.current[k]})})},[n]),_.exports.useEffect(()=>{if(l<0||!y.current||l>=y.current.children.length)return;y.current.children[l].focus()},[l]),_.exports.useEffect(()=>{n||(c(-1),v.current=!1)},[n]),_.exports.useImperativeHandle(s,()=>({focus(){v.current||c(0)}}),[]),!eqe(t))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const C=t.getActions(f.current.getRowParams(r)),$=C.filter(k=>!k.props.showInMenu),M=C.filter(k=>k.props.showInMenu),I=$.length+(M.length?1:0);_.exports.useEffect(()=>{l>=I&&c(I-1)},[l,I]);const T=()=>{p(!0),c(I-1),v.current=!0},O=()=>{p(!1)},L=k=>P=>{b.current[k]=P},N=(k,P)=>R=>{c(k),v.current=!0,P&&P(R)},H=k=>{if(I<=1)return;let P=l;k.key==="ArrowRight"?P+=1:k.key==="ArrowLeft"&&(P-=1),!(P<0||P>=I)&&P!==l&&(k.preventDefault(),k.stopPropagation(),c(P))},F=k=>{k.key==="Tab"&&k.preventDefault(),["Tab","Enter","Escape"].includes(k.key)&&O()};return ot("div",E({role:"menu",ref:y,tabIndex:-1,className:re.actionsCell,onKeyDown:H},a,{children:[$.map((k,P)=>_.exports.cloneElement(k,{key:P,touchRippleRef:L(P),onClick:N(P,k.props.onClick),tabIndex:l===P?i:-1})),M.length>0&&x&&z(Cs,{ref:g,id:x,"aria-label":f.current.getLocaleText("actionsCellMore"),"aria-controls":w,"aria-expanded":d?"true":void 0,"aria-haspopup":"true",role:"menuitem",size:"small",onClick:T,touchRippleRef:L(x),tabIndex:l===$.length?i:-1,children:z(S.components.MoreActionsIcon,{fontSize:"small"})}),M.length>0&&z(Yse,{onClickAway:O,onClick:O,open:d,target:g.current,position:o,children:z(_z,{id:w,className:re.menuList,onKeyDown:F,"aria-labelledby":x,variant:"menu",autoFocusItem:!0,children:M.map((k,P)=>_.exports.cloneElement(k,{key:P}))})})]}))},rqe=e=>z(tqe,E({},e)),nqe=me("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${re.autoHeight}`]:t.autoHeight},{[`&.${re.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${re["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${re["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${re["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${re.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`& .${re.editBooleanCell}`]:t.editBooleanCell},{[`& .${re["cell--editing"]}`]:t["cell--editing"]},{[`& .${re["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${re["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${re["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${re["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${re.cell}`]:t.cell},{[`& .${re.cellContent}`]:t.cellContent},{[`& .${re.cellCheckbox}`]:t.cellCheckbox},{[`& .${re.checkboxInput}`]:t.checkboxInput},{[`& .${re["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${re["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${re["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${re["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${re["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${re["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${re["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${re["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${re.columnHeader}`]:t.columnHeader},{[`& .${re.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${re.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${re.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${re["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${re["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${re.columnSeparator}`]:t.columnSeparator},{[`& .${re.filterIcon}`]:t.filterIcon},{[`& .${re.iconSeparator}`]:t.iconSeparator},{[`& .${re.menuIcon}`]:t.menuIcon},{[`& .${re.menuIconButton}`]:t.menuIconButton},{[`& .${re.menuOpen}`]:t.menuOpen},{[`& .${re.menuList}`]:t.menuList},{[`& .${re["row--editable"]}`]:t["row--editable"]},{[`& .${re["row--editing"]}`]:t["row--editing"]},{[`& .${re["row--dragging"]}`]:t["row--dragging"]},{[`& .${re.row}`]:t.row},{[`& .${re.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${re.rowReorderCell}`]:t.rowReorderCell},{[`& .${re["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${re.sortIcon}`]:t.sortIcon},{[`& .${re.withBorder}`]:t.withBorder},{[`& .${re.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${re.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${re.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${re["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=e.palette.mode==="light"?cv(St(e.palette.divider,1),.88):lv(St(e.palette.divider,1),.68);return E({flex:1,boxSizing:"border-box",position:"relative",border:`1px solid ${t}`,borderRadius:e.shape.borderRadius,color:e.palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",flexDirection:"column",[`&.${re.autoHeight}`]:{height:"auto",[`& .${re["row--lastVisible"]} .${re.cell}`]:{borderBottomColor:"transparent"}},[`& .${re["virtualScrollerContent--overflowed"]} .${re["row--lastVisible"]} .${re.cell}`]:{borderBottomColor:"transparent"},[`& .${re.columnHeader}, & .${re.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${re.columnHeader}:focus-within, & .${re.cell}:focus-within`]:{outline:`solid ${St(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${re.columnHeader}:focus, & .${re.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${re.columnHeaderCheckbox}, & .${re.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${re.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${re["columnHeader--sorted"]} .${re.iconButtonContainer}, & .${re["columnHeader--filtered"]} .${re.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${re.columnHeader}:not(.${re["columnHeader--sorted"]}) .${re.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${re.columnHeader}:not(.${re["columnHeader--sorted"]}):hover .${re.sortIcon}`]:{opacity:.5},[`& .${re.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflowX:"hidden"},[`& .${re.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${re.sortIcon}, & .${re.filterIcon}`]:{fontSize:"inherit"},[`& .${re["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${re["columnHeader--alignCenter"]} .${re.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${re["columnHeader--alignRight"]} .${re.columnHeaderDraggableContainer}, & .${re["columnHeader--alignRight"]} .${re.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${re["columnHeader--alignCenter"]} .${re.menuIcon}, & .${re["columnHeader--alignRight"]} .${re.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${re["columnHeader--alignRight"]} .${re.menuIcon}, & .${re["columnHeader--alignRight"]} .${re.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${re["columnHeader--moving"]}`]:{backgroundColor:e.palette.action.hover},[`& .${re.columnSeparator}`]:{position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},[`& .${re["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${re["columnSeparator--sideRight"]}`]:{right:-12},[`& .${re["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:e.palette.text.primary,"@media (hover: none)":{color:t}},[`&.${re["columnSeparator--resizing"]}`]:{color:e.palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${re.iconSeparator}`]:{color:"inherit"},[`& .${re.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`& .${re.columnHeader}:hover`]:{[`& .${re.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${re.menuIcon}`]:{width:"auto",visibility:"visible"}},[`.${re.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${re.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:St(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:St(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:St(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${re.cell}`]:{display:"flex",alignItems:"center",borderBottom:`1px solid ${t}`},[`& .${re.row}:not(.${re["row--dynamicHeight"]}) > .${re.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${re.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${re.cell}.${re["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,"&:focus-within":{outline:`solid ${e.palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${re["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${re["row--editing"]} .${re.cell}`]:{boxShadow:e.shadows[0],backgroundColor:e.palette.background.paper},[`& .${re.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${re.booleanCell}[data-value="true"]`]:{color:e.palette.text.secondary},[`& .${re.booleanCell}[data-value="false"]`]:{color:e.palette.text.disabled},[`& .${re.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${re.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:e.palette.action.disabledOpacity},[`& .${re["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${re.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`& .${re.withBorder}`]:{borderRight:`1px solid ${t}`},[`& .${re["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${re["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${re["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${re.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%"},[`& .${re.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${re["columnHeader--dragging"]}, & .${re["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity},[`& .${re["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity,[`& .${re.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${re.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${re.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${re.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${re.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),iqe=["children","className"],oqe=e=>{const{autoHeight:t,density:r,classes:n}=e,i={root:["root",t&&"autoHeight",`root--density${be(r)}`]};return Fe(i,jt,n)},sqe=_.exports.forwardRef(function(t,r){const n=Ze(),{children:i,className:o}=t,s=de(t,iqe),a=ft(),l=Je(a,Wi),c=Je(a,KM),d=Je(a,jGe),p=_.exports.useRef(null),f=Xt(p,r),y=Je(a,OGe),g={density:d,classes:n.classes,autoHeight:n.autoHeight},v=oqe(g);a.current.rootElementRef=p;const[b,w]=_.exports.useState(!1);return pi(()=>{w(!0)},[]),pi(()=>{b&&a.current.unstable_updateGridDimensionsRef()},[a,b]),b?z(nqe,E({ref:f,className:Se(o,v.root),role:"grid","aria-colcount":l.length,"aria-rowcount":c+y+1,"aria-multiselectable":!n.disableMultipleSelection,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"]},s,{children:i})):null}),aqe=["className"],lqe=e=>{const{classes:t}=e;return Fe({root:["footerContainer"]},jt,t)},cqe=me("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})(({theme:e})=>{const t=e.palette.mode==="light"?cv(St(e.palette.divider,1),.88):lv(St(e.palette.divider,1),.68);return{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:`1px solid ${t}`}}),uqe=_.exports.forwardRef(function(t,r){const{className:n}=t,i=de(t,aqe),s={classes:Ze().classes},a=lqe(s);return z(cqe,E({ref:r,className:Se(a.root,n)},i))}),dqe=["className"],pqe=e=>{const{classes:t}=e;return Fe({root:["overlay"]},jt,t)},hqe=me("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})(({theme:e})=>({position:"absolute",top:0,zIndex:4,width:"100%",height:"100%",pointerEvents:"none",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:St(e.palette.background.default,e.palette.action.disabledOpacity)})),QM=_.exports.forwardRef(function(t,r){const{className:n}=t,i=de(t,dqe),s={classes:Ze().classes},a=pqe(s);return z(hqe,E({ref:r,className:Se(a.root,n)},i))}),fqe=["className","children"],mqe=e=>{const{classes:t}=e;return Fe({root:["toolbarContainer"]},jt,t)},yqe=me("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,t)=>t.toolbarContainer})(({theme:e})=>({display:"flex",alignItems:"center",flexWrap:"wrap",padding:e.spacing(.5,.5,0)})),gqe=_.exports.forwardRef(function(t,r){const{className:n,children:i}=t,o=de(t,fqe),a={classes:Ze().classes},l=mqe(a);return i?z(yqe,E({ref:r,className:Se(n,l.root)},o,{children:i})):null}),vqe=["className"],bqe=e=>{const{classes:t}=e;return Fe({root:["iconButtonContainer"]},jt,t)},wqe=me("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),Qse=_.exports.forwardRef(function(t,r){const{className:n}=t,i=de(t,vqe),s={classes:Ze().classes},a=bqe(s);return z(wqe,E({ref:r,className:Se(a.root,n)},i))}),_qe=e=>{const{classes:t}=e;return Fe({icon:["sortIcon"]},jt,t)};function xqe(e,t,r,n){let i;const o={};return t==="asc"?i=e.ColumnSortedAscendingIcon:t==="desc"?i=e.ColumnSortedDescendingIcon:(i=e.ColumnUnsortedIcon,o.sortingOrder=n),i?z(i,E({fontSize:"small",className:r},o)):null}function Sqe(e){const{direction:t,index:r,sortingOrder:n}=e,i=ft(),o=Ze(),s=E({},e,{classes:o.classes}),a=_qe(s),l=xqe(o.components,t,a.icon,n);if(!l)return null;const c=z(Cs,{tabIndex:-1,"aria-label":i.current.getLocaleText("columnHeaderSortIconLabel"),title:i.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",children:l});return ot(Qse,{children:[r!=null&&z(wz,{badgeContent:r,color:"default",children:c}),r==null&&c]})}const Cqe=_.exports.memo(Sqe);function $qe(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Eqe(e,t){return e.closest(`.${t}`)}function Pz(e){return e.replace(/["\\]/g,"\\$&")}function Iqe(e,t){return e.querySelector(`[role="columnheader"][data-field="${Pz(t)}"]`)}function Xse(e,t){return e.querySelector(`.${re.row}[data-id="${Pz(String(t))}"]`)}function Mqe(e,{id:t,field:r}){const n=Xse(e,t);return n?n.querySelector(`.${re.cell}[data-field="${Pz(r)}"]`):null}const Tqe=["className"],kqe=e=>{const{classes:t}=e;return Fe({root:["columnHeaderTitle"]},jt,t)},Pqe=me("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})(({theme:e})=>({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium})),Oqe=_.exports.forwardRef(function(t,r){const{className:n}=t,i=de(t,Tqe),s={classes:Ze().classes},a=kqe(s);return z(Pqe,E({ref:r,className:Se(a.root,n)},i))});function Lqe(e){var t;const{label:r,description:n,columnWidth:i}=e,o=Ze(),s=_.exports.useRef(null),[a,l]=_.exports.useState("");return _.exports.useEffect(()=>{if(!n&&s&&s.current){const c=$qe(s.current);l(c?r:"")}},[s,i,n,r]),z(o.components.BaseTooltip,E({title:n||a},(t=o.componentsProps)==null?void 0:t.baseTooltip,{children:z(Oqe,{ref:s,children:r})}))}const Rqe=["resizable","resizing","height","side"];var DF;(function(e){e.Left="left",e.Right="right"})(DF||(DF={}));const Aqe=e=>{const{resizable:t,resizing:r,classes:n,side:i}=e,o={root:["columnSeparator",t&&"columnSeparator--resizable",r&&"columnSeparator--resizing",i&&`columnSeparator--side${be(i)}`],icon:["iconSeparator"]};return Fe(o,jt,n)};function Fqe(e){const{height:t,side:r=DF.Right}=e,n=de(e,Rqe),i=Ze(),o=E({},e,{side:r,classes:i.classes}),s=Aqe(o),a=_.exports.useCallback(l=>{l.preventDefault(),l.stopPropagation()},[]);return z("div",E({className:s.root,style:{minHeight:t,opacity:i.showColumnRightBorder?0:1}},n,{onClick:a,children:z(i.components.ColumnResizeIcon,{className:s.icon})}))}const Nqe=_.exports.memo(Fqe),Dqe=e=>{const{classes:t,open:r}=e;return Fe({root:["menuIcon",r&&"menuOpen"],button:["menuIconButton"]},jt,t)},zqe=_.exports.memo(e=>{const{column:t,open:r,columnMenuId:n,columnMenuButtonId:i,iconButtonRef:o}=e,s=ft(),a=Ze(),l=E({},e,{classes:a.classes}),c=Dqe(l),d=_.exports.useCallback(p=>{p.preventDefault(),p.stopPropagation(),s.current.toggleColumnMenu(t.field)},[s,t.field]);return z("div",{className:c.root,children:z(Cs,{ref:o,tabIndex:-1,className:c.button,"aria-label":s.current.getLocaleText("columnMenuLabel"),title:s.current.getLocaleText("columnMenuLabel"),size:"small",onClick:d,"aria-expanded":r?"true":void 0,"aria-haspopup":"true","aria-controls":n,id:i,children:z(a.components.ColumnMenuIcon,{fontSize:"small"})})})});function Vqe({columnMenuId:e,columnMenuButtonId:t,ContentComponent:r,contentComponentProps:n,field:i,open:o,target:s,onExited:a}){const l=ft(),c=l.current.getColumn(i),d=_.exports.useCallback(p=>{p.stopPropagation(),l.current.hideColumnMenu()},[l]);return s?z(Yse,{placement:`bottom-${c.align==="right"?"start":"end"}`,open:o,target:s,onClickAway:d,onExited:a,children:z(r,E({currentColumn:c,hideMenu:d,open:o,id:e,labelledby:t},n))}):null}const jqe=e=>{const{column:t,classes:r,isDragging:n,sortDirection:i,showRightBorder:o,filterItemsCounter:s}=e,a=i!=null,l=s!=null&&s>0,c=t.type==="number",d={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",n&&"columnHeader--moving",a&&"columnHeader--sorted",l&&"columnHeader--filtered",c&&"columnHeader--numeric",o&&"withBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Fe(d,jt,r)};function Bqe(e){var t,r,n,i,o;const{column:s,columnMenuOpen:a,colIndex:l,headerHeight:c,isResizing:d,isLastColumn:p,sortDirection:f,sortIndex:y,filterItemsCounter:g,hasFocus:v,tabIndex:b,extendRowFullWidth:w,disableReorder:x,separatorSide:S}=e,C=ft(),$=Ze(),M=_.exports.useRef(null),I=ei(),T=ei(),O=_.exports.useRef(null),[L,N]=_.exports.useState(a),{hasScrollX:H,hasScrollY:F}=(t=C.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},k=_.exports.useMemo(()=>!$.disableColumnReorder&&!x&&!s.disableReorder,[$.disableColumnReorder,x,s.disableReorder]);let P=null;s.renderHeader&&(P=s.renderHeader(C.current.getColumnHeaderParams(s.field)));const R=_.exports.useCallback(Me=>Ge=>{!Ge.currentTarget.contains(Ge.target)||C.current.publishEvent(Me,C.current.getColumnHeaderParams(s.field),Ge)},[C,s.field]),j={onClick:R("columnHeaderClick"),onDoubleClick:R("columnHeaderDoubleClick"),onMouseOver:R("columnHeaderOver"),onMouseOut:R("columnHeaderOut"),onMouseEnter:R("columnHeaderEnter"),onMouseLeave:R("columnHeaderLeave"),onKeyDown:R("columnHeaderKeyDown"),onFocus:R("columnHeaderFocus"),onBlur:R("columnHeaderBlur")},A=k?{onDragStart:R("columnHeaderDragStart"),onDragEnter:R("columnHeaderDragEnter"),onDragOver:R("columnHeaderDragOver"),onDragEnd:R("columnHeaderDragEnd")}:null,q=p?!(p&&H&&!F)&&!w:$.showColumnRightBorder,J=E({},e,{classes:$.classes,showRightBorder:q}),Q=jqe(J),se=s.computedWidth;let ce="none";f!=null&&(ce=f==="asc"?"ascending":"descending"),_.exports.useEffect(()=>{L||N(a)},[L,a]);const le=_.exports.useCallback(()=>{N(!1)},[]),Ie=!$.disableColumnMenu&&!s.disableColumnMenu&&z(zqe,{column:s,columnMenuId:I,columnMenuButtonId:T,open:L,iconButtonRef:O}),Ue=(r=s.sortingOrder)!=null?r:$.sortingOrder,pe=ot(_.exports.Fragment,{children:[!$.disableColumnFilter&&z($.components.ColumnHeaderFilterIconButton,E({field:s.field,counter:g},(n=$.componentsProps)==null?void 0:n.columnHeaderFilterIconButton)),s.sortable&&!s.hideSortIcons&&z(Cqe,{direction:f,index:y,sortingOrder:Ue})]});_.exports.useLayoutEffect(()=>{const Me=C.current.state.columnMenu;if(v&&!Me.open){const Ee=M.current.querySelector('[tabindex="0"]')||M.current;Ee==null||Ee.focus(),C.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[C,v]);const ye=typeof s.headerClassName=="function"?s.headerClassName({field:s.field,colDef:s}):s.headerClassName,he=(i=s.headerName)!=null?i:s.field;return ot("div",E({ref:M,className:Se(Q.root,ye),"data-field":s.field,style:{width:se,minWidth:se,maxWidth:se},role:"columnheader",tabIndex:b,"aria-colindex":l+1,"aria-sort":ce,"aria-label":s.renderHeader&&P==null?he:void 0},j,{children:[ot("div",E({className:Q.draggableContainer,draggable:k},A,{children:[ot("div",{className:Q.titleContainer,children:[z("div",{className:Q.titleContainerContent,children:s.renderHeader?P:z(Lqe,{label:he,description:s.description,columnWidth:se})}),pe]}),Ie]})),z(Nqe,{resizable:!$.disableColumnResize&&!!s.resizable,resizing:d,height:c,onMouseDown:R("columnSeparatorMouseDown"),side:S}),z(Vqe,{columnMenuId:I,columnMenuButtonId:T,field:s.field,open:a,target:O.current,ContentComponent:$.components.ColumnMenu,contentComponentProps:(o=$.componentsProps)==null?void 0:o.columnMenu,onExited:le})]}))}const c_=e=>e.preferencePanel;var Hu;(function(e){e.filters="filters",e.columns="columns"})(Hu||(Hu={}));const Uqe=e=>{const{classes:t}=e;return Fe({icon:["filterIcon"]},jt,t)};function Gqe(e){var t;const{counter:r,field:n,onClick:i}=e,o=ft(),s=Ze(),a=E({},e,{classes:s.classes}),l=Uqe(a),c=_.exports.useCallback(p=>{p.preventDefault(),p.stopPropagation();const{open:f,openedPanelValue:y}=c_(o.current.state);f&&y===Hu.filters?o.current.hideFilterPanel():o.current.showFilterPanel(),i&&i(o.current.getColumnHeaderParams(n),p)},[o,n,i]);if(!r)return null;const d=z(Cs,{onClick:c,color:"default","aria-label":o.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,children:z(s.components.ColumnFilteredIcon,{className:l.icon,fontSize:"small"})});return z(s.components.BaseTooltip,E({title:o.current.getLocaleText("columnHeaderFiltersTooltipActive")(r),enterDelay:1e3},(t=s.componentsProps)==null?void 0:t.baseTooltip,{children:ot(Qse,{children:[r>1&&z(wz,{badgeContent:r,color:"default",children:d}),r===1&&d]})}))}const Hqe=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","getValue","api"],qqe=e=>{const{classes:t}=e;return Fe({root:["checkboxInput"]},jt,t)},Wqe=_.exports.forwardRef(function(t,r){var n;const{field:i,id:o,value:s,rowNode:a,hasFocus:l,tabIndex:c}=t,d=de(t,Hqe),p=ft(),f=Ze(),y={classes:f.classes},g=qqe(y),v=_.exports.useRef(null),b=_.exports.useRef(),w=Xt(v,r),x=p.current.getCellElement(o,i),S=I=>{const T={value:I.target.checked,id:o};p.current.publishEvent("rowSelectionCheckboxChange",T,I)};_.exports.useLayoutEffect(()=>{c===0&&x&&(x.tabIndex=-1)},[x,c]),_.exports.useLayoutEffect(()=>{if(l){var I;const T=(I=v.current)==null?void 0:I.querySelector("input");T==null||T.focus()}else b.current&&b.current.stop({})},[l]);const C=_.exports.useCallback(I=>{Zse(I.key)&&I.stopPropagation(),hx(I.key)&&!I.shiftKey&&p.current.publishEvent("cellNavigationKeyDown",t,I)},[p,t]);if(a.position==="footer")return null;const $=p.current.isRowSelectable(o),M=p.current.getLocaleText(s?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return a.isPinned?null:z(f.components.BaseCheckbox,E({ref:w,tabIndex:c,checked:s,onChange:S,className:g.root,inputProps:{"aria-label":M},onKeyDown:C,disabled:!$,touchRippleRef:b},(n=f.componentsProps)==null?void 0:n.baseCheckbox,d))}),Kqe=_.exports.memo(Wqe),ra=e=>e.selection,Jqe=et(ra,e=>e.length),Zqe=et(ra,a_,(e,t)=>new Map(e.map(r=>[r,t[r]]))),DE=et(ra,e=>e.reduce((t,r)=>(t[r]=r,t),{})),fv=e=>e.pagination,uw=et(fv,e=>e.page),e1=et(fv,e=>e.pageSize);et(fv,e=>e.pageCount);const Oz=et(fv,Kf,$z,Qu,Nse,(e,t,r,n,i)=>{const o=i.length,s=Math.min(e.pageSize*e.page,o-1),a=Math.min(s+e.pageSize-1,o-1);if(s===-1||a===-1)return null;if(r<2)return{firstRowIndex:s,lastRowIndex:a};const l=i[s],c=a-s+1,d=n.findIndex(y=>y.id===l.id);let p=d,f=0;for(;p<n.length&&f<=c;){const y=n[p],g=t[y.id].depth;(f<c||g>0)&&(p+=1),g===0&&(f+=1)}return{firstRowIndex:d,lastRowIndex:p-1}}),Yqe=et(Qu,Oz,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),eae=et(Xw,Oz,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Qqe=["field","colDef"],Xqe=e=>{const{classes:t}=e;return Fe({root:["checkboxInput"]},jt,t)},eWe=_.exports.forwardRef(function(t,r){var n;const i=de(t,Qqe),[,o]=_.exports.useState(!1),s=ft(),a=Ze(),l={classes:a.classes},c=Xqe(l),d=Je(s,Use),p=Je(s,ra),f=Je(s,Xw),y=Je(s,eae),g=_.exports.useMemo(()=>typeof a.isRowSelectable!="function"?p:p.filter(T=>s.current.getRow(T)?a.isRowSelectable(s.current.getRowParams(T)):!1),[s,a.isRowSelectable,p]),v=_.exports.useMemo(()=>(!a.pagination||!a.checkboxSelectionVisibleOnly?f:y).reduce((O,L)=>(O[L]=!0,O),{}),[a.pagination,a.checkboxSelectionVisibleOnly,y,f]),b=_.exports.useMemo(()=>g.filter(T=>v[T]).length,[g,v]),w=b>0&&b<Object.keys(v).length,x=b>0,S=T=>{const O={value:T.target.checked};s.current.publishEvent("headerSelectionCheckboxChange",O)},C=d!==null&&d.field===t.field?0:-1;_.exports.useLayoutEffect(()=>{const T=s.current.getColumnHeaderElement(t.field);C===0&&T&&(T.tabIndex=-1)},[C,s,t.field]);const $=_.exports.useCallback(T=>{T.key===" "&&s.current.publishEvent("headerSelectionCheckboxChange",{value:!x}),hx(T.key)&&!T.shiftKey&&s.current.publishEvent("columnHeaderNavigationKeyDown",t,T)},[s,t,x]),M=_.exports.useCallback(()=>{o(T=>!T)},[]);_.exports.useEffect(()=>s.current.subscribeEvent("selectionChange",M),[s,M]);const I=s.current.getLocaleText(x?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return z(a.components.BaseCheckbox,E({ref:r,indeterminate:w,checked:x,onChange:S,className:c.root,inputProps:{"aria-label":I},tabIndex:C,onKeyDown:$},(n=a.componentsProps)==null?void 0:n.baseCheckbox,i))}),tWe=e=>{const{onClick:t}=e,r=ft(),n=Ze(),i=_.exports.useCallback(o=>{t(o),r.current.showPreferences(Hu.columns)},[r,t]);return n.disableColumnSelector?null:z(Ho,{onClick:i,children:r.current.getLocaleText("columnMenuShowColumns")})},rWe=e=>{const{column:t,onClick:r}=e,n=ft(),i=Ze(),o=_.exports.useCallback(s=>{r(s),n.current.showFilterPanel(t==null?void 0:t.field)},[n,t==null?void 0:t.field,r]);return i.disableColumnFilter||!(t!=null&&t.filterable)?null:z(Ho,{onClick:o,children:n.current.getLocaleText("columnMenuFilter")})},nWe=["hideMenu","currentColumn","open","id","labelledby","className","children"],iWe=_.exports.forwardRef(function(t,r){const{hideMenu:n,open:i,id:o,labelledby:s,className:a,children:l}=t,c=de(t,nWe),d=_.exports.useCallback(p=>{Jse(p.key)&&p.preventDefault(),UHe(p.key)&&n(p)},[n]);return z(_z,E({id:o,ref:r,className:Se(re.menuList,a),"aria-labelledby":s,onKeyDown:d,autoFocus:i},c,{children:l}))}),oWe=Pl(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),tae=(e,t)=>t&&e.length>1?(oWe(),[e[0]]):e,FG=(e,t)=>r=>E({},r,{sorting:E({},r.sorting,{sortModel:tae(e,t)})}),sWe=e=>e==="desc",aWe=(e,t)=>{const r=t.current.getColumn(e.field);if(!r)return null;const n=sWe(e.sort)?(...o)=>-1*r.sortComparator(...o):r.sortComparator;return{getSortCellParams:o=>({id:o,field:r.field,rowNode:t.current.getRowNode(o),value:t.current.getCellValue(o,r.field),api:t.current}),comparator:n}},lWe=(e,t,r)=>e.reduce((n,i,o)=>{if(n!==0)return n;const s=t.params[o],a=r.params[o];return n=i.comparator(s.value,a.value,s,a),n},0),cWe=(e,t)=>{const r=e.map(n=>aWe(n,t)).filter(n=>!!n);return r.length===0?null:n=>n.map(i=>({node:i,params:r.map(o=>o.getSortCellParams(i.id))})).sort((i,o)=>lWe(r,i,o)).map(i=>i.node.id)},NG=(e,t)=>{const r=e.indexOf(t);return!t||r===-1||r+1===e.length?e[0]:e[r+1]},Lz=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,uWe=new Intl.Collator,dWe=(e,t)=>{const r=Lz(e,t);return r!==null?r:typeof e=="string"?uWe.compare(e.toString(),t.toString()):e-t},rae=(e,t)=>{const r=Lz(e,t);return r!==null?r:Number(e)-Number(t)},nae=(e,t)=>{const r=Lz(e,t);return r!==null?r:e>t?1:e<t?-1:0};function pWe(e){return typeof e=="number"}function iae(e){return typeof e=="function"}function hWe(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function k$(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const u_=(e,t,r)=>Math.max(t,Math.min(r,e));function Dp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const i=e.length;if(i!==t.length)return!1;for(let o=0;o<i;o+=1)if(!Dp(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let o=0;o<i.length;o+=1)if(!t.has(i[o][0]))return!1;for(let o=0;o<i.length;o+=1){const s=i[o];if(!Dp(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let o=0;o<i.length;o+=1)if(!t.has(i[o][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const i=e.length;if(i!==t.length)return!1;for(let o=0;o<i;o+=1)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),n=r.length;if(n!==Object.keys(t).length)return!1;for(let i=0;i<n;i+=1)if(!Object.prototype.hasOwnProperty.call(t,r[i]))return!1;for(let i=0;i<n;i+=1){const o=r[i];if(!Dp(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}const fWe=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function oae(e){const{item:t,applyValue:r,type:n,apiRef:i,focusElementRef:o,color:s,error:a,helperText:l,size:c,variant:d}=e,p=de(e,fWe),f={color:s,error:a,helperText:l,size:c,variant:d},[y,g]=_.exports.useState(t.value||[]),v=ei(),b=Ze();_.exports.useEffect(()=>{var x;const S=(x=t.value)!=null?x:[];g(S.map(String))},[t.value]);const w=_.exports.useCallback((x,S)=>{g(S.map(String)),r(E({},t,{value:[...S]}))},[r,t]);return z(vse,E({multiple:!0,freeSolo:!0,limitTags:1,options:[],filterOptions:(x,S)=>{const{inputValue:C}=S;return C==null||C===""?[]:[C]},id:v,value:y,onChange:w,renderTags:(x,S)=>x.map((C,$)=>z(gz,E({variant:"outlined",size:"small",label:C},S({index:$})))),renderInput:x=>{var S;return z(b.components.BaseTextField,E({},x,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:E({},x.InputLabelProps,{shrink:!0}),inputRef:o,type:n||"text"},f,(S=b.componentsProps)==null?void 0:S.baseTextField))}},p))}const mWe=e=>{if(!e)return null;const t=new RegExp(k$(e),"i");return({value:r})=>r!=null?t.test(r.toString()):!1},yWe=(e=!1)=>[{value:"contains",getApplyFilterFn:t=>{if(!t.value)return null;const r=e?t.value:t.value.trim(),n=new RegExp(k$(r),"i");return({value:i})=>i!=null?n.test(i.toString()):!1},InputComponent:dc},{value:"equals",getApplyFilterFn:t=>{if(!t.value)return null;const r=e?t.value:t.value.trim(),n=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:i})=>i!=null?n.compare(r,i.toString())===0:!1},InputComponent:dc},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const r=e?t.value:t.value.trim(),n=new RegExp(`^${k$(r)}.*$`,"i");return({value:i})=>i!=null?n.test(i.toString()):!1},InputComponent:dc},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const r=e?t.value:t.value.trim(),n=new RegExp(`.*${k$(r)}$`,"i");return({value:i})=>i!=null?n.test(i.toString()):!1},InputComponent:dc},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const r=e?t.value:t.value.map(i=>i.trim()),n=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:i})=>i!=null?r.some(o=>n.compare(o,i.toString()||"")===0):!1},InputComponent:oae}],Kp={width:100,minWidth:50,maxWidth:1/0,hide:!1,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:dWe,type:"string",align:"left",filterOperators:yWe(),renderEditCell:AHe,getApplyQuickFilterFn:mWe},Rz="actions",gWe=E({},Kp,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:rqe,getApplyQuickFilterFn:void 0}),vWe=["item","applyValue","apiRef","focusElementRef"];function bWe(e){var t,r,n,i;const{item:o,applyValue:s,apiRef:a,focusElementRef:l}=e,c=de(e,vWe),[d,p]=_.exports.useState(o.value||""),f=Ze(),g=(r=(((t=f.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?r:!0,v=g?"option":Ho,b=_.exports.useCallback(w=>{const x=w.target.value;p(x),s(E({},o,{value:x}))},[s,o]);return _.exports.useEffect(()=>{p(o.value||"")},[o.value]),ot(f.components.BaseTextField,E({label:a.current.getLocaleText("filterPanelInputLabel"),value:d,onChange:b,select:!0,variant:"standard",SelectProps:E({native:g,displayEmpty:!0},(n=f.componentsProps)==null?void 0:n.baseSelect),InputLabelProps:{shrink:!0},inputRef:l},c,(i=f.componentsProps)==null?void 0:i.baseTextField,{children:[z(v,{value:"",children:a.current.getLocaleText("filterValueAny")}),z(v,{value:"true",children:a.current.getLocaleText("filterValueTrue")}),z(v,{value:"false",children:a.current.getLocaleText("filterValueFalse")})]}))}const wWe=()=>[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t=e.value==="true";return({value:r})=>Boolean(r)===t},InputComponent:bWe}];function _We({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const sae=E({},Kp,{type:"boolean",align:"center",headerAlign:"center",renderCell:oHe,renderEditCell:cHe,sortComparator:rae,valueFormatter:_We,filterOperators:wWe(),getApplyQuickFilterFn:void 0,aggregable:!1}),Wd="__check__",fx=E({},sae,{field:Wd,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,valueGetter:e=>DE(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>z(eWe,E({},e)),renderCell:e=>z(Kqe,E({},e))}),xWe=["item","applyValue","type","apiRef","focusElementRef","InputProps"],SWe=500;function iy(e){var t,r;const{item:n,applyValue:i,type:o,apiRef:s,focusElementRef:a,InputProps:l}=e,c=de(e,xWe),d=_.exports.useRef(),[p,f]=_.exports.useState((t=n.value)!=null?t:""),[y,g]=_.exports.useState(!1),v=ei(),b=Ze(),w=_.exports.useCallback(x=>{const S=x.target.value;clearTimeout(d.current),f(String(S)),g(!0),d.current=setTimeout(()=>{i(E({},n,{value:S})),g(!1)},SWe)},[i,n]);return _.exports.useEffect(()=>()=>{clearTimeout(d.current)},[]),_.exports.useEffect(()=>{var x;const S=(x=n.value)!=null?x:"";f(String(S))},[n.value]),z(b.components.BaseTextField,E({id:v,label:s.current.getLocaleText("filterPanelInputLabel"),placeholder:s.current.getLocaleText("filterPanelInputPlaceholder"),value:p,onChange:w,variant:"standard",type:o||"text",InputLabelProps:{shrink:!0},inputRef:a,InputProps:E({},y?{endAdornment:z(Tz,{})}:{},l,{inputProps:E({max:o==="datetime-local"?"9999-12-31T23:59":"9999-12-31"},l==null?void 0:l.inputProps)})},c,(r=b.componentsProps)==null?void 0:r.baseTextField))}const CWe=/(\d+)-(\d+)-(\d+)/,$We=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function oy(e,t,r,n){if(!e.value)return null;const[i,o,s,a,l]=e.value.match(r?$We:CWe).slice(1).map(Number),c=new Date(i,o-1,s,a||0,l||0).getTime();return({value:d})=>{if(!d)return!1;const p=d instanceof Date?d:new Date(d.toString());if(n)return t(p.getTime(),c);const y=(d instanceof Date?new Date(p):p).setHours(r?p.getHours():0,r?p.getMinutes():0,0,0);return t(y,c)}}const aae=e=>[{value:"is",getApplyFilterFn:t=>oy(t,(r,n)=>r===n,e),InputComponent:iy,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>oy(t,(r,n)=>r!==n,e),InputComponent:iy,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>oy(t,(r,n)=>r>n,e),InputComponent:iy,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>oy(t,(r,n)=>r>=n,e),InputComponent:iy,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>oy(t,(r,n)=>r<n,e,!e),InputComponent:iy,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>oy(t,(r,n)=>r<=n,e),InputComponent:iy,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!=null,requiresFilterValue:!1}];function EWe({value:e}){return e instanceof Date?e.toLocaleDateString():e!=null?e:""}function IWe({value:e}){return e instanceof Date?e.toLocaleString():e!=null?e:""}const MWe=E({},Kp,{type:"date",sortComparator:nae,valueFormatter:EWe,filterOperators:aae(),renderEditCell:Gse,getApplyQuickFilterFn:void 0}),TWe=E({},Kp,{type:"dateTime",sortComparator:nae,valueFormatter:IWe,filterOperators:aae(!0),renderEditCell:Gse,getApplyQuickFilterFn:void 0}),np=e=>e==null?null:Number(e),kWe=e=>e==null||Number.isNaN(e)||e===""?null:({value:t})=>np(t)===np(e),PWe=()=>[{label:"=",value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>np(t)===e.value,InputComponent:dc,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>np(t)!==e.value,InputComponent:dc,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:np(t)>e.value,InputComponent:dc,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:np(t)>=e.value,InputComponent:dc,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:np(t)<e.value,InputComponent:dc,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:np(t)<=e.value,InputComponent:dc,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:({value:t})=>t!=null&&e.value.includes(Number(t)),InputComponent:oae,InputComponentProps:{type:"number"}}],OWe=E({},Kp,{type:"number",align:"right",headerAlign:"right",sortComparator:rae,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>pWe(e)?e.toLocaleString():e||"",filterOperators:PWe(),getApplyQuickFilterFn:kWe}),LWe=["item","applyValue","type","apiRef","focusElementRef"],RWe=({valueOptions:e,valueFormatter:t,field:r},n,i)=>(typeof e=="function"?["",...e({field:r})]:["",...e||[]]).map(s=>{const a=typeof s=="object",l=a?s.value:s,c=a?s.value:s,d=t&&s!==""?t({value:s,field:r,api:n}):s,p=a?s.label:d;return z(i,{value:c,children:p},l)});function DG(e){var t,r,n,i,o;const{item:s,applyValue:a,type:l,apiRef:c,focusElementRef:d}=e,p=de(e,LWe),[f,y]=_.exports.useState((t=s.value)!=null?t:""),g=ei(),v=Ze(),w=(n=(((r=v.componentsProps)==null?void 0:r.baseSelect)||{}).native)!=null?n:!0,x=s.columnField?c.current.getColumn(s.columnField):null,S=_.exports.useMemo(()=>{if(x!==null)return typeof x.valueOptions=="function"?x.valueOptions({field:x.field}):x.valueOptions},[x]),C=_.exports.useCallback($=>{let M=$.target.value;M=NE(M,S),y(String(M)),a(E({},s,{value:M}))},[a,s,S]);return _.exports.useEffect(()=>{var $;let M;if(S!==void 0){if(M=NE(s.value,S),M!==s.value){a(E({},s,{value:M}));return}}else M=s.value;M=($=M)!=null?$:"",y(String(M))},[s,S,a]),z(v.components.BaseTextField,E({id:g,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:f,onChange:C,variant:"standard",type:l||"text",InputLabelProps:{shrink:!0},inputRef:d,select:!0,SelectProps:E({native:w},(i=v.componentsProps)==null?void 0:i.baseSelect)},p,(o=v.componentsProps)==null?void 0:o.baseTextField,{children:RWe(c.current.getColumn(s.columnField),c.current,w?"option":Ho)}))}const AWe=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],FWe=(e,t)=>_p(e)===_p(t),NWe=ese();function DWe(e){const{item:t,applyValue:r,apiRef:n,focusElementRef:i,color:o,error:s,helperText:a,size:l,variant:c="standard"}=e,d=de(e,AWe),p={color:o,error:s,helperText:a,size:l,variant:c},f=ei(),y=Ze(),g=t.columnField?n.current.getColumn(t.columnField):null,v=_.exports.useMemo(()=>g!=null&&g.valueOptions?typeof g.valueOptions=="function"?g.valueOptions({field:g.field}):g.valueOptions:[],[g]),b=_.exports.useMemo(()=>v==null?void 0:v.map(_p),[v]),{valueFormatter:w,field:x}=n.current.getColumn(t.columnField),S=M=>typeof M=="object"?M.label:w&&M!==""?w({value:M,field:x,api:n.current}):M,C=_.exports.useMemo(()=>Array.isArray(t.value)?v!==void 0?t.value.map(I=>{const T=_p(I);return(b==null?void 0:b.findIndex(L=>L===T))||0}).filter(I=>I>=0).map(I=>v[I]):t.value:[],[t.value,v,b]);_.exports.useEffect(()=>{(!Array.isArray(t.value)||C.length!==t.value.length)&&r(E({},t,{value:C.map(_p)}))},[t,C,r]);const $=_.exports.useCallback((M,I)=>{r(E({},t,{value:[...I.map(_p)]}))},[r,t]);return z(vse,E({multiple:!0,limitTags:1,options:v,isOptionEqualToValue:FWe,filterOptions:NWe,id:f,value:C,onChange:$,renderTags:(M,I)=>M.map((T,O)=>z(gz,E({variant:"outlined",size:"small",label:S(T)},I({index:O})))),renderInput:M=>{var I;return z(y.components.BaseTextField,E({},M,{label:n.current.getLocaleText("filterPanelInputLabel"),placeholder:n.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:E({},M.InputLabelProps,{shrink:!0}),inputRef:i,type:"singleSelect"},p,(I=y.componentsProps)==null?void 0:I.baseTextField))}},d))}const ip=e=>e==null||typeof e!="object"?e:e.value,zWe=(e,t,r)=>{if(!e)return null;const{valueOptions:n,valueFormatter:i,field:o}=t,s=[ip(e).toString()],a=typeof n=="function"?n({field:o}):n||[];return a&&a.forEach(l=>{let c,d;typeof l=="object"?(c=l.value,d=l.label):(c=l,i?d=i({value:l,field:o,api:r.current}):d=l),d.slice(0,e.length).toLowerCase()===e.toLowerCase()&&(s.includes(c)||s.push(c.toString()))}),({value:l})=>l!=null?s.includes(ip(l).toString()):!1},VWe=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>ip(t)===ip(e.value),InputComponent:DG},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>ip(t)!==ip(e.value),InputComponent:DG},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(ip);return({value:r})=>t.includes(ip(r))},InputComponent:DWe}],jWe=E({},Kp,{type:"singleSelect",renderEditCell:KHe,filterOperators:VWe(),getApplyQuickFilterFn:zWe}),zE="__default__",BWe=()=>({string:Kp,number:OWe,date:MWe,dateTime:TWe,boolean:sae,singleSelect:jWe,[Rz]:gWe,[zE]:Kp}),lae=["maxWidth","minWidth","width","flex"],cae=(e={})=>{const t=E({},BWe());return Object.entries(e).forEach(([r,n])=>{t[r]?t[r]=E({},t[r],n):t[r]=E({},t[n.extendType||zE],n)}),t};function UWe({initialFreeSpace:e,totalFlexUnits:t,flexColumns:r}){const n={all:{},frozenFields:[],freeze:o=>{const s=n.all[o];s&&s.frozen!==!0&&(n.all[o].frozen=!0,n.frozenFields.push(o))}};function i(){if(n.frozenFields.length===r.length)return;const o={min:{},max:{}};let s=e,a=t,l=0;n.frozenFields.forEach(c=>{s-=n.all[c].computedWidth,a-=n.all[c].flex});for(let c=0;c<r.length;c+=1){const d=r[c];if(n.all[d.field]&&n.all[d.field].frozen===!0)continue;let f=s/a*d.flex;f<d.minWidth?(l+=d.minWidth-f,f=d.minWidth,o.min[d.field]=!0):f>d.maxWidth&&(l+=d.maxWidth-f,f=d.maxWidth,o.max[d.field]=!0),n.all[d.field]={frozen:!1,computedWidth:f,flex:d.flex}}l<0?Object.keys(o.max).forEach(c=>{n.freeze(c)}):l>0?Object.keys(o.min).forEach(c=>{n.freeze(c)}):r.forEach(({field:c})=>{n.freeze(c)}),i()}return i(),n.all}const uae=(e,t)=>{const r={};let n=0,i=0;const o=[];e.all.forEach(a=>{const l=E({},e.lookup[a]);if(e.columnVisibilityModel[a]===!1)l.computedWidth=0;else{let c;l.flex&&l.flex>0?(n+=l.flex,c=0,o.push(l)):c=u_(l.width,l.minWidth,l.maxWidth),i+=c,l.computedWidth=c}r[a]=l});const s=Math.max(t-i,0);if(n>0&&t>0){const a=UWe({initialFreeSpace:s,totalFlexUnits:n,flexColumns:o});Object.keys(a).forEach(l=>{r[l].computedWidth=a[l].computedWidth})}return E({},e,{lookup:r})},GWe=(e,t)=>{if(!t)return e;const{orderedFields:r=[],dimensions:n={}}=t,i=Object.keys(n);if(i.length===0&&r.length===0)return e;const o={},s=[];for(let d=0;d<r.length;d+=1){const p=r[d];e.lookup[p]&&(o[p]=!0,s.push(p))}const a=s.length===0?e.all:[...s,...e.all.filter(d=>!o[d])],l=E({},e.lookup);for(let d=0;d<i.length;d+=1){const p=i[d],f=E({},l[p],{hasBeenResized:!0});Object.entries(n[p]).forEach(([y,g])=>{f[y]=g===-1?1/0:g}),l[p]=f}return{all:a,lookup:l}},HWe=(e,t)=>!t||!e[t]?e[zE]:e[t],Wy=({apiRef:e,columnsToUpsert:t,initialState:r,columnTypes:n,currentColumnVisibilityModel:i=wp(e),shouldRegenColumnVisibilityModelFromColumns:o,keepOnlyColumnsToUpsert:s=!1})=>{var a,l,c,d;const p=!e.current.state.columns;let f;if(p)f={all:[],lookup:{}};else{const C=mm(e.current.state);f={all:s?[]:[...C.all],lookup:E({},C.lookup)}}let y={};s&&!p&&(y=Object.keys(f.lookup).reduce((C,$)=>E({},C,{[$]:!1}),{}));const g={};t.forEach(C=>{const{field:$}=C;g[$]=!0,y[$]=!0;let M=f.lookup[$];M==null?(M=E({},HWe(n,C.type),{field:$,hasBeenResized:!1}),f.all.push($)):s&&f.all.push($);let I=M.hasBeenResized;lae.forEach(T=>{C[T]!==void 0&&(I=!0,C[T]===-1&&(C[T]=1/0))}),f.lookup[$]=E({},M,{hide:C.hide==null?!1:C.hide},C,{hasBeenResized:I})}),s&&!p&&Object.keys(f.lookup).forEach(C=>{y[C]||delete f.lookup[C]});const v=E({},f.lookup),b=e.current.unstable_applyPipeProcessors("hydrateColumns",f);let w={};if(o){let C=!1;const $=E({},i);p?b.all.forEach(M=>{$[M]=!f.lookup[M].hide}):s&&Object.keys($).forEach(M=>{b.lookup[M]||(delete $[M],C=!0)}),b.all.forEach(M=>{if(!g[M]&&v[M]===b.lookup[M])return;let I=i[M];I===void 0&&(p?I=!0:I=!!mm(e.current.state).lookup[M]);const T=!b.lookup[M].hide;T!==I&&(C=!0,$[M]=T)}),C||p?w=$:w=i}else w=i;const x=GWe(b,r),S=E({},x,{columnVisibilityModel:w});return uae(S,(a=(l=(c=e.current).getRootDimensions)==null||(d=l.call(c))==null?void 0:d.viewportInnerSize.width)!=null?a:0)},zG=e=>t=>E({},t,{columns:e});function zF({firstColumnToRender:e,apiRef:t,firstRowToRender:r,lastRowToRender:n,visibleRows:i}){let o=e;for(let s=r;s<n;s+=1)if(i[s]){const l=i[s].id,c=t.current.unstable_getCellColSpanInfo(l,e);c&&c.spannedByColSpan&&(o=c.leftVisibleCellIndex)}return o}function qWe({firstColumnIndex:e,minColumnIndex:t,columnBuffer:r,firstRowToRender:n,lastRowToRender:i,apiRef:o,visibleRows:s}){const a=Math.max(e-r,t);return zF({firstColumnToRender:a,apiRef:o,firstRowToRender:n,lastRowToRender:i,visibleRows:s})}const WWe=e=>{const{column:t,onClick:r}=e,n=ft(),i=Ze(),o=_.exports.useRef(),l=Wi(n).filter(d=>d.disableColumnMenu!==!0).length===1,c=_.exports.useCallback(d=>{l||(r(d),o.current=setTimeout(()=>{n.current.setColumnVisibility(t==null?void 0:t.field,!1)},100))},[n,t==null?void 0:t.field,r,l]);return _.exports.useEffect(()=>()=>clearTimeout(o.current),[]),i.disableColumnSelector||t.hideable===!1?null:z(Ho,{onClick:c,disabled:l,children:n.current.getLocaleText("columnMenuHideColumn")})},KWe=e=>{const{column:t,onClick:r}=e,n=ft(),i=Je(n,ol),o=_.exports.useMemo(()=>{if(!t)return null;const a=i.find(l=>l.field===t.field);return a==null?void 0:a.sort},[t,i]),s=_.exports.useCallback(a=>{r(a);const l=a.currentTarget.getAttribute("data-value")||null;n.current.sortColumn(t,l)},[n,t,r]);return!t||!t.sortable?null:ot(_.exports.Fragment,{children:[z(Ho,{onClick:s,disabled:o==null,children:n.current.getLocaleText("columnMenuUnsort")}),z(Ho,{onClick:s,"data-value":"asc",disabled:o==="asc",children:n.current.getLocaleText("columnMenuSortAsc")}),z(Ho,{onClick:s,"data-value":"desc",disabled:o==="desc",children:n.current.getLocaleText("columnMenuSortDesc")})]})},JWe=_.exports.forwardRef(function(t,r){const{hideMenu:n,currentColumn:i}=t,o=ft(),s=[z(KWe,{onClick:n,column:i}),z(rWe,{onClick:n,column:i}),z(WWe,{onClick:n,column:i}),z(tWe,{onClick:n,column:i})],a=o.current.unstable_applyPipeProcessors("columnMenu",s,i);return z(iWe,E({ref:r},t,{children:a.map((l,c)=>_.exports.cloneElement(l,{key:c,onClick:n,column:i}))}))}),ZWe=["className"],YWe=e=>{const{classes:t}=e;return Fe({root:["panelContent"]},jt,t)},QWe=me("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function dae(e){const{className:t}=e,r=de(e,ZWe),i={classes:Ze().classes},o=YWe(i);return z(QWe,E({className:Se(t,o.root)},r))}const XWe=["className"],eKe=e=>{const{classes:t}=e;return Fe({root:["panelFooter"]},jt,t)},tKe=me("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function pae(e){const{className:t}=e,r=de(e,XWe),i={classes:Ze().classes},o=eKe(i);return z(tKe,E({className:Se(t,o.root)},r))}const rKe=["className"],nKe=e=>{const{classes:t}=e;return Fe({root:["panelHeader"]},jt,t)},iKe=me("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function oKe(e){const{className:t}=e,r=de(e,rKe),i={classes:Ze().classes},o=nKe(i);return z(iKe,E({className:Se(t,o.root)},r))}const sKe=["className"],aKe=e=>{const{classes:t}=e;return Fe({root:["panelWrapper"]},jt,t)},lKe=me("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),cKe=()=>!0,hae=_.exports.forwardRef(function(t,r){const{className:n}=t,i=de(t,sKe),s={classes:Ze().classes},a=aKe(s);return z(pse,{open:!0,disableEnforceFocus:!0,isEnabled:cKe,children:z(lKe,E({ref:r,tabIndex:-1,className:Se(n,a.root)},i))})}),uKe=!1,dKe=e=>{const{classes:t}=e;return Fe({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},jt,t)},pKe=me("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})(()=>({padding:"8px 0px 8px 8px"})),hKe=me("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${Fi.root}`]:{marginRight:e.spacing(.5)}})),fKe=me(Cs)({justifyContent:"flex-end"});function mKe(e){var t,r,n;const i=ft(),o=_.exports.useRef(null),s=Je(i,ga),a=Je(i,wp),l=Ze(),[c,d]=_.exports.useState(""),p={classes:l.classes},f=dKe(p),y=w=>{const{name:x}=w.target;i.current.setColumnVisibility(x,a[x]===!1)},g=_.exports.useCallback(w=>i.current.unstable_caches.columns.isUsingColumnVisibilityModel?w?i.current.setColumnVisibilityModel({}):i.current.setColumnVisibilityModel(Object.fromEntries(s.filter(x=>x.hideable!==!1).map(x=>[x.field,!1]))):i.current.updateColumns(s.map(x=>x.hideable!==!1?{field:x.field,hide:!w}:x)),[i,s]),v=_.exports.useCallback(w=>{d(w.target.value)},[]),b=_.exports.useMemo(()=>{if(!c)return s;const w=c.toLowerCase();return s.filter(x=>(x.headerName||x.field).toLowerCase().indexOf(w)>-1)},[s,c]);return _.exports.useEffect(()=>{o.current.focus()},[]),ot(hae,E({},e,{children:[z(oKe,{children:z(l.components.BaseTextField,E({label:i.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:i.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:o,value:c,onChange:v,variant:"standard",fullWidth:!0},(t=l.componentsProps)==null?void 0:t.baseTextField))}),z(dae,{children:z(pKe,{className:f.root,children:b.map(w=>{var x;return ot(hKe,{className:f.columnsPanelRow,children:[z(wBe,{control:z(l.components.BaseSwitch,E({disabled:w.hideable===!1,checked:a[w.field]!==!1,onClick:y,name:w.field,size:"small"},(x=l.componentsProps)==null?void 0:x.baseSwitch)),label:w.headerName||w.field}),!l.disableColumnReorder&&uKe&&z(fKe,{draggable:!0,"aria-label":i.current.getLocaleText("columnsPanelDragIconLabel"),title:i.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0,children:z(qse,{})})]},w.field)})})}),ot(pae,{children:[z(l.components.BaseButton,E({onClick:()=>g(!1)},(r=l.componentsProps)==null?void 0:r.baseButton,{children:i.current.getLocaleText("columnsPanelHideAllButton")})),z(l.components.BaseButton,E({onClick:()=>g(!0)},(n=l.componentsProps)==null?void 0:n.baseButton,{children:i.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const yKe=["children","className","classes"],gKe=_t("MuiDataGrid",["panel","paper"]),vKe=me(km,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),bKe=me(uv,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:e.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),wKe=_.exports.forwardRef((e,t)=>{var r;const{children:n,className:i}=e,o=de(e,yKe),s=ft(),a=gKe,[l,c]=_.exports.useState(!1),d=_.exports.useCallback(()=>{s.current.hidePreferences()},[s]),p=_.exports.useCallback(g=>{kz(g.key)&&s.current.hidePreferences()},[s]),f=_.exports.useMemo(()=>[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{c(!0)},effect:()=>()=>{c(!1)}}],[]),y=(r=s.current.columnHeadersContainerElementRef)==null?void 0:r.current;return y?z(vKe,E({ref:t,placement:"bottom-start",className:Se(i,a.panel),anchorEl:y,modifiers:f},o,{children:z(tse,{mouseEvent:"onMouseUp",onClickAway:d,children:z(bKe,{className:a.paper,elevation:8,onKeyDown:p,children:l&&n})})})):null}),_Ke=_.exports.forwardRef(function(t,r){var n,i,o;const s=ft(),a=Je(s,ga),l=Ze(),c=Je(s,c_),d=s.current.unstable_applyPipeProcessors("preferencePanel",null,(n=c.openedPanelValue)!=null?n:Hu.filters);return z(l.components.Panel,E({ref:r,as:l.components.BasePopper,open:a.length>0&&c.open},(i=l.componentsProps)==null?void 0:i.panel,t,(o=l.componentsProps)==null?void 0:o.basePopper,{children:d}))}),xKe=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","linkOperators","columnsSort","deleteIconProps","linkOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],SKe=["InputComponentProps"],CKe=e=>{const{classes:t}=e;return Fe({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],linkOperatorInput:["filterFormLinkOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},jt,t)},$Ke=me("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),EKe=me(Om,{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),IKe=me(Om,{name:"MuiDataGrid",slot:"FilterFormLinkOperatorInput",overridesResolver:(e,t)=>t.filterFormLinkOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),MKe=me(Om,{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),TKe=me(Om,{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),kKe=me(Om,{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),PKe=e=>{switch(e){case ao.And:return"filterPanelOperatorAnd";case ao.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `linkOperator` property in the `GridFilterPanel`.")}},ob=e=>e.headerName||e.field,VG=new Intl.Collator,OKe=_.exports.forwardRef(function(t,r){var n,i,o,s,a,l,c;const{item:d,hasMultipleFilters:p,deleteFilter:f,applyFilterChanges:y,multiFilterOperator:g,showMultiFilterOperators:v,disableMultiFilterOperator:b,applyMultiFilterOperatorChanges:w,focusElementRef:x,linkOperators:S=[ao.And,ao.Or],columnsSort:C,deleteIconProps:$={},linkOperatorInputProps:M={},operatorInputProps:I={},columnInputProps:T={},valueInputProps:O={}}=t,L=de(t,xKe),N=ft(),H=Je(N,ZM),F=ei(),k=ei(),P=ei(),R=ei(),j=Ze(),A={classes:j.classes},U=CKe(A),q=_.exports.useRef(null),J=_.exports.useRef(null),Q=p&&S.length>0,se=((n=j.componentsProps)==null?void 0:n.baseFormControl)||{},le=(o=(((i=j.componentsProps)==null?void 0:i.baseSelect)||{}).native)!=null?o:!0,Ie=le?"option":Ho,{InputComponentProps:Ue}=O,pe=de(O,SKe),ye=_.exports.useMemo(()=>{switch(C){case"asc":return H.sort((je,Ke)=>VG.compare(ob(je),ob(Ke)));case"desc":return H.sort((je,Ke)=>-VG.compare(ob(je),ob(Ke)));default:return H}},[H,C]),he=d.columnField?N.current.getColumn(d.columnField):null,Me=_.exports.useMemo(()=>{var je;return!d.operatorValue||!he?null:(je=he.filterOperators)==null?void 0:je.find(Ke=>Ke.value===d.operatorValue)},[d,he]),Ge=_.exports.useCallback(je=>{const Ke=je.target.value,Ct=N.current.getColumn(Ke);if(Ct.field===he.field)return;const Ft=Ct.filterOperators.find(Lt=>Lt.value===d.operatorValue)||Ct.filterOperators[0],yt=!Ft.InputComponent||Ft.InputComponent!==(Me==null?void 0:Me.InputComponent);y(E({},d,{columnField:Ke,operatorValue:Ft.value,value:yt?void 0:d.value}))},[N,y,d,he,Me]),Ee=_.exports.useCallback(je=>{const Ke=je.target.value,Ct=he==null?void 0:he.filterOperators.find(yt=>yt.value===Ke),Ft=!(Ct!=null&&Ct.InputComponent)||(Ct==null?void 0:Ct.InputComponent)!==(Me==null?void 0:Me.InputComponent);y(E({},d,{operatorValue:Ke,value:Ft?void 0:d.value}))},[y,d,he,Me]),tt=_.exports.useCallback(je=>{const Ke=je.target.value===ao.And.toString()?ao.And:ao.Or;w(Ke)},[w]),Ye=()=>{j.disableMultipleColumnsFiltering?d.value===void 0?f(d):y(E({},d,{value:void 0})):f(d)};return _.exports.useImperativeHandle(x,()=>({focus:()=>{if(Me!=null&&Me.InputComponent){var je;q==null||(je=q.current)==null||je.focus()}else J.current.focus()}}),[Me]),ot($Ke,E({ref:r,className:U.root},L,{children:[z(EKe,E({variant:"standard",as:j.components.BaseFormControl},se,$,{className:Se(U.deleteIcon,se.className,$.className),children:z(Cs,{"aria-label":N.current.getLocaleText("filterPanelDeleteIconLabel"),title:N.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Ye,size:"small",children:z(j.components.FilterPanelDeleteIcon,{fontSize:"small"})})})),z(IKe,E({variant:"standard",as:j.components.BaseFormControl},se,M,{sx:E({display:Q?"flex":"none",visibility:v?"visible":"hidden"},se.sx||{},M.sx||{}),className:Se(U.linkOperatorInput,se.className,M.className),children:z(j.components.BaseSelect,E({inputProps:{"aria-label":N.current.getLocaleText("filterPanelLinkOperator")},value:g,onChange:tt,disabled:!!b||S.length===1,native:le},(s=j.componentsProps)==null?void 0:s.baseSelect,{children:S.map(je=>z(Ie,{value:je.toString(),children:N.current.getLocaleText(PKe(je))},je.toString()))}))})),ot(MKe,E({variant:"standard",as:j.components.BaseFormControl},se,T,{className:Se(U.columnInput,se.className,T.className),children:[z(LF,{htmlFor:F,id:k,children:N.current.getLocaleText("filterPanelColumns")}),z(j.components.BaseSelect,E({labelId:k,id:F,label:N.current.getLocaleText("filterPanelColumns"),value:d.columnField||"",onChange:Ge,native:le},(a=j.componentsProps)==null?void 0:a.baseSelect,{children:ye.map(je=>z(Ie,{value:je.field,children:ob(je)},je.field))}))]})),ot(TKe,E({variant:"standard",as:j.components.BaseFormControl},se,I,{className:Se(U.operatorInput,se.className,I.className),children:[z(LF,{htmlFor:P,id:R,children:N.current.getLocaleText("filterPanelOperators")}),z(j.components.BaseSelect,E({labelId:R,label:N.current.getLocaleText("filterPanelOperators"),id:P,value:d.operatorValue,onChange:Ee,native:le,inputRef:J},(l=j.componentsProps)==null?void 0:l.baseSelect,{children:he==null||(c=he.filterOperators)==null?void 0:c.map(je=>z(Ie,{value:je.value,children:je.label||N.current.getLocaleText(`filterOperator${be(je.value)}`)},je.value))}))]})),z(kKe,E({variant:"standard",as:j.components.BaseFormControl},se,pe,{className:Se(U.valueInput,se.className,pe.className),children:Me!=null&&Me.InputComponent?z(Me.InputComponent,E({apiRef:N,item:d,applyValue:y,focusElementRef:q},Me.InputComponentProps,Ue)):null}))]}))}),LKe=["linkOperators","columnsSort","filterFormProps","children"],RKe=_.exports.forwardRef(function(t,r){var n;const i=ft(),o=Ze(),s=Je(i,Eo),a=Je(i,ZM),l=_.exports.useRef(null),{linkOperators:c=[ao.And,ao.Or],columnsSort:d,filterFormProps:p}=t,f=de(t,LKe),y=_.exports.useCallback(C=>{i.current.upsertFilterItem(C)},[i]),g=_.exports.useCallback(C=>{i.current.setFilterLinkOperator(C)},[i]),v=_.exports.useCallback(()=>{const C=a.find($=>{var M;return(M=$.filterOperators)==null?void 0:M.length});return C?{columnField:C.field,operatorValue:C.filterOperators[0].value,id:Math.round(Math.random()*1e5)}:null},[a]),b=_.exports.useMemo(()=>{if(s.items.length)return s.items;const C=v();return C?[C]:[]},[s.items,v]),w=b.length>1,x=()=>{const C=v();!C||i.current.upsertFilterItems([...b,C])},S=_.exports.useCallback(C=>{const $=b.length===1;i.current.deleteFilterItem(C),$&&i.current.hideFilterPanel()},[i,b.length]);return _.exports.useEffect(()=>{c.length>0&&s.linkOperator&&!c.includes(s.linkOperator)&&g(c[0])},[c,g,s.linkOperator]),_.exports.useEffect(()=>{b.length>0&&l.current.focus()},[b.length]),ot(hae,E({ref:r},f,{children:[z(dae,{children:b.map((C,$)=>z(OKe,E({item:C,applyFilterChanges:y,deleteFilter:S,hasMultipleFilters:w,showMultiFilterOperators:$>0,multiFilterOperator:s.linkOperator,disableMultiFilterOperator:$!==1,applyMultiFilterOperatorChanges:g,focusElementRef:$===b.length-1?l:null,linkOperators:c,columnsSort:d},p),C.id==null?$:C.id))}),!o.disableMultipleColumnsFiltering&&z(pae,{children:z(o.components.BaseButton,E({onClick:x,startIcon:z(Hse,{})},(n=o.componentsProps)==null?void 0:n.baseButton,{children:i.current.getLocaleText("filterPanelAddFilter")}))})]}))}),AKe=["componentsProps"],FKe=e=>{const{classes:t}=e;return Fe({root:["toolbarFilterList"]},jt,t)},NKe=me("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(e,t)=>t.toolbarFilterList})(({theme:e})=>({margin:e.spacing(1,1,.5),padding:e.spacing(0,1)})),DKe=_.exports.forwardRef(function(t,r){var n,i;const{componentsProps:o={}}=t,s=de(t,AKe),a=o.button||{},l=ft(),c=Ze(),d=Je(l,Vse),p=Je(l,pv),f=Je(l,c_),y={classes:c.classes},g=FKe(y),v=_.exports.useMemo(()=>{if(f.open)return l.current.getLocaleText("toolbarFiltersTooltipHide");if(d.length===0)return l.current.getLocaleText("toolbarFiltersTooltipShow");const w=x=>p[x.columnField].filterOperators.find(S=>S.value===x.operatorValue).label||l.current.getLocaleText(`filterOperator${be(x.operatorValue)}`).toString();return ot("div",{children:[l.current.getLocaleText("toolbarFiltersTooltipActive")(d.length),z(NKe,{className:g.root,children:d.map((x,S)=>E({},p[x.columnField]&&z("li",{children:`${p[x.columnField].headerName||x.columnField}
                  ${w(x)}
                  ${x.value}`},S)))})]})},[l,f.open,d,p,g]),b=w=>{var x;const{open:S,openedPanelValue:C}=f;S&&C===Hu.filters?l.current.hideFilterPanel():l.current.showFilterPanel(),(x=a.onClick)==null||x.call(a,w)};return c.disableColumnFilter?null:z(c.components.BaseTooltip,E({title:v,enterDelay:1e3},s,(n=c.componentsProps)==null?void 0:n.baseTooltip,{children:z(c.components.BaseButton,E({ref:r,size:"small","aria-label":l.current.getLocaleText("toolbarFiltersLabel"),startIcon:z(wz,{badgeContent:d.length,color:"primary",children:z(c.components.OpenFilterButtonIcon,{})})},a,{onClick:b},(i=c.componentsProps)==null?void 0:i.baseButton,{children:l.current.getLocaleText("toolbarFilters")}))}))}),zKe=["hideMenu","options"],VKe=["hideMenu","options"],jKe=e=>{const t=ft(),{hideMenu:r,options:n}=e,i=de(e,zKe);return z(Ho,E({onClick:()=>{t.current.exportDataAsCsv(n),r==null||r()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))},BKe=e=>{const t=ft(),{hideMenu:r,options:n}=e,i=de(e,VKe);return z(Ho,E({onClick:()=>{t.current.exportDataAsPrint(n),r==null||r()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))},d_=()=>({items:[],linkOperator:ao.And,quickFilterValues:[],quickFilterLogicOperator:ao.And}),UKe=["quickFilterParser","quickFilterFormatter","debounceMs"],GKe=me(Ose,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(e,t)=>t.toolbarQuickFilter})(({theme:e})=>({width:"auto",paddingBottom:e.spacing(.5),"& input":{marginLeft:e.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${e.palette.divider}`},[`& input[type=search]::-ms-clear,
& input[type=search]::-ms-reveal`]:{display:"none",width:0,height:0},[`& input[type="search"]::-webkit-search-decoration,
  & input[type="search"]::-webkit-search-cancel-button,
  & input[type="search"]::-webkit-search-results-button,
  & input[type="search"]::-webkit-search-results-decoration`]:{display:"none"}})),HKe=e=>e.split(" ").filter(t=>t!==""),qKe=e=>e.join(" ");function WKe(e){var t;const{quickFilterParser:r=HKe,quickFilterFormatter:n=qKe,debounceMs:i=500}=e,o=de(e,UKe),s=ft(),a=Ze(),l=Je(s,FGe),[c,d]=_.exports.useState(()=>n(l!=null?l:[])),[p,f]=_.exports.useState(l);_.exports.useEffect(()=>{Dp(p,l)||(f(l),d(w=>Dp(r(w),l)?w:n(l!=null?l:[])))},[p,l,n,r]);const y=_.exports.useCallback(w=>{s.current.setQuickFilterValues(r(w))},[s,r]),g=_.exports.useMemo(()=>ex(y,i),[y,i]),v=_.exports.useCallback(w=>{const x=w.target.value;d(x),g(x)},[g]),b=_.exports.useCallback(()=>{d(""),y("")},[y]);return z(GKe,E({as:a.components.BaseTextField,variant:"standard",value:c,onChange:v,placeholder:s.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":s.current.getLocaleText("toolbarQuickFilterLabel"),type:"search",InputProps:{startAdornment:z(a.components.QuickFilterIcon,{fontSize:"small"}),endAdornment:z(Cs,{"aria-label":s.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:{visibility:c?"visible":"hidden"},onClick:b,children:z(a.components.QuickFilterClearIcon,{fontSize:"small"})})}},o,(t=a.componentsProps)==null?void 0:t.baseTextField))}const KKe=["className","rowCount","visibleRowCount"],JKe=e=>{const{classes:t}=e;return Fe({root:["rowCount"]},jt,t)},ZKe=me("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),YKe=_.exports.forwardRef(function(t,r){const{className:n,rowCount:i,visibleRowCount:o}=t,s=de(t,KKe),a=ft(),c={classes:Ze().classes},d=JKe(c);if(i===0)return null;const p=o<i?a.current.getLocaleText("footerTotalVisibleRows")(o,i):i.toLocaleString();return ot(ZKe,E({ref:r,className:Se(d.root,n)},s,{children:[a.current.getLocaleText("footerTotalRows")," ",p]}))}),QKe=["className","selectedRowCount"],XKe=e=>{const{classes:t}=e;return Fe({root:["selectedRowCount"]},jt,t)},eJe=me("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),tJe=_.exports.forwardRef(function(t,r){const{className:n,selectedRowCount:i}=t,o=de(t,QKe),s=ft(),l={classes:Ze().classes},c=XKe(l),d=s.current.getLocaleText("footerRowSelected")(i);return z(eJe,E({ref:r,className:Se(c.root,n)},o,{children:d}))}),rJe=_.exports.forwardRef(function(t,r){var n;const i=ft(),o=Ze(),s=Je(i,TGe),a=Je(i,Jqe),l=Je(i,zse),c=!o.hideFooterSelectedRowCount&&a>0?z(tJe,{selectedRowCount:a}):z("div",{}),d=!o.hideFooterRowCount&&!o.pagination?z(YKe,{rowCount:s,visibleRowCount:l}):null,p=o.pagination&&!o.hideFooterPagination&&o.components.Pagination&&z(o.components.Pagination,E({},(n=o.componentsProps)==null?void 0:n.pagination));return ot(uqe,E({ref:r},t,{children:[c,d,p]}))}),nJe=_.exports.forwardRef(function(t,r){var n,i;const o=Ze();return ot("div",E({ref:r},t,{children:[z(o.components.PreferencesPanel,E({},(n=o.componentsProps)==null?void 0:n.preferencesPanel)),o.components.Toolbar&&z(o.components.Toolbar,E({},(i=o.componentsProps)==null?void 0:i.toolbar))]}))}),iJe=_.exports.forwardRef(function(t,r){return z(QM,E({ref:r},t,{children:z(Y9e,{})}))}),oJe=_.exports.forwardRef(function(t,r){const i=ft().current.getLocaleText("noRowsLabel");return z(QM,E({ref:r},t,{children:i}))}),sJe=me(lGe)(({theme:e})=>({[`& .${Wf.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Wf.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),aJe=_.exports.forwardRef(function(t,r){var n;const i=ft(),o=Ze(),s=Je(i,fv),a=_.exports.useMemo(()=>Math.floor(s.rowCount/(s.pageSize||1)),[s.rowCount,s.pageSize]),l=_.exports.useCallback(d=>{const p=Number(d.target.value);i.current.setPageSize(p)},[i]),c=_.exports.useCallback((d,p)=>{i.current.setPage(p)},[i]);return z(sJe,E({ref:r,component:"div",count:s.rowCount,page:s.page<=a?s.page:a,rowsPerPageOptions:(n=o.rowsPerPageOptions)!=null&&n.includes(s.pageSize)?o.rowsPerPageOptions:[],rowsPerPage:s.pageSize,onPageChange:c,onRowsPerPageChange:l},i.current.getLocaleText("MuiTablePagination"),t))}),XM=(e,t)=>{let r,n;return t.pagination&&t.paginationMode==="client"?(n=Oz(e),r=Yqe(e)):(r=Qu(e),r.length===0?n=null:n={firstRowIndex:0,lastRowIndex:r.length-1}),{rows:r,range:n}},Rm=(e,t)=>{const r=XM(e,t);return _.exports.useMemo(()=>({rows:r.rows,range:r.range}),[r.rows,r.range])},Az="__detail_panel_toggle__",lJe=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","cellFocus","cellTabIndex","editRowsState","isLastVisible","onClick","onDoubleClick","onMouseEnter","onMouseLeave"],cJe=e=>{const{editable:t,editing:r,selected:n,isLastVisible:i,rowHeight:o,classes:s}=e;return Fe({root:["row",n&&"selected",t&&"row--editable",r&&"row--editing",i&&"row--lastVisible",o==="auto"&&"row--dynamicHeight"]},jt,s)},uJe=({width:e})=>e?z("div",{className:"MuiDataGrid-cell",style:{width:e}}):null;function dJe(e){var t;const{selected:r,rowId:n,row:i,index:o,style:s,rowHeight:a,className:l,visibleColumns:c,renderedColumns:d,containerWidth:p,firstColumnToRender:f,cellFocus:y,cellTabIndex:g,editRowsState:v,isLastVisible:b=!1,onClick:w,onDoubleClick:x,onMouseEnter:S,onMouseLeave:C}=e,$=de(e,lJe),M=o+2,I=ft(),T=_.exports.useRef(null),O=Ze(),L=Rm(I,O),N=Je(I,JM),H=Je(I,ol),F=Je(I,$z),{hasScrollX:k,hasScrollY:P}=(t=I.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},R={selected:r,isLastVisible:b,classes:O.classes,editing:I.current.getRowMode(n)===lr.Edit,editable:O.editMode===ji.Row,rowHeight:a},j=cJe(R);_.exports.useLayoutEffect(()=>{a==="auto"&&T.current&&typeof ResizeObserver>"u"&&I.current.unstable_storeRowHeightMeasurement(n,T.current.clientHeight)},[I,a,n]),_.exports.useLayoutEffect(()=>{if(L.range){const Me=I.current.getRowIndexRelativeToVisibleRows(n);Me!=null&&I.current.unstable_setLastMeasuredRowIndex(Me)}const pe=T.current;if(!pe||a!=="auto"||typeof ResizeObserver>"u")return;const he=new ResizeObserver(Me=>{const[Ge]=Me,Ee=Ge.borderBoxSize&&Ge.borderBoxSize.length>0?Ge.borderBoxSize[0].blockSize:Ge.contentRect.height;I.current.unstable_storeRowHeightMeasurement(n,Ee)});return he.observe(pe),()=>he.disconnect()},[I,L.range,o,a,n]);const A=_.exports.useCallback((pe,ye)=>he=>{he.target.nodeType===1&&!he.currentTarget.contains(he.target)||!I.current.getRow(n)||(I.current.publishEvent(pe,I.current.getRowParams(n),he),ye&&ye(he))},[I,n]),U=_.exports.useCallback(pe=>{const ye=Eqe(pe.target,re.cell),he=ye==null?void 0:ye.getAttribute("data-field");he&&(he===fx.field||he===Az||he==="__reorder__"||I.current.getCellMode(n,he)===Dt.Edit||I.current.getColumn(he).type===Rz)||A("rowClick",w)(pe)},[I,w,A,n]),q=E({},s,{maxHeight:a==="auto"?"none":a,minHeight:a}),J=I.current.unstable_getRowInternalSizes(n);if(J!=null&&J.spacingTop){const pe=O.rowSpacingType==="border"?"borderTopWidth":"marginTop";q[pe]=J.spacingTop}if(J!=null&&J.spacingBottom){const pe=O.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";q[pe]=J.spacingBottom}let Q=null;if(typeof O.getRowClassName=="function"){const pe=o-L.range.firstRowIndex,ye=E({},I.current.getRowParams(n),{isFirstVisible:pe===0,isLastVisible:pe===L.rows.length-1,indexRelativeToCurrentPage:pe});Q=O.getRowClassName(ye)}const se=[];for(let pe=0;pe<d.length;pe+=1){const ye=d[pe],he=f+pe,Me=he===c.length-1,Ee=Me?!(Me&&k&&!P)&&O.disableExtendRowFullWidth:O.showCellRightBorder,tt=I.current.getCellParams(n,ye.field),Ye=[],je=O.disableColumnReorder&&ye.disableReorder||!O.rowReordering&&!!H.length&&F>1&&Object.keys(v).length>0;ye.cellClassName&&Ye.push(Se(typeof ye.cellClassName=="function"?ye.cellClassName(tt):ye.cellClassName));const Ke=v[n]?v[n][ye.field]:null;let Ct=null;if(Ke==null&&ye.renderCell){var ce;Ct=ye.renderCell(E({},tt,{api:I.current})),Ye.push(Se(re["cell--withRenderer"],(ce=O.classes)==null?void 0:ce["cell--withRenderer"]))}if(Ke!=null&&ye.renderEditCell){var le;let yr=i;I.current.unstable_getRowWithUpdatedValues&&(yr=I.current.unstable_getRowWithUpdatedValues(n,ye.field));const Gr=E({},tt,{row:yr},Ke,{api:I.current});Ct=ye.renderEditCell(Gr),Ye.push(Se(re["cell--editing"],(le=O.classes)==null?void 0:le["cell--editing"]))}O.getCellClassName&&Ye.push(O.getCellClassName(tt));const Ft=y!==null&&y.id===n&&y.field===ye.field,yt=g!==null&&g.id===n&&g.field===ye.field&&tt.cellMode==="view"?0:-1,Lt=I.current.unstable_getCellColSpanInfo(n,he);if(Lt&&!Lt.spannedByColSpan){var Ie;const{colSpan:yr,width:Gr}=Lt.cellProps;se.push(z(O.components.Cell,E({value:tt.value,field:ye.field,width:Gr,rowId:n,height:a,showRightBorder:Ee,formattedValue:tt.formattedValue,align:ye.align||"left",cellMode:tt.cellMode,colIndex:he,isEditable:tt.isEditable,hasFocus:Ft,tabIndex:yt,className:Se(Ye),colSpan:yr,disableDragEvents:je},(Ie=O.componentsProps)==null?void 0:Ie.cell,{children:Ct}),ye.field))}}const Ue=p-N;return ot("div",E({ref:T,"data-id":n,"data-rowindex":o,role:"row",className:Se(Q,j.root,l),"aria-rowindex":M,"aria-selected":r,style:q,onClick:U,onDoubleClick:A("rowDoubleClick",x),onMouseEnter:A("rowMouseEnter",S),onMouseLeave:A("rowMouseLeave",C)},$,{children:[se,Ue>0&&z(uJe,{width:Ue})]}))}const jG=1e3;class pJe{constructor(t=jG){this.timeouts=new Map,this.cleanupTimeout=jG,this.cleanupTimeout=t}register(t,r,n){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof r=="function"&&r(),this.timeouts.delete(n.cleanupToken)},this.cleanupTimeout);this.timeouts.set(n.cleanupToken,i)}unregister(t){const r=this.timeouts.get(t.cleanupToken);r&&(this.timeouts.delete(t.cleanupToken),clearTimeout(r))}reset(){this.timeouts&&(this.timeouts.forEach((t,r)=>{this.unregister({cleanupToken:r})}),this.timeouts=void 0)}}class hJe{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,r,n){this.registry.register(t,r,n)}unregister(t){this.registry.unregister(t)}reset(){}}var vm;(function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"})(vm||(vm={}));class fJe{}function mJe(e){let t=0;return function(n,i,o,s){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new hJe:new pJe);const[a]=_.exports.useState(new fJe),l=_.exports.useRef(null),c=_.exports.useRef();c.current=o;const d=_.exports.useRef(null);if(!l.current&&c.current){const p=(f,y,g)=>{if(!y.defaultMuiPrevented){var v;(v=c.current)==null||v.call(c,f,y,g)}};l.current=n.current.subscribeEvent(i,p,s),t+=1,d.current={cleanupToken:t},e.registry.register(a,()=>{var f;(f=l.current)==null||f.call(l),l.current=null,d.current=null},d.current)}else!c.current&&l.current&&(l.current(),l.current=null,d.current&&(e.registry.unregister(d.current),d.current=null));_.exports.useEffect(()=>{if(!l.current&&c.current){const p=(f,y,g)=>{if(!y.defaultMuiPrevented){var v;(v=c.current)==null||v.call(c,f,y,g)}};l.current=n.current.subscribeEvent(i,p,s)}return d.current&&e.registry&&(e.registry.unregister(d.current),d.current=null),()=>{var p;(p=l.current)==null||p.call(l),l.current=null}},[n,i,s])}}const yJe={registry:null},Le=mJe(yJe),gJe={isFirst:!0};function Bt(e,t,r){Le(e,t,r,gJe)}const BG=1,vJe=1.5,bJe=e=>{const{scrollDirection:t,classes:r}=e,n={root:["scrollArea",`scrollArea--${t}`]};return Fe(n,jt,r)},wJe=me("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${re["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${re["scrollArea--right"]}`]:t["scrollArea--right"]},t.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${re["scrollArea--left"]}`]:{left:0},[`&.${re["scrollArea--right"]}`]:{right:0}}));function _Je(e){const{scrollDirection:t}=e,r=_.exports.useRef(null),n=ft(),i=_.exports.useRef(),[o,s]=_.exports.useState(!1),a=Je(n,hv),l=_.exports.useRef({left:0,top:0}),c=Ze(),d=E({},e,{classes:c.classes}),p=bJe(d),f=_.exports.useCallback(v=>{l.current=v},[]),y=_.exports.useCallback(v=>{let b;if(t==="left")b=v.clientX-r.current.getBoundingClientRect().right;else if(t==="right")b=Math.max(1,v.clientX-r.current.getBoundingClientRect().left);else throw new Error("MUI: Wrong drag direction");b=(b-BG)*vJe+BG,clearTimeout(i.current),i.current=setTimeout(()=>{n.current.scroll({left:l.current.left+b,top:l.current.top})})},[t,n]);_.exports.useEffect(()=>()=>{clearTimeout(i.current)},[]);const g=_.exports.useCallback(()=>{s(v=>!v)},[]);return Le(n,"rowsScroll",f),Le(n,"columnHeaderDragStart",g),Le(n,"columnHeaderDragEnd",g),o?z(wJe,{ref:r,className:Se(p.root),onDragOver:y,style:{height:a}}):null}const UG=_.exports.memo(_Je),xJe=({apiRef:e,props:t,children:r})=>z(coe.Provider,{value:t,children:z(loe.Provider,{value:e,children:r})}),SJe=hWe()&&window.localStorage.getItem("DEBUG")!=null,dw=()=>{},CJe={debug:dw,info:dw,warn:dw,error:dw},GG=["debug","info","warn","error"];function HG(e,t,r=console){const n=GG.indexOf(t);if(n===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return GG.reduce((o,s,a)=>(a>=n?o[s]=(...l)=>{const[c,...d]=l;r[s](`MUI: ${e} - ${c}`,...d)}:o[s]=dw,o),{})}const $Je=(e,t)=>{e.current.getLogger=_.exports.useCallback(r=>SJe?HG(r,"debug",t.logger):t.logLevel?HG(r,t.logLevel.toString(),t.logger):CJe,[t.logLevel,t.logger])};function ur(e,t,r){const n=_.exports.useRef(t),[i]=_.exports.useState(Object.keys(t)),o=_.exports.useCallback(()=>{!e.current||i.forEach(s=>{e.current.hasOwnProperty(s)||(e.current[s]=(...a)=>n.current[s](...a))})},[i,e]);_.exports.useEffect(()=>{n.current=t},[t]),_.exports.useEffect(()=>{o()},[o]),o()}class EJe{constructor(){this.maxListeners=10,this.warnOnce=!1,this.events={}}on(t,r,n={}){let i=this.events[t];i||(i={highPriority:new Map,regular:new Map},this.events[t]=i),n.isFirst?i.highPriority.set(r,!0):i.regular.set(r,!0)}removeListener(t,r){this.events[t]&&(this.events[t].regular.delete(r),this.events[t].highPriority.delete(r))}removeAllListeners(){this.events={}}emit(t,...r){const n=this.events[t];if(!n)return;const i=Array.from(n.highPriority.keys()),o=Array.from(n.regular.keys());for(let s=i.length-1;s>=0;s-=1){const a=i[s];n.highPriority.has(a)&&a.apply(this,r)}for(let s=0;s<o.length;s+=1){const a=o[s];n.regular.has(a)&&a.apply(this,r)}}once(t,r){const n=this;this.on(t,function i(...o){n.removeListener(t,i),r.apply(n,o)})}}const IJe=e=>e.isPropagationStopped!==void 0;let qG=0;function MJe(e,t){const r=_.exports.useRef();r.current||(r.current={unstable_eventManager:new EJe,unstable_caches:{},state:{},instanceId:qG},qG+=1),_.exports.useImperativeHandle(e,()=>r.current,[r]);const n=_.exports.useCallback((...s)=>{const[a,l,c={}]=s;if(c.defaultMuiPrevented=!1,IJe(c)&&c.isPropagationStopped())return;const d=t.signature===vm.DataGridPro?{api:r.current}:{};r.current.unstable_eventManager.emit(a,l,c,d)},[r,t.signature]),i=_.exports.useCallback((s,a,l)=>{r.current.unstable_eventManager.on(s,a,l);const c=r.current;return()=>{c.unstable_eventManager.removeListener(s,a)}},[r]),o=_.exports.useCallback(s=>{r.current.publishEvent("componentError",s)},[r]);return ur(r,{subscribeEvent:i,publishEvent:n,showError:o}),_.exports.useEffect(()=>{const s=r.current;return()=>{s.publishEvent("unmount")}},[r]),r}function TJe(e,t){const r=_.exports.useCallback(n=>{e.current.setState(i=>E({},i,{error:n}))},[e]);_.exports.useEffect(()=>{r(t.error)},[r,t.error]),Le(e,"componentError",r)}const kJe=(e,t)=>{const n={getLocaleText:_.exports.useCallback(i=>{if(t.localeText[i]==null)throw new Error(`Missing translation for key ${i}.`);return t.localeText[i]},[t.localeText])};ur(e,n)};function p_(e){return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p_(e)}function PJe(e,t){if(p_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h_(e){var t=PJe(e,"string");return p_(t)==="symbol"?t:String(t)}const OJe=e=>{const t=_.exports.useRef({}),r=_.exports.useCallback(l=>{!l||Object.values(l.appliers).forEach(c=>{c()})},[]),n=_.exports.useCallback((l,c,d)=>{t.current[l]||(t.current[l]={processors:new Map,appliers:{}});const p=t.current[l];return p.processors.get(c)!==d&&(p.processors.set(c,d),r(p)),()=>{t.current[l].processors.set(c,null)}},[r]),i=_.exports.useCallback((l,c,d)=>(t.current[l]||(t.current[l]={processors:new Map,appliers:{}}),t.current[l].appliers[c]=d,()=>{const p=t.current[l].appliers,f=de(p,[c].map(h_));t.current[l].appliers=f}),[]),o=_.exports.useCallback(l=>{const c=t.current[l];r(c)},[r]),s=_.exports.useCallback((...l)=>{const[c,d,p]=l;return t.current[c]?Array.from(t.current[c].processors.values()).reduce((y,g)=>g?g(y,p):y,d):d},[]);ur(e,{unstable_registerPipeProcessor:n,unstable_registerPipeApplier:i,unstable_requestPipeProcessorsApplication:o,unstable_applyPipeProcessors:s})},mx=e=>{const t=_.exports.useRef(!0);t.current&&(t.current=!1,e())},xi=(e,t,r)=>{const n=_.exports.useRef(),i=_.exports.useRef(`mui-${Math.round(Math.random()*1e9)}`),o=_.exports.useCallback(()=>{n.current=e.current.unstable_registerPipeProcessor(t,i.current,r)},[e,r,t]);mx(()=>{o()});const s=_.exports.useRef(!0);_.exports.useEffect(()=>(s.current?s.current=!1:o(),()=>{n.current&&(n.current(),n.current=null)}),[o])},Fz=(e,t,r)=>{const n=_.exports.useRef(),i=_.exports.useRef(`mui-${Math.round(Math.random()*1e9)}`),o=_.exports.useCallback(()=>{n.current=e.current.unstable_registerPipeApplier(t,i.current,r)},[e,r,t]);mx(()=>{o()});const s=_.exports.useRef(!0);_.exports.useEffect(()=>(s.current?s.current=!1:o(),()=>{n.current&&(n.current(),n.current=null)}),[o])},Nz=(e,t,r,n)=>{const i=_.exports.useCallback(()=>{e.current.unstable_registerStrategyProcessor(t,r,n)},[e,n,r,t]);mx(()=>{i()});const o=_.exports.useRef(!0);_.exports.useEffect(()=>{o.current?o.current=!1:i()},[i])},yx="none",WG={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree"},LJe=e=>{const t=_.exports.useRef(new Map),r=_.exports.useRef({}),n=_.exports.useCallback((l,c,d)=>{const p=()=>{const g=r.current[c],v=de(g,[l].map(h_));r.current[c]=v};r.current[c]||(r.current[c]={});const f=r.current[c],y=f[l];return f[l]=d,!y||y===d||l===e.current.unstable_getActiveStrategy(WG[c])&&e.current.publishEvent("activeStrategyProcessorChange",c),p},[e]),i=_.exports.useCallback((l,c)=>{const d=e.current.unstable_getActiveStrategy(WG[l]);if(d==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const p=r.current[l];if(!p||!p[d])throw new Error(`No processor found for processor "${l}" on strategy "${d}"`);const f=p[d];return f(c)},[e]),o=_.exports.useCallback(l=>{var c;const p=Array.from(t.current.entries()).find(([,f])=>f.group!==l?!1:f.isAvailable());return(c=p==null?void 0:p[0])!=null?c:yx},[]),s=_.exports.useCallback((l,c,d)=>{t.current.set(c,{group:l,isAvailable:d}),e.current.publishEvent("strategyAvailabilityChange")},[e]);ur(e,{unstable_registerStrategyProcessor:n,unstable_applyStrategyProcessor:i,unstable_getActiveStrategy:o,unstable_setStrategyAvailability:s})},RJe=(e,t,r,n,i)=>{const o=Vn(e,"useNativeEventListener"),[s,a]=_.exports.useState(!1),l=_.exports.useRef(n),c=_.exports.useCallback(d=>l.current&&l.current(d),[]);_.exports.useEffect(()=>{l.current=n},[n]),_.exports.useEffect(()=>{let d;if(iae(t)?d=t():d=t&&t.current?t.current:null,d&&r&&!s){o.debug(`Binding native ${r} event`),d.addEventListener(r,c,i);const p=d;a(!0);const f=()=>{o.debug(`Clearing native ${r} event`),p.removeEventListener(r,c,i)};e.current.subscribeEvent("unmount",f)}},[t,c,r,s,o,i,e])},AJe=["stateId"],FJe=(e,t)=>{const r=_.exports.useRef({}),[,n]=_.exports.useState(),i=_.exports.useCallback(c=>{const{stateId:d}=c,p=de(c,AJe);r.current[d]=E({},p,{stateId:d})},[]),o=_.exports.useCallback((c,d)=>{let p;if(iae(c)?p=c(e.current.state):p=c,e.current.state===p)return!1;let f=!1;const y=[];if(Object.keys(r.current).forEach(g=>{const v=r.current[g],b=v.stateSelector(e.current.state,e.current.instanceId),w=v.stateSelector(p,e.current.instanceId);w!==b&&(y.push({stateId:v.stateId,hasPropChanged:w!==v.propModel}),v.propModel!==void 0&&w!==v.propModel&&(f=!0))}),y.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${y[0].stateId}, therefore, you're not allowed to update ${y.map(g=>g.stateId).join(", ")} in the same transaction.`);if(f||(e.current.state=p,e.current.publishEvent&&e.current.publishEvent("stateChange",p)),y.length===1){const{stateId:g,hasPropChanged:v}=y[0],b=r.current[g],w=b.stateSelector(p,e.current.instanceId);if(b.propOnChange&&v){const x=t.signature===vm.DataGridPro?{api:e.current,reason:d}:{reason:d};b.propOnChange(w,x)}f||e.current.publishEvent(b.changeEvent,w,{reason:d})}return!f},[e,t.signature]),s=_.exports.useCallback((c,d,p)=>e.current.setState(f=>E({},f,{[c]:d(f[c])}),p),[e]),a=_.exports.useCallback(()=>n(()=>e.current.state),[e]);ur(e,{setState:o,forceUpdate:a,unstable_updateControlState:s,unstable_registerControlState:i})},NJe=(e,t)=>{const r=MJe(e,t);return $Je(r,t),TJe(r,t),FJe(r,t),OJe(r),LJe(r),kJe(r,t),r},Bs=(e,t,r)=>{const n=_.exports.useRef(!1);n.current||(t.current.state=e(t.current.state,r,t),n.current=!0)};function KG(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const r=document.createRange();r.selectNode(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(r);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}const DJe=e=>{const t=_.exports.useCallback((i=!1)=>{if(e.current.getSelectedRows().size===0)return;const o=e.current.getDataAsCsv({includeHeaders:i,delimiter:"	"});navigator.clipboard?navigator.clipboard.writeText(o).catch(()=>{KG(o)}):KG(o)},[e]),r=_.exports.useCallback(i=>{var o;const s=i.ctrlKey||i.metaKey||i.altKey;String.fromCharCode(i.keyCode)!=="C"||!s||((o=window.getSelection())==null?void 0:o.toString())===""&&e.current.unstable_copySelectedRowsToClipboard(i.altKey)},[e]);RJe(e,e.current.rootElementRef,"keydown",r),ur(e,{unstable_copySelectedRowsToClipboard:t})},fae=e=>e.columnMenu,zJe=e=>E({},e,{columnMenu:{open:!1}}),VJe=e=>{const t=Vn(e,"useGridColumnMenu"),r=_.exports.useCallback(a=>{e.current.setState(c=>c.columnMenu.open&&c.columnMenu.field===a?c:(t.debug("Opening Column Menu"),E({},c,{columnMenu:{open:!0,field:a}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),n=_.exports.useCallback(()=>{e.current.setState(l=>!l.columnMenu.open&&l.columnMenu.field===void 0?l:(t.debug("Hiding Column Menu"),E({},l,{columnMenu:E({},l.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),i=_.exports.useCallback(a=>{t.debug("Toggle Column Menu");const l=fae(e.current.state);!l.open||l.field!==a?r(a):n()},[e,t,r,n]);ur(e,{showColumnMenu:r,hideColumnMenu:n,toggleColumnMenu:i});const s=_.exports.useCallback((a,l)=>{if(!l.target.classList.contains(re.menuIconButton)||!l.relatedTarget)return;const c=l.relatedTarget.classList.contains(re.menuList),d=l.relatedTarget.getAttribute("role")==="menuitem";(c||d)&&e.current.setColumnHeaderFocus(a.field)},[e]);Le(e,"columnResizeStart",n),Le(e,"columnHeaderFocus",s),Le(e,"virtualScrollerWheel",e.current.hideColumnMenu),Le(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},jJe=(e,t,r)=>{var n,i,o,s,a,l,c;const d=!!t.columnVisibilityModel||!!((n=t.initialState)!=null&&(i=n.columns)!=null&&i.columnVisibilityModel);r.current.unstable_caches.columns={isUsingColumnVisibilityModel:d};const p=cae(t.columnTypes),f=Wy({apiRef:r,columnTypes:p,columnsToUpsert:t.columns,initialState:(o=t.initialState)==null?void 0:o.columns,shouldRegenColumnVisibilityModelFromColumns:!d,currentColumnVisibilityModel:(s=(a=t.columnVisibilityModel)!=null?a:(l=t.initialState)==null||(c=l.columns)==null?void 0:c.columnVisibilityModel)!=null?s:{},keepOnlyColumnsToUpsert:!0});return E({},e,{columns:f})};function BJe(e,t){var r,n;const i=Vn(e,"useGridColumns"),o=_.exports.useMemo(()=>cae(t.columnTypes),[t.columnTypes]),s=_.exports.useRef(t.columns),a=_.exports.useRef(o);e.current.unstable_registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:wp,changeEvent:"columnVisibilityModelChange"});const l=_.exports.useCallback(F=>{i.debug("Updating columns state."),e.current.setState(zG(F)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",F.all)},[i,e]),c=_.exports.useCallback(F=>pv(e)[F],[e]),d=_.exports.useCallback(()=>ga(e),[e]),p=_.exports.useCallback(()=>Wi(e),[e]),f=_.exports.useCallback(()=>AGe(e),[e]),y=_.exports.useCallback((F,k=!0)=>(k?Wi(e):ga(e)).findIndex(R=>R.field===F),[e]),g=_.exports.useCallback(F=>{const k=y(F);return gm(e)[k]},[e,y]),v=_.exports.useCallback(F=>{wp(e)!==F&&(e.current.setState(P=>E({},P,{columns:Wy({apiRef:e,columnTypes:o,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!1,currentColumnVisibilityModel:F,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,o]),b=_.exports.useCallback(F=>{const k=Wy({apiRef:e,columnTypes:o,columnsToUpsert:F,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!0,keepOnlyColumnsToUpsert:!1});l(k)},[e,l,o]),w=_.exports.useCallback(F=>e.current.updateColumns([F]),[e]),x=_.exports.useCallback((F,k)=>{if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var P;const R=wp(e),j=(P=R[F])!=null?P:!0;if(k!==j){const A=E({},R,{[F]:k});e.current.setColumnVisibilityModel(A)}}else{const R=e.current.getColumn(F),j=E({},R,{hide:!k});e.current.updateColumns([j]);const A={field:F,colDef:j,isVisible:k};e.current.publishEvent("columnVisibilityChange",A)}},[e]),S=_.exports.useCallback((F,k)=>{const P=ym(e),R=P.findIndex(q=>q===F);if(R===k)return;i.debug(`Moving column ${F} to index ${k}`);const j=[...P],A=j.splice(R,1)[0];j.splice(k,0,A),l(E({},mm(e.current.state),{all:j}));const U={field:F,element:e.current.getColumnHeaderElement(F),colDef:e.current.getColumn(F),targetIndex:k,oldIndex:R};e.current.publishEvent("columnOrderChange",U)},[e,i,l]),C=_.exports.useCallback((F,k)=>{i.debug(`Updating column ${F} width to ${k}`);const P=e.current.getColumn(F),R=E({},P,{width:k});e.current.updateColumns([R]),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(F),colDef:R,width:k})},[e,i]);ur(e,{getColumn:c,getAllColumns:d,getColumnIndex:y,getColumnPosition:g,getVisibleColumns:p,getColumnsMeta:f,updateColumn:w,updateColumns:b,setColumnVisibilityModel:v,setColumnVisibility:x,setColumnIndex:S,setColumnWidth:C});const M=_.exports.useCallback((F,k)=>{const P={};if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var R,j,A;const J=wp(e);(!k.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((R=(j=t.initialState)==null||(A=j.columns)==null?void 0:A.columnVisibilityModel)!=null?R:{}).length>0||Object.keys(J).length>0)&&(P.columnVisibilityModel=J)}P.orderedFields=ym(e);const U=ga(e),q={};return U.forEach(J=>{if(J.hasBeenResized){const Q={};lae.forEach(se=>{let ce=J[se];ce===1/0&&(ce=-1),Q[se]=ce}),q[J.field]=Q}}),Object.keys(q).length>0&&(P.dimensions=q),E({},F,{columns:P})},[e,t.columnVisibilityModel,(r=t.initialState)==null?void 0:r.columns]),I=_.exports.useCallback((F,k)=>{var P;const R=e.current.unstable_caches.columns.isUsingColumnVisibilityModel?(P=k.stateToRestore.columns)==null?void 0:P.columnVisibilityModel:void 0,j=k.stateToRestore.columns;if(R==null&&j==null)return F;const A=Wy({apiRef:e,columnTypes:o,columnsToUpsert:[],initialState:j,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,currentColumnVisibilityModel:R,keepOnlyColumnsToUpsert:!1});return e.current.setState(zG(A)),j!=null&&e.current.publishEvent("columnsChange",A.all),F},[e,o]),T=_.exports.useCallback((F,k)=>{if(k===Hu.columns){var P;const R=t.components.ColumnsPanel;return z(R,E({},(P=t.componentsProps)==null?void 0:P.columnsPanel))}return F},[t.components.ColumnsPanel,(n=t.componentsProps)==null?void 0:n.columnsPanel]);xi(e,"exportState",M),xi(e,"restoreState",I),xi(e,"preferencePanel",T);const O=_.exports.useRef(null);Le(e,"viewportInnerSizeChange",F=>{O.current!==F.width&&(O.current=F.width,l(uae(mm(e.current.state),F.width)))}),Bt(e,"columnVisibilityChange",t.onColumnVisibilityChange);const N=_.exports.useCallback(()=>{i.info("Columns pipe processing have changed, regenerating the columns");const F=Wy({apiRef:e,columnTypes:o,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,keepOnlyColumnsToUpsert:!1});l(F)},[e,i,l,o]);Fz(e,"hydrateColumns",N);const H=_.exports.useRef(!0);_.exports.useEffect(()=>{if(H.current){H.current=!1;return}if(i.info(`GridColumns have changed, new length ${t.columns.length}`),s.current===t.columns&&a.current===o)return;const F=Wy({apiRef:e,columnTypes:o,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});s.current=t.columns,a.current=o,l(F)},[i,e,l,t.columns,o]),_.exports.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,i,t.columnVisibilityModel])}const NP=.7,DP=1.3,mae=(e,t,r)=>{switch(e){case l_.Compact:return{value:e,headerHeight:Math.floor(t*NP),rowHeight:Math.floor(r*NP),factor:NP};case l_.Comfortable:return{value:e,headerHeight:Math.floor(t*DP),rowHeight:Math.floor(r*DP),factor:DP};default:return{value:e,headerHeight:t,rowHeight:r,factor:1}}},UJe=(e,t)=>E({},e,{density:mae(t.density,t.headerHeight,t.rowHeight)}),GJe=(e,t)=>{const r=Vn(e,"useDensity"),n=_.exports.useCallback((o,s=t.headerHeight,a=t.rowHeight)=>{r.debug(`Set grid density to ${o}`),e.current.setState(l=>{const c=dx(l),d=mae(o,s,a);return Dp(c,d)?l:E({},l,{density:d})}),e.current.forceUpdate()},[r,e,t.headerHeight,t.rowHeight]);_.exports.useEffect(()=>{e.current.setDensity(t.density,t.headerHeight,t.rowHeight)},[e,t.density,t.rowHeight,t.headerHeight]),ur(e,{setDensity:n})};function HJe(e,t="csv",r=document.title||"untitled"){const n=`${r}.${t}`;if("download"in HTMLAnchorElement.prototype){const i=URL.createObjectURL(e),o=document.createElement("a");o.href=i,o.download=n,o.click(),setTimeout(()=>{URL.revokeObjectURL(i)});return}throw new Error("MUI: exportAs not supported")}const yae=(e,t)=>{if(typeof e=="string"){const r=e.replace(/"/g,'""');return[t,`
`,"\r"].some(n=>r.includes(n))?`"${r}"`:r}return e};Pl(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);const qJe=(e,t,r,n)=>t.map(i=>{const o=r(e,i.field);return yae(o.formattedValue,n)});function WJe(e){const{columns:t,rowIds:r,getCellParams:n,delimiterCharacter:i,includeHeaders:o}=e,s=r.reduce((l,c)=>`${l}${qJe(c,t,n,i).join(i)}\r
`,"").trim();return o?`${`${t.filter(l=>l.field!==fx.field).map(l=>yae(l.headerName||l.field,i)).join(i)}\r
`}${s}`.trim():s}const gae=({apiRef:e,options:t})=>{const r=ga(e);return t.fields?t.fields.map(i=>r.find(o=>o.field===i)).filter(i=>!!i):(t.allColumns?r:Wi(e)).filter(i=>!i.disableExport)},KJe=({apiRef:e})=>{var t,r;const n=zGe(e),i=Kf(e),o=e.current.getSelectedRows(),s=n.filter(d=>{var p;return((p=i[d].position)!=null?p:"body")==="body"}),a=cx(e),l=(a==null||(t=a.top)==null?void 0:t.map(d=>d.id))||[],c=(a==null||(r=a.bottom)==null?void 0:r.map(d=>d.id))||[];return s.unshift(...l),s.push(...c),o.size>0?s.filter(d=>o.has(d)):s},JJe=e=>{const t=Vn(e,"useGridCsvExport"),r=_.exports.useCallback((s={})=>{var a,l;t.debug("Get data as CSV");const c=gae({apiRef:e,options:s}),p=((a=s.getRowsToExport)!=null?a:KJe)({apiRef:e});return WJe({columns:c,rowIds:p,getCellParams:e.current.getCellParams,delimiterCharacter:s.delimiter||",",includeHeaders:(l=s.includeHeaders)!=null?l:!0})},[t,e]),n=_.exports.useCallback(s=>{t.debug("Export data as CSV");const a=r(s),l=new Blob([s!=null&&s.utf8WithBom?new Uint8Array([239,187,191]):"",a],{type:"text/csv"});HJe(l,"csv",s==null?void 0:s.fileName)},[t,r]);ur(e,{getDataAsCsv:r,exportDataAsCsv:n});const o=_.exports.useCallback((s,a)=>{var l;return(l=a.csvOptions)!=null&&l.disableToolbarButton?s:[...s,{component:z(jKe,{options:a.csvOptions}),componentName:"csvExport"}]},[]);xi(e,"exportMenu",o)},f_=e=>e.rowsMeta,ZJe=(e,t)=>{const r=Vn(e,"useGridPrintExport"),n=_.exports.useRef(null),i=_.exports.useRef(null),o=_.exports.useRef({});_.exports.useEffect(()=>{n.current=Cn(e.current.rootElementRef.current)},[e]);const s=_.exports.useCallback((y,g)=>new Promise(v=>{if(!y&&!g){v();return}const b=gae({apiRef:e,options:{fields:y,allColumns:g}}).map(S=>S.field),w=ga(e),x={};w.forEach(S=>{x[S.field]=b.includes(S.field)}),e.current.setColumnVisibilityModel(x),v()}),[e]),a=_.exports.useCallback(y=>{const g=document.createElement("iframe");return g.id="grid-print-window",g.src=window.location.href,g.style.position="absolute",g.style.width="0px",g.style.height="0px",g.title=y||document.title,g},[]),l=_.exports.useCallback((y,g)=>{var v,b,w;const x=E({copyStyles:!0,hideToolbar:!1,hideFooter:!1},g);y.onload=null;const S=y.contentDocument||((v=y.contentWindow)==null?void 0:v.document);if(!S)return;const C=hv(e),$=f_(e.current.state),M=e.current.rootElementRef.current,I=M.cloneNode(!0),T=I.querySelector(`.${re.virtualScroller}`);T.style.height="auto",T.style.width="auto",T.parentElement.style.width="auto",T.parentElement.style.height="auto";const O=I.querySelector(`.${re.main}`);O.style.overflow="visible";const N=I.querySelector(`.${re.columnHeaders}`).querySelector(`.${re.columnHeadersInner}`);N.style.width="100%";let H=((b=M.querySelector(`.${re.toolbarContainer}`))==null?void 0:b.clientHeight)||0,F=((w=M.querySelector(`.${re.footerContainer}`))==null?void 0:w.clientHeight)||0;if(x.hideToolbar){var k;(k=I.querySelector(`.${re.toolbarContainer}`))==null||k.remove(),H=0}if(x.hideFooter){var P;(P=I.querySelector(`.${re.footerContainer}`))==null||P.remove(),F=0}I.style.height=`${$.currentPageTotalHeight+C+H+F}px`,S.body.innerHTML="",S.body.appendChild(I);const R=typeof x.pageStyle=="function"?x.pageStyle():x.pageStyle;if(typeof R=="string"){const j=S.createElement("style");j.appendChild(S.createTextNode(R)),S.head.appendChild(j)}if(x.bodyClassName&&S.body.classList.add(...x.bodyClassName.split(" ")),x.copyStyles){const j=n.current.querySelectorAll("style, link[rel='stylesheet']");for(let A=0;A<j.length;A+=1){const U=j[A];if(U.tagName==="STYLE"){const q=S.createElement(U.tagName),J=U.sheet;if(J){let Q="";for(let se=0;se<J.cssRules.length;se+=1)typeof J.cssRules[se].cssText=="string"&&(Q+=`${J.cssRules[se].cssText}\r
`);q.appendChild(S.createTextNode(Q)),S.head.appendChild(q)}}else if(U.getAttribute("href")){const q=S.createElement(U.tagName);for(let J=0;J<U.attributes.length;J+=1){const Q=U.attributes[J];Q&&q.setAttribute(Q.nodeName,Q.nodeValue||"")}S.head.appendChild(q)}}}y.contentWindow.print()},[e,n]),c=_.exports.useCallback(y=>{var g,v;n.current.body.removeChild(y),e.current.restoreState(i.current||{}),(g=i.current)!=null&&(v=g.columns)!=null&&v.columnVisibilityModel||e.current.setColumnVisibilityModel(o.current),e.current.unstable_enableVirtualization(),i.current=null,o.current={}},[e]),p={exportDataAsPrint:_.exports.useCallback(async y=>{if(r.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");if(i.current=e.current.exportState(),o.current=wp(e),t.pagination){const v=Dse(e);e.current.setPageSize(v)}await s(y==null?void 0:y.fields,y==null?void 0:y.allColumns),e.current.unstable_disableVirtualization();const g=a(y==null?void 0:y.fileName);n.current.body.appendChild(g),g.onload=()=>l(g,y),g.contentWindow.onafterprint=()=>c(g)},[t,r,e,a,l,c,s])};ur(e,p);const f=_.exports.useCallback((y,g)=>{var v;return(v=g.printOptions)!=null&&v.disableToolbarButton?y:[...y,{component:z(BKe,{options:g.printOptions}),componentName:"printExport"}]},[]);xi(e,"exportMenu",f)},YJe=["rowsBeforePartialUpdates"];function QJe(e,t,r="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",r,JSON.stringify(t)].join(`
`))}const vae=(e,t,r)=>{const n=t?t(e):e.id;return QJe(n,e,r),n},P$=({rows:e,getRowId:t,loading:r})=>{const n={rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:r,idRowsLookup:{},idToIdLookup:{},ids:[]};for(let i=0;i<e.length;i+=1){const o=e[i],s=vae(o,t);n.idRowsLookup[s]=o,n.idToIdLookup[s]=s,n.ids.push(s)}return n},bae=({apiRef:e,previousTree:t,rowCountProp:r,loadingProp:n})=>{const i=e.current.unstable_caches.rows,o=de(i,YJe),s=r!=null?r:0,a=e.current.unstable_applyStrategyProcessor("rowTreeCreation",E({},o,{previousTree:t})),l=e.current.unstable_applyPipeProcessors("hydrateRows",a),c=l.treeDepth===1?l.ids.length:Object.values(l.tree).filter(d=>d.parent==null&&!d.isPinned).length;return E({},l,{groupingResponseBeforeRowHydration:a,loading:n,totalRowCount:Math.max(s,l.ids.length),totalTopLevelRowCount:Math.max(s,c)})},wae=(e,t,r)=>{var n;const i=(n=e[t])==null?void 0:n.children;if(i==null)return[];const o=[];for(let s=0;s<i.length;s+=1){const a=i[s],l=e[a];(!r||!l.isAutoGenerated)&&o.push(a),o.push(...wae(e,l.id,r))}return o};function _ae(e){var t,r;const n=cx(e),i=(n==null||(t=n.top)==null?void 0:t.reduce((s,a)=>(s+=e.current.unstable_getRowHeight(a.id),s),0))||0,o=(n==null||(r=n.bottom)==null?void 0:r.reduce((s,a)=>(s+=e.current.unstable_getRowHeight(a.id),s),0))||0;return{top:i,bottom:o}}const VF=(e,t)=>{const r=E({},e);if(r.id==null&&(r.id=Math.round(Math.random()*1e5)),r.operatorValue==null){const n=pv(t)[r.columnField];r.operatorValue=n&&n.filterOperators[0].value}return r},XJe=Pl(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),eZe=Pl("MUI: The 'id' field is required on `filterModel.items` when you use multiple filters.","error"),tZe=Pl(["MUI: One of your filtering item have no `operatorValue` provided.","This property will become required on `@mui/x-data-grid@6.X`."]),xae=(e,t,r)=>{const n=e.items.length>1;let i;n&&t?(XJe(),i=[e.items[0]]):i=e.items;const o=n&&i.some(a=>a.id==null),s=i.some(a=>a.operatorValue==null);return o&&eZe(),s&&tZe(),s||o?E({},e,{items:i.map(a=>VF(a,r))}):e.items!==i?E({},e,{items:i}):e},JG=(e,t,r)=>n=>E({},n,{filterModel:xae(e,t,r)}),rZe=(e,t)=>{const{items:r}=e,n=o=>{if(!o.columnField||!o.operatorValue)return null;const s=t.current.getColumn(o.columnField);if(!s)return null;let a;if(s.valueParser){var l;const g=s.valueParser;a=Array.isArray(o.value)?(l=o.value)==null?void 0:l.map(v=>g(v)):g(o.value)}else a=o.value;const c=E({},o,{value:a}),d=s.filterOperators;if(!(d!=null&&d.length))throw new Error(`MUI: No filter operators found for column '${s.field}'.`);const p=d.find(g=>g.value===c.operatorValue);if(!p)throw new Error(`MUI: No filter operator found for column '${s.field}' and operator value '${c.operatorValue}'.`);const f=p.getApplyFilterFn(c,s);return typeof f!="function"?null:{fn:g=>{const v=t.current.getCellParams(g,c.columnField);return f(v)},item:c}},i=r.map(n).filter(o=>!!o);return i.length===0?null:(o,s)=>{const a={};return(s?i.filter(c=>s(c.item.columnField)):i).forEach(c=>{a[c.item.id]=c.fn(o)}),a}},nZe=(e,t)=>{const{quickFilterValues:r=[]}=e;if(r.length===0)return null;const n=ym(t),i={};n.forEach(s=>{const a=t.current.getColumn(s),l=a==null?void 0:a.getApplyQuickFilterFn;!l||(i[s]=r.map(c=>l(c,a,t)))});const o=r.filter((s,a)=>Object.keys(i).some(l=>i[l][a]!=null));return o.length===0?null:(s,a)=>{const l={},c=[];Object.keys(i).forEach(p=>{(!a||a(p))&&(l[p]=t.current.getCellParams(s,p),c.push(p))});const d={};return o.forEach((p,f)=>{const y=c.some(g=>{var v,b;return i[g][f]==null?!1:(v=(b=i[g])[f])==null?void 0:v.call(b,l[g])});d[p]=y}),d}},iZe=(e,t)=>{const r=rZe(e,t),n=nZe(e,t);return(i,o)=>({passingFilterItems:r&&r(i,o),passingQuickFilterValues:n&&n(i,o)})},oZe=(e,t,r)=>{var n,i;const o=e.filter(c=>c!=null),s=t.filter(c=>c!=null),a=(n=r.quickFilterLogicOperator)!=null?n:d_().quickFilterLogicOperator,l=(i=r.linkOperator)!=null?i:d_().linkOperator;if(o.length>0){const c=d=>o.some(p=>p[d.id]);if(l===ao.And){if(!r.items.every(c))return!1}else if(!r.items.some(c))return!1}if(s.length>0&&r.quickFilterValues!=null){const c=d=>s.some(p=>p[d]);if(a===ao.And){if(!r.quickFilterValues.every(c))return!1}else if(!r.quickFilterValues.some(c))return!1}return!0},sZe=(e,t,r)=>{var n,i,o,s;const a=(n=(i=t.filterModel)!=null?i:(o=t.initialState)==null||(s=o.filter)==null?void 0:s.filterModel)!=null?n:d_();return E({},e,{filter:{filterModel:xae(a,t.disableMultipleColumnsFiltering,r),visibleRowsLookup:{},filteredDescendantCountLookup:{}}})},aZe=(e,t)=>{var r,n,i;const o=Vn(e,"useGridFilter");e.current.unstable_registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:Eo,changeEvent:"filterModelChange"});const s=_.exports.useCallback(()=>{e.current.setState(T=>{const O=Eo(T,e.current.instanceId),L=t.filterMode===Hg.client?iZe(O,e):null,N=e.current.unstable_applyStrategyProcessor("filtering",{isRowMatchingFilters:L,filterModel:O!=null?O:d_()});return E({},T,{filter:E({},T.filter,N)})}),e.current.publishEvent("filteredRowsSet")},[t.filterMode,e]),a=_.exports.useCallback(()=>{s(),e.current.forceUpdate()},[e,s]),l=_.exports.useCallback(T=>{const O=Eo(e),L=[...O.items],N=L.findIndex(H=>H.id===T.id);N===-1?L.push(T):L[N]=T,e.current.setFilterModel(E({},O,{items:L}),"upsertFilterItem")},[e]),c=_.exports.useCallback(T=>{const O=Eo(e),L=[...O.items];T.forEach(N=>{const H=T.findIndex(F=>F.id===N.id);H===-1?L.push(N):L[H]=N}),e.current.setFilterModel(E({},O,{items:T}),"upsertFilterItems")},[e]),d=_.exports.useCallback(T=>{const O=Eo(e),L=O.items.filter(N=>N.id!==T.id);L.length!==O.items.length&&e.current.setFilterModel(E({},O,{items:L}),"deleteFilterItem")},[e]),p=_.exports.useCallback(T=>{if(o.debug("Displaying filter panel"),T){const O=Eo(e),L=O.items.filter(F=>{var k;if(F.value!==void 0)return!0;const R=(k=e.current.getColumn(F.columnField).filterOperators)==null?void 0:k.find(A=>A.value===F.operatorValue);return!(typeof(R==null?void 0:R.requiresFilterValue)>"u"?!0:R==null?void 0:R.requiresFilterValue)});let N;L.find(F=>F.columnField===T)?N=L:t.disableMultipleColumnsFiltering?N=[VF({columnField:T},e)]:N=[...L,VF({columnField:T},e)],e.current.setFilterModel(E({},O,{items:N}))}e.current.showPreferences(Hu.filters)},[e,o,t.disableMultipleColumnsFiltering]),f=_.exports.useCallback(()=>{o.debug("Hiding filter panel"),e.current.hidePreferences()},[e,o]),y=_.exports.useCallback(T=>{const O=Eo(e);O.linkOperator!==T&&e.current.setFilterModel(E({},O,{linkOperator:T}),"changeLogicOperator")},[e]),g=_.exports.useCallback(T=>{const O=Eo(e);Dp(O.quickFilterValues,T)||e.current.setFilterModel(E({},O,{quickFilterValues:[...T]}))},[e]),v=_.exports.useCallback((T,O)=>{Eo(e)!==T&&(o.debug("Setting filter model"),e.current.unstable_updateControlState("filter",JG(T,t.disableMultipleColumnsFiltering,e),O),e.current.unstable_applyFilters())},[e,o,t.disableMultipleColumnsFiltering]),b=_.exports.useCallback(()=>{const T=Qu(e);return new Map(T.map(O=>[O.id,O.model]))},[e]);ur(e,{setFilterLinkOperator:y,unstable_applyFilters:a,deleteFilterItem:d,upsertFilterItem:l,upsertFilterItems:c,setFilterModel:v,showFilterPanel:p,hideFilterPanel:f,getVisibleRowModels:b,setQuickFilterValues:g});const x=_.exports.useCallback((T,O)=>{var L,N;const H=Eo(e);return!O.exportOnlyDirtyModels||t.filterModel!=null||((L=t.initialState)==null||(N=L.filter)==null?void 0:N.filterModel)!=null||!Dp(H,d_())?E({},T,{filter:{filterModel:H}}):T},[e,t.filterModel,(r=t.initialState)==null||(n=r.filter)==null?void 0:n.filterModel]),S=_.exports.useCallback((T,O)=>{var L;const N=(L=O.stateToRestore.filter)==null?void 0:L.filterModel;return N==null?T:(e.current.unstable_updateControlState("filter",JG(N,t.disableMultipleColumnsFiltering,e),"restoreState"),E({},T,{callbacks:[...T.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),C=_.exports.useCallback((T,O)=>{if(O===Hu.filters){var L;const N=t.components.FilterPanel;return z(N,E({},(L=t.componentsProps)==null?void 0:L.filterPanel))}return T},[t.components.FilterPanel,(i=t.componentsProps)==null?void 0:i.filterPanel]),$=_.exports.useCallback(T=>{if(t.filterMode===Hg.client&&T.isRowMatchingFilters){const O=Gg(e),L={};for(let N=0;N<O.length;N+=1){const H=O[N];let F;if(typeof H=="string"&&H.startsWith("auto-generated-group-footer"))F=!0;else{const{passingFilterItems:k,passingQuickFilterValues:P}=T.isRowMatchingFilters(H);F=oZe([k],[P],T.filterModel)}L[H]=F}return{filteredRowsLookup:L,visibleRowsLookup:L,filteredDescendantCountLookup:{}}}return{visibleRowsLookup:{},filteredRowsLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode]);xi(e,"exportState",x),xi(e,"restoreState",S),xi(e,"preferencePanel",C),Nz(e,yx,"filtering",$);const M=_.exports.useCallback(()=>{o.debug("onColUpdated - GridColumns changed, applying filters");const T=Eo(e),O=RGe(e),L=T.items.filter(N=>N.columnField&&O[N.columnField]);L.length<T.items.length&&e.current.setFilterModel(E({},T,{items:L}))},[e,o]),I=_.exports.useCallback(T=>{T==="filtering"&&e.current.unstable_applyFilters()},[e]);Le(e,"rowsSet",s),Le(e,"rowExpansionChange",e.current.unstable_applyFilters),Le(e,"columnsChange",M),Le(e,"activeStrategyProcessorChange",I),mx(()=>{e.current.unstable_applyFilters()}),_.exports.useEffect(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,o,t.filterModel])},lZe=e=>E({},e,{focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null}}),cZe=(e,t)=>{const r=Vn(e,"useGridFocus"),n=_.exports.useRef(null),i=_.exports.useCallback((v,b)=>{const w=hl(e);(w==null?void 0:w.id)===v&&(w==null?void 0:w.field)===b||(e.current.setState(x=>(r.debug(`Focusing on cell with id=${v} and field=${b}`),E({},x,{tabIndex:{cell:{id:v,field:b},columnHeader:null},focus:{cell:{id:v,field:b},columnHeader:null}}))),e.current.forceUpdate(),e.current.getRow(v)&&(w&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(w.id,w.field)),e.current.publishEvent("cellFocusIn",e.current.getCellParams(v,b))))},[e,r]),o=_.exports.useCallback((v,b={})=>{const w=hl(e);w&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(w.id,w.field),b),e.current.setState(x=>(r.debug(`Focusing on column header with colIndex=${v}`),E({},x,{tabIndex:{columnHeader:{field:v},cell:null},focus:{columnHeader:{field:v},cell:null}}))),e.current.forceUpdate()},[e,r]),s=_.exports.useCallback((v,b,w)=>{let x=e.current.getColumnIndex(b),S=e.current.getRowIndexRelativeToVisibleRows(v);const C=Wi(e);w==="right"?x+=1:w==="left"?x-=1:S+=1;const $=XM(e,{pagination:t.pagination,paginationMode:t.paginationMode});x>=C.length?(S+=1,S<$.rows.length&&(x=0)):x<0&&(S-=1,S>=0&&(x=C.length-1)),S=u_(S,0,$.rows.length-1),x=u_(x,0,C.length-1);const M=$.rows[S],I=C[x];e.current.setCellFocus(M.id,I.field)},[e,t.pagination,t.paginationMode]),a=_.exports.useCallback(({id:v,field:b})=>{e.current.setCellFocus(v,b)},[e]),l=_.exports.useCallback((v,b)=>{b.key==="Enter"||b.key==="Tab"||hx(b.key)||e.current.setCellFocus(v.id,v.field)},[e]),c=_.exports.useCallback(({field:v},b)=>{b.target===b.currentTarget&&e.current.setColumnHeaderFocus(v,b)},[e]),d=_.exports.useCallback(()=>{r.debug("Clearing focus"),e.current.setState(v=>E({},v,{focus:{cell:null,columnHeader:null}}))},[r,e]),p=_.exports.useCallback(v=>{n.current=v},[]),f=_.exports.useCallback(v=>{const b=n.current;n.current=null;const w=hl(e);if(!w){b&&e.current.setCellFocus(b.id,b.field);return}if((b==null?void 0:b.id)===w.id&&(b==null?void 0:b.field)===w.field)return;const x=e.current.getCellElement(w.id,w.field);x!=null&&x.contains(v.target)||!e.current.getRow(w.id)||(b?e.current.setCellFocus(b.id,b.field):(e.current.setState(S=>E({},S,{focus:{cell:null,columnHeader:null}})),e.current.forceUpdate(),e.current.publishEvent("cellFocusOut",e.current.getCellParams(w.id,w.field),v)))},[e]),y=_.exports.useCallback(v=>{if(v.cellMode==="view")return;const b=hl(e);((b==null?void 0:b.id)!==v.id||(b==null?void 0:b.field)!==v.field)&&e.current.setCellFocus(v.id,v.field)},[e]),g=_.exports.useCallback(()=>{const v=hl(e);v&&!e.current.getRow(v.id)&&e.current.setState(b=>E({},b,{focus:{cell:null,columnHeader:null}}))},[e]);ur(e,{setCellFocus:i,setColumnHeaderFocus:o,unstable_moveFocusToRelativeCell:s}),_.exports.useEffect(()=>{const v=Cn(e.current.rootElementRef.current);return v.addEventListener("click",f),()=>{v.removeEventListener("click",f)}},[e,f]),Le(e,"columnHeaderBlur",d),Le(e,"cellDoubleClick",a),Le(e,"cellMouseUp",p),Le(e,"cellKeyDown",l),Le(e,"cellModeChange",y),Le(e,"columnHeaderFocus",c),Le(e,"rowsSet",g)};function uZe(e,t){const r=cx(e)||{};return[...r.top||[],...t,...r.bottom||[]]}const dZe=(e,t)=>{const r=Vn(e,"useGridKeyboardNavigation"),n=Rm(e,t).rows,i=_.exports.useMemo(()=>uZe(e,n),[e,n]),o=_.exports.useCallback((p,f,y="left")=>{const g=Qu(e),v=e.current.unstable_getCellColSpanInfo(f,p);v&&v.spannedByColSpan&&(y==="left"?p=v.leftVisibleCellIndex:y==="right"&&(p=v.rightVisibleCellIndex));const b=g.findIndex(x=>x.id===f);r.debug(`Navigating to cell row ${b}, col ${p}`),e.current.scrollToIndexes({colIndex:p,rowIndex:b});const w=e.current.getVisibleColumns()[p].field;e.current.setCellFocus(f,w)},[e,r]),s=_.exports.useCallback((p,f)=>{r.debug(`Navigating to header col ${p}`),e.current.scrollToIndexes({colIndex:p});const y=e.current.getVisibleColumns()[p].field;e.current.setColumnHeaderFocus(y,f)},[e,r]),a=_.exports.useCallback(p=>i[p].id,[i]),l=_.exports.useCallback((p,f)=>{const y=e.current.getRootDimensions();if(i.length===0||!y)return;const g=e.current.unstable_getViewportPageSize(),v=p.field?e.current.getColumnIndex(p.field):0,b=i.findIndex(M=>M.id===p.id),w=0,x=i.length-1,S=0,C=Wi(e).length-1;let $=!0;switch(f.key){case"ArrowDown":case"Enter":{b<x&&o(v,a(b+1));break}case"ArrowUp":{b>w?o(v,a(b-1)):s(v,f);break}case"ArrowRight":{v<C&&o(v+1,a(b),"right");break}case"ArrowLeft":{v>S&&o(v-1,a(b));break}case"Tab":{f.shiftKey&&v>S?o(v-1,a(b),"left"):!f.shiftKey&&v<C&&o(v+1,a(b),"right");break}case" ":{if(p.field===Az)break;const I=p.colDef;if(I&&I.type==="treeDataGroup")break;!f.shiftKey&&b<x&&o(v,a(Math.min(b+g,x)));break}case"PageDown":{b<x&&o(v,a(Math.min(b+g,x)));break}case"PageUp":{const M=Math.max(b-g,w);M!==b&&M>=w?o(v,a(M)):s(v,f);break}case"Home":{f.ctrlKey||f.metaKey||f.shiftKey?o(S,a(w)):o(S,a(b));break}case"End":{f.ctrlKey||f.metaKey||f.shiftKey?o(C,a(x)):o(C,a(b));break}default:$=!1}$&&f.preventDefault()},[e,i,o,s,a]),c=_.exports.useCallback((p,f)=>{const y=f.currentTarget.querySelector(`.${re.columnHeaderTitleContainerContent}`);if(!!y&&y.contains(f.target)&&p.field!==fx.field||!e.current.getRootDimensions())return;const b=e.current.unstable_getViewportPageSize(),w=p.field?e.current.getColumnIndex(p.field):0,x=0,S=i.length-1,C=0,$=Wi(e).length-1;let M=!0;switch(f.key){case"ArrowDown":{o(w,a(x));break}case"ArrowRight":{w<$&&s(w+1,f);break}case"ArrowLeft":{w>C&&s(w-1,f);break}case"PageDown":{S!==null&&o(w,a(Math.min(x+b,S)));break}case"Home":{s(C,f);break}case"End":{s($,f);break}case"Enter":{(f.ctrlKey||f.metaKey)&&e.current.toggleColumnMenu(p.field);break}case" ":break;default:M=!1}M&&f.preventDefault()},[e,i,o,s,a]),d=_.exports.useCallback((p,f)=>{if(!f.currentTarget.contains(f.target))return;const y=e.current.getCellParams(p.id,p.field);y.cellMode!==Dt.Edit&&hx(f.key)&&e.current.publishEvent("cellNavigationKeyDown",y,f)},[e]);Le(e,"cellNavigationKeyDown",l),Le(e,"columnHeaderKeyDown",c),Le(e,"cellKeyDown",d)},Sae=e=>e?0:100,ZG=e=>t=>E({},t,{pagination:E({},t.pagination,{pageSize:e})}),pZe=(e,t)=>{var r,n;const i=Vn(e,"useGridPageSize"),o=Je(e,px);e.current.unstable_registerControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:e1,changeEvent:"pageSizeChange"});const a={setPageSize:_.exports.useCallback(p=>{p!==e1(e)&&(i.debug(`Setting page size to ${p}`),e.current.setState(ZG(p)),e.current.forceUpdate())},[e,i])};ur(e,a);const l=_.exports.useCallback((p,f)=>{var y,g;const v=e1(e);return!f.exportOnlyDirtyModels||t.pageSize!=null||((y=t.initialState)==null||(g=y.pagination)==null?void 0:g.pageSize)!=null||v!==Sae(t.autoPageSize)?E({},p,{pagination:E({},p.pagination,{pageSize:v})}):p},[e,t.pageSize,(r=t.initialState)==null||(n=r.pagination)==null?void 0:n.pageSize,t.autoPageSize]),c=_.exports.useCallback((p,f)=>{var y;const g=(y=f.stateToRestore.pagination)==null?void 0:y.pageSize;return g!=null&&e.current.setState(ZG(g)),p},[e]);xi(e,"exportState",l),xi(e,"restoreState",c);const d=_.exports.useCallback(()=>{const p=e.current.getRootDimensions();if(!t.autoPageSize||!p)return;const f=_ae(e),y=Math.floor((p.viewportInnerSize.height-f.top-f.bottom)/o);e.current.setPageSize(y)},[e,t.autoPageSize,o]);Le(e,"viewportInnerSizeChange",d),_.exports.useEffect(()=>{t.pageSize!=null&&!t.autoPageSize&&e.current.setPageSize(t.pageSize)},[e,t.autoPageSize,t.pageSize]),_.exports.useEffect(()=>{d()},[d])},jF=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,BF=e=>e.pageCount?E({},e,{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e,YG=e=>t=>E({},t,{pagination:BF(E({},t.pagination,{page:e}))});Pl(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const hZe=(e,t)=>{var r,n;const i=Vn(e,"useGridPage"),o=Je(e,zse);e.current.unstable_registerControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:uw,changeEvent:"pageChange"});const a={setPage:_.exports.useCallback(f=>{i.debug(`Setting page to ${f}`),e.current.setState(YG(f)),e.current.forceUpdate()},[e,i])};ur(e,a);const l=_.exports.useCallback((f,y)=>{var g,v;const b=uw(e);return!y.exportOnlyDirtyModels||t.page!=null||((g=t.initialState)==null||(v=g.pagination)==null?void 0:v.page)!=null||b!==0?E({},f,{pagination:E({},f.pagination,{page:b})}):f},[e,t.page,(r=t.initialState)==null||(n=r.pagination)==null?void 0:n.page]),c=_.exports.useCallback((f,y)=>{var g,v;const b=(g=(v=y.stateToRestore.pagination)==null?void 0:v.page)!=null?g:uw(e);return e.current.setState(YG(b)),f},[e]);xi(e,"exportState",l),xi(e,"restoreState",c);const d=f=>{e.current.setState(y=>{const g=jF(y.pagination.rowCount,f);return E({},y,{pagination:BF(E({},y.pagination,{pageCount:g,page:y.pagination.page}))})}),e.current.forceUpdate()},p=()=>e.current.scrollToIndexes({rowIndex:uw(e)*e1(e)});Le(e,"pageSizeChange",d),Le(e,"pageChange",p),_.exports.useEffect(()=>{},[t.rowCount,t.paginationMode]),_.exports.useEffect(()=>{e.current.setState(f=>{const y=t.rowCount!==void 0?t.rowCount:o,g=jF(y,f.pagination.pageSize),v=t.page==null?f.pagination.page:t.page;return E({},f,{pagination:BF(E({},f.pagination,{page:v,rowCount:y,pageCount:g}))})}),e.current.forceUpdate()},[o,t.rowCount,t.page,t.paginationMode,e])},fZe=(e,t)=>{var r,n,i,o,s,a,l,c;let d;return t.pageSize!=null?d=t.pageSize:((r=t.initialState)==null||(n=r.pagination)==null?void 0:n.pageSize)!=null?d=t.initialState.pagination.pageSize:d=Sae(t.autoPageSize),E({},e,{pagination:{pageSize:d,page:(i=(o=t.page)!=null?o:(s=t.initialState)==null||(a=s.pagination)==null?void 0:a.page)!=null?i:0,pageCount:jF((l=t.rowCount)!=null?l:0,d),rowCount:(c=t.rowCount)!=null?c:0}})},mZe=(e,t)=>{pZe(e,t),hZe(e,t)},yZe=(e,t)=>{var r,n;return E({},e,{preferencePanel:(r=(n=t.initialState)==null?void 0:n.preferencePanel)!=null?r:{open:!1}})},gZe=(e,t)=>{var r;const n=Vn(e,"useGridPreferencesPanel"),i=_.exports.useRef(),o=_.exports.useRef(),s=_.exports.useCallback(()=>{n.debug("Hiding Preferences Panel");const f=c_(e.current.state);f.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:f.openedPanelValue}),e.current.setState(y=>E({},y,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,n]),a=_.exports.useCallback(()=>{o.current=setTimeout(()=>clearTimeout(i.current),0)},[]),l=_.exports.useCallback(()=>{i.current=setTimeout(s,100)},[s]),c=_.exports.useCallback(f=>{n.debug("Opening Preferences Panel"),a(),e.current.setState(y=>E({},y,{preferencePanel:E({},y.preferencePanel,{open:!0,openedPanelValue:f})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:f}),e.current.forceUpdate()},[n,a,e]);ur(e,{showPreferences:c,hidePreferences:l});const d=_.exports.useCallback((f,y)=>{var g;const v=c_(e.current.state);return!y.exportOnlyDirtyModels||((g=t.initialState)==null?void 0:g.preferencePanel)!=null||v.open?E({},f,{preferencePanel:v}):f},[e,(r=t.initialState)==null?void 0:r.preferencePanel]),p=_.exports.useCallback((f,y)=>{const g=y.stateToRestore.preferencePanel;return g!=null&&e.current.setState(v=>E({},v,{preferencePanel:g})),f},[e]);xi(e,"exportState",d),xi(e,"restoreState",p),_.exports.useEffect(()=>()=>{clearTimeout(i.current),clearTimeout(o.current)},[])},mn=e=>e.editRows;function QG(e){return typeof e.then=="function"}const vZe=(e,t)=>{var r;const n=Vn(e,"useGridEditRows"),i=S=>(...C)=>{t.editMode===ji.Cell&&S(...C)},o=_.exports.useCallback((S,C,$)=>{e.current.getCellMode(S,C)!==$&&(n.debug(`Switching cell id: ${S} field: ${C} to mode: ${$}`),e.current.setState(M=>{const I=E({},M.editRows);return I[S]=E({},I[S]),$===Dt.Edit?I[S][C]={value:e.current.getCellValue(S,C)}:(delete I[S][C],Object.keys(I[S]).length||delete I[S]),E({},M,{editRows:I})}),e.current.forceUpdate(),e.current.publishEvent("cellModeChange",e.current.getCellParams(S,C)))},[e,n]),s=_.exports.useCallback((S,C)=>{const $=mn(e.current.state);return $[S]&&$[S][C]?Dt.Edit:Dt.View},[e]),a=_.exports.useCallback((S,C={})=>{var $;const{id:M,field:I}=S;e.current.unstable_runPendingEditCellValueMutation(M,I);const T=e.current.getEditRowsModel();if(!T[M]||!T[M][I])throw new Error(`MUI: Cell at id: ${M} and field: ${I} is not in edit mode.`);const O=T[M][I],L=e.current.getColumn(I),N=e.current.getRow(M);if(($=t.experimentalFeatures)!=null&&$.preventCommitWhileValidating){const k=T[M][I];if(k.isValidating||k.error)return!1}const H=E({},S,{value:O.value});let F=!!O.error;if(!F&&typeof L.preProcessEditCellProps=="function"){const k=L.preProcessEditCellProps({id:M,row:N,props:O});if(QG(k))return k.then(P=>(e.current.unstable_setEditCellProps({id:M,field:I,props:P}),P.error?!1:(e.current.publishEvent("cellEditCommit",H,C),!0)));e.current.unstable_setEditCellProps({id:M,field:I,props:k}),F=!!k.error}return F?!1:(e.current.publishEvent("cellEditCommit",H,C),!0)},[e,(r=t.experimentalFeatures)==null?void 0:r.preventCommitWhileValidating]),l=_.exports.useCallback(S=>{const C=e.current.getColumn(S.field),$=e.current.getRow(S.id);return new Promise(M=>{let I={value:S.value};const O=e.current.getEditRowsModel()[S.id][S.field];if(typeof C.preProcessEditCellProps!="function"){e.current.unstable_setEditCellProps(E({},S,{props:I})),M(!0);return}I=e.current.unstable_setEditCellProps(E({},S,{props:E({},O,{isValidating:!0})})),Promise.resolve(C.preProcessEditCellProps({id:S.id,row:$,props:E({},I,{value:e.current.unstable_parseValue(S.id,S.field,S.value)})})).then(L=>{e.current.unstable_setEditCellProps(E({},S,{props:E({},L,{isValidating:!1})})),M(!L.error)})})},[e]);ur(e,{setCellMode:o,getCellMode:s,commitCellChange:a,unstable_setCellEditingEditCellValue:l});const d=_.exports.useCallback(async(S,C)=>{if(C.which===229)return;const{id:$,field:M,cellMode:I,isEditable:T}=S;if(!T)return;const O=I===Dt.Edit,L=C.ctrlKey||C.metaKey||C.altKey;if(!O&&jHe(C)&&!L&&!(C.key===" "&&C.shiftKey)&&e.current.publishEvent("cellEditStart",S,C),!O&&FF(C.key)&&(e.current.setEditCellValue({id:$,field:M,value:""}),e.current.commitCellChange({id:$,field:M},C),e.current.publishEvent("cellEditStop",S,C)),O&&AG(C.key)){const N={id:$,field:M};if(!await e.current.commitCellChange(N,C))return}O&&BHe(C.key)&&e.current.publishEvent("cellEditStop",S,C)},[e]),p=_.exports.useCallback((S,C)=>{!S.isEditable||e.current.publishEvent("cellEditStart",S,C)},[e]),f=async(S,C)=>{S.cellMode!==Dt.View&&(await e.current.commitCellChange(S,C),e.current.publishEvent("cellEditStop",S,C))},y=wi((S,C)=>{f(S,C)}),g=wi(()=>{const S=hl(e);if(!S)return;const C=e.current.getCellParams(S.id,S.field);f(C,{})}),v=_.exports.useCallback((S,C)=>{!S.isEditable||(e.current.setCellMode(S.id,S.field,Dt.Edit),NF(C)&&YM(C)&&e.current.unstable_setEditCellProps({id:S.id,field:S.field,props:{value:""}}))},[e]),b=_.exports.useCallback((S,C)=>{if(e.current.setCellMode(S.id,S.field,Dt.View),!!NF(C)){if(AG(C.key)){e.current.publishEvent("cellNavigationKeyDown",S,C);return}(C.key==="Escape"||FF(C.key))&&e.current.setCellFocus(S.id,S.field)}},[e]),w=_.exports.useCallback(S=>{const{id:C,field:$}=S,M=e.current.getEditRowsModel(),{value:I}=M[C][$];n.debug(`Setting cell id: ${C} field: ${$} to value: ${I==null?void 0:I.toString()}`);const T=e.current.getRow(C);if(T){const O=e.current.getColumn(S.field);let L=E({},T,{[$]:I});O.valueSetter&&(L=O.valueSetter({row:T,value:I})),e.current.updateRows([L])}},[e,n]),x=_.exports.useCallback(S=>{const C=e.current.getRow(S.id),$=e.current.getColumn(S.field),M=$.preProcessEditCellProps?$.preProcessEditCellProps({id:S.id,row:C,props:S.props}):S.props;QG(M)?M.then(I=>{e.current.unstable_setEditCellProps(E({},S,{props:I}))}):e.current.unstable_setEditCellProps(E({},S,{props:M}))},[e]);Le(e,"cellKeyDown",i(d)),Le(e,"cellDoubleClick",i(p)),Le(e,"cellFocusOut",i(y)),Le(e,"columnHeaderDragStart",i(g)),Le(e,"cellEditStart",i(v)),Le(e,"cellEditStop",i(b)),Le(e,"cellEditCommit",i(w)),Le(e,"editCellPropsChange",i(x)),Bt(e,"cellEditCommit",t.onCellEditCommit),Bt(e,"cellEditStart",t.onCellEditStart),Bt(e,"cellEditStop",t.onCellEditStop)},bZe=(e,t)=>{var r,n;const i=_.exports.useRef(null),o=_.exports.useRef(null),s=Je(e,ga),a=I=>(...T)=>{t.editMode===ji.Row&&I(...T)},l=_.exports.useCallback((I,T)=>{T!==e.current.getRowMode(I)&&(e.current.setState(O=>{const L=E({},O.editRows);return T===lr.Edit?(L[I]={},s.forEach(N=>{const H=e.current.getCellParams(I,N.field);H.isEditable&&(L[I][N.field]={value:H.value})})):delete L[I],E({},O,{editRows:L})}),e.current.forceUpdate())},[e,s]),c=_.exports.useCallback(I=>t.editMode===ji.Cell?lr.View:mn(e.current.state)[I]?lr.Edit:lr.View,[e,t.editMode]),d=_.exports.useCallback((I,T={})=>{var O;if(t.editMode===ji.Cell)throw new Error("MUI: You can't commit changes when the edit mode is 'cell'.");e.current.unstable_runPendingEditCellValueMutation(I);const N=e.current.getEditRowsModel()[I];if(!N)throw new Error(`MUI: Row at id: ${I} is not being edited.`);if((O=t.experimentalFeatures)!=null&&O.preventCommitWhileValidating&&!Object.keys(N).reduce((P,R)=>P&&!N[R].isValidating&&!N[R].error,!0)||Object.values(N).some(k=>!!k.error))return!1;const F=Object.keys(N).filter(k=>typeof e.current.getColumn(k).preProcessEditCellProps=="function");if(F.length>0){const k=e.current.getRow(I),P=F.map(async R=>{const j=e.current.getColumn(R),A=await Promise.resolve(j.preProcessEditCellProps({id:I,row:k,props:N[R]}));return e.current.unstable_setEditCellProps({id:I,field:R,props:A}),A.error});return Promise.all(P).then(R=>R.some(j=>!!j)?!1:(e.current.publishEvent("rowEditCommit",I,T),!0))}return e.current.publishEvent("rowEditCommit",I,T),!0},[e,t.editMode,(r=t.experimentalFeatures)==null?void 0:r.preventCommitWhileValidating]),p=_.exports.useCallback(I=>{const O=e.current.getEditRowsModel()[I.id],L=e.current.getRow(I.id);let N=!0;return new Promise(H=>{Object.keys(O).forEach(async F=>{const k=e.current.getColumn(F);let P=F===I.field?{value:I.value}:O[F];P=e.current.unstable_setEditCellProps({id:I.id,field:F,props:E({},P,{isValidating:!0})}),k.preProcessEditCellProps&&(P=await Promise.resolve(k.preProcessEditCellProps({id:I.id,row:L,props:E({},P,{value:F===I.field?e.current.unstable_parseValue(I.id,F,I.value):P.value})}))),P.error&&(N=!1),e.current.unstable_setEditCellProps({id:I.id,field:F,props:E({},P,{isValidating:!1})})}),H(N)})},[e]);ur(e,{setRowMode:l,getRowMode:c,commitRowChange:d,unstable_setRowEditingEditCellValue:p});const y=_.exports.useCallback(async(I,T)=>{if(T.which===229)return;const{cellMode:O,isEditable:L}=I;if(!L)return;const N=O===Dt.Edit,H=e.current.getRowParams(I.id);if(N)if(T.key==="Enter"){var F;if(!await e.current.commitRowChange(I.id)&&(F=t.experimentalFeatures)!=null&&F.preventCommitWhileValidating)return;e.current.publishEvent("rowEditStop",H,T)}else T.key==="Escape"&&e.current.publishEvent("rowEditStop",H,T);else T.key==="Enter"&&e.current.publishEvent("rowEditStart",H,T)},[e,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),g=_.exports.useCallback((I,T)=>{if(!I.isEditable)return;const O=e.current.getRowParams(I.id);e.current.publishEvent("rowEditStart",O,T)},[e]),v=_.exports.useCallback(I=>{const T=e.current.getRow(I.id),L=e.current.getEditRowsModel()[I.id];Object.keys(L).forEach(async N=>{const H=e.current.getColumn(N);if(H.preProcessEditCellProps){const F=N===I.field?I.props:L[N],k=await Promise.resolve(H.preProcessEditCellProps({id:I.id,row:T,props:F}));e.current.unstable_setEditCellProps({id:I.id,field:N,props:k})}else N===I.field&&e.current.unstable_setEditCellProps(I)})},[e]),b=_.exports.useCallback(I=>{e.current.setRowMode(I.id,lr.Edit)},[e]),w=_.exports.useCallback((I,T)=>{e.current.setRowMode(I.id,lr.View),T.key==="Enter"&&e.current.publishEvent("cellNavigationKeyDown",I,T)},[e]),x=_.exports.useCallback(I=>{const O=e.current.getEditRowsModel()[I];if(!O)throw new Error(`MUI: Row at id: ${I} is not being edited.`);const L=e.current.getRow(I);if(L){let N=E({},L);Object.keys(O).forEach(H=>{const F=e.current.getColumn(H),k=O[H].value;F.valueSetter?N=F.valueSetter({row:N,value:k}):N[H]=k}),e.current.updateRows([N])}},[e]),S=_.exports.useCallback(I=>{o.current=I},[]),C=async(I,T)=>{I.cellMode!==Dt.View&&(o.current=null,i.current=setTimeout(async()=>{var O;if(((O=o.current)==null?void 0:O.id)!==I.id){await e.current.commitRowChange(I.id,T);const L=e.current.getRowParams(I.id);e.current.publishEvent("rowEditStop",L,T)}}))},$=wi((I,T)=>{C(I,T)}),M=wi(()=>{const I=hl(e);if(!I)return;const T=e.current.getCellParams(I.id,I.field);C(T,{})});Le(e,"cellKeyDown",a(y)),Le(e,"cellDoubleClick",a(g)),Le(e,"editCellPropsChange",a(v)),Le(e,"rowEditStart",a(b)),Le(e,"rowEditStop",a(w)),Le(e,"rowEditCommit",a(x)),Le(e,"cellFocusIn",a(S)),Le(e,"cellFocusOut",a($)),Le(e,"columnHeaderDragStart",a(M)),Bt(e,"rowEditCommit",t.onRowEditCommit),Bt(e,"rowEditStart",t.onRowEditStart),Bt(e,"rowEditStop",t.onRowEditStop)},wZe=e=>E({},e,{editRows:{}});function _Ze(e,t){var r;const n=Vn(e,"useGridEditRows");vZe(e,t),bZe(e,t);const i=_.exports.useRef({});e.current.unstable_registerControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:mn,changeEvent:"editRowsModelChange"});const o=_.exports.useCallback(v=>!v.rowNode.isAutoGenerated&&!v.rowNode.isPinned&&!!v.colDef.editable&&!!v.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(v)),[t.isCellEditable]),s=(v,b,w,x)=>{if(!w){x();return}if(i.current[v]||(i.current[v]={}),i.current[v][b]){const[$]=i.current[v][b];clearTimeout($)}const S=()=>{x();const[$]=i.current[v][b];clearTimeout($),delete i.current[v][b]},C=setTimeout(()=>{x(),delete i.current[v][b]},w);i.current[v][b]=[C,S]},a=_.exports.useCallback((v,b)=>{if(!!i.current[v]){if(!b)Object.keys(i.current[v]).forEach(w=>{const[,x]=i.current[v][w];x()});else if(i.current[v][b]){const[,w]=i.current[v][b];w()}}},[]),l=_.exports.useCallback((v,b={})=>{s(v.id,v.field,v.debounceMs,()=>{var w;if((w=t.experimentalFeatures)!=null&&w.preventCommitWhileValidating)return t.editMode==="row"?e.current.unstable_setRowEditingEditCellValue(v):e.current.unstable_setCellEditingEditCellValue(v);const x={id:v.id,field:v.field,props:{value:v.value}};return e.current.publishEvent("editCellPropsChange",x,b)})},[e,t.editMode,(r=t.experimentalFeatures)==null?void 0:r.preventCommitWhileValidating]),c=_.exports.useCallback((v,b,w)=>{const x=e.current.getColumn(b);return x.valueParser?x.valueParser(w,e.current.getCellParams(v,b)):w},[e]),d=_.exports.useCallback(v=>{const{id:b,field:w,props:x}=v;return n.debug(`Setting cell props on id: ${b} field: ${w}`),e.current.setState(C=>{const $=E({},C.editRows);return $[b]=E({},C.editRows[b]),$[b][w]=E({},x,{value:c(b,w,x.value)}),E({},C,{editRows:$})}),e.current.forceUpdate(),mn(e.current.state)[b][w]},[e,n,c]),p=_.exports.useCallback(v=>{mn(e.current.state)!==v&&(n.debug("Setting editRows model"),e.current.setState(w=>E({},w,{editRows:v})),e.current.forceUpdate())},[e,n]),f=_.exports.useCallback(()=>mn(e.current.state),[e]),y=_.exports.useCallback((v,b)=>{const w=b.detail>1;v.isEditable&&v.cellMode===Dt.View&&w&&b.preventDefault()},[]);Le(e,"cellMouseDown",y),Bt(e,"editCellPropsChange",t.onEditCellPropsChange),ur(e,{isCellEditable:o,setEditRowsModel:p,getEditRowsModel:f,setEditCellValue:l,unstable_setEditCellProps:d,unstable_parseValue:c,unstable_runPendingEditCellValueMutation:a}),_.exports.useEffect(()=>{t.editRowsModel!==void 0&&e.current.setEditRowsModel(t.editRowsModel)},[e,t.editRowsModel])}const xZe=["id","field"],SZe=["id","field"],CZe=Pl(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),$Ze=(e,t)=>{const[r,n]=_.exports.useState({}),i=_.exports.useRef(r),o=_.exports.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:a,cellModesModel:l,onCellModesModelChange:c,signature:d}=t,p=k=>(...P)=>{t.editMode===ji.Cell&&k(...P)},f=_.exports.useCallback((k,P)=>{const R=e.current.getCellParams(k,P);if(!e.current.isCellEditable(R))throw new Error(`MUI: The cell with id=${k} and field=${P} is not editable.`)},[e]),y=_.exports.useCallback((k,P,R)=>{if(e.current.getCellMode(k,P)!==R)throw new Error(`MUI: The cell with id=${k} and field=${P} is not in ${R} mode.`)},[e]),g=_.exports.useCallback((k,P)=>{if(!k.isEditable||k.cellMode===Dt.Edit)return;const R=E({},k,{reason:vu.cellDoubleClick});e.current.publishEvent("cellEditStart",R,P)},[e]),v=_.exports.useCallback((k,P)=>{if(k.cellMode===Dt.View||e.current.getCellMode(k.id,k.field)===Dt.View)return;const R=E({},k,{reason:ic.cellFocusOut});e.current.publishEvent("cellEditStop",R,P)},[e]),b=_.exports.useCallback((k,P)=>{if(k.cellMode===Dt.Edit){if(P.which===229)return;let R;if(P.key==="Escape"?R=ic.escapeKeyDown:P.key==="Enter"?R=ic.enterKeyDown:P.key==="Tab"&&(R=P.shiftKey?ic.shiftTabKeyDown:ic.tabKeyDown,P.preventDefault()),R){const j=E({},k,{reason:R});e.current.publishEvent("cellEditStop",j,P)}}else if(k.isEditable){let R;if(YM(P)||(P.ctrlKey||P.metaKey)&&P.key==="v"?R=vu.printableKeyDown:P.key==="Enter"?R=vu.enterKeyDown:(P.key==="Delete"||P.key==="Backspace")&&(R=vu.deleteKeyDown),R){const j=E({},k,{reason:R});e.current.publishEvent("cellEditStart",j,P)}}},[e]),w=_.exports.useCallback(k=>{const{id:P,field:R,reason:j}=k,A={id:P,field:R};(j===vu.deleteKeyDown||j===vu.printableKeyDown)&&(A.deleteValue=!0),e.current.startCellEditMode(A)},[e]),x=_.exports.useCallback(k=>{const{id:P,field:R,reason:j}=k;e.current.unstable_runPendingEditCellValueMutation(P,R);let A;j===ic.enterKeyDown?A="below":j===ic.tabKeyDown?A="right":j===ic.shiftTabKeyDown&&(A="left");let U=j==="escapeKeyDown";mn(e.current.state)[P][R].isProcessingProps&&!t.disableIgnoreModificationsIfProcessingProps&&(U=!0),e.current.stopCellEditMode({id:P,field:R,ignoreModifications:U,cellToFocusAfter:A})},[e,t.disableIgnoreModificationsIfProcessingProps]);Le(e,"cellDoubleClick",p(g)),Le(e,"cellFocusOut",p(v)),Le(e,"cellKeyDown",p(b)),Le(e,"cellEditStart",p(w)),Le(e,"cellEditStop",p(x)),Bt(e,"cellEditStart",t.onCellEditStart),Bt(e,"cellEditStop",t.onCellEditStop);const S=_.exports.useCallback((k,P)=>{const R=mn(e.current.state);return R[k]&&R[k][P]?Dt.Edit:Dt.View},[e]),C=_.exports.useCallback(k=>{const P=k!==t.cellModesModel;if(c&&P){const R=d===vm.DataGridPro?{api:e.current}:{};c(k,R)}t.cellModesModel&&P||(n(k),i.current=k,e.current.publishEvent("cellModesModelChange",k))},[e,c,t.cellModesModel,d]),$=_.exports.useCallback((k,P,R)=>{const j=E({},i.current);if(R!==null)j[k]=E({},j[k],{[P]:E({},R)});else{const A=j[k],U=de(A,[P].map(h_));j[k]=U,Object.keys(j[k]).length===0&&delete j[k]}C(j)},[C]),M=_.exports.useCallback((k,P,R)=>{e.current.setState(j=>{const A=E({},j.editRows);return R!==null?A[k]=E({},A[k],{[P]:E({},R)}):(delete A[k][P],Object.keys(A[k]).length===0&&delete A[k]),E({},j,{editRows:A})}),e.current.forceUpdate()},[e]),I=_.exports.useCallback(k=>{const{id:P,field:R}=k,j=de(k,xZe);f(P,R),y(P,R,Dt.View),$(P,R,E({mode:Dt.Edit},j))},[f,y,$]),T=_.exports.useCallback(k=>{const{id:P,field:R,deleteValue:j}=k,A={value:j?"":e.current.getCellValue(P,R),error:!1,isProcessingProps:!1};M(P,R,A),e.current.setCellFocus(P,R)},[e,M]),O=_.exports.useCallback(k=>{const{id:P,field:R}=k,j=de(k,SZe);y(P,R,Dt.Edit),$(P,R,E({mode:Dt.View},j))},[y,$]),L=_.exports.useCallback(async k=>{const{id:P,field:R,ignoreModifications:j,cellToFocusAfter:A="none"}=k;y(P,R,Dt.Edit),e.current.unstable_runPendingEditCellValueMutation(P,R);const U=()=>{M(P,R,null),$(P,R,null),A!=="none"&&e.current.unstable_moveFocusToRelativeCell(P,R,A)};if(j){U();return}const q=mn(e.current.state),{error:J,isProcessingProps:Q}=q[P][R];if(J||Q){o.current[P][R].mode=Dt.Edit;return}const se=e.current.unstable_getRowWithUpdatedValuesFromCellEditing(P,R);if(s){const ce=le=>{o.current[P][R].mode=Dt.Edit,a?a(le):CZe()};try{const le=e.current.getRow(P);Promise.resolve(s(se,le)).then(Ie=>{e.current.updateRows([Ie]),U()}).catch(ce)}catch(le){ce(le)}}else e.current.updateRows([se]),U()},[e,a,s,y,$,M]),N=_.exports.useCallback(async k=>{var P,R;const{id:j,field:A,value:U}=k;f(j,A),y(j,A,Dt.Edit);const q=e.current.getColumn(A),J=e.current.getRow(j);let Q=U;q.valueParser&&(Q=q.valueParser(U,e.current.getCellParams(j,A)));let se=mn(e.current.state),ce=E({},se[j][A],{value:Q});if(q.preProcessEditCellProps){const le=U!==se[j][A].value;ce=E({},ce,{isProcessingProps:!0}),M(j,A,ce),ce=await Promise.resolve(q.preProcessEditCellProps({id:j,row:J,props:ce,hasChanged:le}))}return e.current.getCellMode(j,A)===Dt.View?!1:(se=mn(e.current.state),ce=E({},ce,{isProcessingProps:!1}),ce.value=q.preProcessEditCellProps?se[j][A].value:Q,M(j,A,ce),se=mn(e.current.state),!((P=se[j])!=null&&(R=P[A])!=null&&R.error))},[e,f,y,M]),H=_.exports.useCallback((k,P)=>{const R=e.current.getColumn(P),j=mn(e.current.state),{value:A}=j[k][P],U=e.current.getRow(k);return R.valueSetter?R.valueSetter({value:A,row:U}):E({},U,{[P]:A})},[e]);ur(e,{getCellMode:S,startCellEditMode:I,stopCellEditMode:O,unstable_setCellEditingEditCellValue:N,unstable_getRowWithUpdatedValuesFromCellEditing:H}),_.exports.useEffect(()=>{l&&C(l)},[l,C]),_.exports.useEffect(()=>{const k=Ase(e),P=o.current;o.current=r,Object.entries(r).forEach(([R,j])=>{Object.entries(j).forEach(([A,U])=>{var q,J,Q;const se=((q=P[R])==null||(J=q[A])==null?void 0:J.mode)||Dt.View,ce=(Q=k[R])!=null?Q:R;U.mode===Dt.Edit&&se===Dt.View?T(E({id:ce,field:A},U)):U.mode===Dt.View&&se===Dt.Edit&&L(E({id:ce,field:A},U))})})},[e,r,T,L])},EZe=["id"],IZe=["id"],MZe=Pl(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),TZe=(e,t)=>{const[r,n]=_.exports.useState({}),i=_.exports.useRef(r),o=_.exports.useRef({}),s=_.exports.useRef(null),a=_.exports.useRef(null),{processRowUpdate:l,onProcessRowUpdateError:c,rowModesModel:d,onRowModesModelChange:p,signature:f}=t,y=A=>(...U)=>{t.editMode===ji.Row&&A(...U)},g=_.exports.useCallback((A,U)=>{const q=e.current.getCellParams(A,U);if(!e.current.isCellEditable(q))throw new Error(`MUI: The cell with id=${A} and field=${U} is not editable.`)},[e]),v=_.exports.useCallback((A,U)=>{if(e.current.getRowMode(A)!==U)throw new Error(`MUI: The row with id=${A} is not in ${U} mode.`)},[e]),b=_.exports.useCallback((A,U)=>{if(!A.isEditable||e.current.getRowMode(A.id)===lr.Edit)return;const q=e.current.getRowParams(A.id),J=E({},q,{field:A.field,reason:bu.cellDoubleClick});e.current.publishEvent("rowEditStart",J,U)},[e]),w=_.exports.useCallback(A=>{a.current=A},[]),x=_.exports.useCallback((A,U)=>{!A.isEditable||e.current.getRowMode(A.id)!==lr.View&&(a.current=null,s.current=setTimeout(()=>{var q;if(s.current=null,((q=a.current)==null?void 0:q.id)!==A.id){if(!e.current.getRow(A.id)||e.current.getRowMode(A.id)===lr.View)return;const J=e.current.getRowParams(A.id),Q=E({},J,{field:A.field,reason:oc.rowFocusOut});e.current.publishEvent("rowEditStop",Q,U)}}))},[e]);_.exports.useEffect(()=>()=>{clearTimeout(s.current)},[]);const S=_.exports.useCallback((A,U)=>{if(A.cellMode===lr.Edit){if(U.which===229)return;let q;if(U.key==="Escape")q=oc.escapeKeyDown;else if(U.key==="Enter")q=oc.enterKeyDown;else if(U.key==="Tab"){const J=ym(e).filter(Q=>e.current.isCellEditable(e.current.getCellParams(A.id,Q)));U.shiftKey?A.field===J[0]&&(q=oc.shiftTabKeyDown):A.field===J[J.length-1]&&(q=oc.tabKeyDown),q&&U.preventDefault()}if(q){const J=e.current.getRowParams(A.id),Q=E({},J,{reason:q,field:A.field});e.current.publishEvent("rowEditStop",Q,U)}}else if(A.isEditable){let q;if(YM(U)||(U.ctrlKey||U.metaKey)&&U.key==="v"?q=bu.printableKeyDown:U.key==="Enter"?q=bu.enterKeyDown:(U.key==="Delete"||U.key==="Backspace")&&(q=bu.deleteKeyDown),q){const J=e.current.getRowParams(A.id),Q=E({},J,{field:A.field,reason:q});e.current.publishEvent("rowEditStart",Q,U)}}},[e]),C=_.exports.useCallback(A=>{const{id:U,field:q,reason:J}=A,Q={id:U,fieldToFocus:q};(J===bu.deleteKeyDown||J===bu.printableKeyDown)&&(Q.deleteValue=!!q),e.current.startRowEditMode(Q)},[e]),$=_.exports.useCallback(A=>{const{id:U,reason:q,field:J}=A;e.current.unstable_runPendingEditCellValueMutation(U);let Q;q===oc.enterKeyDown?Q="below":q===oc.tabKeyDown?Q="right":q===oc.shiftTabKeyDown&&(Q="left");let se=q==="escapeKeyDown";const ce=mn(e.current.state);!se&&!t.disableIgnoreModificationsIfProcessingProps&&(se=Object.values(ce[U]).some(le=>le.isProcessingProps)),e.current.stopRowEditMode({id:U,ignoreModifications:se,field:J,cellToFocusAfter:Q})},[e,t.disableIgnoreModificationsIfProcessingProps]);Le(e,"cellDoubleClick",y(b)),Le(e,"cellFocusIn",y(w)),Le(e,"cellFocusOut",y(x)),Le(e,"cellKeyDown",y(S)),Le(e,"rowEditStart",y(C)),Le(e,"rowEditStop",y($)),Bt(e,"rowEditStart",t.onRowEditStart),Bt(e,"rowEditStop",t.onRowEditStop);const M=_.exports.useCallback(A=>{if(t.editMode===ji.Cell)return lr.View;const U=mn(e.current.state);return U[A]&&Object.keys(U[A]).length>0?lr.Edit:lr.View},[e,t.editMode]),I=_.exports.useCallback(A=>{const U=A!==t.rowModesModel;if(p&&U){const q=f===vm.DataGridPro?{api:e.current}:{};p(A,q)}t.rowModesModel&&U||(n(A),i.current=A,e.current.publishEvent("rowModesModelChange",A))},[e,p,t.rowModesModel,f]),T=_.exports.useCallback((A,U)=>{const q=E({},i.current);U!==null?q[A]=E({},U):delete q[A],I(q)},[I]),O=_.exports.useCallback((A,U)=>{e.current.setState(q=>{const J=E({},q.editRows);return U!==null?J[A]=U:delete J[A],E({},q,{editRows:J})}),e.current.forceUpdate()},[e]),L=_.exports.useCallback((A,U,q)=>{e.current.setState(J=>{const Q=E({},J.editRows);return q!==null?Q[A]=E({},Q[A],{[U]:E({},q)}):(delete Q[A][U],Object.keys(Q[A]).length===0&&delete Q[A]),E({},J,{editRows:Q})}),e.current.forceUpdate()},[e]),N=_.exports.useCallback(A=>{const{id:U}=A,q=de(A,EZe);v(U,lr.View),T(U,E({mode:lr.Edit},q))},[v,T]),H=_.exports.useCallback(A=>{const{id:U,fieldToFocus:q,deleteValue:J}=A,se=ym(e).reduce((ce,le)=>{if(!e.current.getCellParams(U,le).isEditable)return ce;const Ue=J&&q===le;return ce[le]={value:Ue?"":e.current.getCellValue(U,le),error:!1,isProcessingProps:!1},ce},{});O(U,se),q&&e.current.setCellFocus(U,q)},[e,O]),F=_.exports.useCallback(A=>{const{id:U}=A,q=de(A,IZe);v(U,lr.Edit),T(U,E({mode:lr.View},q))},[v,T]),k=_.exports.useCallback(A=>{const{id:U,ignoreModifications:q,field:J,cellToFocusAfter:Q="none"}=A;e.current.unstable_runPendingEditCellValueMutation(U);const se=()=>{Q!=="none"&&J&&e.current.unstable_moveFocusToRelativeCell(U,J,Q),O(U,null),T(U,null)};if(q){se();return}const ce=mn(e.current.state),le=e.current.getRow(U);if(Object.values(ce[U]).some(ye=>ye.isProcessingProps)){o.current[U].mode=lr.Edit;return}if(Object.values(ce[U]).some(ye=>ye.error)){o.current[U].mode=lr.Edit;return}const pe=e.current.unstable_getRowWithUpdatedValuesFromRowEditing(U);if(l){const ye=he=>{o.current[U].mode=lr.Edit,c?c(he):MZe()};try{Promise.resolve(l(pe,le)).then(he=>{e.current.updateRows([he]),se()}).catch(ye)}catch(he){ye(he)}}else e.current.updateRows([pe]),se()},[e,c,l,O,T]),P=_.exports.useCallback(A=>{const{id:U,field:q,value:J}=A;g(U,q);const Q=e.current.getColumn(q),se=e.current.getRow(U);let ce=J;Q.valueParser&&(ce=Q.valueParser(J,e.current.getCellParams(U,q)));let le=mn(e.current.state),Ie=E({},le[U][q],{value:ce});return Q.preProcessEditCellProps||L(U,q,Ie),new Promise(Ue=>{const pe=[];if(Q.preProcessEditCellProps){const ye=Ie.value!==le[U][q].value;Ie=E({},Ie,{isProcessingProps:!0}),L(U,q,Ie);const he=le[U],Me=de(he,[q].map(h_)),Ge=Promise.resolve(Q.preProcessEditCellProps({id:U,row:se,props:Ie,hasChanged:ye,otherFieldsProps:Me})).then(Ee=>{if(e.current.getRowMode(U)===lr.View){Ue(!1);return}le=mn(e.current.state),Ee=E({},Ee,{isProcessingProps:!1}),Ee.value=Q.preProcessEditCellProps?le[U][q].value:ce,L(U,q,Ee)});pe.push(Ge)}Object.entries(le[U]).forEach(([ye,he])=>{if(ye===q)return;const Me=e.current.getColumn(ye);if(!Me.preProcessEditCellProps)return;he=E({},he,{isProcessingProps:!0}),L(U,ye,he),le=mn(e.current.state);const Ge=le[U],Ee=de(Ge,[ye].map(h_)),tt=Promise.resolve(Me.preProcessEditCellProps({id:U,row:se,props:he,hasChanged:!1,otherFieldsProps:Ee})).then(Ye=>{if(e.current.getRowMode(U)===lr.View){Ue(!1);return}Ye=E({},Ye,{isProcessingProps:!1}),L(U,ye,Ye)});pe.push(tt)}),Promise.all(pe).then(()=>{e.current.getRowMode(U)===lr.Edit?(le=mn(e.current.state),Ue(!le[U][q].error)):Ue(!1)})})},[e,g,L]),R=_.exports.useCallback(A=>{const U=mn(e.current.state),q=e.current.getRow(A);let J=E({},q);return Object.entries(U[A]).forEach(([Q,se])=>{const ce=e.current.getColumn(Q);ce.valueSetter?J=ce.valueSetter({value:se.value,row:J}):J[Q]=se.value}),J},[e]);ur(e,{getRowMode:M,startRowEditMode:N,stopRowEditMode:F,unstable_setRowEditingEditCellValue:P,unstable_getRowWithUpdatedValuesFromRowEditing:R}),_.exports.useEffect(()=>{d&&I(d)},[d,I]),_.exports.useEffect(()=>{const A=Ase(e),U=o.current;o.current=r,Object.entries(r).forEach(([q,J])=>{var Q,se;const ce=((Q=U[q])==null?void 0:Q.mode)||lr.View,le=(se=A[q])!=null?se:q;J.mode===lr.Edit&&ce===lr.View?H(E({id:le},J)):J.mode===lr.View&&ce===lr.Edit&&k(E({id:le},J))})},[e,r,H,k])},kZe=e=>E({},e,{editRows:{}}),PZe=(e,t)=>{$Ze(e,t),TZe(e,t);const r=_.exports.useRef({}),{isCellEditable:n}=t,i=_.exports.useCallback(d=>d.rowNode.isAutoGenerated||!d.colDef.editable||!d.colDef.renderEditCell?!1:n?n(d):!d.rowNode.isPinned,[n]),o=(d,p,f,y)=>{if(!f){y();return}if(r.current[d]||(r.current[d]={}),r.current[d][p]){const[b]=r.current[d][p];clearTimeout(b)}const g=()=>{const[b]=r.current[d][p];clearTimeout(b),y(),delete r.current[d][p]},v=setTimeout(()=>{y(),delete r.current[d][p]},f);r.current[d][p]=[v,g]};_.exports.useEffect(()=>{const d=r.current;return()=>{Object.entries(d).forEach(([p,f])=>{Object.keys(f).forEach(y=>{const[g]=d[p][y];clearTimeout(g),delete d[p][y]})})}},[]);const s=_.exports.useCallback((d,p)=>{if(!!r.current[d]){if(!p)Object.keys(r.current[d]).forEach(f=>{const[,y]=r.current[d][f];y()});else if(r.current[d][p]){const[,f]=r.current[d][p];f()}}},[]),a=_.exports.useCallback(d=>{const{id:p,field:f,debounceMs:y}=d;return new Promise(g=>{o(p,f,y,async()=>{const v=t.editMode===ji.Row?e.current.unstable_setRowEditingEditCellValue:e.current.unstable_setCellEditingEditCellValue;if(e.current.getCellMode(p,f)===Dt.Edit){const b=await v(d);g(b)}})})},[e,t.editMode]),l=_.exports.useCallback((d,p)=>t.editMode===ji.Cell?e.current.unstable_getRowWithUpdatedValuesFromCellEditing(d,p):e.current.unstable_getRowWithUpdatedValuesFromRowEditing(d),[e,t.editMode]);ur(e,{isCellEditable:i,setEditCellValue:a,unstable_runPendingEditCellValueMutation:s,unstable_getRowWithUpdatedValues:l})},OZe=(e,t,r)=>(r.current.unstable_caches.rows=P$({rows:t.rows,getRowId:t.getRowId,loading:t.loading}),E({},e,{rows:bae({apiRef:r,previousTree:null,rowCountProp:t.rowCount,loadingProp:t.loading})})),LZe=(e,t)=>{const r=Vn(e,"useGridRows"),n=Rm(e,t),i=_.exports.useRef(Date.now()),o=_.exports.useRef(null),s=_.exports.useCallback(O=>{var L;return(L=a_(e)[O])!=null?L:null},[e]),a=_.exports.useMemo(()=>n.rows.reduce((O,{id:L},N)=>(O[L]=N,O),{}),[n.rows]),l=_.exports.useCallback((O,L)=>{const N=()=>{o.current=null,i.current=Date.now(),e.current.setState(F=>E({},F,{rows:bae({apiRef:e,previousTree:Kf(e),rowCountProp:t.rowCount,loadingProp:t.loading})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(o.current&&(clearTimeout(o.current),o.current=null),e.current.unstable_caches.rows=O,!L){N();return}const H=t.throttleRowsMs-(Date.now()-i.current);if(H>0){o.current=setTimeout(N,H);return}N()},[t.throttleRowsMs,t.rowCount,t.loading,e]),c=_.exports.useCallback(O=>{r.debug(`Updating all rows, new length ${O.length}`),l(P$({rows:O,getRowId:t.getRowId,loading:t.loading}),!0)},[r,t.getRowId,t.loading,l]),d=_.exports.useCallback(O=>{if(t.signature===vm.DataGrid&&O.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const L=new Map;O.forEach(k=>{const P=vae(k,t.getRowId,"A row was provided without id when calling updateRows():");L.has(P)?L.set(P,E({},L.get(P),k)):L.set(P,k)});const N=[],H=e.current.unstable_caches.rows,F={rowsBeforePartialUpdates:H.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:H.loadingPropBeforePartialUpdates,idRowsLookup:E({},H.idRowsLookup),idToIdLookup:E({},H.idToIdLookup),ids:[...H.ids]};L.forEach((k,P)=>{if(k._action==="delete"){delete F.idRowsLookup[P],delete F.idToIdLookup[P],N.push(P);return}if(!e.current.getRow(P)){F.idRowsLookup[P]=k,F.idToIdLookup[P]=P,F.ids.push(P);return}F.idRowsLookup[P]=E({},e.current.getRow(P),k)}),N.length>0&&(F.ids=F.ids.filter(k=>!N.includes(k))),l(F,!0)},[t.signature,t.getRowId,l,e]),p=_.exports.useCallback(()=>{const O=Gg(e),L=a_(e);return new Map(O.map(N=>[N,L[N]]))},[e]),f=_.exports.useCallback(()=>KM(e),[e]),y=_.exports.useCallback(()=>Gg(e),[e]),g=_.exports.useCallback(O=>a[O],[a]),v=_.exports.useCallback((O,L)=>{const N=e.current.getRowNode(O);if(!N)throw new Error(`MUI: No row with id #${O} found`);const H=E({},N,{childrenExpanded:L});e.current.setState(F=>E({},F,{rows:E({},F.rows,{tree:E({},F.rows.tree,{[O]:H})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",H)},[e]),b=_.exports.useCallback(O=>{var L;return(L=Kf(e)[O])!=null?L:null},[e]),w=_.exports.useCallback(({skipAutoGeneratedRows:O=!0,groupId:L,applySorting:N,applyFiltering:H})=>{const F=Kf(e);let k;if(N){const P=F[L];if(!P)return[];const R=Iz(e);k=[];const j=R.findIndex(A=>A===L)+1;for(let A=j;A<R.length&&F[R[A]].depth>P.depth;A+=1){const U=R[A],q=F[U];(!O||!q.isAutoGenerated)&&k.push(U)}}else k=wae(F,L,O);if(H){const P=Fse(e);k=k.filter(R=>P[R]!==!1)}return k},[e]),x=_.exports.useCallback((O,L)=>{const N=Gg(e),H=N.findIndex(k=>k===O);if(H===-1||H===L)return;r.debug(`Moving row ${O} to index ${L}`);const F=[...N];F.splice(L,0,F.splice(H,1)[0]),e.current.setState(k=>E({},k,{rows:E({},k.rows,{ids:F})})),e.current.applySorting()},[e,r]),S={getRow:s,getRowModels:p,getRowsCount:f,getAllRowIds:y,setRows:c,setRowIndex:x,updateRows:d,setRowChildrenExpansion:v,getRowNode:b,getRowIndexRelativeToVisibleRows:g,getRowGroupChildren:w},C=_.exports.useCallback(()=>{r.info("Row grouping pre-processing have changed, regenerating the row tree");let O;e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows?O=e.current.unstable_caches.rows:O=P$({rows:t.rows,getRowId:t.getRowId,loading:t.loading}),l(O,!1)},[r,e,t.rows,t.getRowId,t.loading,l]),$=_.exports.useCallback(O=>{O==="rowTreeCreation"&&C()},[C]),M=_.exports.useCallback(()=>{e.current.unstable_getActiveStrategy("rowTree")!==kGe(e)&&C()},[e,C]);Le(e,"activeStrategyProcessorChange",$),Le(e,"strategyAvailabilityChange",M);const I=_.exports.useCallback(()=>{e.current.setState(O=>E({},O,{rows:E({},O.rows,e.current.unstable_applyPipeProcessors("hydrateRows",O.rows.groupingResponseBeforeRowHydration))})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e]);Fz(e,"hydrateRows",I),ur(e,S),_.exports.useEffect(()=>()=>{o.current!==null&&clearTimeout(o.current)},[]);const T=_.exports.useRef(!0);_.exports.useEffect(()=>{if(T.current){T.current=!1;return}const O=e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows,L=e.current.unstable_caches.rows.loadingPropBeforePartialUpdates===t.loading;if(O){L||(e.current.setState(N=>E({},N,{rows:E({},N.rows,{loading:t.loading})})),e.current.unstable_caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate());return}r.debug(`Updating all rows, new length ${t.rows.length}`),l(P$({rows:t.rows,getRowId:t.getRowId,loading:t.loading}),!1)},[t.rows,t.rowCount,t.getRowId,t.loading,r,l,e])},RZe=({ids:e,idRowsLookup:t,idToIdLookup:r,previousTree:n})=>{const i={};for(let o=0;o<e.length;o+=1){const s=e[o];n&&n[s]&&n[s].depth===0&&n[s].parent==null&&!n[s].isPinned?i[s]=n[s]:i[s]={id:s,depth:0,parent:null,groupingKey:"",groupingField:null}}return{groupingName:yx,tree:i,treeDepth:1,idRowsLookup:t,idToIdLookup:r,ids:e}},AZe=e=>{Nz(e,yx,"rowTreeCreation",RZe)};Pl(["MUI: You are calling getValue. This method is deprecated and will be removed in the next major version.","Instead, you can access the data from `params.row`."]);function FZe(e){const t=_.exports.useCallback(p=>({field:p,colDef:e.current.getColumn(p)}),[e]),r=_.exports.useCallback((...p)=>e.current.getCellValue(...p),[e]),n=_.exports.useCallback(p=>{const f=e.current.getRow(p);if(!f)throw new Error(`No row with id #${p} found`);return{id:p,columns:e.current.getAllColumns(),row:f,getValue:r}},[e,r]),i=_.exports.useCallback((p,f)=>{const y=e.current.getRow(p),g=e.current.getRowNode(p);if(!y||!g)throw new Error(`No row with id #${p} found`);const v=hl(e),b=FE(e);return{id:p,field:f,row:y,rowNode:g,value:y[f],colDef:e.current.getColumn(f),cellMode:e.current.getCellMode(p,f),getValue:r,api:e.current,hasFocus:v!==null&&v.field===f&&v.id===p,tabIndex:b&&b.field===f&&b.id===p?0:-1}},[e,r]),o=_.exports.useCallback((p,f)=>{const y=e.current.getColumn(f),g=e.current.getCellValue(p,f),v=e.current.getRow(p),b=e.current.getRowNode(p);if(!v||!b)throw new Error(`No row with id #${p} found`);const w=hl(e),x=FE(e),S={id:p,field:f,row:v,rowNode:b,colDef:y,cellMode:e.current.getCellMode(p,f),getValue:r,hasFocus:w!==null&&w.field===f&&w.id===p,tabIndex:x&&x.field===f&&x.id===p?0:-1,value:g,formattedValue:g};return y.valueFormatter&&(S.formattedValue=y.valueFormatter({id:p,field:S.field,value:S.value,api:e.current})),S.isEditable=y&&e.current.isCellEditable(S),S},[e,r]),s=_.exports.useCallback((p,f)=>{const y=e.current.getColumn(f);if(!y||!y.valueGetter){const g=e.current.getRow(p);if(!g)throw new Error(`No row with id #${p} found`);return g[f]}return y.valueGetter(i(p,f))},[e,i]),a=_.exports.useCallback(p=>e.current.rootElementRef.current?Iqe(e.current.rootElementRef.current,p):null,[e]),l=_.exports.useCallback(p=>e.current.rootElementRef.current?Xse(e.current.rootElementRef.current,p):null,[e]),c=_.exports.useCallback((p,f)=>e.current.rootElementRef.current?Mqe(e.current.rootElementRef.current,{id:p,field:f}):null,[e]);ur(e,{getCellValue:s,getCellParams:o,getCellElement:c,getRowParams:n,getRowElement:l,getColumnHeaderParams:t,getColumnHeaderElement:a})}const Cae=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],NZe=(e,t)=>{var r;return E({},e,{selection:(r=Cae(t.selectionModel))!=null?r:[]})},DZe=(e,t)=>{const r=Vn(e,"useGridSelection"),n=_.exports.useMemo(()=>Cae(t.selectionModel,ra(e.current.state)),[e,t.selectionModel]),i=_.exports.useRef(null);e.current.unstable_registerControlState({stateId:"selection",propModel:n,propOnChange:t.onSelectionModelChange,stateSelector:ra,changeEvent:"selectionChange"});const{checkboxSelection:o,disableMultipleSelection:s,disableSelectionOnClick:a,pagination:l,paginationMode:c,isRowSelectable:d}=t,p=!s||o,f=Rm(e,t),y=_.exports.useCallback(k=>{var P;let R=k;const j=(P=i.current)!=null?P:k,A=e.current.isRowSelected(k);if(A){const U=Xw(e),q=U.findIndex(Q=>Q===j),J=U.findIndex(Q=>Q===R);if(q===J)return;q>J?R=U[J+1]:R=U[J-1]}i.current=k,e.current.selectRowRange({startId:j,endId:R},!A)},[e]),g=_.exports.useCallback(k=>{ra(e.current.state)!==k&&(r.debug("Setting selection model"),e.current.setState(R=>E({},R,{selection:k})),e.current.forceUpdate())},[e,r]),v=_.exports.useCallback(k=>ra(e.current.state).includes(k),[e]),b=_.exports.useCallback(k=>{if(d&&!d(e.current.getRowParams(k)))return!1;const P=e.current.getRowNode(k);return!((P==null?void 0:P.position)==="footer"||P!=null&&P.isPinned)},[e,d]),w=_.exports.useCallback(()=>Zqe(e),[e]),x=_.exports.useCallback((k,P=!0,R=!1)=>{if(!!e.current.isRowSelectable(k))if(i.current=k,R)r.debug(`Setting selection for row ${k}`),e.current.setSelectionModel(P?[k]:[]);else{r.debug(`Toggling selection for row ${k}`);const A=ra(e.current.state).filter(q=>q!==k);P&&A.push(k),(A.length<2||p)&&e.current.setSelectionModel(A)}},[e,r,p]),S=_.exports.useCallback((k,P=!0,R=!1)=>{r.debug("Setting selection for several rows");const j=k.filter(q=>e.current.isRowSelectable(q));let A;if(R)A=P?j:[];else{const q=E({},DE(e));j.forEach(J=>{P?q[J]=J:delete q[J]}),A=Object.values(q)}(A.length<2||p)&&e.current.setSelectionModel(A)},[e,r,p]),C=_.exports.useCallback(({startId:k,endId:P},R=!0,j)=>{if(!e.current.getRow(k)||!e.current.getRow(P))return;r.debug(`Expanding selection from row ${k} to row ${P}`);const A=Xw(e),U=A.indexOf(k),q=A.indexOf(P),[J,Q]=U>q?[q,U]:[U,q],se=A.slice(J,Q+1);e.current.selectRows(se,R,j)},[e,r]);ur(e,{selectRow:x,selectRows:S,selectRowRange:C,setSelectionModel:g,getSelectedRows:w,isRowSelected:v,isRowSelectable:b});const M=_.exports.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const k=ra(e.current.state),P=a_(e),R=E({},DE(e));let j=!1;k.forEach(A=>{P[A]||(delete R[A],j=!0)}),j&&e.current.setSelectionModel(Object.values(R))},[e,t.keepNonExistentRowsSelected]),I=_.exports.useCallback((k,P)=>{const R=P.metaKey||P.ctrlKey,j=!o&&!R&&!NF(P),A=!p||j,U=e.current.isRowSelected(k);A?e.current.selectRow(k,j?!0:!U,!0):e.current.selectRow(k,!U,!1)},[e,p,o]),T=_.exports.useCallback((k,P)=>{a||k.field!==fx.field&&k.field!==Az&&(k.field&&e.current.getColumn(k.field).type===Rz||k.rowNode.isPinned||(P.shiftKey&&(p||o)?y(k.id):I(k.id,P)))},[a,p,o,e,y,I]),O=_.exports.useCallback((k,P)=>{if(p&&P.shiftKey){var R;(R=window.getSelection())==null||R.removeAllRanges()}},[p]),L=_.exports.useCallback((k,P)=>{P.nativeEvent.shiftKey?y(k.id):e.current.selectRow(k.id,k.value)},[e,y]),N=_.exports.useCallback(k=>{const R=t.checkboxSelectionVisibleOnly&&t.pagination?eae(e):Xw(e);e.current.selectRows(R,k.value)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),H=_.exports.useCallback((k,P)=>{if(e.current.getCellMode(k.id,k.field)!==Dt.Edit&&!!P.currentTarget.contains(P.target)){if(hx(P.key)&&P.shiftKey){const R=hl(e);if(R&&R.id!==k.id){P.preventDefault();const j=e.current.isRowSelected(R.id);if(!p){e.current.selectRow(R.id,!j,!0);return}const A=e.current.getRowIndexRelativeToVisibleRows(R.id),U=e.current.getRowIndexRelativeToVisibleRows(k.id);let q,J;A>U?j?(q=U,J=A-1):(q=U,J=A):j?(q=A+1,J=U):(q=A,J=U);const Q=f.rows.slice(q,J+1).map(se=>se.id);e.current.selectRows(Q,!j);return}}if(P.key===" "&&P.shiftKey){P.preventDefault(),I(k.id,P);return}P.key.toLowerCase()==="a"&&(P.ctrlKey||P.metaKey)&&(P.preventDefault(),S(e.current.getAllRowIds(),!0))}},[e,I,S,f.rows,p]);Le(e,"sortedRowsSet",M),Le(e,"cellClick",T),Le(e,"rowSelectionCheckboxChange",L),Le(e,"headerSelectionCheckboxChange",N),Le(e,"cellMouseDown",O),Le(e,"cellKeyDown",H),_.exports.useEffect(()=>{n!==void 0&&e.current.setSelectionModel(n)},[e,n]);const F=n!=null;_.exports.useEffect(()=>{if(F)return;const k=ra(e.current.state);if(b){const P=k.filter(R=>b(R));P.length<k.length&&e.current.setSelectionModel(P)}},[e,b,F]),_.exports.useEffect(()=>{const k=ra(e.current.state);if(!p&&k.length>1){const{rows:P}=XM(e,{pagination:l,paginationMode:c}),R=P.reduce((A,{id:U})=>(A[U]=!0,A),{}),j=k.find(A=>{let U=!0;return b&&(U=b(A)),U&&R[A]});e.current.setSelectionModel(j!==void 0?[j]:[])}},[e,p,o,s,b,l,c])},zZe={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search\u2026",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelLinkOperator:"Logic operator",filterPanelOperators:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},VZe=["sortingOrder"],jZe=_.exports.memo(function(t){const{sortingOrder:r}=t,n=de(t,VZe),i=Ze(),[o]=r,s=o==="asc"?i.components.ColumnSortedAscendingIcon:i.components.ColumnSortedDescendingIcon;return s?z(s,E({},n)):null}),BZe=["message","hasError","errorInfo"],UZe=_.exports.forwardRef(function(t,r){const{message:n}=t,i=de(t,BZe),o=ft(),s=o.current.getLocaleText("errorOverlayDefaultLabel"),a=Je(o,px);return z(QM,E({ref:r,sx:{width:"100%",minHeight:2*a}},i,{children:n||s}))}),GZe=_.exports.forwardRef(function(t,r){const i=ft().current.getLocaleText("noResultsOverlayLabel");return z(QM,E({ref:r},t,{children:i}))}),HZe={BooleanCellTrueIcon:IHe,BooleanCellFalseIcon:FP,ColumnMenuIcon:CHe,OpenFilterButtonIcon:yHe,FilterPanelDeleteIcon:FP,ColumnFilteredIcon:gHe,ColumnSelectorIcon:bHe,ColumnUnsortedIcon:jZe,ColumnSortedAscendingIcon:fHe,ColumnSortedDescendingIcon:mHe,ColumnResizeIcon:wHe,DensityCompactIcon:_He,DensityStandardIcon:xHe,DensityComfortableIcon:SHe,ExportIcon:EHe,MoreActionsIcon:MHe,TreeDataCollapseIcon:RG,TreeDataExpandIcon:LG,GroupingCriteriaCollapseIcon:RG,GroupingCriteriaExpandIcon:LG,DetailPanelExpandIcon:Hse,DetailPanelCollapseIcon:$He,RowReorderIcon:qse,QuickFilterIcon:vHe,QuickFilterClearIcon:FP},XG=E({},HZe,{BaseCheckbox:j9e,BaseTextField:Ose,BaseFormControl:Om,BaseSelect:Cz,BaseSwitch:I7e,BaseButton:x9e,BaseTooltip:g7e,BasePopper:km,Cell:eHe,ColumnHeaderFilterIconButton:Gqe,ColumnMenu:JWe,ErrorOverlay:UZe,Footer:rJe,Header:nJe,Toolbar:null,PreferencesPanel:_Ke,LoadingOverlay:iJe,NoResultsOverlay:GZe,NoRowsOverlay:oJe,Pagination:aJe,FilterPanel:RKe,ColumnsPanel:mKe,Panel:wKe,Row:dJe}),qZe=e=>{const{classes:t}=e;return _.exports.useMemo(()=>Fe({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},jt,t),[t])},WZe=(e,t)=>{const r={classes:t.classes},n=qZe(r),i=_.exports.useCallback(o=>{const s=E({},fx,{cellClassName:n.cellCheckbox,headerClassName:n.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=t.checkboxSelection,l=o.lookup[Wd]!=null;return a&&!l?(o.lookup[Wd]=s,o.all=[Wd,...o.all]):!a&&l?(delete o.lookup[Wd],o.all=o.all.filter(c=>c!==Wd)):a&&l&&(o.lookup[Wd]=E({},s,o.lookup[Wd])),o},[e,n,t.checkboxSelection]);xi(e,"hydrateColumns",i)},KZe=(e,t)=>{var r,n,i,o;const s=(r=(n=t.sortModel)!=null?n:(i=t.initialState)==null||(o=i.sorting)==null?void 0:o.sortModel)!=null?r:[];return E({},e,{sorting:{sortModel:tae(s,t.disableMultipleColumnsSorting),sortedRows:[]}})},JZe=(e,t)=>{var r,n;const i=Vn(e,"useGridSorting");e.current.unstable_registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:ol,changeEvent:"sortModelChange"});const o=_.exports.useCallback((I,T)=>{const O=ol(e),L=O.findIndex(H=>H.field===I);let N=[...O];return L>-1?T?N.splice(L,1,T):N.splice(L,1):N=[...O,T],N},[e]),s=_.exports.useCallback((I,T)=>{var O;const N=ol(e).find(F=>F.field===I.field);if(N){var H;const F=T===void 0?NG((H=I.sortingOrder)!=null?H:t.sortingOrder,N.sort):T;return F==null?void 0:E({},N,{sort:F})}return{field:I.field,sort:T===void 0?NG((O=I.sortingOrder)!=null?O:t.sortingOrder):T}},[e,t.sortingOrder]),a=_.exports.useCallback(()=>{e.current.setState(I=>{if(t.sortingMode===Hg.server)return i.debug("Skipping sorting rows as sortingMode = server"),E({},I,{sorting:E({},I.sorting,{sortedRows:Gg(I,e.current.instanceId)})});const T=ol(I,e.current.instanceId),O=cWe(T,e),L=e.current.unstable_applyStrategyProcessor("sorting",{sortRowList:O});return E({},I,{sorting:E({},I.sorting,{sortedRows:L})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,i,t.sortingMode]),l=_.exports.useCallback(I=>{ol(e)!==I&&(i.debug("Setting sort model"),e.current.setState(FG(I,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,i,t.disableMultipleColumnsSorting]),c=_.exports.useCallback((I,T,O)=>{if(!I.sortable)return;const L=s(I,T);let N;!O||t.disableMultipleColumnsSorting?N=L?[L]:[]:N=o(I.field,L),e.current.setSortModel(N)},[e,o,s,t.disableMultipleColumnsSorting]),d=_.exports.useCallback(()=>ol(e),[e]),p=_.exports.useCallback(()=>Mz(e).map(T=>T.model),[e]),f=_.exports.useCallback(()=>Iz(e),[e]),y=_.exports.useCallback(I=>e.current.getSortedRowIds().indexOf(I),[e]),g=_.exports.useCallback(I=>e.current.getSortedRowIds()[I],[e]);ur(e,{getSortModel:d,getSortedRows:p,getSortedRowIds:f,getRowIndex:y,getRowIdFromRowIndex:g,setSortModel:l,sortColumn:c,applySorting:a});const b=_.exports.useCallback((I,T)=>{var O,L;const N=ol(e);return!T.exportOnlyDirtyModels||t.sortModel!=null||((O=t.initialState)==null||(L=O.sorting)==null?void 0:L.sortModel)!=null||N.length>0?E({},I,{sorting:{sortModel:N}}):I},[e,t.sortModel,(r=t.initialState)==null||(n=r.sorting)==null?void 0:n.sortModel]),w=_.exports.useCallback((I,T)=>{var O;const L=(O=T.stateToRestore.sorting)==null?void 0:O.sortModel;return L==null?I:(e.current.setState(FG(L,t.disableMultipleColumnsSorting)),E({},I,{callbacks:[...I.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),x=_.exports.useCallback(I=>{const T=Kf(e);if(!I.sortRowList){const N=[],H=[];return Gg(e).forEach(F=>{T[F].isPinned||(T[F].position==="footer"?H.push(F):N.push(F))}),[...N,...H]}const O=[],L=[];return Object.values(T).forEach(N=>{N.isPinned||(N.position==="footer"?L.push(N.id):O.push(N))}),[...I.sortRowList(O),...L]},[e]);xi(e,"exportState",b),xi(e,"restoreState",w),Nz(e,yx,"sorting",x);const S=_.exports.useCallback(({colDef:I},T)=>{const O=T.shiftKey||T.metaKey||T.ctrlKey;c(I,void 0,O)},[c]),C=_.exports.useCallback(({colDef:I},T)=>{Kse(T.key)&&!T.ctrlKey&&!T.metaKey&&c(I,void 0,T.shiftKey)},[c]),$=_.exports.useCallback(()=>{const I=ol(e),T=pv(e);if(I.length>0){const O=I.filter(L=>T[L.field]);O.length<I.length&&e.current.setSortModel(O)}},[e]),M=_.exports.useCallback(I=>{I==="sorting"&&e.current.applySorting()},[e]);Le(e,"columnHeaderClick",S),Le(e,"columnHeaderKeyDown",C),Le(e,"rowsSet",e.current.applySorting),Le(e,"columnsChange",$),Le(e,"activeStrategyProcessorChange",M),mx(()=>{e.current.applySorting()}),_.exports.useEffect(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function eH(e){const{clientHeight:t,scrollTop:r,offsetHeight:n,offsetTop:i}=e,o=i+n;if(n>t)return i;if(o-t>r)return o-t;if(i<r)return i}const ZZe=(e,t)=>{const r=Vn(e,"useGridScroll"),n=e.current.columnHeadersElementRef,i=e.current.windowRef,o=Je(e,Qu),s=_.exports.useCallback(d=>{const p=KM(e),f=Wi(e);if(!(d.rowIndex==null)&&p===0||f.length===0)return!1;r.debug(`Scrolling to cell at row ${d.rowIndex}, col: ${d.colIndex} `);let g={};if(d.colIndex!=null){const x=gm(e);let S;if(typeof d.rowIndex<"u"){var v;const C=(v=o[d.rowIndex])==null?void 0:v.id,$=e.current.unstable_getCellColSpanInfo(C,d.colIndex);$&&!$.spannedByColSpan&&(S=$.cellProps.width)}typeof S>"u"&&(S=f[d.colIndex].computedWidth),g.left=eH({clientHeight:i.current.clientWidth,scrollTop:i.current.scrollLeft,offsetHeight:S,offsetTop:x[d.colIndex]})}if(d.rowIndex!=null){var b,w;const x=f_(e.current.state),S=uw(e),C=e1(e),$=t.pagination?d.rowIndex-S*C:d.rowIndex,M=x.positions[$+1]?x.positions[$+1]-x.positions[$]:x.currentPageTotalHeight-x.positions[$],I=((b=i.current.querySelector(`.${re["pinnedRows--top"]}`))==null?void 0:b.clientHeight)||0,T=((w=i.current.querySelector(`.${re["pinnedRows--bottom"]}`))==null?void 0:w.clientHeight)||0;g.top=eH({clientHeight:i.current.clientHeight-I-T,scrollTop:i.current.scrollTop,offsetHeight:M,offsetTop:x.positions[$]})}return g=e.current.unstable_applyPipeProcessors("scrollToIndexes",g,d),typeof g.left!==void 0||typeof g.top!==void 0?(e.current.scroll(g),!0):!1},[r,e,i,t.pagination,o]),a=_.exports.useCallback(d=>{i.current&&d.left!=null&&n.current&&(n.current.scrollLeft=d.left,i.current.scrollLeft=d.left,r.debug(`Scrolling left: ${d.left}`)),i.current&&d.top!=null&&(i.current.scrollTop=d.top,r.debug(`Scrolling top: ${d.top}`)),r.debug("Scrolling, updating container, and viewport")},[i,n,r]),l=_.exports.useCallback(()=>i!=null&&i.current?{top:i.current.scrollTop,left:i.current.scrollLeft}:{top:0,left:0},[i]);ur(e,{scroll:a,scrollToIndexes:s,getScrollPosition:l})};function YZe(e,t){Bt(e,"columnHeaderClick",t.onColumnHeaderClick),Bt(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Bt(e,"columnHeaderOver",t.onColumnHeaderOver),Bt(e,"columnHeaderOut",t.onColumnHeaderOut),Bt(e,"columnHeaderEnter",t.onColumnHeaderEnter),Bt(e,"columnHeaderLeave",t.onColumnHeaderLeave),Bt(e,"columnOrderChange",t.onColumnOrderChange),Bt(e,"cellClick",t.onCellClick),Bt(e,"cellDoubleClick",t.onCellDoubleClick),Bt(e,"cellKeyDown",t.onCellKeyDown),Bt(e,"cellFocusOut",t.onCellFocusOut),Bt(e,"preferencePanelClose",t.onPreferencePanelClose),Bt(e,"preferencePanelOpen",t.onPreferencePanelOpen),Bt(e,"menuOpen",t.onMenuOpen),Bt(e,"menuClose",t.onMenuClose),Bt(e,"rowDoubleClick",t.onRowDoubleClick),Bt(e,"rowClick",t.onRowClick),Bt(e,"componentError",t.onError),Bt(e,"stateChange",t.onStateChange)}const QZe=({content:e,container:t,scrollBarSize:r})=>{const n=e.width>t.width,i=e.height>t.height;let o=!1,s=!1;return(n||i)&&(o=n,s=e.height+(o?r:0)>t.height,s&&(o=e.width+r>t.width)),{hasScrollX:o,hasScrollY:s}};function XZe(e,t){const r=Vn(e,"useResizeContainer"),n=_.exports.useRef(!1),i=_.exports.useRef(null),o=_.exports.useRef(null),s=Je(e,f_),a=Je(e,hv),l=_.exports.useCallback(()=>{var b;const w=(b=e.current.rootElementRef)==null?void 0:b.current,x=JM(e),S=_ae(e);if(!i.current)return;let C;if(t.scrollbarSize!=null)C=t.scrollbarSize;else if(!x||!w)C=0;else{const H=Cn(w).createElement("div");H.style.width="99px",H.style.height="99px",H.style.position="absolute",H.style.overflow="scroll",H.className="scrollDiv",w.appendChild(H),C=H.offsetWidth-H.clientWidth,w.removeChild(H)}let $,M,I;if(t.autoHeight)I=!1,M=Math.round(x)>i.current.width,$={width:i.current.width,height:s.currentPageTotalHeight+(M?C:0)};else{$={width:i.current.width,height:i.current.height-a};const N=QZe({content:{width:Math.round(x),height:s.currentPageTotalHeight},container:{width:$.width,height:$.height-S.top-S.bottom},scrollBarSize:C});I=N.hasScrollY,M=N.hasScrollX}const T={width:$.width-(I?C:0),height:$.height-(M?C:0)},O={viewportOuterSize:$,viewportInnerSize:T,hasScrollX:M,hasScrollY:I,scrollBarSize:C},L=o.current;o.current=O,(O.viewportInnerSize.width!==(L==null?void 0:L.viewportInnerSize.width)||O.viewportInnerSize.height!==(L==null?void 0:L.viewportInnerSize.height))&&e.current.publishEvent("viewportInnerSizeChange",O.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,a,s.currentPageTotalHeight]),c=_.exports.useCallback(()=>{l(),e.current.publishEvent("debouncedResize",i.current)},[e,l]),d=_.exports.useCallback(()=>o.current,[]),p=_.exports.useCallback(()=>{const b=e.current.getRootDimensions();if(!b)return 0;const w=XM(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const S=e.current.unstable_getRenderContext(),C=S.lastRowIndex-S.firstRowIndex;return Math.min(C-1,w.rows.length)}const x=Math.floor(b.viewportInnerSize.height/px(e));return Math.min(x,w.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight]);ur(e,{resize:c,getRootDimensions:d,unstable_getViewportPageSize:p,unstable_updateGridDimensionsRef:l});const y=_.exports.useMemo(()=>ex(c,60),[c]),g=_.exports.useRef(!0),v=_.exports.useCallback(b=>{i.current=b;const w=/jsdom/.test(window.navigator.userAgent);if(b.height===0&&!n.current&&!t.autoHeight&&!w&&(r.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),n.current=!0),b.width===0&&!n.current&&!w&&(r.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),n.current=!0),g.current){c(),g.current=!1;return}y()},[t.autoHeight,y,r,c]);pi(()=>l(),[l]),Bt(e,"sortedRowsSet",l),Bt(e,"pageChange",l),Bt(e,"pageSizeChange",l),Bt(e,"columnsChange",l),Le(e,"resize",v),Bt(e,"debouncedResize",t.onResize)}const eYe=e=>E({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),tYe=(e,t)=>{const{getRowHeight:r,getRowSpacing:n,getEstimatedRowHeight:i}=t,o=_.exports.useRef({}),s=_.exports.useRef(-1),a=_.exports.useRef(!1),l=Je(e,px),c=Je(e,ux),d=Je(e,fv),p=Je(e,Ez),f=Rm(e,t),y=Je(e,cx),g=_.exports.useCallback(()=>{var T,O;a.current=!1;const L=BGe(e.current.state,e.current.instanceId),N=k=>{o.current[k.id]||(o.current[k.id]={sizes:{base:l},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:P,needsFirstMeasurement:R,sizes:j}=o.current[k.id];let A=l;const U=j.base;if(P)A=U;else if(r){const ce=r(E({},k,{densityFactor:L}));if(ce==="auto"){if(R){const le=i?i(E({},k,{densityFactor:L})):l;A=le!=null?le:l}else A=U;a.current=!0,o.current[k.id].autoHeight=!0}else A=ce!=null?ce:l,o.current[k.id].needsFirstMeasurement=!1,o.current[k.id].autoHeight=!1}else o.current[k.id].needsFirstMeasurement=!1;const q={base:A};if(n){var J,Q;const ce=e.current.getRowIndexRelativeToVisibleRows(k.id),le=n(E({},k,{isFirstVisible:ce===0,isLastVisible:ce===f.rows.length-1,indexRelativeToCurrentPage:ce}));q.spacingTop=(J=le.top)!=null?J:0,q.spacingBottom=(Q=le.bottom)!=null?Q:0}const se=e.current.unstable_applyPipeProcessors("rowHeight",q,k);return o.current[k.id].sizes=se,se},H=[],F=f.rows.reduce((k,P)=>{H.push(k);const R=N(P),j=Object.values(R).reduce((A,U)=>A+U,0);return k+j},0);y==null||(T=y.top)==null||T.forEach(k=>{N(k)}),y==null||(O=y.bottom)==null||O.forEach(k=>{N(k)}),e.current.setState(k=>E({},k,{rowsMeta:{currentPageTotalHeight:F,positions:H}})),a.current||(s.current=1/0),e.current.forceUpdate()},[e,f.rows,l,r,n,i,y]),v=_.exports.useCallback(T=>{const O=o.current[T];return O?O.sizes.base:l},[l]),b=T=>{var O;return(O=o.current[T])==null?void 0:O.sizes},w=_.exports.useCallback((T,O)=>{o.current[T].sizes.base=O,o.current[T].isResized=!0,o.current[T].needsFirstMeasurement=!1,g()},[g]),x=_.exports.useMemo(()=>ex(g),[g]),S=_.exports.useCallback((T,O)=>{if(!o.current[T]||!o.current[T].autoHeight)return;const L=o.current[T].sizes.base!==O;o.current[T].needsFirstMeasurement=!1,o.current[T].sizes.base=O,L&&x()},[x]),C=_.exports.useCallback(T=>{var O;return((O=o.current[T])==null?void 0:O.autoHeight)||!1},[]),$=_.exports.useCallback(()=>s.current,[]),M=_.exports.useCallback(T=>{a.current&&T>s.current&&(s.current=T)},[]);_.exports.useEffect(()=>{g()},[l,c,d,p,g]),Fz(e,"rowHeight",g),ur(e,{unstable_getLastMeasuredRowIndex:$,unstable_setLastMeasuredRowIndex:M,unstable_rowHasAutoHeight:C,unstable_getRowHeight:v,unstable_getRowInternalSizes:b,unstable_setRowHeight:w,unstable_storeRowHeightMeasurement:S})},rYe=e=>{const t=_.exports.useCallback((i={})=>e.current.unstable_applyPipeProcessors("exportState",{},i),[e]),r=_.exports.useCallback(i=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:i}).callbacks.forEach(s=>{s()}),e.current.forceUpdate()},[e]);ur(e,{exportState:t,restoreState:r})},nYe=e=>{const t=_.exports.useRef({}),r=_.exports.useCallback((l,c,d)=>{const p=t.current;p[l]||(p[l]={}),p[l][c]=d},[]),n=_.exports.useCallback((l,c)=>{var d;return(d=t.current[l])==null?void 0:d[c]},[]),i=_.exports.useCallback(l=>{const{columnIndex:c,rowId:d,minFirstColumnIndex:p,maxLastColumnIndex:f,columns:y}=l,g=y.length,v=y[c],b=typeof v.colSpan=="function"?v.colSpan(e.current.getCellParams(d,v.field)):v.colSpan;if(!b||b===1)return r(d,c,{spannedByColSpan:!1,cellProps:{colSpan:1,width:v.computedWidth}}),{colSpan:1};let w=v.computedWidth;for(let x=1;x<b;x+=1){const S=c+x;S>=p&&S<f&&(w+=y[S].computedWidth,r(d,c+x,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(c+b,g-1),leftVisibleCellIndex:c})),r(d,c,{spannedByColSpan:!1,cellProps:{colSpan:b,width:w}})}return{colSpan:b}},[e,r]),o=_.exports.useCallback(({rowId:l,minFirstColumn:c,maxLastColumn:d,columns:p})=>{for(let f=c;f<d;f+=1){const y=i({columnIndex:f,rowId:l,minFirstColumnIndex:c,maxLastColumnIndex:d,columns:p});y.colSpan>1&&(f+=y.colSpan-1)}},[i]);ur(e,{unstable_getCellColSpanInfo:n,unstable_calculateColSpan:o});const a=_.exports.useCallback(()=>{t.current={}},[]);Le(e,"columnOrderChange",a)},iYe=e=>{var t,r;const n=NJe(void 0,e);return WZe(n,e),AZe(n),Bs(NZe,n,e),Bs(jJe,n,e),Bs(OZe,n,e),Bs((t=e.experimentalFeatures)!=null&&t.newEditingApi?kZe:wZe,n,e),Bs(lZe,n,e),Bs(KZe,n,e),Bs(yZe,n,e),Bs(sZe,n,e),Bs(UJe,n,e),Bs(fZe,n,e),Bs(eYe,n,e),Bs(zJe,n,e),dZe(n,e),DZe(n,e),BJe(n,e),LZe(n,e),FZe(n),nYe(n),((r=e.experimentalFeatures)!=null&&r.newEditingApi?PZe:_Ze)(n,e),cZe(n,e),gZe(n,e),aZe(n,e),JZe(n,e),GJe(n,e),mZe(n,e),tYe(n,e),ZZe(n,e),VJe(n),JJe(n),ZJe(n,e),DJe(n),XZe(n,e),YZe(n,e),rYe(n),n},oYe={apiRef:void 0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,signature:"DataGrid"},sYe=100,aYe={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,density:l_.Standard,disableExtendRowFullWidth:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableMultipleColumnsFiltering:!1,disableMultipleSelection:!1,disableMultipleColumnsSorting:!1,disableSelectionOnClick:!1,disableVirtualization:!1,disableIgnoreModificationsIfProcessingProps:!1,editMode:ji.Cell,filterMode:Hg.client,headerHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:Hg.client,rowHeight:52,rowsPerPageOptions:[25,50,100],rowSpacingType:"margin",showCellRightBorder:!1,showColumnRightBorder:!1,sortingOrder:["asc","desc",null],sortingMode:Hg.client,throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1},lYe=e=>{if(e.pageSize>sYe)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");const t=Vt({props:e,name:"MuiDataGrid"}),r=_.exports.useMemo(()=>E({},zZe,t.localeText),[t.localeText]),n=_.exports.useMemo(()=>{const i=t.components;if(!i)return E({},XG);const o={};return Object.entries(XG).forEach(([s,a])=>{o[s]=i[s]===void 0?a:i[s]}),o},[t.components]);return _.exports.useMemo(()=>E({},aYe,t,{localeText:r,components:n},oYe),[t,r,n])},cYe=["className"],uYe=e=>{const{classes:t}=e;return Fe({root:["virtualScroller"]},jt,t)},dYe=me("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",position:"relative","@media print":{overflow:"hidden"}}),pYe=_.exports.forwardRef(function(t,r){const{className:n}=t,i=de(t,cYe),s={classes:Ze().classes},a=uYe(s);return z(dYe,E({ref:r,className:Se(a.root,n)},i))}),hYe=["className","style"],fYe=e=>{const{classes:t,overflowedContent:r}=e;return Fe({root:["virtualScrollerContent",r&&"virtualScrollerContent--overflowed"]},jt,t)},mYe=me("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),yYe=_.exports.forwardRef(function(t,r){const{className:n,style:i}=t,o=de(t,hYe),s=Ze(),a={classes:s.classes,overflowedContent:!s.autoHeight&&(i==null?void 0:i.minHeight)==="auto"},l=fYe(a);return z(mYe,E({ref:r,className:Se(l.root,n),style:i},o))}),gYe=["className"],vYe=e=>{const{classes:t}=e;return Fe({root:["virtualScrollerRenderZone"]},jt,t)},bYe=me("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),wYe=_.exports.forwardRef(function(t,r){const{className:n}=t,i=de(t,gYe),s={classes:Ze().classes},a=vYe(s);return z(bYe,E({ref:r,className:Se(a.root,n)},i))}),_Ye=["style"];function qg(e,t,r=0,n=t.length){if(t.length<=0)return-1;if(r>=n)return r;const i=r+Math.floor((n-r)/2),o=t[i];return e<=o?qg(e,t,r,i):qg(e,t,i+1,n)}function xYe(e,t,r){let n=1;for(;r<t.length&&t[r]<e;)r+=n,n*=2;return qg(e,t,Math.floor(r/2),Math.min(r,t.length))}const ff=({firstIndex:e,lastIndex:t,buffer:r,minFirstIndex:n,maxLastIndex:i})=>[u_(e-r,n,i),u_(t+r,n,i)],SYe=e=>{var t,r;const n=ft(),i=Ze(),o=Je(n,Wi),{ref:s,disableVirtualization:a,onRenderZonePositioning:l,renderZoneMinColumnIndex:c=0,renderZoneMaxColumnIndex:d=o.length,getRowProps:p}=e,f=Je(n,gm),y=Je(n,JM),g=Je(n,px),v=Je(n,hl),b=Je(n,FE),w=Je(n,f_),x=Je(n,mn),S=Je(n,DE),C=Rm(n,i),$=_.exports.useRef(null),M=_.exports.useRef(null),I=Xt(s,M),[T,O]=_.exports.useState(null),L=_.exports.useRef(T),N=_.exports.useRef({top:0,left:0}),[H,F]=_.exports.useState(null),k=_.exports.useRef(y),P=_.exports.useCallback(pe=>{var ye,he;const Ge=n.current.unstable_getLastMeasuredRowIndex()-(((ye=C.range)==null?void 0:ye.firstRowIndex)||0),Ee=Math.max(0,Ge);let tt=Ee===1/0;return(he=C.range)!=null&&he.lastRowIndex&&!tt&&(tt=Ee>=C.range.lastRowIndex),tt||w.positions[Ee]>=pe?qg(pe,w.positions):xYe(pe,w.positions,Ee)},[n,(t=C.range)==null?void 0:t.firstRowIndex,(r=C.range)==null?void 0:r.lastRowIndex,w.positions]),R=_.exports.useCallback(()=>{if(a)return{firstRowIndex:0,lastRowIndex:C.rows.length,firstColumnIndex:0,lastColumnIndex:o.length};const{top:pe,left:ye}=N.current,he=Math.min(P(pe),w.positions.length-1),Me=i.autoHeight?he+C.rows.length:P(pe+M.current.clientHeight);let Ge=!1,Ee=0,tt=f.length;const[Ye,je]=ff({firstIndex:he,lastIndex:Me,minFirstIndex:0,maxLastIndex:C.rows.length,buffer:i.rowBuffer});for(let Ke=Ye;Ke<je&&!Ge;Ke+=1){const Ct=C.rows[Ke];Ge=n.current.unstable_rowHasAutoHeight(Ct.id)}return Ge||(Ee=qg(ye,f),tt=qg(ye+H,f)),{firstRowIndex:he,lastRowIndex:Me,firstColumnIndex:Ee,lastColumnIndex:tt}},[a,P,w.positions.length,i.autoHeight,i.rowBuffer,C.rows,f,o.length,n,H]);_.exports.useEffect(()=>{a?$.current.style.transform="translate3d(0px, 0px, 0px)":(M.current.scrollLeft=0,M.current.scrollTop=0)},[a]),_.exports.useEffect(()=>{F(M.current.clientWidth)},[w.currentPageTotalHeight]);const j=_.exports.useCallback(pe=>{F(pe.width)},[]);Le(n,"resize",j);const A=_.exports.useCallback(pe=>{const[ye,he]=ff({firstIndex:pe.firstRowIndex,lastIndex:pe.lastRowIndex,minFirstIndex:0,maxLastIndex:C.rows.length,buffer:i.rowBuffer}),[Me]=ff({firstIndex:pe.firstColumnIndex,lastIndex:pe.lastColumnIndex,minFirstIndex:c,maxLastIndex:d,buffer:i.columnBuffer}),Ge=zF({firstColumnToRender:Me,apiRef:n,firstRowToRender:ye,lastRowToRender:he,visibleRows:C.rows}),Ee=f_(n.current.state).positions[ye],tt=gm(n)[Ge];$.current.style.transform=`translate3d(${tt}px, ${Ee}px, 0px)`,typeof l=="function"&&l({top:Ee,left:tt})},[n,C.rows,l,c,d,i.columnBuffer,i.rowBuffer]);_.exports.useLayoutEffect(()=>{T&&A(T)},[T,A]);const U=_.exports.useCallback(pe=>{O(pe),L.current=pe},[O,L]);_.exports.useEffect(()=>{if(H==null)return;const pe=R();U(pe);const{top:ye,left:he}=N.current,Me={top:ye,left:he,renderContext:pe};n.current.publishEvent("rowsScroll",Me)},[n,R,H,U]);const q=pe=>{const{scrollTop:ye,scrollLeft:he}=pe.currentTarget;if(N.current.top=ye,N.current.left=he,he<0||ye<0||!L.current)return;const Me=a?L.current:R(),Ge=Math.abs(Me.firstRowIndex-L.current.firstRowIndex),Ee=Math.abs(Me.lastRowIndex-L.current.lastRowIndex),tt=Math.abs(Me.firstColumnIndex-L.current.firstColumnIndex),Ye=Math.abs(Me.lastColumnIndex-L.current.lastColumnIndex),je=Ge>=i.rowThreshold||Ee>=i.rowThreshold||tt>=i.columnThreshold||Ye>=i.columnThreshold||k.current!==y;n.current.publishEvent("rowsScroll",{top:ye,left:he,renderContext:je?Me:L.current},pe),je&&(bm.exports.flushSync(()=>{U(Me)}),k.current=y)},J=pe=>{n.current.publishEvent("virtualScrollerWheel",{},pe)},Q=pe=>{n.current.publishEvent("virtualScrollerTouchMove",{},pe)},se=(pe={renderContext:T})=>{const{renderContext:ye,minFirstColumn:he=c,maxLastColumn:Me=d,availableSpace:Ge=H,ignoreAutoHeight:Ee,rowIndexOffset:tt=0}=pe;if(!ye||Ge==null)return null;const Ye=a?0:i.rowBuffer,je=a?0:i.columnBuffer,[Ke,Ct]=ff({firstIndex:ye.firstRowIndex,lastIndex:ye.lastRowIndex,minFirstIndex:0,maxLastIndex:C.rows.length,buffer:Ye}),Ft=[];if(pe.rows)pe.rows.forEach(Ne=>{Ft.push(Ne),n.current.unstable_calculateColSpan({rowId:Ne.id,minFirstColumn:he,maxLastColumn:Me,columns:o})});else{if(!C.range)return null;for(let Ne=Ke;Ne<Ct;Ne+=1){const ke=C.rows[Ne];Ft.push(ke),n.current.unstable_calculateColSpan({rowId:ke.id,minFirstColumn:he,maxLastColumn:Me,columns:o})}}const[yt,Lt]=ff({firstIndex:ye.firstColumnIndex,lastIndex:ye.lastColumnIndex,minFirstIndex:he,maxLastIndex:Me,buffer:je}),yr=zF({firstColumnToRender:yt,apiRef:n,firstRowToRender:Ke,lastRowToRender:Ct,visibleRows:C.rows}),Gr=o.slice(yr,Lt),Mr=[];for(let Ne=0;Ne<Ft.length;Ne+=1){var Cr,Gt;const{id:ke,model:Rt}=Ft[Ne],Be=Ke+Ne===C.rows.length-1,Mt=!n.current.unstable_rowHasAutoHeight(ke)||Ee?n.current.unstable_getRowHeight(ke):"auto";let Tr;S[ke]==null?Tr=!1:Tr=n.current.isRowSelectable(ke),Mr.push(z(i.components.Row,E({row:Rt,rowId:ke,rowHeight:Mt,cellFocus:v,cellTabIndex:b,editRowsState:x,renderedColumns:Gr,visibleColumns:o,firstColumnToRender:yr,lastColumnToRender:Lt,selected:Tr,index:tt+((C==null||(Cr=C.range)==null?void 0:Cr.firstRowIndex)||0)+Ke+Ne,containerWidth:Ge,isLastVisible:Be},typeof p=="function"?p(ke,Rt):{},(Gt=i.componentsProps)==null?void 0:Gt.row),ke))}return Mr},ce=H&&y>H,le=_.exports.useMemo(()=>{const pe=Math.max(w.currentPageTotalHeight,1);let ye=!1;M!=null&&M.current&&pe<=(M==null?void 0:M.current.clientHeight)&&(ye=!0);const he={width:ce?y:"auto",height:pe,minHeight:ye?"100%":"auto"};return i.autoHeight&&C.rows.length===0&&(he.height=2*g),he},[M,y,w.currentPageTotalHeight,C.rows.length,ce,i.autoHeight,g]);_.exports.useEffect(()=>{n.current.publishEvent("virtualScrollerContentSizeChange")},[n,le]),i.autoHeight&&C.rows.length===0&&(le.height=2*g);const Ie={};ce||(Ie.overflowX="hidden"),i.autoHeight&&(Ie.overflowY="hidden");const Ue=_.exports.useCallback(()=>L.current,[]);return n.current.unstable_getRenderContext=Ue,{renderContext:T,updateRenderZonePosition:A,getRows:se,getRootProps:(pe={})=>{let{style:ye={}}=pe,he=de(pe,_Ye);return E({ref:I,onScroll:q,onWheel:J,onTouchMove:Q,style:E({},ye,Ie)},he)},getContentProps:({style:pe={}}={})=>({style:E({},pe,le)}),getRenderZoneProps:()=>({ref:$})}},CYe=["className","disableVirtualization"],$Ye=_.exports.forwardRef(function(t,r){const{className:n,disableVirtualization:i}=t,o=de(t,CYe),{getRootProps:s,getContentProps:a,getRenderZoneProps:l,getRows:c}=SYe({ref:r,disableVirtualization:i});return z(pYe,E({className:n},s(o),{children:z(yYe,E({},a(),{children:z(wYe,E({},l(),{children:c()}))}))}))});function EYe(e){return!!e.target}const IYe=e=>{const{innerRef:t,minColumnIndex:r=0}=e,[n,i]=_.exports.useState(""),[o,s]=_.exports.useState(""),a=ft(),l=Je(a,Wi),c=Je(a,gm),d=Je(a,Use),p=Je(a,FE),f=Je(a,ZGe),y=Je(a,hv),g=Je(a,VGe),v=Je(a,LGe),b=Je(a,fae),w=Ze(),x=_.exports.useRef(null),S=Xt(t,x),[C,$]=_.exports.useState(null),M=_.exports.useRef(C),I=_.exports.useRef(0),T=Rm(a,w);_.exports.useEffect(()=>{a.current.columnHeadersContainerElementRef.current.scrollLeft=0},[a]);const O=_.exports.useRef(Rse(qWe,{equalityCheck:(A,U)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(q=>A[q]===U[q])})),L=_.exports.useCallback(A=>{const[U,q]=ff({firstIndex:A.firstRowIndex,lastIndex:A.lastRowIndex,minFirstIndex:0,maxLastIndex:T.rows.length,buffer:w.rowBuffer}),J=O.current({firstColumnIndex:A.firstColumnIndex,minColumnIndex:r,columnBuffer:w.columnBuffer,firstRowToRender:U,lastRowToRender:q,apiRef:a,visibleRows:T.rows}),Q=J>0?I.current-c[J]:I.current;x.current.style.transform=`translate3d(${-Q}px, 0px, 0px)`},[c,r,w.columnBuffer,a,T.rows,w.rowBuffer]);_.exports.useLayoutEffect(()=>{C&&L(C)},[C,L]);const N=_.exports.useCallback(({left:A,renderContext:U=null},q)=>{var J,Q;if(!x.current||I.current===A&&((J=M.current)==null?void 0:J.firstColumnIndex)===(U==null?void 0:U.firstColumnIndex)&&((Q=M.current)==null?void 0:Q.lastColumnIndex)===(U==null?void 0:U.lastColumnIndex))return;I.current=A;let se=!1;U!==M.current||!M.current?(EYe(q)?(bm.exports.flushSync(()=>{$(U)}),se=!0):$(U),M.current=U):se=!0,U&&se&&L(U)},[L]),H=_.exports.useCallback(A=>s(A.field),[]),F=_.exports.useCallback(()=>s(""),[]),k=_.exports.useCallback(A=>i(A.field),[]),P=_.exports.useCallback(()=>i(""),[]);Le(a,"columnResizeStart",H),Le(a,"columnResizeStop",F),Le(a,"columnHeaderDragStart",k),Le(a,"columnHeaderDragEnd",P),Le(a,"rowsScroll",N);const R=(A,U={})=>{const{renderContext:q=C,minFirstColumn:J=r,maxLastColumn:Q=l.length}=A||{};if(!q)return null;const se=[],[ce,le]=ff({firstIndex:q.firstRowIndex,lastIndex:q.lastRowIndex,minFirstIndex:0,maxLastIndex:T.rows.length,buffer:w.rowBuffer}),Ie=O.current({firstColumnIndex:q.firstColumnIndex,minColumnIndex:J,columnBuffer:w.columnBuffer,apiRef:a,firstRowToRender:ce,lastRowToRender:le,visibleRows:T.rows}),Ue=Math.min(q.lastColumnIndex+w.columnBuffer,Q),pe=l.slice(Ie,Ue);for(let ye=0;ye<pe.length;ye+=1){const he=pe[ye],Me=Ie+ye,Ge=Me===0,Ee=!(d===null&&p===null),tt=d!==null&&d.field===he.field||Ge&&!Ee?0:-1,Ye=f!==null&&f.field===he.field,je=b.open&&b.field===he.field;se.push(z(Bqe,E({},v[he.field],{columnMenuOpen:je,filterItemsCounter:g[he.field]&&g[he.field].length,headerHeight:y,isDragging:he.field===n,column:he,colIndex:Me,isResizing:o===he.field,isLastColumn:Me===l.length-1,extendRowFullWidth:!w.disableExtendRowFullWidth,hasFocus:Ye,tabIndex:tt},U),he.field))}return se},j={minHeight:y,maxHeight:y,lineHeight:`${y}px`};return{renderContext:C,getColumns:R,isDragging:!!n,getRootProps:(A={})=>E({style:j},A),getInnerProps:()=>({ref:S,"aria-rowindex":1,role:"row"})}},MYe=["className"],TYe=e=>{const{classes:t}=e;return Fe({root:["columnHeaders"]},jt,t)},kYe=me("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})(({theme:e})=>{const t=e.palette.mode==="light"?cv(St(e.palette.divider,1),.88):lv(St(e.palette.divider,1),.68);return{position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",alignItems:"center",borderBottom:`1px solid ${t}`,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius}}),PYe=_.exports.forwardRef(function(t,r){const{className:n}=t,i=de(t,MYe),s={classes:Ze().classes},a=TYe(s);return z(kYe,E({ref:r,className:Se(n,a.root)},i))}),OYe=["isDragging","className"],LYe=e=>{const{isDragging:t,hasScrollX:r,classes:n}=e;return Fe({root:["columnHeadersInner",t&&"columnHeaderDropZone",r&&"columnHeadersInner--scrollable"]},jt,n)},RYe=me("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${re.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"center",[`&.${re.columnHeaderDropZone} .${re.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${re["columnHeadersInner--scrollable"]} .${re.columnHeader}:last-child`]:{borderRight:"none"}})),AYe=_.exports.forwardRef(function(t,r){var n,i;const{isDragging:o,className:s}=t,a=de(t,OYe),l=ft(),c=Ze(),d={isDragging:o,hasScrollX:(n=(i=l.current.getRootDimensions())==null?void 0:i.hasScrollX)!=null?n:!1,classes:c.classes},p=LYe(d);return z(RYe,E({ref:r,className:Se(s,p.root)},a))}),FYe=["innerRef","className"],NYe=_.exports.forwardRef(function(t,r){const{innerRef:n}=t,i=de(t,FYe),{isDragging:o,getRootProps:s,getInnerProps:a,getColumns:l}=IYe({innerRef:n});return ot(PYe,E({ref:r},s(i),{children:[z(UG,{scrollDirection:"left"}),z(AYe,E({isDragging:o},a(),{children:l()})),z(UG,{scrollDirection:"right"})]}))}),$ae=_.exports.forwardRef(function(t,r){const n=lYe(t),i=iYe(n);return z(xJe,{apiRef:i,props:n,children:z(sqe,{className:n.className,style:n.style,sx:n.sx,ref:r,children:ot(WGe,{children:[z(JGe,{}),z(HGe,{ColumnHeadersComponent:NYe,VirtualScrollerComponent:$Ye}),z(KGe,{})]})})})}),DYe=_.exports.memo($ae);$ae.propTypes={"aria-label":ie.exports.string,"aria-labelledby":ie.exports.string,autoHeight:ie.exports.bool,autoPageSize:ie.exports.bool,cellModesModel:ie.exports.object,checkboxSelection:ie.exports.bool,classes:ie.exports.object,columnBuffer:ie.exports.number,columns:_P(ie.exports.array.isRequired),columnThreshold:ie.exports.number,columnTypes:ie.exports.object,columnVisibilityModel:ie.exports.object,components:ie.exports.object,componentsProps:ie.exports.object,density:ie.exports.oneOf(["comfortable","compact","standard"]),disableColumnFilter:ie.exports.bool,disableColumnMenu:ie.exports.bool,disableColumnSelector:ie.exports.bool,disableDensitySelector:ie.exports.bool,disableExtendRowFullWidth:ie.exports.bool,disableIgnoreModificationsIfProcessingProps:ie.exports.bool,disableSelectionOnClick:ie.exports.bool,disableVirtualization:ie.exports.bool,editMode:ie.exports.oneOf(["cell","row"]),editRowsModel:ie.exports.object,error:ie.exports.any,experimentalFeatures:ie.exports.shape({newEditingApi:ie.exports.bool,preventCommitWhileValidating:ie.exports.bool,warnIfFocusStateIsNotSynced:ie.exports.bool}),filterMode:ie.exports.oneOf(["client","server"]),filterModel:ie.exports.shape({items:ie.exports.arrayOf(ie.exports.shape({columnField:ie.exports.string.isRequired,id:ie.exports.oneOfType([ie.exports.number,ie.exports.string]),operatorValue:ie.exports.string,value:ie.exports.any})).isRequired,linkOperator:ie.exports.oneOf(["and","or"]),quickFilterLogicOperator:ie.exports.oneOf(["and","or"]),quickFilterValues:ie.exports.array}),getCellClassName:ie.exports.func,getDetailPanelContent:ie.exports.func,getEstimatedRowHeight:ie.exports.func,getRowClassName:ie.exports.func,getRowHeight:ie.exports.func,getRowId:ie.exports.func,getRowSpacing:ie.exports.func,headerHeight:ie.exports.number,hideFooter:ie.exports.bool,hideFooterPagination:ie.exports.bool,hideFooterSelectedRowCount:ie.exports.bool,initialState:ie.exports.object,isCellEditable:ie.exports.func,isRowSelectable:ie.exports.func,keepNonExistentRowsSelected:ie.exports.bool,loading:ie.exports.bool,localeText:ie.exports.object,logger:ie.exports.shape({debug:ie.exports.func.isRequired,error:ie.exports.func.isRequired,info:ie.exports.func.isRequired,warn:ie.exports.func.isRequired}),logLevel:ie.exports.oneOf(["debug","error","info","warn",!1]),nonce:ie.exports.string,onCellClick:ie.exports.func,onCellDoubleClick:ie.exports.func,onCellEditCommit:ie.exports.func,onCellEditStart:ie.exports.func,onCellEditStop:ie.exports.func,onCellFocusOut:ie.exports.func,onCellKeyDown:ie.exports.func,onCellModesModelChange:ie.exports.func,onColumnHeaderClick:ie.exports.func,onColumnHeaderDoubleClick:ie.exports.func,onColumnHeaderEnter:ie.exports.func,onColumnHeaderLeave:ie.exports.func,onColumnHeaderOut:ie.exports.func,onColumnHeaderOver:ie.exports.func,onColumnOrderChange:ie.exports.func,onColumnVisibilityChange:ie.exports.func,onColumnVisibilityModelChange:ie.exports.func,onEditCellPropsChange:ie.exports.func,onEditRowsModelChange:ie.exports.func,onError:ie.exports.func,onFilterModelChange:ie.exports.func,onMenuClose:ie.exports.func,onMenuOpen:ie.exports.func,onPageChange:ie.exports.func,onPageSizeChange:ie.exports.func,onPreferencePanelClose:ie.exports.func,onPreferencePanelOpen:ie.exports.func,onProcessRowUpdateError:ie.exports.func,onResize:ie.exports.func,onRowClick:ie.exports.func,onRowDoubleClick:ie.exports.func,onRowEditCommit:ie.exports.func,onRowEditStart:ie.exports.func,onRowEditStop:ie.exports.func,onRowModesModelChange:ie.exports.func,onSelectionModelChange:ie.exports.func,onSortModelChange:ie.exports.func,onStateChange:ie.exports.func,page:ie.exports.number,pageSize:_P(ie.exports.number),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:ie.exports.oneOf(["client","server"]),processRowUpdate:ie.exports.func,rowBuffer:ie.exports.number,rowCount:ie.exports.number,rowHeight:ie.exports.number,rowModesModel:ie.exports.object,rows:ie.exports.array.isRequired,rowSpacingType:ie.exports.oneOf(["border","margin"]),rowsPerPageOptions:ie.exports.arrayOf(ie.exports.number),rowThreshold:ie.exports.number,scrollbarSize:ie.exports.number,selectionModel:_P(ie.exports.oneOfType([ie.exports.number,ie.exports.string,ie.exports.array])),showCellRightBorder:ie.exports.bool,showColumnRightBorder:ie.exports.bool,sortingMode:ie.exports.oneOf(["client","server"]),sortingOrder:ie.exports.arrayOf(ie.exports.oneOf(["asc","desc"])),sortModel:ie.exports.arrayOf(ie.exports.shape({field:ie.exports.string.isRequired,sort:ie.exports.oneOf(["asc","desc"])})),sx:ie.exports.oneOfType([ie.exports.arrayOf(ie.exports.oneOfType([ie.exports.func,ie.exports.object,ie.exports.bool])),ie.exports.func,ie.exports.object])};const zYe=e=>{const{coordinates:t}=e.row.geometry,[r,n]=t,i={type:"point",longitude:r,latitude:n},o={type:"simple-marker",color:[5,255,255,.5],size:20,outline:{color:[0,0,0],width:.5}};return{pointGraphic:new Jo({geometry:i,symbol:o})}};function VYe(){return ot(gqe,{children:[z(WKe,{}),z(DKe,{})]})}function jYe({data:e}){const[t,r]=_.exports.useState(25),n=zNe(),i=[{field:"Business_N",headerName:"Business Name",width:200,type:"singleSelect",renderCell:o=>o.row.properties.Business_N,valueOptions:[...new Set(e.map(o=>o.properties.Business_N))].sort()},{field:"Cuisine",headerName:"Cuisine",width:100,type:"singleSelect",renderCell:o=>o.row.Cuisine,valueOptions:[...new Set(e.map(o=>o.Cuisine))].sort()},{field:"Address",headerName:"Address",width:175,filterable:!1,type:"singleSelect",renderCell:o=>z("span",{children:o.row.Address})},{field:"Delivery",headerName:"Delivery",width:75,type:"singleSelect",renderCell:o=>z("span",{children:o.row.Delivery}),valueOptions:[...new Set(e.map(o=>o.properties.Delivery))]}];return ot("div",{className:"DataGrid__container",children:[z("h3",{className:"DataGrid__title",children:"Filter Falls Church Restaurants"}),z("div",{className:"DataGrid",style:{height:400,width:"100%"},children:z(DYe,{apiRef:n,density:"compact",onRowClick:o=>{const s=mapView.map.findLayerById("HighlightGraphicLayer");s.removeAll();const{pointGraphic:a}=zYe(o);s.add(a),mapView.popup.close(),mapView.goTo({target:o.row.geometry.coordinates,zoom:17},{duration:2e3})},rows:e,columns:i,disableSelectionOnClick:!0,pageSize:t,onPageSizeChange:o=>r(o),rowsPerPageOptions:[50,100],components:{Toolbar:VYe},filterModelChange:(o,s)=>{console.log(o),console.log(s)},onStateChange:o=>{},initialState:{...e.initialState,columns:{columnVisibilityModel:{}}}})})]})}var Eae={exports:{}},Dz={exports:{}},Iae=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},BYe=Iae,zz=Object.prototype.toString,Vz=function(e){return function(t){var r=zz.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Am(e){return e=e.toLowerCase(),function(r){return Vz(r)===e}}function jz(e){return Array.isArray(e)}function VE(e){return typeof e>"u"}function UYe(e){return e!==null&&!VE(e)&&e.constructor!==null&&!VE(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var Mae=Am("ArrayBuffer");function GYe(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Mae(e.buffer),t}function HYe(e){return typeof e=="string"}function qYe(e){return typeof e=="number"}function Tae(e){return e!==null&&typeof e=="object"}function O$(e){if(Vz(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var WYe=Am("Date"),KYe=Am("File"),JYe=Am("Blob"),ZYe=Am("FileList");function Bz(e){return zz.call(e)==="[object Function]"}function YYe(e){return Tae(e)&&Bz(e.pipe)}function QYe(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||zz.call(e)===t||Bz(e.toString)&&e.toString()===t)}var XYe=Am("URLSearchParams");function eQe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function tQe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Uz(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),jz(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function UF(){var e={};function t(i,o){O$(e[o])&&O$(i)?e[o]=UF(e[o],i):O$(i)?e[o]=UF({},i):jz(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)Uz(arguments[r],t);return e}function rQe(e,t,r){return Uz(t,function(i,o){r&&typeof i=="function"?e[o]=BYe(i,r):e[o]=i}),e}function nQe(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function iQe(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)}function oQe(e,t,r){var n,i,o,s={};t=t||{};do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],s[o]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t}function sQe(e,t,r){e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return n!==-1&&n===r}function aQe(e){if(!e)return null;var t=e.length;if(VE(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r}var lQe=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Mi={isArray:jz,isArrayBuffer:Mae,isBuffer:UYe,isFormData:QYe,isArrayBufferView:GYe,isString:HYe,isNumber:qYe,isObject:Tae,isPlainObject:O$,isUndefined:VE,isDate:WYe,isFile:KYe,isBlob:JYe,isFunction:Bz,isStream:YYe,isURLSearchParams:XYe,isStandardBrowserEnv:tQe,forEach:Uz,merge:UF,extend:rQe,trim:eQe,stripBOM:nQe,inherits:iQe,toFlatObject:oQe,kindOf:Vz,kindOfTest:Am,endsWith:sQe,toArray:aQe,isTypedArray:lQe,isFileList:ZYe},sy=Mi;function tH(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var kae=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(sy.isURLSearchParams(r))i=r.toString();else{var o=[];sy.forEach(r,function(l,c){l===null||typeof l>"u"||(sy.isArray(l)?c=c+"[]":l=[l],sy.forEach(l,function(p){sy.isDate(p)?p=p.toISOString():sy.isObject(p)&&(p=JSON.stringify(p)),o.push(tH(c)+"="+tH(p))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},cQe=Mi;function eT(){this.handlers=[]}eT.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};eT.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};eT.prototype.forEach=function(t){cQe.forEach(this.handlers,function(n){n!==null&&t(n)})};var uQe=eT,dQe=Mi,pQe=function(t,r){dQe.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},Pae=Mi;function I0(e,t,r,n,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Pae.inherits(I0,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Oae=I0.prototype,Lae={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){Lae[e]={value:e}});Object.defineProperties(I0,Lae);Object.defineProperty(Oae,"isAxiosError",{value:!0});I0.from=function(e,t,r,n,i,o){var s=Object.create(Oae);return Pae.toFlatObject(e,s,function(l){return l!==Error.prototype}),I0.call(s,e.message,t,r,n,i),s.name=e.name,o&&Object.assign(s,o),s};var mv=I0,Rae={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},za=Mi;function hQe(e,t){t=t||new FormData;var r=[];function n(o){return o===null?"":za.isDate(o)?o.toISOString():za.isArrayBuffer(o)||za.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function i(o,s){if(za.isPlainObject(o)||za.isArray(o)){if(r.indexOf(o)!==-1)throw Error("Circular reference detected in "+s);r.push(o),za.forEach(o,function(l,c){if(!za.isUndefined(l)){var d=s?s+"."+c:c,p;if(l&&!s&&typeof l=="object"){if(za.endsWith(c,"{}"))l=JSON.stringify(l);else if(za.endsWith(c,"[]")&&(p=za.toArray(l))){p.forEach(function(f){!za.isUndefined(f)&&t.append(d,n(f))});return}}i(l,d)}}),r.pop()}else t.append(s,n(o))}return i(e),t}var Aae=hQe,zP,rH;function fQe(){if(rH)return zP;rH=1;var e=mv;return zP=function(r,n,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):n(new e("Request failed with status code "+i.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},zP}var VP,nH;function mQe(){if(nH)return VP;nH=1;var e=Mi;return VP=e.isStandardBrowserEnv()?function(){return{write:function(n,i,o,s,a,l){var c=[];c.push(n+"="+encodeURIComponent(i)),e.isNumber(o)&&c.push("expires="+new Date(o).toGMTString()),e.isString(s)&&c.push("path="+s),e.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),VP}var yQe=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},gQe=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},vQe=yQe,bQe=gQe,Fae=function(t,r){return t&&!vQe(r)?bQe(t,r):r},jP,iH;function wQe(){if(iH)return jP;iH=1;var e=Mi,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return jP=function(n){var i={},o,s,a;return n&&e.forEach(n.split(`
`),function(c){if(a=c.indexOf(":"),o=e.trim(c.substr(0,a)).toLowerCase(),s=e.trim(c.substr(a+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([s]):i[o]=i[o]?i[o]+", "+s:s}}),i},jP}var BP,oH;function _Qe(){if(oH)return BP;oH=1;var e=Mi;return BP=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function o(s){var a=s;return r&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function(a){var l=e.isString(a)?o(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),BP}var UP,sH;function tT(){if(sH)return UP;sH=1;var e=mv,t=Mi;function r(n){e.call(this,n==null?"canceled":n,e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(r,e,{__CANCEL__:!0}),UP=r,UP}var GP,aH;function xQe(){return aH||(aH=1,GP=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}),GP}var HP,lH;function cH(){if(lH)return HP;lH=1;var e=Mi,t=fQe(),r=mQe(),n=kae,i=Fae,o=wQe(),s=_Qe(),a=Rae,l=mv,c=tT(),d=xQe();return HP=function(f){return new Promise(function(g,v){var b=f.data,w=f.headers,x=f.responseType,S;function C(){f.cancelToken&&f.cancelToken.unsubscribe(S),f.signal&&f.signal.removeEventListener("abort",S)}e.isFormData(b)&&e.isStandardBrowserEnv()&&delete w["Content-Type"];var $=new XMLHttpRequest;if(f.auth){var M=f.auth.username||"",I=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";w.Authorization="Basic "+btoa(M+":"+I)}var T=i(f.baseURL,f.url);$.open(f.method.toUpperCase(),n(T,f.params,f.paramsSerializer),!0),$.timeout=f.timeout;function O(){if(!!$){var H="getAllResponseHeaders"in $?o($.getAllResponseHeaders()):null,F=!x||x==="text"||x==="json"?$.responseText:$.response,k={data:F,status:$.status,statusText:$.statusText,headers:H,config:f,request:$};t(function(R){g(R),C()},function(R){v(R),C()},k),$=null}}if("onloadend"in $?$.onloadend=O:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(O)},$.onabort=function(){!$||(v(new l("Request aborted",l.ECONNABORTED,f,$)),$=null)},$.onerror=function(){v(new l("Network Error",l.ERR_NETWORK,f,$,$)),$=null},$.ontimeout=function(){var F=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",k=f.transitional||a;f.timeoutErrorMessage&&(F=f.timeoutErrorMessage),v(new l(F,k.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,f,$)),$=null},e.isStandardBrowserEnv()){var L=(f.withCredentials||s(T))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;L&&(w[f.xsrfHeaderName]=L)}"setRequestHeader"in $&&e.forEach(w,function(F,k){typeof b>"u"&&k.toLowerCase()==="content-type"?delete w[k]:$.setRequestHeader(k,F)}),e.isUndefined(f.withCredentials)||($.withCredentials=!!f.withCredentials),x&&x!=="json"&&($.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&$.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&$.upload&&$.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(S=function(H){!$||(v(!H||H&&H.type?new c:H),$.abort(),$=null)},f.cancelToken&&f.cancelToken.subscribe(S),f.signal&&(f.signal.aborted?S():f.signal.addEventListener("abort",S))),b||(b=null);var N=d(T);if(N&&["http","https","file"].indexOf(N)===-1){v(new l("Unsupported protocol "+N+":",l.ERR_BAD_REQUEST,f));return}$.send(b)})},HP}var qP,uH;function SQe(){return uH||(uH=1,qP=null),qP}var ai=Mi,dH=pQe,pH=mv,CQe=Rae,$Qe=Aae,EQe={"Content-Type":"application/x-www-form-urlencoded"};function hH(e,t){!ai.isUndefined(e)&&ai.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function IQe(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=cH()),e}function MQe(e,t,r){if(ai.isString(e))try{return(t||JSON.parse)(e),ai.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var rT={transitional:CQe,adapter:IQe(),transformRequest:[function(t,r){if(dH(r,"Accept"),dH(r,"Content-Type"),ai.isFormData(t)||ai.isArrayBuffer(t)||ai.isBuffer(t)||ai.isStream(t)||ai.isFile(t)||ai.isBlob(t))return t;if(ai.isArrayBufferView(t))return t.buffer;if(ai.isURLSearchParams(t))return hH(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n=ai.isObject(t),i=r&&r["Content-Type"],o;if((o=ai.isFileList(t))||n&&i==="multipart/form-data"){var s=this.env&&this.env.FormData;return $Qe(o?{"files[]":t}:t,s&&new s)}else if(n||i==="application/json")return hH(r,"application/json"),MQe(t);return t}],transformResponse:[function(t){var r=this.transitional||rT.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&ai.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?pH.from(s,pH.ERR_BAD_RESPONSE,this,null,this.response):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:SQe()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ai.forEach(["delete","get","head"],function(t){rT.headers[t]={}});ai.forEach(["post","put","patch"],function(t){rT.headers[t]=ai.merge(EQe)});var Gz=rT,TQe=Mi,kQe=Gz,PQe=function(t,r,n){var i=this||kQe;return TQe.forEach(n,function(s){t=s.call(i,t,r)}),t},WP,fH;function Nae(){return fH||(fH=1,WP=function(t){return!!(t&&t.__CANCEL__)}),WP}var mH=Mi,KP=PQe,OQe=Nae(),LQe=Gz,RQe=tT();function JP(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new RQe}var AQe=function(t){JP(t),t.headers=t.headers||{},t.data=KP.call(t,t.data,t.headers,t.transformRequest),t.headers=mH.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),mH.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||LQe.adapter;return r(t).then(function(i){return JP(t),i.data=KP.call(t,i.data,i.headers,t.transformResponse),i},function(i){return OQe(i)||(JP(t),i&&i.response&&(i.response.data=KP.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},cs=Mi,Dae=function(t,r){r=r||{};var n={};function i(d,p){return cs.isPlainObject(d)&&cs.isPlainObject(p)?cs.merge(d,p):cs.isPlainObject(p)?cs.merge({},p):cs.isArray(p)?p.slice():p}function o(d){if(cs.isUndefined(r[d])){if(!cs.isUndefined(t[d]))return i(void 0,t[d])}else return i(t[d],r[d])}function s(d){if(!cs.isUndefined(r[d]))return i(void 0,r[d])}function a(d){if(cs.isUndefined(r[d])){if(!cs.isUndefined(t[d]))return i(void 0,t[d])}else return i(void 0,r[d])}function l(d){if(d in r)return i(t[d],r[d]);if(d in t)return i(void 0,t[d])}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return cs.forEach(Object.keys(t).concat(Object.keys(r)),function(p){var f=c[p]||o,y=f(p);cs.isUndefined(y)&&f!==l||(n[p]=y)}),n},ZP,yH;function zae(){return yH||(yH=1,ZP={version:"0.27.2"}),ZP}var FQe=zae().version,op=mv,Hz={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Hz[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var gH={};Hz.transitional=function(t,r,n){function i(o,s){return"[Axios v"+FQe+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,a){if(t===!1)throw new op(i(s," has been removed"+(r?" in "+r:"")),op.ERR_DEPRECATED);return r&&!gH[s]&&(gH[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,s,a):!0}};function NQe(e,t,r){if(typeof e!="object")throw new op("options must be an object",op.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new op("option "+o+" must be "+l,op.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new op("Unknown option "+o,op.ERR_BAD_OPTION)}}var DQe={assertOptions:NQe,validators:Hz},Vae=Mi,zQe=kae,vH=uQe,bH=AQe,nT=Dae,VQe=Fae,jae=DQe,ay=jae.validators;function M0(e){this.defaults=e,this.interceptors={request:new vH,response:new vH}}M0.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=nT(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&jae.assertOptions(n,{silentJSONParsing:ay.transitional(ay.boolean),forcedJSONParsing:ay.transitional(ay.boolean),clarifyTimeoutError:ay.transitional(ay.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(o=o&&y.synchronous,i.unshift(y.fulfilled,y.rejected))});var s=[];this.interceptors.response.forEach(function(y){s.push(y.fulfilled,y.rejected)});var a;if(!o){var l=[bH,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(s),a=Promise.resolve(r);l.length;)a=a.then(l.shift(),l.shift());return a}for(var c=r;i.length;){var d=i.shift(),p=i.shift();try{c=d(c)}catch(f){p(f);break}}try{a=bH(c)}catch(f){return Promise.reject(f)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};M0.prototype.getUri=function(t){t=nT(this.defaults,t);var r=VQe(t.baseURL,t.url);return zQe(r,t.params,t.paramsSerializer)};Vae.forEach(["delete","get","head","options"],function(t){M0.prototype[t]=function(r,n){return this.request(nT(n||{},{method:t,url:r,data:(n||{}).data}))}});Vae.forEach(["post","put","patch"],function(t){function r(n){return function(o,s,a){return this.request(nT(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}M0.prototype[t]=r(),M0.prototype[t+"Form"]=r(!0)});var jQe=M0,YP,wH;function BQe(){if(wH)return YP;wH=1;var e=tT();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(s){n=s});var i=this;this.promise.then(function(o){if(!!i._listeners){var s,a=i._listeners.length;for(s=0;s<a;s++)i._listeners[s](o);i._listeners=null}}),this.promise.then=function(o){var s,a=new Promise(function(l){i.subscribe(l),s=l}).then(o);return a.cancel=function(){i.unsubscribe(s)},a},r(function(s){i.reason||(i.reason=new e(s),n(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(!!this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},t.source=function(){var n,i=new t(function(s){n=s});return{token:i,cancel:n}},YP=t,YP}var QP,_H;function UQe(){return _H||(_H=1,QP=function(t){return function(n){return t.apply(null,n)}}),QP}var XP,xH;function GQe(){if(xH)return XP;xH=1;var e=Mi;return XP=function(r){return e.isObject(r)&&r.isAxiosError===!0},XP}var SH=Mi,HQe=Iae,L$=jQe,qQe=Dae,WQe=Gz;function Bae(e){var t=new L$(e),r=HQe(L$.prototype.request,t);return SH.extend(r,L$.prototype,t),SH.extend(r,t),r.create=function(i){return Bae(qQe(e,i))},r}var Yo=Bae(WQe);Yo.Axios=L$;Yo.CanceledError=tT();Yo.CancelToken=BQe();Yo.isCancel=Nae();Yo.VERSION=zae().version;Yo.toFormData=Aae;Yo.AxiosError=mv;Yo.Cancel=Yo.CanceledError;Yo.all=function(t){return Promise.all(t)};Yo.spread=UQe();Yo.isAxiosError=GQe();Dz.exports=Yo;Dz.exports.default=Yo;(function(e){e.exports=Dz.exports})(Eae);const KQe=jE(Eae.exports),JQe=async()=>{const{data:e}=await KQe("./FallsChurchRestaurants.json");return e};let fu=class extends _4(x4(s0)){constructor(e){super(e),this.elevationInfo=null,this.graphics=new Gf,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};u([h({type:yQ})],fu.prototype,"elevationInfo",void 0),u([h(iF(Gf,"graphics"))],fu.prototype,"graphics",void 0),u([h({type:["show","hide"]})],fu.prototype,"listMode",void 0),u([h()],fu.prototype,"screenSizePerspectiveEnabled",void 0),u([h({readOnly:!0})],fu.prototype,"type",void 0),u([h({constructOnly:!0})],fu.prototype,"internal",void 0),fu=u([B("esri.layers.GraphicsLayer")],fu);const ZQe=fu;function YQe(){const[e,t]=_.exports.useState(!1),[r,n]=_.exports.useState(!1);_.exports.useEffect(()=>{i().then(()=>{t(!0)}),JQe().then(o=>{const s=o.features.map(a=>({...a,...a.properties}));n(s)})},[]);const i=async()=>{try{const o=new pZ({basemap:"gray-vector"}),s=new UFe({map:o,container:"mapContainer",center:[-77.1711,38.8853],zoom:14});window.mapView=s,FNe(s),QFe(o),DNe(o);const a=new ZQe({id:"HighlightGraphicLayer"});o.add(a),s.on("click",()=>{a.removeAll()});const l=new u2e({view:s,layerInfos:[{layer:o.findLayerById("Jurisdictional_Boundary")},{layer:o.findLayerById("FallsChurchRestaurants")},{layer:o.findLayerById("HighlightGraphicLayer")}]});s.ui.add(l,"bottom-left")}catch(o){console.error(o)}};return ot("div",{className:"App",children:[z("main",{id:"mapContainer",className:"mapContainer"}),r&&z(jYe,{data:r})]})}var Uae={},Gae={},Hae={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,o)}},r=t;e.default=r})(Hae);var qae={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function r(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,c,d){return c>0&&c+l.length!==d.length&&l.search(t)>-1&&d.charAt(c-2)!==":"&&(d.charAt(c+l.length)!=="-"||d.charAt(c-1)==="-")&&d.charAt(c-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function n(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function o(a){return n(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=a||"";return l&&(d=r(a)),c&&(d=o(d)),d}})(qae);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=a(Hae),r=a(qae),n=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],o=["page","hitType"],s=["action","category","label","value","nonInteraction","transport"];function a(F){return F&&F.__esModule?F:{default:F}}function l(F,k){if(F==null)return{};var P=c(F,k),R,j;if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(F);for(j=0;j<A.length;j++)R=A[j],!(k.indexOf(R)>=0)&&(!Object.prototype.propertyIsEnumerable.call(F,R)||(P[R]=F[R]))}return P}function c(F,k){if(F==null)return{};var P={},R=Object.keys(F),j,A;for(A=0;A<R.length;A++)j=R[A],!(k.indexOf(j)>=0)&&(P[j]=F[j]);return P}function d(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(P){return typeof P}:d=function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},d(F)}function p(F){return g(F)||y(F)||S(F)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(F){if(typeof Symbol<"u"&&F[Symbol.iterator]!=null||F["@@iterator"]!=null)return Array.from(F)}function g(F){if(Array.isArray(F))return C(F)}function v(F,k){var P=Object.keys(F);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(F);k&&(R=R.filter(function(j){return Object.getOwnPropertyDescriptor(F,j).enumerable})),P.push.apply(P,R)}return P}function b(F){for(var k=1;k<arguments.length;k++){var P=arguments[k]!=null?arguments[k]:{};k%2?v(Object(P),!0).forEach(function(R){L(F,R,P[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(P)):v(Object(P)).forEach(function(R){Object.defineProperty(F,R,Object.getOwnPropertyDescriptor(P,R))})}return F}function w(F,k){return M(F)||$(F,k)||S(F,k)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(F,k){if(!!F){if(typeof F=="string")return C(F,k);var P=Object.prototype.toString.call(F).slice(8,-1);if(P==="Object"&&F.constructor&&(P=F.constructor.name),P==="Map"||P==="Set")return Array.from(F);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return C(F,k)}}function C(F,k){(k==null||k>F.length)&&(k=F.length);for(var P=0,R=new Array(k);P<k;P++)R[P]=F[P];return R}function $(F,k){var P=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(P!=null){var R=[],j=!0,A=!1,U,q;try{for(P=P.call(F);!(j=(U=P.next()).done)&&(R.push(U.value),!(k&&R.length===k));j=!0);}catch(J){A=!0,q=J}finally{try{!j&&P.return!=null&&P.return()}finally{if(A)throw q}}return R}}function M(F){if(Array.isArray(F))return F}function I(F,k){if(!(F instanceof k))throw new TypeError("Cannot call a class as a function")}function T(F,k){for(var P=0;P<k.length;P++){var R=k[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(F,R.key,R)}}function O(F,k,P){return k&&T(F.prototype,k),P&&T(F,P),F}function L(F,k,P){return k in F?Object.defineProperty(F,k,{value:P,enumerable:!0,configurable:!0,writable:!0}):F[k]=P,F}var N=function(){function F(){var k=this;I(this,F),L(this,"reset",function(){k.isInitialized=!1,k._testMode=!1,k._currentMeasurementId,k._hasLoadedGA=!1,k._isQueuing=!1,k._queueGtag=[]}),L(this,"_gtag",function(){for(var P=arguments.length,R=new Array(P),j=0;j<P;j++)R[j]=arguments[j];k._testMode||k._isQueuing?k._queueGtag.push(R):t.default.apply(void 0,R)}),L(this,"_loadGA",function(P,R){if(!(typeof window>"u"||typeof document>"u")&&!k._hasLoadedGA){var j=document.createElement("script");j.async=!0,j.src="https://www.googletagmanager.com/gtag/js?id=".concat(P),R&&j.setAttribute("nonce",R),document.body.appendChild(j),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},k._hasLoadedGA=!0}}),L(this,"_toGtagOptions",function(P){if(!!P){var R={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},j=Object.entries(P).reduce(function(A,U){var q=w(U,2),J=q[0],Q=q[1];return R[J]?A[R[J]]=Q:A[J]=Q,A},{});return j}}),L(this,"initialize",function(P){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!P)throw new Error("Require GA_MEASUREMENT_ID");var j=typeof P=="string"?[{trackingId:P}]:P;k._currentMeasurementId=j[0].trackingId;var A=R.gaOptions,U=R.gtagOptions,q=R.legacyDimensionMetric,J=q===void 0?!0:q,Q=R.nonce,se=R.testMode,ce=se===void 0?!1:se;if(k._testMode=ce,ce||k._loadGA(k._currentMeasurementId,Q),k.isInitialized||(k._gtag("js",new Date),j.forEach(function(Ue){var pe=k._appendCustomMap(b(b(b({send_page_view:!1},k._toGtagOptions(b(b({},A),Ue.gaOptions))),U),Ue.gtagOptions),J);k._gtag("config",Ue.trackingId,pe)})),k.isInitialized=!0,!ce){var le=p(k._queueGtag);for(k._queueGtag=[],k._isQueuing=!1;le.length;){var Ie=le.shift();k._gtag.apply(k,p(Ie)),Ie[0]==="get"&&(k._isQueuing=!0)}}}),L(this,"set",function(P){if(!P){console.warn("`fieldsObject` is required in .set()");return}if(d(P)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(P).length===0&&console.warn("empty `fieldsObject` given to .set()"),k._gaCommand("set",P)}),L(this,"_gaCommandSendEvent",function(P,R,j,A,U){k._gtag("event",R,b(b({event_category:P,event_label:j,value:A},U&&{non_interaction:U.nonInteraction}),k._toGtagOptions(U)))}),L(this,"_gaCommandSendEventParameters",function(){for(var P=arguments.length,R=new Array(P),j=0;j<P;j++)R[j]=arguments[j];if(typeof R[0]=="string")k._gaCommandSendEvent.apply(k,p(R.slice(1)));else{var A=R[0],U=A.eventCategory,q=A.eventAction,J=A.eventLabel,Q=A.eventValue;A.hitType;var se=l(A,n);k._gaCommandSendEvent(U,q,J,Q,se)}}),L(this,"_gaCommandSendTiming",function(P,R,j,A){k._gtag("event","timing_complete",{name:R,value:j,event_category:P,event_label:A})}),L(this,"_gaCommandSendPageview",function(P,R){if(R&&Object.keys(R).length){var j=k._toGtagOptions(R),A=j.title,U=j.location,q=l(j,i);k._gtag("event","page_view",b(b(b(b({},P&&{page_path:P}),A&&{page_title:A}),U&&{page_location:U}),q))}else P?k._gtag("event","page_view",{page_path:P}):k._gtag("event","page_view")}),L(this,"_gaCommandSendPageviewParameters",function(){for(var P=arguments.length,R=new Array(P),j=0;j<P;j++)R[j]=arguments[j];if(typeof R[0]=="string")k._gaCommandSendPageview.apply(k,p(R.slice(1)));else{var A=R[0],U=A.page;A.hitType;var q=l(A,o);k._gaCommandSendPageview(U,q)}}),L(this,"_gaCommandSend",function(){for(var P=arguments.length,R=new Array(P),j=0;j<P;j++)R[j]=arguments[j];var A=typeof R[0]=="string"?R[0]:R[0].hitType;switch(A){case"event":k._gaCommandSendEventParameters.apply(k,R);break;case"pageview":k._gaCommandSendPageviewParameters.apply(k,R);break;case"timing":k._gaCommandSendTiming.apply(k,p(R.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(A));break;default:console.warn("Send command doesn't exist: ".concat(A))}}),L(this,"_gaCommandSet",function(){for(var P=arguments.length,R=new Array(P),j=0;j<P;j++)R[j]=arguments[j];typeof R[0]=="string"&&(R[0]=L({},R[0],R[1])),k._gtag("set",k._toGtagOptions(R[0]))}),L(this,"_gaCommand",function(P){for(var R=arguments.length,j=new Array(R>1?R-1:0),A=1;A<R;A++)j[A-1]=arguments[A];switch(P){case"send":k._gaCommandSend.apply(k,j);break;case"set":k._gaCommandSet.apply(k,j);break;default:console.warn("Command doesn't exist: ".concat(P))}}),L(this,"ga",function(){for(var P=arguments.length,R=new Array(P),j=0;j<P;j++)R[j]=arguments[j];if(typeof R[0]=="string")k._gaCommand.apply(k,R);else{var A=R[0];k._gtag("get",k._currentMeasurementId,"client_id",function(U){k._isQueuing=!1;var q=k._queueGtag;for(A({get:function(se){return se==="clientId"?U:se==="trackingId"?k._currentMeasurementId:se==="apiVersion"?"1":void 0}});q.length;){var J=q.shift();k._gtag.apply(k,p(J))}}),k._isQueuing=!0}return k.ga}),L(this,"event",function(P,R){if(typeof P=="string")k._gtag("event",P,k._toGtagOptions(R));else{var j=P.action,A=P.category,U=P.label,q=P.value,J=P.nonInteraction,Q=P.transport,se=l(P,s);if(!A||!j){console.warn("args.category AND args.action are required in event()");return}var ce={hitType:"event",eventCategory:(0,r.default)(A),eventAction:(0,r.default)(j)};U&&(ce.eventLabel=(0,r.default)(U)),typeof q<"u"&&(typeof q!="number"?console.warn("Expected `args.value` arg to be a Number."):ce.eventValue=q),typeof J<"u"&&(typeof J!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):ce.nonInteraction=J),typeof Q<"u"&&(typeof Q!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(Q)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),ce.transport=Q)),Object.keys(se).filter(function(le){return le.substr(0,9)==="dimension"}).forEach(function(le){ce[le]=se[le]}),Object.keys(se).filter(function(le){return le.substr(0,6)==="metric"}).forEach(function(le){ce[le]=se[le]}),k._gaCommand("send",ce)}}),L(this,"send",function(P){k._gaCommand("send",P)}),L(this,"pageview",function(P,R,j){var A=P==null?void 0:P.trim();if(A===""){console.warn("path cannot be an empty string in .pageview()");return}k._gaCommand("send","pageview",A,{title:j})}),this.reset()}return O(F,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}},{key:"_appendCustomMap",value:function(P){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!R)return P;P.custom_map||(P.custom_map={});for(var j=1;j<=200;j++)P.custom_map["dimension".concat(j)]||(P.custom_map["dimension".concat(j)]="dimension".concat(j)),P.custom_map["metric".concat(j)]||(P.custom_map["metric".concat(j)]="metric".concat(j));return P}},{key:"outboundLink",value:function(P,R){var j=P.label;if(typeof R!="function"){console.warn("hitCallback function is required");return}if(!j){console.warn("args.label is required in outboundLink()");return}var A={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:(0,r.default)(j)},U=!1,q=function(){U=!0,R()},J=setTimeout(q,250),Q=function(){clearTimeout(J),U||R()};A.hitCallback=Q,this._gaCommand("send",A)}}]),F}();e.GA4=N;var H=new N;e.default=H})(Gae);(function(e){function t(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(c){return typeof c}:t=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var r=i(Gae);function n(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,c=new WeakMap;return(n=function(p){return p?c:l})(a)}function i(a,l){if(!l&&a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var c=n(l);if(c&&c.has(a))return c.get(a);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var y=p?Object.getOwnPropertyDescriptor(a,f):null;y&&(y.get||y.set)?Object.defineProperty(d,f,y):d[f]=a[f]}return d.default=a,c&&c.set(a,d),d}var o=r.GA4;e.ReactGAImplementation=o;var s=r.default;e.default=s})(Uae);const QQe=jE(Uae);QQe.initialize("G-HT600JM4YE");const XQe=document.getElementById("root");eO.createRoot(XQe).render(z(fl.StrictMode,{children:z(YQe,{})}));export{u as $,Qo as A,b$ as B,kJ as C,kAe as D,MAe as E,_ie as F,X_ as G,yD as H,Ku as I,z0 as J,hc as K,nI as L,fF as M,qN as N,Oie as O,e0 as P,lI as Q,fe as R,At as S,ort as T,_r as U,nrt as V,Ko as W,Qn as X,mQ as Y,Pc as Z,H5 as _,Uue as a,IX as a$,h as a0,B as a1,Ve as a2,Fp as a3,Ro as a4,gD as a5,vD as a6,Cl as a7,at as a8,qi as a9,Ote as aA,$D as aB,Sbe as aC,po as aD,EE as aE,mtt as aF,wet as aG,met as aH,HXe as aI,MD as aJ,gFe as aK,bbe as aL,wbe as aM,mt as aN,S_ as aO,uZ as aP,BXe as aQ,ED as aR,Ztt as aS,Ytt as aT,Jtt as aU,wie as aV,F4 as aW,v0 as aX,X as aY,dl as aZ,Z2 as a_,uM as aa,fet as ab,pie as ac,Yne as ad,hie as ae,gn as af,XRe as ag,Xtt as ah,uAe as ai,Y1 as aj,ert as ak,ae as al,bn as am,hK as an,MXe as ao,xl as ap,Sa as aq,_a as ar,wI as as,xtt as at,Nf as au,Eye as av,ID as aw,Rte as ax,Ttt as ay,I9 as az,pXe as b,$xe as b$,lf as b0,mSe as b1,ac as b2,p0 as b3,V_ as b4,yet as b5,El as b6,ett as b7,xa as b8,J2 as b9,g5 as bA,fX as bB,di as bC,vn as bD,Up as bE,kxe as bF,NCe as bG,M8 as bH,wOe as bI,_Oe as bJ,xOe as bK,Il as bL,Q_e as bM,tet as bN,Ae as bO,h5 as bP,dg as bQ,v_e as bR,oQ as bS,aMe as bT,Bp as bU,Dte as bV,Ett as bW,Stt as bX,IIe as bY,Ott as bZ,M9 as b_,vet as ba,FXe as bb,ze as bc,pK as bd,ql as be,Het as bf,im as bg,gS as bh,pte as bi,UXe as bj,Mf as bk,sg as bl,Cw as bm,ltt as bn,Hi as bo,Ci as bp,yC as bq,W8 as br,Po as bs,Ltt as bt,Ctt as bu,Jt as bv,S5 as bw,Zet as bx,hX as by,Pxe as bz,iXe as c,cet as c$,sXe as c0,aXe as c1,MOe as c2,qRe as c3,TAe as c4,sMe as c5,Nte as c6,bie as c7,ub as c8,W0 as c9,fI as cA,V0 as cB,Ss as cC,Cbe as cD,er as cE,u3e as cF,trt as cG,rrt as cH,Wo as cI,rm as cJ,bh as cK,Vo as cL,E_ as cM,Jo as cN,w2 as cO,QO as cP,Ree as cQ,b0 as cR,KPe as cS,WPe as cT,i_e as cU,pY as cV,ret as cW,bde as cX,so as cY,Vet as cZ,zu as c_,tE as ca,Nt as cb,BN as cc,Dxe as cd,Nxe as ce,Qet as cf,T_ as cg,ttt as ch,rtt as ci,Et as cj,Xet as ck,xm as cl,eJ as cm,zt as cn,ve as co,yn as cp,FOe as cq,C2 as cr,We as cs,fb as ct,Q0 as cu,get as cv,xbe as cw,gI as cx,vbe as cy,_de as cz,uXe as d,Cxe as d$,net as d0,oet as d1,iet as d2,set as d3,T1 as d4,fa as d5,Xve as d6,uI as d7,H_ as d8,I_ as d9,mC as dA,qD as dB,Dj as dC,qXe as dD,Cet as dE,Pet as dF,a_e as dG,t8 as dH,Sm as dI,Rc as dJ,KN as dK,Pe as dL,ij as dM,fte as dN,mIe as dO,ftt as dP,ds as dQ,Net as dR,att as dS,fJ as dT,xK as dU,n0 as dV,Ii as dW,ts as dX,zf as dY,nt as dZ,KAe as d_,aet as da,Nw as db,J0 as dc,Lxe as dd,y5 as de,VK as df,r0 as dg,$1 as dh,Gf as di,gb as dj,Hp as dk,qp as dl,Vu as dm,NA as dn,Vr as dp,FA as dq,zA as dr,sE as ds,U2e as dt,lAe as du,cJ as dv,ZK as dw,fIe as dx,_1 as dy,Br as dz,oe as e,OXe as e$,stt as e0,z_ as e1,ott as e2,pf as e3,YXe as e4,KXe as e5,WZ as e6,H0e as e7,g0 as e8,jPe as e9,u_e as eA,d_e as eB,Ake as eC,Vve as eD,lrt as eE,Tc as eF,_he as eG,art as eH,_et as eI,ket as eJ,ktt as eK,rX as eL,GFe as eM,Uet as eN,zo as eO,ko as eP,Tbe as eQ,Vne as eR,jW as eS,UW as eT,uet as eU,lZ as eV,WXe as eW,GXe as eX,rfe as eY,cfe as eZ,vI as e_,IXe as ea,O0 as eb,Aue as ec,qPe as ed,one as ee,XPe as ef,v4 as eg,oXe as eh,sM as ei,vQ as ej,s0 as ek,hXe as el,lE as em,bXe as en,Ff as eo,nm as ep,DN as eq,TXe as er,BSe as es,Eet as et,Oet as eu,Let as ev,whe as ew,Ket as ex,vxe as ey,Xo as ez,Z as f,rne as f$,Z1e as f0,sJ as f1,Ptt as f2,wtt as f3,Ate as f4,Tte as f5,cXe as f6,q3e as f7,nK as f8,PJ as f9,xAe as fA,CAe as fB,dme as fC,N6 as fD,kXe as fE,N0 as fF,D0 as fG,FAe as fH,HAe as fI,bwe as fJ,c0 as fK,Ks as fL,pt as fM,Mme as fN,kme as fO,Fme as fP,jme as fQ,GJ as fR,BJ as fS,UJ as fT,Vme as fU,qme as fV,Wme as fW,Eme as fX,fp as fY,_Xe as fZ,zN as f_,SL as fa,fXe as fb,mXe as fc,E2 as fd,I2 as fe,DXe as ff,wme as fg,ome as fh,Iw as fi,RJ as fj,RXe as fk,Tme as fl,HJ as fm,Cwe as fn,wwe as fo,vwe as fp,mwe as fq,ume as fr,Aet as fs,dtt as ft,YY as fu,B_ as fv,Jwe as fw,vme as fx,Kwe as fy,Dfe as fz,AXe as g,ohe as g$,KIe as g0,HIe as g1,gtt as g2,Itt as g3,bte as g4,WIe as g5,ptt as g6,htt as g7,bet as g8,Nu as g9,ytt as gA,lXe as gB,Y3e as gC,$tt as gD,XI as gE,yXe as gF,pme as gG,Ir as gH,Rg as gI,y_e as gJ,vp as gK,_5 as gL,AJ as gM,prt as gN,sme as gO,rme as gP,FJ as gQ,GI as gR,Y0 as gS,$we as gT,zXe as gU,u2 as gV,HRe as gW,Vfe as gX,axe as gY,Fue as gZ,eXe as g_,Og as ga,dne as gb,uIe as gc,crt as gd,_tt as ge,UD as gf,pet as gg,het as gh,det as gi,rye as gj,Vee as gk,G_ as gl,jXe as gm,xw as gn,GIe as go,DIe as gp,b9 as gq,wte as gr,Mtt as gs,_2e as gt,Jet as gu,xde as gv,$k as gw,Ek as gx,Tue as gy,kr as gz,rXe as h,Is as h$,x1 as h0,sD as h1,tXe as h2,CD as h3,oo as h4,sn as h5,En as h6,V as h7,ea as h8,PL as h9,$n as hA,no as hB,io as hC,bi as hD,Ac as hE,o$ as hF,W1 as hG,y4 as hH,gE as hI,tn as hJ,iPe as hK,Rp as hL,Di as hM,rPe as hN,Ca as hO,Yke as hP,Wke as hQ,qke as hR,pm as hS,_s as hT,Ure as hU,Wu as hV,OMe as hW,Vke as hX,Uke as hY,wt as hZ,Bre as h_,pE as ha,GW as hb,Tg as hc,$Xe as hd,ha as he,mI as hf,L0 as hg,ml as hh,PXe as hi,zn as hj,qSe as hk,z1 as hl,SA as hm,itt as hn,j_ as ho,WSe as hp,cg as hq,jxe as hr,Yet as hs,zxe as ht,ntt as hu,XXe as hv,ZXe as hw,QXe as hx,JXe as hy,zye as hz,jue as i,ho as i$,nPe as i0,Qke as i1,gL as i2,Mm as i3,wD as i4,oPe as i5,sPe as i6,aPe as i7,f4 as i8,cPe as i9,$he as iA,_Ee as iB,mte as iC,qA as iD,m3 as iE,l3 as iF,vS as iG,cl as iH,YIe as iI,Os as iJ,RPe as iK,qo as iL,qIe as iM,fD as iN,dXe as iO,Ine as iP,LXe as iQ,_4 as iR,x4 as iS,une as iT,Det as iU,fB as iV,$ne as iW,yQ as iX,mX as iY,DI as iZ,Cne as i_,lPe as ia,uPe as ib,q1 as ic,Fke as id,tPe as ie,Xke as ig,Kke as ih,bPe as ii,yPe as ij,mPe as ik,Utt as il,gPe as im,vPe as io,Jke as ip,Zke as iq,ePe as ir,hPe as is,n4 as it,qtt as iu,Bke as iv,jke as iw,Gke as ix,Hke as iy,SXe as iz,YO as j,WD as j$,jpe as j0,wY as j1,ige as j2,DPe as j3,WK as j4,zet as j5,wQ as j6,_Q as j7,BPe as j8,w4 as j9,EQ as jA,kQ as jB,uCe as jC,B_e as jD,dCe as jE,KQ as jF,tX as jG,H2 as jH,v5 as jI,wXe as jJ,$Q as jK,q2 as jL,UPe as jM,ctt as jN,$_ as jO,MK as jP,oI as jQ,P_ as jR,k1 as jS,hp as jT,Es as jU,Bbe as jV,yI as jW,Ret as jX,gXe as jY,kue as jZ,jj as j_,GPe as ja,HPe as jb,JD as jc,dm as jd,WFe as je,qye as jf,Gye as jg,vye as jh,H6 as ji,Ui as jj,S1 as jk,bQ as jl,es as jm,TI as jn,jo,Lc as jp,Oe as jq,Ow as jr,XO as js,Ck as jt,Xde as ju,sa as jv,pne as jw,nne as jx,AOe as jy,Z0 as jz,Bf as k,CXe as k$,$et as k0,xet as k1,ht as k2,jet as k3,WN as k4,Mc as k5,Iy as k6,LOe as k7,Z_ as k8,D_ as k9,JY as kA,Wtt as kB,R0 as kC,_l as kD,aD as kE,xXe as kF,OY as kG,n_e as kH,Ktt as kI,Lpe as kJ,y6 as kK,D as kL,Fet as kM,Wet as kN,Xie as kO,Due as kP,Ihe as kQ,NXe as kR,Iet as kS,Met as kT,Zwe as kU,jfe as kV,PI as kW,Bu as kX,zfe as kY,Tet as kZ,LJ as k_,E4 as ka,Bet as kb,a2 as kc,H0 as kd,ZQe as ke,ine as kf,ane as kg,D2 as kh,jD as ki,Sne as kj,rF as kk,zI as kl,gQ as km,G5 as kn,$c as ko,Sc as kp,jQ as kq,rJ as kr,nXe as ks,yX as kt,Ap as ku,kB as kv,C1 as kw,s_e as kx,o_e as ky,A0 as kz,vXe as l,Ewe as l0,qet as l1,$4 as l2,eet as l3,Du as l4,Ec as l5,fne as l6,kD as l7,Btt as l8,cB as l9,Get as lA,vtt as lB,btt as lC,Qtt as lD,urt as lE,Rtt as la,lB as lb,pPe as lc,jtt as ld,Htt as le,xte as lf,Gtt as lg,Ftt as lh,Att as li,Ntt as lj,Dtt as lk,Vtt as ll,zke as lm,dB as ln,ztt as lo,dPe as lp,oM as lq,Hre as lr,qre as ls,irt as lt,utt as lu,iD as lv,TJ as lw,EXe as lx,VXe as ly,Bhe as lz,Zr as m,srt as n,xn as o,Gi as p,Ar as q,G as r,Ce as s,te as t,Mie as u,wa as v,qt as w,li as x,Ur as y,Sie as z};
